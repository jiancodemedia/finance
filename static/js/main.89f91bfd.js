/*! For license information please see main.89f91bfd.js.LICENSE.txt */
(()=>{var e={3803:(e,t,n)=>{"use strict";n.d(t,{A:()=>re});var i=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),r=Math.abs,o=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function p(e){return e.length}function g(e,t){return t.push(e),e}var f=1,m=1,v=0,y=0,w=0,C="";function b(e,t,n,i,r,o,s){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:f,column:m,length:s,return:""}}function S(e,t){return s(b("",null,null,"",null,null,0),e,{length:-e.length},t)}function x(){return w=y>0?c(C,--y):0,m--,10===w&&(m=1,f--),w}function M(){return w=y<v?c(C,y++):0,m++,10===w&&(m=1,f++),w}function _(){return c(C,y)}function R(){return y}function D(e,t){return d(C,e,t)}function P(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function T(e){return f=m=1,v=h(C=e),y=0,[]}function A(e){return C="",e}function E(e){return a(D(y-1,F(91===e?e+2:40===e?e+1:e)))}function I(e){for(;(w=_())&&w<33;)M();return P(e)>2||P(w)>3?"":" "}function k(e,t){for(;--t&&M()&&!(w<48||w>102||w>57&&w<65||w>70&&w<97););return D(e,R()+(t<6&&32==_()&&32==M()))}function F(e){for(;M();)switch(w){case e:return y;case 34:case 39:34!==e&&39!==e&&F(w);break;case 40:41===e&&F(e);break;case 92:M()}return y}function L(e,t){for(;M()&&e+w!==57&&(e+w!==84||47!==_()););return"/*"+D(t,y-1)+"*"+o(47===e?e:M())}function O(e){for(;!P(_());)M();return D(e,y)}var N="-ms-",B="-moz-",G="-webkit-",V="comm",z="rule",H="decl",W="@keyframes";function U(e,t){for(var n="",i=p(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function j(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case H:return e.return=e.return||e.value;case V:return"";case W:return e.return=e.value+"{"+U(e.children,i)+"}";case z:e.value=e.props.join(",")}return h(n=U(e.children,i))?e.return=e.value+"{"+n+"}":""}function $(e){return A(K("",null,null,null,[""],e=T(e),0,[0],e))}function K(e,t,n,i,r,s,a,d,p){for(var f=0,m=0,v=a,y=0,w=0,C=0,b=1,S=1,D=1,P=0,T="",A=r,F=s,N=i,B=T;S;)switch(C=P,P=M()){case 40:if(108!=C&&58==c(B,v-1)){-1!=u(B+=l(E(P),"&","&\f"),"&\f")&&(D=-1);break}case 34:case 39:case 91:B+=E(P);break;case 9:case 10:case 13:case 32:B+=I(C);break;case 92:B+=k(R()-1,7);continue;case 47:switch(_()){case 42:case 47:g(Y(L(M(),R()),t,n),p);break;default:B+="/"}break;case 123*b:d[f++]=h(B)*D;case 125*b:case 59:case 0:switch(P){case 0:case 125:S=0;case 59+m:-1==D&&(B=l(B,/\f/g,"")),w>0&&h(B)-v&&g(w>32?X(B+";",i,n,v-1):X(l(B," ","")+";",i,n,v-2),p);break;case 59:B+=";";default:if(g(N=q(B,t,n,f,m,r,d,T,A=[],F=[],v),s),123===P)if(0===m)K(B,t,N,N,A,s,v,d,F);else switch(99===y&&110===c(B,3)?100:y){case 100:case 108:case 109:case 115:K(e,N,N,i&&g(q(e,N,N,0,0,r,d,T,r,A=[],v),F),r,F,v,d,i?A:F);break;default:K(B,N,N,N,[""],F,0,d,F)}}f=m=w=0,b=D=1,T=B="",v=a;break;case 58:v=1+h(B),w=C;default:if(b<1)if(123==P)--b;else if(125==P&&0==b++&&125==x())continue;switch(B+=o(P),P*b){case 38:D=m>0?1:(B+="\f",-1);break;case 44:d[f++]=(h(B)-1)*D,D=1;break;case 64:45===_()&&(B+=E(M())),y=_(),m=v=h(T=B+=O(R())),P++;break;case 45:45===C&&2==h(B)&&(b=0)}}return s}function q(e,t,n,i,o,s,u,c,h,g,f){for(var m=o-1,v=0===o?s:[""],y=p(v),w=0,C=0,S=0;w<i;++w)for(var x=0,M=d(e,m+1,m=r(C=u[w])),_=e;x<y;++x)(_=a(C>0?v[x]+" "+M:l(M,/&\f/g,v[x])))&&(h[S++]=_);return b(e,t,n,0===o?z:c,h,g,f)}function Y(e,t,n){return b(e,t,n,V,o(w),d(e,2,-2),0)}function X(e,t,n,i){return b(e,t,n,H,d(e,0,i),d(e,i+1,-1),i)}var Z=function(e,t,n){for(var i=0,r=0;i=r,r=_(),38===i&&12===r&&(t[n]=1),!P(r);)M();return D(e,y)},Q=function(e,t){return A(function(e,t){var n=-1,i=44;do{switch(P(i)){case 0:38===i&&12===_()&&(t[n]=1),e[n]+=Z(y-1,t,n);break;case 2:e[n]+=E(i);break;case 4:if(44===i){e[++n]=58===_()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(i)}}while(i=M());return e}(T(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!i){J.set(e,!0);for(var r=[],o=Q(t,r),s=n.props,a=0,l=0;a<o.length;a++)for(var u=0;u<s.length;u++,l++)e.props[l]=r[a]?o[a].replace(/&\f/g,s[u]):s[u]+" "+o[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^c(e,0)?(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3):0}(e,t)){case 5103:return G+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return G+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return G+e+B+e+N+e+e;case 6828:case 4268:return G+e+N+e+e;case 6165:return G+e+N+"flex-"+e+e;case 5187:return G+e+l(e,/(\w+).+(:[^]+)/,G+"box-$1$2"+N+"flex-$1$2")+e;case 5443:return G+e+N+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return G+e+N+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return G+e+N+l(e,"shrink","negative")+e;case 5292:return G+e+N+l(e,"basis","preferred-size")+e;case 6060:return G+"box-"+l(e,"-grow","")+G+e+N+l(e,"grow","positive")+e;case 4554:return G+l(e,/([^-])(transform)/g,"$1"+G+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,G+"$1"),/(image-set)/,G+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,G+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,G+"box-pack:$3"+N+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+G+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,G+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+G+"$2-$3$1"+B+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~u(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,h(e)-3-(~u(e,"!important")&&10))){case 107:return l(e,":",":"+G)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+G+(45===c(e,14)?"inline-":"")+"box$3$1"+G+"$2$3$1"+N+"$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return G+e+N+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return G+e+N+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return G+e+N+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return G+e+N+e+e}return e}var ie=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case H:e.return=ne(e.value,e.length);break;case W:return U([S(e,{value:l(e.value,"@","@"+G)})],i);case z:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return U([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return U([S(e,{props:[l(t,/:(plac\w+)/,":"+G+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,N+"input-$1")]})],i)}return""}))}}],re=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,o,s=e.stylisPlugins||ie,a={},l=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var u,c,d=[j,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],h=function(e){var t=p(e);return function(n,i,r,o){for(var s="",a=0;a<t;a++)s+=e[a](n,i,r,o)||"";return s}}([ee,te].concat(s,d));o=function(e,t,n,i){u=n,U($(e?e+"{"+t.styles+"}":t.styles),h),i&&(g.inserted[t.name]=!0)};var g={key:t,sheet:new i({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return g.sheet.hydrate(l),g}},918:(e,t,n)=>{"use strict";function i(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>i})},4575:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,T:()=>l,w:()=>a});var i=n(5043),r=n(3803),o=(n(6598),n(9436),i.createContext("undefined"!==typeof HTMLElement?(0,r.A)({key:"css"}):null)),s=o.Provider,a=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(o);return e(t,r,n)}))},l=i.createContext({})},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>u,i7:()=>c,mL:()=>l});var i=n(4575),r=n(5043),o=n(1722),s=n(9436),a=n(6598),l=(n(3803),n(219),(0,i.w)((function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,r.useContext(i.T)),u=r.useRef();return(0,s.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,r=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==r&&(i=!0,r.setAttribute("data-emotion",e),n.hydrate([r])),u.current=[n,i],function(){n.flush()}}),[t]),(0,s.i)((function(){var e=u.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,o.sk)(t,l.next,!0),n.tags.length){var i=n.tags[n.tags.length-1].nextElementSibling;n.before=i,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}var c=function(){var e=u.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},6598:(e,t,n)=>{"use strict";n.d(t,{J:()=>m});var i={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},r=n(918),o=!1,s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!==typeof e},c=(0,r.A)((function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,(function(e,t,n){return g={name:t,styles:n,next:g},t}))}return 1===i[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},h="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function p(e,t,n){if(null==n)return"";var i=n;if(void 0!==i.__emotion_styles)return i;switch(typeof n){case"boolean":return"";case"object":var r=n;if(1===r.anim)return g={name:r.name,styles:r.styles,next:g},r.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)g={name:a.name,styles:a.styles,next:g},a=a.next;return s.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=p(e,t,n[r])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var l=a;null!=t&&void 0!==t[l]?i+=s+"{"+t[l]+"}":u(l)&&(i+=c(s)+":"+d(s,l)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&o)throw new Error(h);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var g=p(e,t,a);switch(s){case"animation":case"animationName":i+=c(s)+":"+g+";";break;default:i+=s+"{"+g+"}"}}else for(var f=0;f<a.length;f++)u(a[f])&&(i+=c(s)+":"+d(s,a[f])+";")}}return i}(e,t,n);case"function":if(void 0!==e){var l=g,f=n(e);return g=l,p(e,t,f)}}var m=n;if(null==t)return m;var v=t[m];return void 0!==v?v:m}var g,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function m(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";g=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,r+=p(n,t,o)):r+=o[0];for(var s=1;s<e.length;s++){if(r+=p(n,t,e[s]),i)r+=o[s]}f.lastIndex=0;for(var a,l="";null!==(a=f.exec(r));)l+="-"+a[1];var u=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:u,styles:r,next:g}}},9436:(e,t,n)=>{"use strict";var i;n.d(t,{i:()=>a,s:()=>s});var r=n(5043),o=!!(i||(i=n.t(r,2))).useInsertionEffect&&(i||(i=n.t(r,2))).useInsertionEffect,s=o||function(e){return e()},a=o||r.useLayoutEffect},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>i,SF:()=>r,sk:()=>o});function i(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):i+=n+" "})),i}var r=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},o=function(e,t,n){r(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}},5881:(e,t)=>{"use strict";var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case o:case a:case s:case h:case p:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case f:case g:case l:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference")},805:(e,t,n)=>{"use strict";n(5881)},869:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(5043);var i=n(3290),r=n(579);function o(e){const{styles:t,defaultTheme:n={}}=e,o="function"===typeof t?e=>{return t(void 0===(i=e)||null===i||0===Object.keys(i).length?n:e);var i}:t;return(0,r.jsx)(i.mL,{styles:o})}},3174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>x.A,StyledEngineProvider:()=>S,ThemeContext:()=>l.T,css:()=>y.AH,default:()=>M,internal_processStyles:()=>_,keyframes:()=>y.i7});var i=n(8168),r=n(5043),o=n(918),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,o.A)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(4575),u=n(1722),c=n(6598),d=n(9436),h=a,p=function(e){return"theme"!==e},g=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:p},f=function(e,t,n){var i;if(t){var r=t.shouldForwardProp;i=e.__emotion_forwardProp&&r?function(t){return e.__emotion_forwardProp(t)&&r(t)}:r}return"function"!==typeof i&&n&&(i=e.__emotion_forwardProp),i},m=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return(0,u.SF)(t,n,i),(0,d.s)((function(){return(0,u.sk)(t,n,i)})),null},v=function e(t,n){var o,s,a=t.__emotion_real===t,d=a&&t.__emotion_base||t;void 0!==n&&(o=n.label,s=n.target);var h=f(t,n,a),p=h||g(d),v=!p("as");return function(){var y=arguments,w=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&w.push("label:"+o+";"),null==y[0]||void 0===y[0].raw)w.push.apply(w,y);else{w.push(y[0][0]);for(var C=y.length,b=1;b<C;b++)w.push(y[b],y[0][b])}var S=(0,l.w)((function(e,t,n){var i=v&&e.as||d,o="",a=[],f=e;if(null==e.theme){for(var y in f={},e)f[y]=e[y];f.theme=r.useContext(l.T)}"string"===typeof e.className?o=(0,u.Rk)(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var C=(0,c.J)(w.concat(a),t.registered,f);o+=t.key+"-"+C.name,void 0!==s&&(o+=" "+s);var b=v&&void 0===h?g(i):p,S={};for(var x in e)v&&"as"===x||b(x)&&(S[x]=e[x]);return S.className=o,n&&(S.ref=n),r.createElement(r.Fragment,null,r.createElement(m,{cache:t,serialized:C,isStringTag:"string"===typeof i}),r.createElement(i,S))}));return S.displayName=void 0!==o?o:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=d,S.__emotion_styles=w,S.__emotion_forwardProp=h,Object.defineProperty(S,"toString",{value:function(){return"."+s}}),S.withComponent=function(t,r){return e(t,(0,i.A)({},n,r,{shouldForwardProp:f(S,r,!0)})).apply(void 0,w)},S}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));var y=n(3290),w=n(3803),C=n(579);let b;function S(e){const{injectFirst:t,children:n}=e;return t&&b?(0,C.jsx)(l.C,{value:b,children:n}):n}"object"===typeof document&&(b=(0,w.A)({key:"css",prepend:!0}));var x=n(869);function M(e,t){return v(e,t)}const _=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},7266:(e,t,n)=>{"use strict";var i=n(4994);t.X4=p,t.e$=g,t.eM=function(e,t){const n=h(e),i=h(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},t.a=f;var r=i(n(457)),o=i(n(6531));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,o.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.default)(9,e));let i,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),i=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.default)(10,i))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:i}}const u=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e)).join(" ")};function c(e){const{type:t,colorSpace:n}=e;let{values:i}=e;return-1!==t.indexOf("rgb")?i=i.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),i=-1!==t.indexOf("color")?`${n} ${i.join(" ")}`:`${i.join(", ")}`,`${t}(${i})`}function d(e){e=l(e);const{values:t}=e,n=t[0],i=t[1]/100,r=t[2]/100,o=i*Math.min(r,1-r),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return r-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const u=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",u.push(t[3])),c({type:a,values:u})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,c(e)}function g(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return c(e)}function f(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return c(e)}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?g(e,t):f(e,t)}},8052:(e,t,n)=>{"use strict";var i=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=f,rootShouldForwardProp:i=g,slotShouldForwardProp:l=g}=e,c=e=>(0,u.default)((0,r.default)({},e,{theme:v((0,r.default)({},e,{defaultTheme:n,themeId:t}))}));return c.__mui_systemSx=!0,function(e){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:p,skipVariantsResolver:f,skipSx:C,overridesResolver:b=y(m(p))}=u,S=(0,o.default)(u,h),x=void 0!==f?f:p&&"Root"!==p&&"root"!==p||!1,M=C||!1;let _=g;"Root"===p||"root"===p?_=i:p?_=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(_=void 0);const R=(0,s.default)(e,(0,r.default)({shouldForwardProp:_,label:undefined},S)),D=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?i=>w(e,(0,r.default)({},i,{theme:v({theme:i.theme,defaultTheme:n,themeId:t})})):e,P=function(i){let o=D(i);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const u=a?a.map(D):[];d&&b&&u.push((e=>{const i=v((0,r.default)({},e,{defaultTheme:n,themeId:t}));if(!i.components||!i.components[d]||!i.components[d].styleOverrides)return null;const o=i.components[d].styleOverrides,s={};return Object.entries(o).forEach((t=>{let[n,o]=t;s[n]=w(o,(0,r.default)({},e,{theme:i}))})),b(e,s)})),d&&!x&&u.push((e=>{var i;const o=v((0,r.default)({},e,{defaultTheme:n,themeId:t}));return w({variants:null==o||null==(i=o.components)||null==(i=i[d])?void 0:i.variants},(0,r.default)({},e,{theme:o}))})),M||u.push(c);const h=u.length-a.length;if(Array.isArray(i)&&h>0){const e=new Array(h).fill("");o=[...i,...e],o.raw=[...i.raw,...e]}const p=R(o,...u);return e.muiName&&(p.muiName=e.muiName),p};return R.withConfig&&(P.withConfig=R.withConfig),P}};var r=i(n(4634)),o=i(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(3174)),a=n(9482),l=(i(n(7918)),i(n(3382)),i(n(4989))),u=i(n(9265));const c=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function g(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const f=(0,l.default)(),m=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v(e){let{defaultTheme:t,theme:n,themeId:i}=e;return r=n,0===Object.keys(r).length?t:n[i]||n;var r}function y(e){return e?(t,n)=>n[e]:null}function w(e,t){let{ownerState:n}=t,i=(0,o.default)(t,c);const s="function"===typeof e?e((0,r.default)({ownerState:n},i)):e;if(Array.isArray(s))return s.flatMap((e=>w(e,(0,r.default)({ownerState:n},i))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,o.default)(s,d);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,r.default)({ownerState:n},i,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&i[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,r.default)({ownerState:n},i,n)):e.style))})),t}return s}},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>s,NI:()=>o,vf:()=>a,zu:()=>i});const i={xs:0,sm:600,md:900,lg:1200,xl:1536},r={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${i[e]}px)`};function o(e,t,n){const o=e.theme||{};if(Array.isArray(t)){const e=o.breakpoints||r;return t.reduce(((i,r,o)=>(i[e.up(e.keys[o])]=n(t[o]),i)),{})}if("object"===typeof t){const e=o.breakpoints||r;return Object.keys(t).reduce(((r,o)=>{if(-1!==Object.keys(e.values||i).indexOf(o)){r[e.up(o)]=n(t[o],o)}else{const e=o;r[e]=t[e]}return r}),{})}return n(t)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function a(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},9703:(e,t,n)=>{"use strict";function i(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const i=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[i]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>i})},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(8587),r=n(8168);const o=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,r.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,i.A)(e,o),u=s(t),c=Object.keys(u);function d(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function h(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-a/100}${n})`}function p(e,i){const r=c.indexOf(i);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==r&&"number"===typeof t[c[r]]?t[c[r]]:i)-a/100}${n})`}return(0,r.A)({keys:c,values:u,up:d,down:h,between:p,only:function(e){return c.indexOf(e)+1<c.length?p(e,c[c.indexOf(e)+1]):d(e)},not:function(e){const t=c.indexOf(e);return 0===t?d(c[1]):t===c.length-1?h(c[t]):p(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(8168),r=n(8587),o=n(9172),s=n(4853);const a={borderRadius:4};var l=n(8604);var u=n(8812),c=n(7758),d=n(9703);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:g={}}=e,f=(0,r.A)(e,h),m=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}(p);let y=(0,o.A)({breakpoints:m,direction:"ltr",components:{},palette:(0,i.A)({mode:"light"},n),spacing:v,shape:(0,i.A)({},a,g)},f);y.applyStyles=d.A;for(var w=arguments.length,C=new Array(w>1?w-1:0),b=1;b<w;b++)C[b-1]=arguments[b];return y=C.reduce(((e,t)=>(0,o.A)(e,t)),y),y.unstable_sxConfig=(0,i.A)({},c.A,null==f?void 0:f.unstable_sxConfig),y.unstable_sx=function(e){return(0,u.A)({sx:e,theme:this})},y}},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A,private_createBreakpoints:()=>r.A,unstable_applyStyles:()=>o.A});var i=n(8280),r=n(4853),o=n(9703)},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(9172);const r=function(e,t){return t?(0,i.A)(e,t,{clone:!1}):e}},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>g,MA:()=>p,_W:()=>f,Lc:()=>y,Ms:()=>w});var i=n(9751),r=n(7162),o=n(3815);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),i=s[t],r=a[n]||"";return Array.isArray(r)?r.map((e=>i+e)):[i+r]})),c=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...c,...d];function p(e,t,n,i){var o;const s=null!=(o=(0,r.Yn)(e,t,!1))?o:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function g(e){return p(e,"spacing",8)}function f(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:`-${n}`}function m(e,t,n,r){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,i)=>(e[i]=f(t,n),e)),{})}(u(n),r),s=e[n];return(0,i.NI)(e,s,o)}function v(e,t){const n=g(e.theme);return Object.keys(e).map((i=>m(e,t,i,n))).reduce(o.A,{})}function y(e){return v(e,c)}function w(e){return v(e,d)}function C(e){return v(e,h)}y.propTypes={},y.filterProps=c,w.propTypes={},w.filterProps=d,C.propTypes={},C.filterProps=h},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>o});var i=n(7598),r=n(9751);function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return i="function"===typeof e?e(n):Array.isArray(e)?e[n]||r:o(e,n)||r,t&&(i=t(i,r,e)),i}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,u=e=>{if(null==e[t])return null;const u=e[t],c=o(e.theme,a)||{};return(0,r.NI)(e,u,(e=>{let r=s(c,l,e);return e===r&&"string"===typeof e&&(r=s(c,l,`${t}${"default"===e?"":(0,i.A)(e)}`,e)),!1===n?r:{[n]:r}}))};return u.propTypes={},u.filterProps=[t],u}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>F});var i=n(8604),r=n(7162),o=n(3815);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),r=e=>Object.keys(e).reduce(((t,n)=>i[n]?(0,o.A)(t,i[n](e)):t),{});return r.propTypes={},r.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),r};var a=n(9751);function l(e){return"number"!==typeof e?e:`${e}px solid`}function u(e,t){return(0,r.Ay)({prop:e,themeKey:"borders",transform:t})}const c=u("border",l),d=u("borderTop",l),h=u("borderRight",l),p=u("borderBottom",l),g=u("borderLeft",l),f=u("borderColor"),m=u("borderTopColor"),v=u("borderRightColor"),y=u("borderBottomColor"),w=u("borderLeftColor"),C=u("outline",l),b=u("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,i.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,i._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];s(c,d,h,p,g,f,m,v,y,w,S,C,b);const x=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,i.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,i._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};x.propTypes={},x.filterProps=["gap"];const M=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,i.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,i._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};M.propTypes={},M.filterProps=["columnGap"];const _=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,i.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,i._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};_.propTypes={},_.filterProps=["rowGap"];s(x,M,_,(0,r.Ay)({prop:"gridColumn"}),(0,r.Ay)({prop:"gridRow"}),(0,r.Ay)({prop:"gridAutoFlow"}),(0,r.Ay)({prop:"gridAutoColumns"}),(0,r.Ay)({prop:"gridAutoRows"}),(0,r.Ay)({prop:"gridTemplateColumns"}),(0,r.Ay)({prop:"gridTemplateRows"}),(0,r.Ay)({prop:"gridTemplateAreas"}),(0,r.Ay)({prop:"gridArea"}));function R(e,t){return"grey"===t?t:e}s((0,r.Ay)({prop:"color",themeKey:"palette",transform:R}),(0,r.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:R}),(0,r.Ay)({prop:"backgroundColor",themeKey:"palette",transform:R}));function D(e){return e<=1&&0!==e?100*e+"%":e}const P=(0,r.Ay)({prop:"width",transform:D}),T=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,i;const r=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return r?"px"!==(null==(i=e.theme)||null==(i=i.breakpoints)?void 0:i.unit)?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:D(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};T.filterProps=["maxWidth"];const A=(0,r.Ay)({prop:"minWidth",transform:D}),E=(0,r.Ay)({prop:"height",transform:D}),I=(0,r.Ay)({prop:"maxHeight",transform:D}),k=(0,r.Ay)({prop:"minHeight",transform:D}),F=((0,r.Ay)({prop:"size",cssProperty:"width",transform:D}),(0,r.Ay)({prop:"size",cssProperty:"height",transform:D}),s(P,T,A,E,I,k,(0,r.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:R},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:R},backgroundColor:{themeKey:"palette",transform:R},p:{style:i.Ms},pt:{style:i.Ms},pr:{style:i.Ms},pb:{style:i.Ms},pl:{style:i.Ms},px:{style:i.Ms},py:{style:i.Ms},padding:{style:i.Ms},paddingTop:{style:i.Ms},paddingRight:{style:i.Ms},paddingBottom:{style:i.Ms},paddingLeft:{style:i.Ms},paddingX:{style:i.Ms},paddingY:{style:i.Ms},paddingInline:{style:i.Ms},paddingInlineStart:{style:i.Ms},paddingInlineEnd:{style:i.Ms},paddingBlock:{style:i.Ms},paddingBlockStart:{style:i.Ms},paddingBlockEnd:{style:i.Ms},m:{style:i.Lc},mt:{style:i.Lc},mr:{style:i.Lc},mb:{style:i.Lc},ml:{style:i.Lc},mx:{style:i.Lc},my:{style:i.Lc},margin:{style:i.Lc},marginTop:{style:i.Lc},marginRight:{style:i.Lc},marginBottom:{style:i.Lc},marginLeft:{style:i.Lc},marginX:{style:i.Lc},marginY:{style:i.Lc},marginInline:{style:i.Lc},marginInlineStart:{style:i.Lc},marginInlineEnd:{style:i.Lc},marginBlock:{style:i.Lc},marginBlockStart:{style:i.Lc},marginBlockEnd:{style:i.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:x},rowGap:{style:_},columnGap:{style:M},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:D},maxWidth:{style:T},minWidth:{transform:D},height:{transform:D},maxHeight:{transform:D},minHeight:{transform:D},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},9265:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A,extendSxProp:()=>c,unstable_createStyleFunctionSx:()=>i.k,unstable_defaultSxConfig:()=>a.A});var i=n(8812),r=n(8168),o=n(8587),s=n(9172),a=n(7758);const l=["sx"],u=e=>{var t,n;const i={systemProps:{},otherProps:{}},r=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:a.A;return Object.keys(e).forEach((t=>{r[t]?i.systemProps[t]=e[t]:i.otherProps[t]=e[t]})),i};function c(e){const{sx:t}=e,n=(0,o.A)(e,l),{systemProps:i,otherProps:a}=u(n);let c;return c=Array.isArray(t)?[i,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,s.Q)(e)?(0,r.A)({},i,e):i}:(0,r.A)({},i,t),(0,r.A)({},a,{sx:c})}},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,k:()=>l});var i=n(7598),r=n(3815),o=n(7162),s=n(9751),a=n(7758);function l(){function e(e,t,n,r){const a={[e]:t,theme:n},l=r[e];if(!l)return{[e]:t};const{cssProperty:u=e,themeKey:c,transform:d,style:h}=l;if(null==t)return null;if("typography"===c&&"inherit"===t)return{[e]:t};const p=(0,o.Yn)(n,c)||{};if(h)return h(a);return(0,s.NI)(a,t,(t=>{let n=(0,o.BO)(p,d,t);return t===n&&"string"===typeof t&&(n=(0,o.BO)(p,d,`${e}${"default"===t?"":(0,i.A)(t)}`,t)),!1===u?n:{[u]:n}}))}return function t(n){var i;const{sx:o,theme:l={}}=n||{};if(!o)return null;const u=null!=(i=l.unstable_sxConfig)?i:a.A;function c(n){let i=n;if("function"===typeof n)i=n(l);else if("object"!==typeof n)return n;if(!i)return null;const o=(0,s.EU)(l.breakpoints),a=Object.keys(o);let c=o;return Object.keys(i).forEach((n=>{const o=(a=i[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==o&&void 0!==o)if("object"===typeof o)if(u[n])c=(0,r.A)(c,e(n,o,l,u));else{const e=(0,s.NI)({theme:l},o,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),r=new Set(i);return t.every((e=>r.size===Object.keys(e).length))}(e,o)?c=(0,r.A)(c,e):c[n]=t({sx:o,theme:l})}else c=(0,r.A)(c,e(n,o,l,u))})),(0,s.vf)(a,c)}return Array.isArray(o)?o.map(c):c(o)}}const u=l();u.filterProps=["sx"];const c=u},2374:(e,t,n)=>{"use strict";t.A=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(5043)),r=n(3174);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(r.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},7598:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(7868);function r(e){if("string"!==typeof e)throw new Error((0,i.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A});var i=n(7598)},1188:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},6531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A});var i=n(1188)},9172:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,Q:()=>r});var i=n(8168);function r(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function o(e){if(!r(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=o(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?(0,i.A)({},e):e;return r(e)&&r(t)&&Object.keys(t).forEach((i=>{r(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&r(e[i])?a[i]=s(e[i],t[i],n):n.clone?a[i]=r(t[i])?o(t[i]):t[i]:a[i]=t[i]})),a}},9482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A,isPlainObject:()=>i.Q});var i=n(9172)},7868:(e,t,n)=>{"use strict";function i(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>i})},457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A});var i=n(7868)},3382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>o});var i=n(9565);const r=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function o(e){const t=`${e}`.match(r);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||o(e)||t}function a(e,t,n){const i=s(t);return e.displayName||(""!==i?`${n}(${i})`:n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case i.ForwardRef:return a(e,e.render,"ForwardRef");case i.Memo:return a(e,e.type,"memo");default:return}}}},8609:(e,t)=>{"use strict";var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case o:case a:case s:case h:case p:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case f:case g:case l:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.Memo=g},9565:(e,t,n)=>{"use strict";e.exports=n(8609)},219:(e,t,n)=>{"use strict";var i=n(3763),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return i.isMemo(e)?s:a[e.$$typeof]||r}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=s;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(g){var r=p(n);r&&r!==g&&e(t,r,i)}var s=c(n);d&&(s=s.concat(d(n)));for(var a=l(t),f=l(n),m=0;m<s.length;++m){var v=s[m];if(!o[v]&&(!i||!i[v])&&(!f||!f[v])&&(!a||!a[v])){var y=h(n,v);try{u(t,v,y)}catch(w){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,C=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case c:case d:case o:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case u:case h:case m:case f:case l:return e;default:return t}}case r:return t}}}function S(e){return b(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=f,t.Portal=r,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||b(e)===c},t.isConcurrentMode=S,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===o},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===f},t.isPortal=function(e){return b(e)===r},t.isProfiler=function(e){return b(e)===a},t.isStrictMode=function(e){return b(e)===s},t.isSuspense=function(e){return b(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h||e.$$typeof===y||e.$$typeof===w||e.$$typeof===C||e.$$typeof===v)},t.typeOf=b},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},2730:(e,t,n)=>{"use strict";var i=n(5043),r=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function f(e,t,n,i,r,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,i){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!d.call(g,e)||!d.call(p,e)&&(h.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var C=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var O,N=Object.assign;function B(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var G=!1;function V(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),o=i.stack.split("\n"),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||r[s]!==o[a]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function z(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case _:return"Profiler";case M:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function j(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=j(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=j(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=U(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function oe(e,t){var n=U(t.value),i=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=fe(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ce=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,Me=null;function _e(e){if(e=wr(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=br(t),Se(e.stateNode,e.type,t))}}function Re(e){xe?Me?Me.push(e):Me=[e]:xe=e}function De(){if(xe){var e=xe,t=Me;if(Me=xe=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Pe(e,t){return e(t)}function Te(){}var Ae=!1;function Ee(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Pe(e,t,n)}finally{Ae=!1,(null!==xe||null!==Me)&&(Te(),De())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var i=br(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ke=!1;if(c)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){ke=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(ce){ke=!1}function Le(e,t,n,i,r,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Oe=!1,Ne=null,Be=!1,Ge=null,Ve={onError:function(e){Oe=!0,Ne=e}};function ze(e,t,n,i,r,o,s,a,l){Oe=!1,Ne=null,Le.apply(Ve,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(He(e)!==e)throw Error(o(188))}function je(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Ue(r),e;if(s===i)return Ue(r),t;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,qe=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Xe=r.unstable_requestPaint,Ze=r.unstable_now,Qe=r.unstable_getCurrentPriorityLevel,Je=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~r;0!==a?i=dt(a):0!==(o&=s)&&(i=dt(o))}else 0!==(s=n&~r)?i=dt(s):0!==o&&(i=dt(o));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-st(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-st(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var wt=0;function Ct(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,St,xt,Mt,_t,Rt=!1,Dt=[],Pt=null,Tt=null,At=null,Et=new Map,It=new Map,kt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Ot(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=wr(t))&&St(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Nt(e){var t=yr(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void _t(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wr(n))&&St(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Ce=i,n.target.dispatchEvent(i),Ce=null,t.shift()}return!0}function Gt(e,t,n){Bt(e)&&n.delete(t)}function Vt(){Rt=!1,null!==Pt&&Bt(Pt)&&(Pt=null),null!==Tt&&Bt(Tt)&&(Tt=null),null!==At&&Bt(At)&&(At=null),Et.forEach(Gt),It.forEach(Gt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Rt||(Rt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vt)))}function Ht(e){function t(t){return zt(t,e)}if(0<Dt.length){zt(Dt[0],e);for(var n=1;n<Dt.length;n++){var i=Dt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Pt&&zt(Pt,e),null!==Tt&&zt(Tt,e),null!==At&&zt(At,e),Et.forEach(t),It.forEach(t),n=0;n<kt.length;n++)(i=kt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Nt(n),null===n.blockedOn&&kt.shift()}var Wt=C.ReactCurrentBatchConfig,Ut=!0;function jt(e,t,n,i){var r=wt,o=Wt.transition;Wt.transition=null;try{wt=1,Kt(e,t,n,i)}finally{wt=r,Wt.transition=o}}function $t(e,t,n,i){var r=wt,o=Wt.transition;Wt.transition=null;try{wt=4,Kt(e,t,n,i)}finally{wt=r,Wt.transition=o}}function Kt(e,t,n,i){if(Ut){var r=Yt(e,t,n,i);if(null===r)Ui(e,t,i,qt,n),Lt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Pt=Ot(Pt,e,t,n,i,r),!0;case"dragenter":return Tt=Ot(Tt,e,t,n,i,r),!0;case"mouseover":return At=Ot(At,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Et.set(o,Ot(Et.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,It.set(o,Ot(It.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Lt(e,i),4&t&&-1<Ft.indexOf(e)){for(;null!==r;){var o=wr(r);if(null!==o&&bt(o),null===(o=Yt(e,t,n,i))&&Ui(e,t,i,qt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Ui(e,t,i,null,n)}}var qt=null;function Yt(e,t,n,i){if(qt=null,null!==(e=yr(e=be(i))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,i=n.length,r="value"in Zt?Zt.value:Zt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return Jt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,i,r,o){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=N({},un,{view:0,detail:0}),hn=on(dn),pn=N({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),gn=on(pn),fn=on(N({},pn,{dataTransfer:0})),mn=on(N({},dn,{relatedTarget:0})),vn=on(N({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=N({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(yn),Cn=on(N({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function _n(){return Mn}var Rn=N({},dn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=on(Rn),Pn=on(N({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(N({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=on(N({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=N({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=on(En),kn=[9,13,27,32],Fn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var On=c&&"TextEvent"in window&&!Ln,Nn=c&&(!Fn||Ln&&8<Ln&&11>=Ln),Bn=String.fromCharCode(32),Gn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function jn(e,t,n,i){Re(i),0<(t=$i(t,"onChange")).length&&(n=new cn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var $n=null,Kn=null;function qn(e){Bi(e,0)}function Yn(e){if(K(Cr(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(c){var Qn;if(c){var Jn="oninput"in document;if(!Jn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Jn="function"===typeof ei.oninput}Qn=Jn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function ti(){$n&&($n.detachEvent("onpropertychange",ni),Kn=$n=null)}function ni(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];jn(t,Kn,e,be(e)),Ee(qn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Kn=n,($n=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function oi(e,t){if("click"===e)return Yn(t)}function si(e,t){if("input"===e||"change"===e)return Yn(t)}var ai="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(ai(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(t,r)||!ai(e[r],t[r]))return!1}return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ci(e,t){var n,i=ui(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ui(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=ci(n,o);var s=ci(n,i);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fi=c&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,yi=null,wi=!1;function Ci(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wi||null==mi||mi!==q(i)||("selectionStart"in(i=mi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=$i(vi,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function bi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Si={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},xi={},Mi={};function _i(e){if(xi[e])return xi[e];if(!Si[e])return e;var t,n=Si[e];for(t in n)if(n.hasOwnProperty(t)&&t in Mi)return xi[e]=n[t];return e}c&&(Mi=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);var Ri=_i("animationend"),Di=_i("animationiteration"),Pi=_i("animationstart"),Ti=_i("transitionend"),Ai=new Map,Ei="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(e,t){Ai.set(e,t),l(t,[e])}for(var ki=0;ki<Ei.length;ki++){var Fi=Ei[ki];Ii(Fi.toLowerCase(),"on"+(Fi[0].toUpperCase()+Fi.slice(1)))}Ii(Ri,"onAnimationEnd"),Ii(Di,"onAnimationIteration"),Ii(Pi,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(Ti,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function Ni(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,s,a,l,u){if(ze.apply(this,arguments),Oe){if(!Oe)throw Error(o(198));var c=Ne;Oe=!1,Ne=null,Be||(Be=!0,Ge=c)}}(i,t,void 0,e),e.currentTarget=null}function Bi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;Ni(r,a,u),o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;Ni(r,a,u),o=l}}}if(Be)throw e=Ge,Be=!1,Ge=null,e}function Gi(e,t){var n=t[fr];void 0===n&&(n=t[fr]=new Set);var i=e+"__bubble";n.has(i)||(Wi(t,e,2,!1),n.add(i))}function Vi(e,t,n){var i=0;t&&(i|=4),Wi(n,e,i,t)}var zi="_reactListening"+Math.random().toString(36).slice(2);function Hi(e){if(!e[zi]){e[zi]=!0,s.forEach((function(t){"selectionchange"!==t&&(Oi.has(t)||Vi(t,!1,e),Vi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zi]||(t[zi]=!0,Vi("selectionchange",!1,t))}}function Wi(e,t,n,i){switch(Xt(t)){case 1:var r=jt;break;case 4:r=$t;break;default:r=Kt}n=r.bind(null,t,n,e),r=void 0,!ke||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ui(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=yr(a)))return;if(5===(l=s.tag)||6===l){i=o=s;continue e}a=a.parentNode}}i=i.return}Ee((function(){var i=o,r=be(n),s=[];e:{var a=Ai.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Dn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Ri:case Di:case Pi:l=vn;break;case Ti:l=An;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var p,g=i;null!==g;){var f=(p=g).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Ie(g,h))&&c.push(ji(g,f,p)))),d)break;g=g.return}0<c.length&&(a=new l(a,u,null,n,r),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Ce||!(u=n.relatedTarget||n.fromElement)||!yr(u)&&!u[gr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?yr(u):null)&&(u!==(d=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=gn,f="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,f="onPointerLeave",h="onPointerEnter",g="pointer"),d=null==l?a:Cr(l),p=null==u?a:Cr(u),(a=new c(f,g+"leave",l,n,r)).target=d,a.relatedTarget=p,f=null,yr(r)===i&&((c=new c(h,g+"enter",u,n,r)).target=p,c.relatedTarget=d,f=c),d=f,l&&u)e:{for(h=u,g=0,p=c=l;p;p=Ki(p))g++;for(p=0,f=h;f;f=Ki(f))p++;for(;0<g-p;)c=Ki(c),g--;for(;0<p-g;)h=Ki(h),p--;for(;g--;){if(c===h||null!==h&&c===h.alternate)break e;c=Ki(c),h=Ki(h)}c=null}else c=null;null!==l&&qi(s,a,l,c,!1),null!==u&&null!==d&&qi(s,d,u,c,!0)}if("select"===(l=(a=i?Cr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Xn;else if(Un(a))if(Zn)m=si;else{m=ri;var v=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=oi);switch(m&&(m=m(e,i))?jn(s,m,n,r):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=i?Cr(i):window,e){case"focusin":(Un(v)||"true"===v.contentEditable)&&(mi=v,vi=i,yi=null);break;case"focusout":yi=vi=mi=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,Ci(s,n,r);break;case"selectionchange":if(fi)break;case"keydown":case"keyup":Ci(s,n,r)}var y;if(Fn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Hn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Nn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Hn&&(y=en()):(Qt="value"in(Zt=r)?Zt.value:Zt.textContent,Hn=!0)),0<(v=$i(i,w)).length&&(w=new Cn(w,e,null,n,r),s.push({event:w,listeners:v}),y?w.data=y:null!==(y=zn(n))&&(w.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Gn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Gn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&Vn(e,t)?(e=en(),Jt=Qt=Zt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=$i(i,"onBeforeInput")).length&&(r=new Cn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=y))}Bi(s,t)}))}function ji(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $i(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Ie(e,n))&&i.unshift(ji(e,o,r)),null!=(o=Ie(e,t))&&i.push(ji(e,o,r))),e=e.return}return i}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qi(e,t,n,i,r){for(var o=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==u&&(a=u,r?null!=(l=Ie(n,o))&&s.unshift(ji(n,l,a)):r||null!=(l=Ie(n,o))&&s.push(ji(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yi=/\r\n?/g,Xi=/\u0000|\uFFFD/g;function Zi(e){return("string"===typeof e?e:""+e).replace(Yi,"\n").replace(Xi,"")}function Qi(e,t,n){if(t=Zi(t),Zi(e)!==t&&n)throw Error(o(425))}function Ji(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(ar)}:ir;function ar(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Ht(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Ht(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,pr="__reactProps$"+dr,gr="__reactContainer$"+dr,fr="__reactEvents$"+dr,mr="__reactListeners$"+dr,vr="__reactHandles$"+dr;function yr(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cr(e);null!==e;){if(n=e[hr])return n;e=cr(e)}return t}n=(e=n).parentNode}return null}function wr(e){return!(e=e[hr]||e[gr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Cr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function br(e){return e[pr]||null}var Sr=[],xr=-1;function Mr(e){return{current:e}}function _r(e){0>xr||(e.current=Sr[xr],Sr[xr]=null,xr--)}function Rr(e,t){xr++,Sr[xr]=e.current,e.current=t}var Dr={},Pr=Mr(Dr),Tr=Mr(!1),Ar=Dr;function Er(e,t){var n=e.type.contextTypes;if(!n)return Dr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ir(e){return null!==(e=e.childContextTypes)&&void 0!==e}function kr(){_r(Tr),_r(Pr)}function Fr(e,t,n){if(Pr.current!==Dr)throw Error(o(168));Rr(Pr,t),Rr(Tr,n)}function Lr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,W(e)||"Unknown",r));return N({},n,i)}function Or(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dr,Ar=Pr.current,Rr(Pr,e),Rr(Tr,Tr.current),!0}function Nr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=Lr(e,t,Ar),i.__reactInternalMemoizedMergedChildContext=e,_r(Tr),_r(Pr),Rr(Pr,e)):_r(Tr),Rr(Tr,n)}var Br=null,Gr=!1,Vr=!1;function zr(e){null===Br?Br=[e]:Br.push(e)}function Hr(){if(!Vr&&null!==Br){Vr=!0;var e=0,t=wt;try{var n=Br;for(wt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Br=null,Gr=!1}catch(r){throw null!==Br&&(Br=Br.slice(e+1)),Ke(Je,Hr),r}finally{wt=t,Vr=!1}}return null}var Wr=[],Ur=0,jr=null,$r=0,Kr=[],qr=0,Yr=null,Xr=1,Zr="";function Qr(e,t){Wr[Ur++]=$r,Wr[Ur++]=jr,jr=e,$r=t}function Jr(e,t,n){Kr[qr++]=Xr,Kr[qr++]=Zr,Kr[qr++]=Yr,Yr=e;var i=Xr;e=Zr;var r=32-st(i)-1;i&=~(1<<r),n+=1;var o=32-st(t)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Xr=1<<32-st(t)+r|n<<r|i,Zr=o+e}else Xr=1<<o|n<<r|i,Zr=e}function eo(e){null!==e.return&&(Qr(e,1),Jr(e,1,0))}function to(e){for(;e===jr;)jr=Wr[--Ur],Wr[Ur]=null,$r=Wr[--Ur],Wr[Ur]=null;for(;e===Yr;)Yr=Kr[--qr],Kr[qr]=null,Zr=Kr[--qr],Kr[qr]=null,Xr=Kr[--qr],Kr[qr]=null}var no=null,io=null,ro=!1,oo=null;function so(e,t){var n=Eu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,io=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,io=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:Xr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Eu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,io=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(ro){var t=io;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ur(n.nextSibling);var i=no;t&&ao(e,t)?so(i,n):(e.flags=-4097&e.flags|2,ro=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ro=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!ro)return co(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=io)){if(lo(e))throw po(),Error(o(418));for(;t;)so(e,t),t=ur(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){io=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}io=null}}else io=no?ur(e.stateNode.nextSibling):null;return!0}function po(){for(var e=io;e;)e=ur(e.nextSibling)}function go(){io=no=null,ro=!1}function fo(e){null===oo?oo=[e]:oo.push(e)}var mo=C.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function Co(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=ku(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Nu(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){var o=n.type;return o===x?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&wo(o)===t.type)?((i=r(t,n.props)).ref=vo(e,t,n),i.return=e,i):((i=Fu(n.type,n.key,n.props,null,e.mode,i)).ref=vo(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Lu(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Fu(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case S:return(t=Bu(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lu(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===r?u(e,t,n,i):null;case S:return n.key===r?c(e,t,n,i):null;case I:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||L(n))return null!==r?null:d(e,t,n,i,null);yo(e,n)}return null}function g(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case b:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case S:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case I:return g(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||L(i))return d(t,e=e.get(n)||null,i,r,null);yo(t,i)}return null}function f(r,o,a,l){for(var u=null,c=null,d=o,f=o=0,m=null;null!==d&&f<a.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var v=p(r,d,a[f],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(r,d),o=s(v,o,f),null===c?u=v:c.sibling=v,c=v,d=m}if(f===a.length)return n(r,d),ro&&Qr(r,f),u;if(null===d){for(;f<a.length;f++)null!==(d=h(r,a[f],l))&&(o=s(d,o,f),null===c?u=d:c.sibling=d,c=d);return ro&&Qr(r,f),u}for(d=i(r,d);f<a.length;f++)null!==(m=g(d,r,f,a[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),o=s(m,o,f),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(r,e)})),ro&&Qr(r,f),u}function m(r,a,l,u){var c=L(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,f=a,m=a=0,v=null,y=l.next();null!==f&&!y.done;m++,y=l.next()){f.index>m?(v=f,f=null):v=f.sibling;var w=p(r,f,y.value,u);if(null===w){null===f&&(f=v);break}e&&f&&null===w.alternate&&t(r,f),a=s(w,a,m),null===d?c=w:d.sibling=w,d=w,f=v}if(y.done)return n(r,f),ro&&Qr(r,m),c;if(null===f){for(;!y.done;m++,y=l.next())null!==(y=h(r,y.value,u))&&(a=s(y,a,m),null===d?c=y:d.sibling=y,d=y);return ro&&Qr(r,m),c}for(f=i(r,f);!y.done;m++,y=l.next())null!==(y=g(f,r,m,y.value,u))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),a=s(y,a,m),null===d?c=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(r,e)})),ro&&Qr(r,m),c}return function e(i,o,s,l){if("object"===typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case b:e:{for(var u=s.key,c=o;null!==c;){if(c.key===u){if((u=s.type)===x){if(7===c.tag){n(i,c.sibling),(o=r(c,s.props.children)).return=i,i=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===I&&wo(u)===c.type){n(i,c.sibling),(o=r(c,s.props)).ref=vo(i,c,s),o.return=i,i=o;break e}n(i,c);break}t(i,c),c=c.sibling}s.type===x?((o=Lu(s.props.children,i.mode,l,s.key)).return=i,i=o):((l=Fu(s.type,s.key,s.props,null,i.mode,l)).ref=vo(i,o,s),l.return=i,i=l)}return a(i);case S:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(i,o.sibling),(o=r(o,s.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=Bu(s,i.mode,l)).return=i,i=o}return a(i);case I:return e(i,o,(c=s._init)(s._payload),l)}if(te(s))return f(i,o,s,l);if(L(s))return m(i,o,s,l);yo(i,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,s)).return=i,i=o):(n(i,o),(o=Nu(s,i.mode,l)).return=i,i=o),a(i)):n(i,o)}}var bo=Co(!0),So=Co(!1),xo=Mr(null),Mo=null,_o=null,Ro=null;function Do(){Ro=_o=Mo=null}function Po(e){var t=xo.current;_r(xo),e._currentValue=t}function To(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t){Mo=e,Ro=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(Ro!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===Mo)throw Error(o(308));_o=e,Mo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Io=null;function ko(e){null===Io?Io=[e]:Io.push(e)}function Fo(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,ko(t)):(n.next=r.next,r.next=n),t.interleaved=n,Lo(e,i)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Go(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Pl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Lo(e,n)}return null===(r=i.interleaved)?(t.next=t,ko(i)):(t.next=r.next,r.next=t),i.interleaved=t,Lo(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ho(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,i){var r=e.updateQueue;Oo=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=r.baseState;for(s=0,c=u=l=null,a=o;;){var h=a.lane,p=a.eventTime;if((i&h)===h){null!==c&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,f=a;switch(h=t,p=n,f.tag){case 1:if("function"===typeof(g=f.payload)){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=f.payload)?g.call(p,d,h):g)||void 0===h)break e;d=N({},d,h);break e;case 2:Oo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,s|=h;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(h=a).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===c&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Ol|=s,e.lanes=s,e.memoizedState=d}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var jo={},$o=Mr(jo),Ko=Mr(jo),qo=Mr(jo);function Yo(e){if(e===jo)throw Error(o(174));return e}function Xo(e,t){switch(Rr(qo,t),Rr(Ko,e),Rr($o,jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_r($o),Rr($o,t)}function Zo(){_r($o),_r(Ko),_r(qo)}function Qo(e){Yo(qo.current);var t=Yo($o.current),n=le(t,e.type);t!==n&&(Rr(Ko,e),Rr($o,n))}function Jo(e){Ko.current===e&&(_r($o),_r(Ko))}var es=Mr(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function is(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var rs=C.ReactCurrentDispatcher,os=C.ReactCurrentBatchConfig,ss=0,as=null,ls=null,us=null,cs=!1,ds=!1,hs=0,ps=0;function gs(){throw Error(o(321))}function fs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function ms(e,t,n,i,r,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Js:ea,e=n(i,r),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(o(301));s+=1,us=ls=null,t.updateQueue=null,rs.current=ta,e=n(i,r)}while(ds)}if(rs.current=Qs,t=null!==ls&&null!==ls.next,ss=0,us=ls=as=null,cs=!1,t)throw Error(o(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?as.memoizedState=us=e:us=us.next=e,us}function ws(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===us?as.memoizedState:us.next;if(null!==t)us=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===us?as.memoizedState=us=e:us=us.next=e}return us}function Cs(e,t){return"function"===typeof t?t(e):t}function bs(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=ls,r=i.baseQueue,s=n.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,i=i.baseState;var l=a=null,u=null,c=s;do{var d=c.lane;if((ss&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,a=i):u=u.next=h,as.lanes|=d,Ol|=d}c=c.next}while(null!==c&&c!==s);null===u?a=i:u.next=l,ai(i,t.memoizedState)||(wa=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,as.lanes|=s,Ol|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{s=e(s,a.action),a=a.next}while(a!==r);ai(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function xs(){}function Ms(e,t){var n=as,i=ws(),r=t(),s=!ai(i.memoizedState,r);if(s&&(i.memoizedState=r,wa=!0),i=i.queue,Os(Ds.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,Es(9,Rs.bind(null,n,i,r,t),void 0,null),null===Tl)throw Error(o(349));0!==(30&ss)||_s(n,t,r)}return r}function _s(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Rs(e,t,n,i){t.value=n,t.getSnapshot=i,Ps(t)&&Ts(e)}function Ds(e,t,n){return n((function(){Ps(t)&&Ts(e)}))}function Ps(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch(i){return!0}}function Ts(e){var t=Lo(e,1);null!==t&&nu(t,e,1,-1)}function As(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=qs.bind(null,as,e),[t.memoizedState,e]}function Es(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Is(){return ws().memoizedState}function ks(e,t,n,i){var r=ys();as.flags|=e,r.memoizedState=Es(1|t,n,void 0,void 0===i?null:i)}function Fs(e,t,n,i){var r=ws();i=void 0===i?null:i;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==i&&fs(i,s.deps))return void(r.memoizedState=Es(t,n,o,i))}as.flags|=e,r.memoizedState=Es(1|t,n,o,i)}function Ls(e,t){return ks(8390656,8,e,t)}function Os(e,t){return Fs(2048,8,e,t)}function Ns(e,t){return Fs(4,2,e,t)}function Bs(e,t){return Fs(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fs(4,4,Gs.bind(null,t,e),n)}function zs(){}function Hs(e,t){var n=ws();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&fs(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=ws();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&fs(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Us(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ai(n,t)||(n=ft(),as.lanes|=n,Ol|=n,e.baseState=!0),t)}function js(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var i=os.transition;os.transition={};try{e(!1),t()}finally{wt=n,os.transition=i}}function $s(){return ws().memoizedState}function Ks(e,t,n){var i=tu(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Xs(t,n);else if(null!==(n=Fo(e,t,n,i))){nu(n,e,i,eu()),Zs(n,t,i)}}function qs(e,t,n){var i=tu(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Xs(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,s)){var l=t.interleaved;return null===l?(r.next=r,ko(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(u){}null!==(n=Fo(e,t,r,i))&&(nu(n,e,i,r=eu()),Zs(n,t,i))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Xs(e,t){ds=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zs(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Qs={readContext:Eo,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useInsertionEffect:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useDeferredValue:gs,useTransition:gs,useMutableSource:gs,useSyncExternalStore:gs,useId:gs,unstable_isNewReconciler:!1},Js={readContext:Eo,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ks(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return ks(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ys();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Ks.bind(null,as,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:As,useDebugValue:zs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=As(!1),t=e[0];return e=js.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=as,r=ys();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tl)throw Error(o(349));0!==(30&ss)||_s(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Ls(Ds.bind(null,i,s,e),[e]),i.flags|=2048,Es(9,Rs.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Tl.identifierPrefix;if(ro){var n=Zr;t=":"+t+"R"+(n=(Xr&~(1<<32-st(Xr)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Eo,useCallback:Hs,useContext:Eo,useEffect:Os,useImperativeHandle:Vs,useInsertionEffect:Ns,useLayoutEffect:Bs,useMemo:Ws,useReducer:bs,useRef:Is,useState:function(){return bs(Cs)},useDebugValue:zs,useDeferredValue:function(e){return Us(ws(),ls.memoizedState,e)},useTransition:function(){return[bs(Cs)[0],ws().memoizedState]},useMutableSource:xs,useSyncExternalStore:Ms,useId:$s,unstable_isNewReconciler:!1},ta={readContext:Eo,useCallback:Hs,useContext:Eo,useEffect:Os,useImperativeHandle:Vs,useInsertionEffect:Ns,useLayoutEffect:Bs,useMemo:Ws,useReducer:Ss,useRef:Is,useState:function(){return Ss(Cs)},useDebugValue:zs,useDeferredValue:function(e){var t=ws();return null===ls?t.memoizedState=e:Us(t,ls.memoizedState,e)},useTransition:function(){return[Ss(Cs)[0],ws().memoizedState]},useMutableSource:xs,useSyncExternalStore:Ms,useId:$s,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ia(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ra={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=eu(),r=tu(e),o=Go(i,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,r))&&(nu(t,e,r,i),zo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=eu(),r=tu(e),o=Go(i,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,r))&&(nu(t,e,r,i),zo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),i=tu(e),r=Go(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Vo(e,r,i))&&(nu(t,e,i,n),zo(t,e,i))}};function oa(e,t,n,i,r,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function sa(e,t,n){var i=!1,r=Dr,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(r=Ir(t)?Ar:Pr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Er(e,r):Dr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ra,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ra.enqueueReplaceState(t,t.state,null)}function la(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},No(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=Eo(o):(o=Ir(t)?Ar:Pr.current,r.context=Er(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ia(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ra.enqueueReplaceState(r,r.state,null),Wo(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",i=t;do{n+=z(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Go(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ul||(Ul=!0,jl=i),da(0,t)},n}function ga(e,t,n){(n=Go(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof i&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fa(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new ha;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=_u.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Go(-1,1)).tag=2,Vo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var ya=C.ReactCurrentOwner,wa=!1;function Ca(e,t,n,i){t.child=null===e?So(t,null,n,i):bo(t,e.child,n,i)}function ba(e,t,n,i,r){n=n.render;var o=t.ref;return Ao(t,r),i=ms(e,t,n,i,o,r),n=vs(),null===e||wa?(ro&&n&&eo(t),t.flags|=1,Ca(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ua(e,t,r))}function Sa(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||Iu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fu(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,xa(e,t,o,i,r))}if(o=e.child,0===(e.lanes&r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,i)&&e.ref===t.ref)return Ua(e,t,r)}return t.flags|=1,(e=ku(o,i)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(li(o,i)&&e.ref===t.ref){if(wa=!1,t.pendingProps=i=o,0===(e.lanes&r))return t.lanes=e.lanes,Ua(e,t,r);0!==(131072&e.flags)&&(wa=!0)}}return Ra(e,t,n,i,r)}function Ma(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rr(kl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rr(kl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Rr(kl,Il),Il|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Rr(kl,Il),Il|=i;return Ca(e,t,r,n),t.child}function _a(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ra(e,t,n,i,r){var o=Ir(n)?Ar:Pr.current;return o=Er(t,o),Ao(t,r),n=ms(e,t,n,i,o,r),i=vs(),null===e||wa?(ro&&i&&eo(t),t.flags|=1,Ca(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ua(e,t,r))}function Da(e,t,n,i,r){if(Ir(n)){var o=!0;Or(t)}else o=!1;if(Ao(t,r),null===t.stateNode)Wa(e,t),sa(t,n,i),la(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Eo(u):u=Er(t,u=Ir(n)?Ar:Pr.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||l!==u)&&aa(t,s,i,u),Oo=!1;var h=t.memoizedState;s.state=h,Wo(t,i,s,r),l=t.memoizedState,a!==i||h!==l||Tr.current||Oo?("function"===typeof c&&(ia(t,n,c,i),l=t.memoizedState),(a=Oo||oa(t,n,a,i,h,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=u,i=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Bo(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),s.props=u,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Eo(l):l=Er(t,l=Ir(n)?Ar:Pr.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,i,l),Oo=!1,h=t.memoizedState,s.state=h,Wo(t,i,s,r);var g=t.memoizedState;a!==d||h!==g||Tr.current||Oo?("function"===typeof p&&(ia(t,n,p,i),g=t.memoizedState),(u=Oo||oa(t,n,u,i,h,g,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,g,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,g,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),s.props=i,s.state=g,s.context=l,i=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Pa(e,t,n,i,o,r)}function Pa(e,t,n,i,r,o){_a(e,t);var s=0!==(128&t.flags);if(!i&&!s)return r&&Nr(t,n,!1),Ua(e,t,o);i=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=bo(t,e.child,null,o),t.child=bo(t,null,a,o)):Ca(e,t,a,o),t.memoizedState=i.state,r&&Nr(t,n,!0),t.child}function Ta(e){var t=e.stateNode;t.pendingContext?Fr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fr(0,t.context,!1),Xo(e,t.containerInfo)}function Aa(e,t,n,i,r){return go(),fo(r),t.flags|=256,Ca(e,t,n,i),t.child}var Ea,Ia,ka,Fa,La={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Na(e,t,n){var i,r=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&s)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Rr(es,1&s),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Ou(l,r,0,null),e=Lu(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oa(n),t.memoizedState=La,e):Ba(t,l));if(null!==(s=e.memoizedState)&&null!==(i=s.dehydrated))return function(e,t,n,i,r,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ga(e,t,a,i=ca(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=Ou({mode:"visible",children:i.children},r,0,null),(s=Lu(s,r,a,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&bo(t,e.child,null,a),t.child.memoizedState=Oa(a),t.memoizedState=La,s);if(0===(1&t.mode))return Ga(e,t,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Ga(e,t,a,i=ca(s=Error(o(419)),i,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(i=Tl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Lo(e,r),nu(i,e,r,-1))}return fu(),Ga(e,t,a,i=ca(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Du.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,io=ur(r.nextSibling),no=t,ro=!0,oo=null,null!==e&&(Kr[qr++]=Xr,Kr[qr++]=Zr,Kr[qr++]=Yr,Xr=e.id,Zr=e.overflow,Yr=t),t=Ba(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,s,n);if(a){a=r.fallback,l=t.mode,i=(s=e.child).sibling;var u={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=u,t.deletions=null):(r=ku(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==i?a=ku(i,a):(a=Lu(a,l,n,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=null===(l=e.child.memoizedState)?Oa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,r}return e=(a=e.child).sibling,r=ku(a,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ba(e,t){return(t=Ou({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ga(e,t,n,i){return null!==i&&fo(i),bo(t,e.child,null,n),(e=Ba(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),To(e.return,t,n)}function za(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Ha(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Ca(e,t,i.children,n),0!==(2&(i=es.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Rr(es,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),za(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ts(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}za(t,!0,n,null,o);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ua(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ja(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function $a(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ka(e,t,n){var i=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $a(t),null;case 1:case 17:return Ir(t.type)&&kr(),$a(t),null;case 3:return i=t.stateNode,Zo(),_r(Tr),_r(Pr),is(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(su(oo),oo=null))),Ia(e,t),$a(t),null;case 5:Jo(t);var r=Yo(qo.current);if(n=t.type,null!==e&&null!=t.stateNode)ka(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return $a(t),null}if(e=Yo($o.current),ho(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[hr]=t,i[pr]=s,e=0!==(1&t.mode),n){case"dialog":Gi("cancel",i),Gi("close",i);break;case"iframe":case"object":case"embed":Gi("load",i);break;case"video":case"audio":for(r=0;r<Li.length;r++)Gi(Li[r],i);break;case"source":Gi("error",i);break;case"img":case"image":case"link":Gi("error",i),Gi("load",i);break;case"details":Gi("toggle",i);break;case"input":X(i,s),Gi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Gi("invalid",i);break;case"textarea":re(i,s),Gi("invalid",i)}for(var l in ye(n,s),r=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?i.textContent!==u&&(!0!==s.suppressHydrationWarning&&Qi(i.textContent,u,e),r=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Qi(i.textContent,u,e),r=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Gi("scroll",i)}switch(n){case"input":$(i),J(i,s,!0);break;case"textarea":$(i),se(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=Ji)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[hr]=t,e[pr]=i,Ea(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,i),n){case"dialog":Gi("cancel",e),Gi("close",e),r=i;break;case"iframe":case"object":case"embed":Gi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Li.length;r++)Gi(Li[r],e);r=i;break;case"source":Gi("error",e),r=i;break;case"img":case"image":case"link":Gi("error",e),Gi("load",e),r=i;break;case"details":Gi("toggle",e),r=i;break;case"input":X(e,i),r=Y(e,i),Gi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=N({},i,{value:void 0}),Gi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Gi("invalid",e)}for(s in ye(n,r),u=r)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?me(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Gi("scroll",e):null!=c&&w(e,s,c,l))}switch(n){case"input":$(e),J(e,i,!1);break;case"textarea":$(e),se(e);break;case"option":null!=i.value&&e.setAttribute("value",""+U(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ne(e,!!i.multiple,s,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $a(t),null;case 6:if(e&&null!=t.stateNode)Fa(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(n=Yo(qo.current),Yo($o.current),ho(t)){if(i=t.stateNode,n=t.memoizedProps,i[hr]=t,(s=i.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Qi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qi(i.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hr]=t,t.stateNode=i}return $a(t),null;case 13:if(_r(es),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==io&&0!==(1&t.mode)&&0===(128&t.flags))po(),go(),t.flags|=98560,s=!1;else if(s=ho(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hr]=t}else go(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$a(t),s=!1}else null!==oo&&(su(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Fl&&(Fl=3):fu())),null!==t.updateQueue&&(t.flags|=4),$a(t),null);case 4:return Zo(),Ia(e,t),null===e&&Hi(t.stateNode.containerInfo),$a(t),null;case 10:return Po(t.type._context),$a(t),null;case 19:if(_r(es),null===(s=t.memoizedState))return $a(t),null;if(i=0!==(128&t.flags),null===(l=s.rendering))if(i)ja(s,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,ja(s,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Rr(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>Hl&&(t.flags|=128,i=!0,ja(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ts(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ja(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ro)return $a(t),null}else 2*Ze()-s.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,i=!0,ja(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=es.current,Rr(es,i?1&n|2:1&n),t):($a(t),null);case 22:case 23:return du(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Il)&&($a(t),6&t.subtreeFlags&&(t.flags|=8192)):$a(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function qa(e,t){switch(to(t),t.tag){case 1:return Ir(t.type)&&kr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zo(),_r(Tr),_r(Pr),is(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Jo(t),null;case 13:if(_r(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));go()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _r(es),null;case 4:return Zo(),null;case 10:return Po(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ea=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ia=function(){},ka=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Yo($o.current);var o,s=null;switch(n){case"input":r=Y(e,r),i=Y(e,i),s=[];break;case"select":r=N({},r,{value:void 0}),i=N({},i,{value:void 0}),s=[];break;case"textarea":r=ie(e,r),i=ie(e,i),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Ji)}for(c in ye(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var u=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Gi("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Fa=function(e,t,n,i){n!==i&&(t.flags|=4)};var Ya=!1,Xa=!1,Za="function"===typeof WeakSet?WeakSet:Set,Qa=null;function Ja(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Mu(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){Mu(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&el(t,n,o)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[pr],delete t[fr],delete t[mr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ji));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(a){}switch(n.tag){case 5:Xa||Ja(n,t);case 6:var i=cl,r=dl;cl=null,hl(e,t,n),dl=r,null!==(cl=i)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Ht(e)):lr(cl,n.stateNode));break;case 4:i=cl,r=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),r=r.next}while(r!==i)}hl(e,t,n);break;case 1:if(!Xa&&(Ja(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Mu(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xa=(i=Xa)||null!==n.memoizedState,hl(e,t,n),Xa=i):hl(e,t,n);break;default:hl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var i=Pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function fl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));pl(s,a,r),cl=null,dl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){Mu(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),vl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(m){Mu(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Mu(e,e.return,m)}}break;case 1:fl(t,e),vl(e),512&i&&null!==n&&Ja(n,n.return);break;case 5:if(fl(t,e),vl(e),512&i&&null!==n&&Ja(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(m){Mu(e,e.return,m)}}if(4&i&&null!=(r=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(r,s),we(l,a);var c=we(l,s);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];"style"===d?me(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):w(r,d,h,c)}switch(l){case"input":Q(r,s);break;case"textarea":oe(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;null!=g?ne(r,!!s.multiple,g,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[pr]=s}catch(m){Mu(e,e.return,m)}}break;case 6:if(fl(t,e),vl(e),4&i){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(m){Mu(e,e.return,m)}}break;case 3:if(fl(t,e),vl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){Mu(e,e.return,m)}break;case 4:default:fl(t,e),vl(e);break;case 13:fl(t,e),vl(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(zl=Ze())),4&i&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(c=Xa)||d,fl(t,e),Xa=c):fl(t,e),vl(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Qa=e,d=e.child;null!==d;){for(h=Qa=d;null!==Qa;){switch(g=(p=Qa).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Ja(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){i=p,n=p.return;try{t=i,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(m){Mu(i,n,m)}}break;case 5:Ja(p,p.return);break;case 22:if(null!==p.memoizedState){bl(h);continue}}null!==g?(g.return=p,Qa=g):bl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,c?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=fe("display",a))}catch(m){Mu(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Mu(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),vl(e),4&i&&gl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(he(r,""),i.flags&=-33),ul(e,al(e),r);break;case 3:case 4:var s=i.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){Mu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Qa=e,wl(e,t,n)}function wl(e,t,n){for(var i=0!==(1&e.mode);null!==Qa;){var r=Qa,o=r.child;if(22===r.tag&&i){var s=null!==r.memoizedState||Ya;if(!s){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var u=Xa;if(Ya=s,(Xa=l)&&!u)for(Qa=r;null!==Qa;)l=(s=Qa).child,22===s.tag&&null!==s.memoizedState?Sl(r):null!==l?(l.return=s,Qa=l):Sl(r);for(;null!==o;)Qa=o,wl(o,t,n),o=o.sibling;Qa=r,Ya=a,Xa=u}Cl(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Qa=o):Cl(e)}}function Cl(e){for(;null!==Qa;){var t=Qa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Xa)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Uo(t,s,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&rl(t)}catch(p){Mu(t,t.return,p)}}if(t===e){Qa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qa=n;break}Qa=t.return}}function bl(e){for(;null!==Qa;){var t=Qa;if(t===e){Qa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qa=n;break}Qa=t.return}}function Sl(e){for(;null!==Qa;){var t=Qa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Mu(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Mu(t,r,l)}}var o=t.return;try{rl(t)}catch(l){Mu(t,o,l)}break;case 5:var s=t.return;try{rl(t)}catch(l){Mu(t,s,l)}}}catch(l){Mu(t,t.return,l)}if(t===e){Qa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Qa=a;break}Qa=t.return}}var xl,Ml=Math.ceil,_l=C.ReactCurrentDispatcher,Rl=C.ReactCurrentOwner,Dl=C.ReactCurrentBatchConfig,Pl=0,Tl=null,Al=null,El=0,Il=0,kl=Mr(0),Fl=0,Ll=null,Ol=0,Nl=0,Bl=0,Gl=null,Vl=null,zl=0,Hl=1/0,Wl=null,Ul=!1,jl=null,$l=null,Kl=!1,ql=null,Yl=0,Xl=0,Zl=null,Ql=-1,Jl=0;function eu(){return 0!==(6&Pl)?Ze():-1!==Ql?Ql:Ql=Ze()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==El?El&-El:null!==mo.transition?(0===Jl&&(Jl=ft()),Jl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nu(e,t,n,i){if(50<Xl)throw Xl=0,Zl=null,Error(o(185));vt(e,n,i),0!==(2&Pl)&&e===Tl||(e===Tl&&(0===(2&Pl)&&(Nl|=n),4===Fl&&au(e,El)),iu(e,i),1===n&&0===Pl&&0===(1&t.mode)&&(Hl=Ze()+500,Gr&&Hr()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=r[s];-1===l?0!==(a&n)&&0===(a&i)||(r[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var i=ht(e,e===Tl?El:0);if(0===i)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Gr=!0,zr(e)}(lu.bind(null,e)):zr(lu.bind(null,e)),sr((function(){0===(6&Pl)&&Hr()})),n=null;else{switch(Ct(i)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Tu(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Ql=-1,Jl=0,0!==(6&Pl))throw Error(o(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var i=ht(e,e===Tl?El:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=mu(e,i);else{t=i;var r=Pl;Pl|=2;var s=gu();for(Tl===e&&El===t||(Wl=null,Hl=Ze()+500,hu(e,t));;)try{yu();break}catch(l){pu(e,l)}Do(),_l.current=s,Pl=r,null!==Al?t=0:(Tl=null,El=0,t=Fl)}if(0!==t){if(2===t&&(0!==(r=gt(e))&&(i=r,t=ou(e,r))),1===t)throw n=Ll,hu(e,0),au(e,i),iu(e,Ze()),n;if(6===t)au(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!ai(o(),r))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=mu(e,i))&&(0!==(s=gt(e))&&(i=s,t=ou(e,s))),1===t))throw n=Ll,hu(e,0),au(e,i),iu(e,Ze()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:bu(e,Vl,Wl);break;case 3:if(au(e,i),(130023424&i)===i&&10<(t=zl+500-Ze())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){eu(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(bu.bind(null,e,Vl,Wl),t);break}bu(e,Vl,Wl);break;case 4:if(au(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var a=31-st(i);s=1<<a,(a=t[a])>r&&(r=a),i&=~s}if(i=r,10<(i=(120>(i=Ze()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ml(i/1960))-i)){e.timeoutHandle=ir(bu.bind(null,e,Vl,Wl),i);break}bu(e,Vl,Wl);break;default:throw Error(o(329))}}}return iu(e,Ze()),e.callbackNode===n?ru.bind(null,e):null}function ou(e,t){var n=Gl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Vl,Vl=n,null!==t&&su(t)),e}function su(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function au(e,t){for(t&=~Bl,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),i=1<<n;e[n]=-1,t&=~i}}function lu(e){if(0!==(6&Pl))throw Error(o(327));Su();var t=ht(e,0);if(0===(1&t))return iu(e,Ze()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var i=gt(e);0!==i&&(t=i,n=ou(e,i))}if(1===n)throw n=Ll,hu(e,0),au(e,t),iu(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bu(e,Vl,Wl),iu(e,Ze()),null}function uu(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Hl=Ze()+500,Gr&&Hr())}}function cu(e){null!==ql&&0===ql.tag&&0===(6&Pl)&&Su();var t=Pl;Pl|=1;var n=Dl.transition,i=wt;try{if(Dl.transition=null,wt=1,e)return e()}finally{wt=i,Dl.transition=n,0===(6&(Pl=t))&&Hr()}}function du(){Il=kl.current,_r(kl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Al)for(n=Al.return;null!==n;){var i=n;switch(to(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&kr();break;case 3:Zo(),_r(Tr),_r(Pr),is();break;case 5:Jo(i);break;case 4:Zo();break;case 13:case 19:_r(es);break;case 10:Po(i.type._context);break;case 22:case 23:du()}n=n.return}if(Tl=e,Al=e=ku(e.current,null),El=Il=t,Fl=0,Ll=null,Bl=Nl=Ol=0,Vl=Gl=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(i=(n=Io[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var s=o.next;o.next=r,i.next=s}n.pending=i}Io=null}return e}function pu(e,t){for(;;){var n=Al;try{if(Do(),rs.current=Qs,cs){for(var i=as.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}cs=!1}if(ss=0,us=ls=as=null,ds=!1,hs=0,Rl.current=null,null===n||null===n.return){Fl=1,Ll=t,Al=null;break}e:{var s=e,a=n.return,l=n,u=t;if(t=El,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ma(a);if(null!==g){g.flags&=-257,va(g,a,l,0,t),1&g.mode&&fa(s,c,t),u=c;var f=(t=g).updateQueue;if(null===f){var m=new Set;m.add(u),t.updateQueue=m}else f.add(u);break e}if(0===(1&t)){fa(s,c,t),fu();break e}u=Error(o(426))}else if(ro&&1&l.mode){var v=ma(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),fo(ua(u,l));break e}}s=u=ua(u,l),4!==Fl&&(Fl=2),null===Gl?Gl=[s]:Gl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ho(s,pa(0,u,t));break e;case 1:l=u;var y=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===$l||!$l.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,Ho(s,ga(s,l,t));break e}}s=s.return}while(null!==s)}Cu(n)}catch(C){t=C,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function gu(){var e=_l.current;return _l.current=Qs,null===e?Qs:e}function fu(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Tl||0===(268435455&Ol)&&0===(268435455&Nl)||au(Tl,El)}function mu(e,t){var n=Pl;Pl|=2;var i=gu();for(Tl===e&&El===t||(Wl=null,hu(e,t));;)try{vu();break}catch(r){pu(e,r)}if(Do(),Pl=n,_l.current=i,null!==Al)throw Error(o(261));return Tl=null,El=0,Fl}function vu(){for(;null!==Al;)wu(Al)}function yu(){for(;null!==Al&&!Ye();)wu(Al)}function wu(e){var t=xl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?Cu(e):Al=t,Rl.current=null}function Cu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Il)))return void(Al=n)}else{if(null!==(n=qa(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Fl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Fl&&(Fl=5)}function bu(e,t,n){var i=wt,r=Dl.transition;try{Dl.transition=null,wt=1,function(e,t,n,i){do{Su()}while(null!==ql);if(0!==(6&Pl))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,s),e===Tl&&(Al=Tl=null,El=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Tu(tt,(function(){return Su(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Dl.transition,Dl.transition=null;var a=wt;wt=1;var l=Pl;Pl|=4,Rl.current=null,function(e,t){if(er=Ut,pi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(b){n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var g;h!==n||0!==r&&3!==h.nodeType||(l=a+r),h!==s||0!==i&&3!==h.nodeType||(u=a+i),3===h.nodeType&&(a+=h.nodeValue.length),null!==(g=h.firstChild);)p=h,h=g;for(;;){if(h===e)break t;if(p===n&&++c===r&&(l=a),p===s&&++d===i&&(u=a),null!==(g=h.nextSibling))break;p=(h=p).parentNode}h=g}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ut=!1,Qa=t;null!==Qa;)if(e=(t=Qa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qa=e;else for(;null!==Qa;){t=Qa;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var m=f.memoizedProps,v=f.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=t.stateNode.containerInfo;1===C.nodeType?C.textContent="":9===C.nodeType&&C.documentElement&&C.removeChild(C.documentElement);break;default:throw Error(o(163))}}catch(b){Mu(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Qa=e;break}Qa=t.return}f=tl,tl=!1}(e,n),ml(n,e),gi(tr),Ut=!!er,tr=er=null,e.current=n,yl(n,e,r),Xe(),Pl=l,wt=a,Dl.transition=s}else e.current=n;if(Kl&&(Kl=!1,ql=e,Yl=r),s=e.pendingLanes,0===s&&($l=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,Ze()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Ul)throw Ul=!1,e=jl,jl=null,e;0!==(1&Yl)&&0!==e.tag&&Su(),s=e.pendingLanes,0!==(1&s)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,Hr()}(e,t,n,i)}finally{Dl.transition=r,wt=i}return null}function Su(){if(null!==ql){var e=Ct(Yl),t=Dl.transition,n=wt;try{if(Dl.transition=null,wt=16>e?16:e,null===ql)var i=!1;else{if(e=ql,ql=null,Yl=0,0!==(6&Pl))throw Error(o(331));var r=Pl;for(Pl|=4,Qa=e.current;null!==Qa;){var s=Qa,a=s.child;if(0!==(16&Qa.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qa=c;null!==Qa;){var d=Qa;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Qa=h;else for(;null!==Qa;){var p=(d=Qa).sibling,g=d.return;if(ol(d),d===c){Qa=null;break}if(null!==p){p.return=g,Qa=p;break}Qa=g}}}var f=s.alternate;if(null!==f){var m=f.child;if(null!==m){f.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Qa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Qa=a;else e:for(;null!==Qa;){if(0!==(2048&(s=Qa).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Qa=y;break e}Qa=s.return}}var w=e.current;for(Qa=w;null!==Qa;){var C=(a=Qa).child;if(0!==(2064&a.subtreeFlags)&&null!==C)C.return=a,Qa=C;else e:for(a=w;null!==Qa;){if(0!==(2048&(l=Qa).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Mu(l,l.return,S)}if(l===a){Qa=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Qa=b;break e}Qa=l.return}}if(Pl=r,Hr(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(S){}i=!0}return i}finally{wt=n,Dl.transition=t}}return!1}function xu(e,t,n){e=Vo(e,t=pa(0,t=ua(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),iu(e,t))}function Mu(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===$l||!$l.has(i))){t=Vo(t,e=ga(t,e=ua(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),iu(t,e));break}}t=t.return}}function _u(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(El&n)===n&&(4===Fl||3===Fl&&(130023424&El)===El&&500>Ze()-zl?hu(e,0):Bl|=n),iu(e,t)}function Ru(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Lo(e,t))&&(vt(e,t,n),iu(e,n))}function Du(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ru(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Ru(e,n)}function Tu(e,t){return Ke(e,t)}function Au(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Eu(e,t,n,i){return new Au(e,t,n,i)}function Iu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ku(e,t){var n=e.alternate;return null===n?((n=Eu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fu(e,t,n,i,r,s){var a=2;if(i=e,"function"===typeof e)Iu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Lu(n.children,r,s,t);case M:a=8,r|=8;break;case _:return(e=Eu(12,n,t,2|r)).elementType=_,e.lanes=s,e;case T:return(e=Eu(13,n,t,r)).elementType=T,e.lanes=s,e;case A:return(e=Eu(19,n,t,r)).elementType=A,e.lanes=s,e;case k:return Ou(n,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case R:a=10;break e;case D:a=9;break e;case P:a=11;break e;case E:a=14;break e;case I:a=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Eu(a,n,t,r)).elementType=e,t.type=i,t.lanes=s,t}function Lu(e,t,n,i){return(e=Eu(7,e,i,t)).lanes=n,e}function Ou(e,t,n,i){return(e=Eu(22,e,i,t)).elementType=k,e.lanes=n,e.stateNode={isHidden:!1},e}function Nu(e,t,n){return(e=Eu(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Eu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gu(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,i,r,o,s,a,l){return e=new Gu(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Eu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function zu(e){if(!e)return Dr;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ir(n))return Lr(e,n,t)}return t}function Hu(e,t,n,i,r,o,s,a,l){return(e=Vu(n,i,!0,e,0,o,0,a,l)).context=zu(null),n=e.current,(o=Go(i=eu(),r=tu(n))).callback=void 0!==t&&null!==t?t:null,Vo(n,o,r),e.current.lanes=r,vt(e,r,i),iu(e,i),e}function Wu(e,t,n,i){var r=t.current,o=eu(),s=tu(r);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Go(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Vo(r,t,s))&&(nu(e,r,s,o),zo(e,r,s)),s}function Uu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ju(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $u(e,t){ju(e,t),(e=e.alternate)&&ju(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Tr.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Ta(t),go();break;case 5:Qo(t);break;case 1:Ir(t.type)&&Or(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Rr(xo,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Rr(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Na(e,t,n):(Rr(es,1&es.current),null!==(e=Ua(e,t,n))?e.sibling:null);Rr(es,1&es.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Ha(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Rr(es,es.current),i)break;return null;case 22:case 23:return t.lanes=0,Ma(e,t,n)}return Ua(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,ro&&0!==(1048576&t.flags)&&Jr(t,$r,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Wa(e,t),e=t.pendingProps;var r=Er(t,Pr.current);Ao(t,n),r=ms(null,t,i,e,r,n);var s=vs();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ir(i)?(s=!0,Or(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,No(t),r.updater=ra,t.stateNode=r,r._reactInternals=t,la(t,i,e,n),t=Pa(null,t,i,!0,s,n)):(t.tag=0,ro&&s&&eo(t),Ca(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Iu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===E)return 14}return 2}(i),e=na(i,e),r){case 0:t=Ra(null,t,i,e,n);break e;case 1:t=Da(null,t,i,e,n);break e;case 11:t=ba(null,t,i,e,n);break e;case 14:t=Sa(null,t,i,na(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ra(e,t,i,r=t.elementType===i?r:na(i,r),n);case 1:return i=t.type,r=t.pendingProps,Da(e,t,i,r=t.elementType===i?r:na(i,r),n);case 3:e:{if(Ta(t),null===e)throw Error(o(387));i=t.pendingProps,r=(s=t.memoizedState).element,Bo(e,t),Wo(t,i,null,n);var a=t.memoizedState;if(i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Aa(e,t,i,n,r=ua(Error(o(423)),t));break e}if(i!==r){t=Aa(e,t,i,n,r=ua(Error(o(424)),t));break e}for(io=ur(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,n=So(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(go(),i===r){t=Ua(e,t,n);break e}Ca(e,t,i,n)}t=t.child}return t;case 5:return Qo(t),null===e&&uo(t),i=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==s&&nr(i,s)&&(t.flags|=32),_a(e,t),Ca(e,t,a,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Na(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=bo(t,null,i,n):Ca(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,ba(e,t,i,r=t.elementType===i?r:na(i,r),n);case 7:return Ca(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ca(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,a=r.value,Rr(xo,i._currentValue),i._currentValue=a,null!==s)if(ai(s.value,a)){if(s.children===r.children&&!Tr.current){t=Ua(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===s.tag){(u=Go(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),To(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),To(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ca(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Ao(t,n),i=i(r=Eo(r)),t.flags|=1,Ca(e,t,i,n),t.child;case 14:return r=na(i=t.type,t.pendingProps),Sa(e,t,i,r=na(i.type,r),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:na(i,r),Wa(e,t),t.tag=1,Ir(i)?(e=!0,Or(t)):e=!1,Ao(t,n),sa(t,i,r),la(t,i,r,n),Pa(null,t,i,!0,e,n);case 19:return Ha(e,t,n);case 22:return Ma(e,t,n)}throw Error(o(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function qu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function Ju(e,t,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof r){var a=r;r=function(){var e=Uu(s);a.call(e)}}Wu(t,s,e,r)}else s=function(e,t,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var e=Uu(s);o.call(e)}}var s=Hu(t,i,e,0,null,!1,0,"",Qu);return e._reactRootContainer=s,e[gr]=s.current,Hi(8===e.nodeType?e.parentNode:e),cu(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var a=i;i=function(){var e=Uu(l);a.call(e)}}var l=Vu(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[gr]=l.current,Hi(8===e.nodeType?e.parentNode:e),cu((function(){Wu(t,l,n,i)})),l}(n,t,e,r,i);return Uu(s)}Yu.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wu(e,t,null,null)},Yu.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Wu(null,e,null,null)})),t[gr]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kt.length&&0!==t&&t<kt[n].priority;n++);kt.splice(n,0,e),0===n&&Nt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),iu(t,Ze()),0===(6&Pl)&&(Hl=Ze()+500,Hr()))}break;case 13:cu((function(){var t=Lo(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),$u(e,1)}},St=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nu(t,e,134217728,eu());$u(e,134217728)}},xt=function(e){if(13===e.tag){var t=tu(e),n=Lo(e,t);if(null!==n)nu(n,e,t,eu());$u(e,t)}},Mt=function(){return wt},_t=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=br(i);if(!r)throw Error(o(90));K(i),Q(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=uu,Te=cu;var ec={usingClientEntryPoint:!1,Events:[wr,Cr,br,Re,De,uu]},tc={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=je(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{rt=ic.inject(nc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(o(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xu(e))throw Error(o(299));var n=!1,i="",r=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Vu(e,1,!1,null,0,n,0,i,r),e[gr]=t.current,Hi(8===e.nodeType?e.parentNode:e),new qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=je(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(o(200));return Ju(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,s="",a=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,r,0,s,a),e[gr]=t.current,Hi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Yu(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(o(200));return Ju(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){Ju(null,null,e,!1,(function(){e._reactRootContainer=null,e[gr]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Ju(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var i=n(7950);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},1153:(e,t,n)=>{"use strict";var i=n(5043),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var i,o={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:u,ref:c,props:o,_owner:a.current}}t.jsx=u,t.jsxs=u},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var C=w.prototype=new y;C.constructor=w,f(C,v.prototype),C.isPureReactComponent=!0;var b=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,i){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&!M.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:x.current}}function R(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var D=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,r,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return s=s(l=e),e=""===o?"."+P(l,0):o,b(s)?(r="",null!=e&&(r=e.replace(D,"$&/")+"/"),T(s,t,r,"",(function(e){return e}))):null!=s&&(R(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(D,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",b(e))for(var u=0;u<e.length;u++){var c=o+P(a=e[u],u);l+=T(a,t,r,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=T(a=a.value,t,r,c=o+P(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var i=[],r=0;return T(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function E(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},k={transition:null},F={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:k,ReactCurrentOwner:x};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!R(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=L,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!M.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:r,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=R,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.transition;k.transition={};try{e()}finally{k.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<r&&0>o(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[a]=n,i=a);else{if(!(u<r&&0>o(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,p=3,g=!1,f=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function C(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function b(e){if(m=!1,C(e),!f)if(null!==i(u))f=!0,k(S);else{var t=i(c);null!==t&&F(b,t.startTime-e)}}function S(e,n){f=!1,m&&(m=!1,y(R),R=-1),g=!0;var o=p;try{for(C(n),h=i(u);null!==h&&(!(h.expirationTime>n)||e&&!T());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===i(u)&&r(u),C(n)}else r(u);h=i(u)}if(null!==h)var l=!0;else{var d=i(c);null!==d&&F(b,d.startTime-n),l=!1}return l}finally{h=null,p=o,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,M=!1,_=null,R=-1,D=5,P=-1;function T(){return!(t.unstable_now()-P<D)}function A(){if(null!==_){var e=t.unstable_now();P=e;var n=!0;try{n=_(!0,e)}finally{n?x():(M=!1,_=null)}}else M=!1}if("function"===typeof w)x=function(){w(A)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,I=E.port2;E.port1.onmessage=A,x=function(){I.postMessage(null)}}else x=function(){v(A,0)};function k(e){_=e,M||(M=!0,x())}function F(e,n){R=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||g||(f=!0,k(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===i(u)&&e===i(c)&&(m?(y(R),R=-1):m=!0,F(b,o-s))):(e.sortIndex=a,n(u,e),f||g||(f=!0,k(S))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},3895:(e,t,n)=>{"use strict";var i=n(5043);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=i.useRef,a=i.useEffect,l=i.useMemo,u=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,c){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=l((function(){function e(e){if(!a){if(a=!0,o=e,e=i(e),void 0!==c&&h.hasValue){var t=h.value;if(c(t,e))return s=t}return s=e}if(t=s,r(o,e))return t;var n=i(e);return void 0!==c&&c(t,n)?t:(o=e,s=n)}var o,s,a=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,i,c]);var p=o(e,d[0],d[1]);return a((function(){h.hasValue=!0,h.value=p}),[p]),u(p),p}},7237:(e,t,n)=>{"use strict";e.exports=n(3895)},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},8168:(e,t,n)=>{"use strict";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(null,arguments)}n.d(t,{A:()=>i})},8587:(e,t,n)=>{"use strict";function i(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}n.d(t,{A:()=>i})}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>i[e]));return s.default=()=>i,n.d(o,s),o}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Hr,hasStandardBrowserEnv:()=>Wr,hasStandardBrowserWebWorkerEnv:()=>jr,origin:()=>$r});var t={};n.r(t),n.d(t,{Arc:()=>RE,BezierCurve:()=>xE,BoundingRect:()=>Uv,Circle:()=>GA,CompoundPath:()=>PE,Ellipse:()=>HA,Group:()=>eb,Image:()=>Zx,IncrementalDisplayable:()=>HE,Line:()=>yE,LinearGradient:()=>EE,OrientedBoundingRect:()=>GE,Path:()=>Ux,Point:()=>Fv,Polygon:()=>dE,Polyline:()=>gE,RadialGradient:()=>kE,Rect:()=>oM,Ring:()=>aE,Sector:()=>rE,Text:()=>bM,applyTransform:()=>sI,clipPointsByRect:()=>cI,clipRectByRect:()=>dI,createIcon:()=>hI,extendPath:()=>qE,extendShape:()=>$E,getShapeClass:()=>XE,getTransform:()=>oI,groupTransition:()=>uI,initProps:()=>P_,isElementRemoved:()=>T_,lineLineIntersect:()=>gI,linePolygonIntersect:()=>pI,makeImage:()=>QE,makePath:()=>ZE,mergePath:()=>eI,registerShape:()=>YE,removeElement:()=>A_,removeElementWithFadeOut:()=>I_,resizePath:()=>tI,setTooltipConfig:()=>mI,subPixelOptimize:()=>rI,subPixelOptimizeLine:()=>nI,subPixelOptimizeRect:()=>iI,transformDirection:()=>aI,traverseElements:()=>yI,updateProps:()=>D_});var i,r=n(4391),o=n(5043),s=n.t(o,2),a=n(7950),l=n.t(a,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(JA){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function g(e,t,n,i){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function v(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,a=o.history,l=i.Pop,h=null,m=v();function v(){return(a.state||{idx:null}).idx}function y(){l=i.Pop;let e=v(),t=null==e?null:e-m;m=e,h&&h({action:l,location:C.location,delta:t})}function w(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,a.replaceState(u({},a.state,{idx:m}),""));let C={get action(){return l},get location(){return e(o,a)},listen(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(c,y),h=e,()=>{o.removeEventListener(c,y),h=null}},createHref:e=>t(o,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=i.Push;let r=g(C.location,e,t);n&&n(r,e),m=v()+1;let u=p(r,m),c=C.createHref(r);try{a.pushState(u,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;o.location.assign(c)}s&&h&&h({action:l,location:C.location,delta:1})},replace:function(e,t){l=i.Replace;let r=g(C.location,e,t);n&&n(r,e),m=v();let o=p(r,m),u=C.createHref(r);a.replaceState(o,"",u),s&&h&&h({action:l,location:C.location,delta:0})},go:e=>a.go(e)};return C}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));const w=new Set(["lazy","caseSensitive","path","id","index","children"]);function C(e,t,n,i){return void 0===n&&(n=[]),void 0===i&&(i={}),e.map(((e,r)=>{let o=[...n,String(r)],s="string"===typeof e.id?e.id:o.join("-");if(d(!0!==e.index||!e.children,"Cannot specify children on an index route"),d(!i[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=u({},e,t(e),{id:s});return i[s]=n,n}{let n=u({},e,t(e),{id:s,children:void 0});return i[s]=n,e.children&&(n.children=C(e.children,t,o,i)),n}}))}function b(e,t,n){return void 0===n&&(n="/"),S(e,t,n,!1)}function S(e,t,n,i){let r=O(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let o=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=L(r);s=k(o[a],e,i)}return s}function x(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(d(s.relativePath.startsWith(i),'Absolute route path "'+s.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(i.length));let a=z([i,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),x(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:I(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of M(e.path))r(e,t,i);else r(e,t)})),t}function M(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===i.length)return r?[o,""]:[o];let s=M(i.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),r&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,R=3,D=2,P=1,T=10,A=-2,E=e=>"*"===e;function I(e,t){let n=e.split("/"),i=n.length;return n.some(E)&&(i+=A),t&&(i+=D),n.filter((e=>!E(e))).reduce(((e,t)=>e+(_.test(t)?R:""===t?P:T)),i)}function k(e,t,n){void 0===n&&(n=!1);let{routesMeta:i}=e,r={},o="/",s=[];for(let a=0;a<i.length;++a){let e=i[a],l=a===i.length-1,u="/"===o?t:t.slice(o.length)||"/",c=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!i[i.length-1].route.index&&(c=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(r,c.params),s.push({params:r,pathname:z([o,c.pathname]),pathnameBase:H(z([o,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(o=z([o,c.pathnameBase]))}return s}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let o=new RegExp(r,t?void 0:"i");return[o,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce(((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function L(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function N(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function B(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function G(e,t){let n=B(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function V(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=m(e):(r=u({},e),d(!r.pathname||!r.pathname.includes("?"),N("?","pathname","search",r)),d(!r.pathname||!r.pathname.includes("#"),N("#","pathname","hash",r)),d(!r.search||!r.search.includes("#"),N("#","search","hash",r)));let o,s=""===e||""===r.pathname,a=s?"/":r.pathname;if(null==a)o=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?m(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:W(i),hash:U(r)}}(r,o),c=a&&"/"!==a&&a.endsWith("/"),h=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!h||(l.pathname+="/"),l}const z=e=>e.join("/").replace(/\/\/+/g,"/"),H=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class j{constructor(e,t,n,i){void 0===i&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const K=["post","put","patch","delete"],q=new Set(K),Y=["get",...K],X=new Set(Y),Z=new Set([301,302,303,307,308]),Q=new Set([307,308]),J={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ee={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},te={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ie=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),re="remix-router-transitions";function oe(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,r=!n;let o;if(d(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;o=e=>({hasErrorBoundary:t(e)})}else o=ie;let s,a,l,c={},p=C(e.routes,o,void 0,c),f=e.basename||"/",m=e.unstable_dataStrategy||fe,v=e.unstable_patchRoutesOnMiss,w=u({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),x=null,M=new Set,_=null,R=null,D=null,P=null!=e.hydrationData,T=b(p,e.history.location,f),A=null;if(null==T&&!v){let t=Te(404,{pathname:e.history.location.pathname}),{matches:n,route:i}=Pe(p);T=n,A={[i.id]:t}}if(T&&!e.hydrationData){ut(T,p,e.history.location.pathname).active&&(T=null)}if(T)if(T.some((e=>e.route.lazy)))a=!1;else if(T.some((e=>e.route.loader)))if(w.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null,i=e=>!e.route.loader||("function"!==typeof e.route.loader||!0!==e.route.loader.hydrate)&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id]);if(n){let e=T.findIndex((e=>void 0!==n[e.route.id]));a=T.slice(0,e+1).every(i)}else a=T.every(i)}else a=null!=e.hydrationData;else a=!0;else if(a=!1,T=[],w.v7_partialHydration){let t=ut(null,p,e.history.location.pathname);t.active&&t.matches&&(T=t.matches)}let E,I={historyAction:e.history.action,location:e.history.location,matches:T,initialized:a,navigation:J,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},k=i.Pop,F=!1,L=!1,N=new Map,B=null,G=!1,V=!1,z=[],H=new Set,W=new Map,U=0,j=-1,K=new Map,q=new Set,Y=new Map,X=new Map,Z=new Set,oe=new Map,le=new Map,ce=new Map,de=!1;function ge(e,t){void 0===t&&(t={}),I=u({},I,e);let n=[],i=[];w.v7_fetcherPersist&&I.fetchers.forEach(((e,t)=>{"idle"===e.state&&(Z.has(t)?i.push(t):n.push(t))})),[...M].forEach((e=>e(I,{deletedFetchers:i,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),w.v7_fetcherPersist&&(n.forEach((e=>I.fetchers.delete(e))),i.forEach((e=>Xe(e))))}function be(t,n,r){var o,a;let l,{flushSync:c}=void 0===r?{}:r,d=null!=I.actionData&&null!=I.navigation.formMethod&&Ge(I.navigation.formMethod)&&"loading"===I.navigation.state&&!0!==(null==(o=t.state)?void 0:o._isRedirect);l=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:d?I.actionData:null;let h=n.loaderData?_e(I.loaderData,n.loaderData,n.matches||[],n.errors):I.loaderData,g=I.blockers;g.size>0&&(g=new Map(g),g.forEach(((e,t)=>g.set(t,te))));let f,m=!0===F||null!=I.navigation.formMethod&&Ge(I.navigation.formMethod)&&!0!==(null==(a=t.state)?void 0:a._isRedirect);if(s&&(p=s,s=void 0),G||k===i.Pop||(k===i.Push?e.history.push(t,t.state):k===i.Replace&&e.history.replace(t,t.state)),k===i.Pop){let e=N.get(I.location.pathname);e&&e.has(t.pathname)?f={currentLocation:I.location,nextLocation:t}:N.has(t.pathname)&&(f={currentLocation:t,nextLocation:I.location})}else if(L){let e=N.get(I.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),N.set(I.location.pathname,e)),f={currentLocation:I.location,nextLocation:t}}ge(u({},n,{actionData:l,loaderData:h,historyAction:k,location:t,initialized:!0,navigation:J,revalidation:"idle",restoreScrollPosition:lt(t,n.matches||I.matches),preventScrollReset:m,blockers:g}),{viewTransitionOpts:f,flushSync:!0===c}),k=i.Pop,F=!1,L=!1,G=!1,V=!1,z=[]}async function Se(t,n,r){E&&E.abort(),E=null,k=t,G=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(_&&D){let n=at(e,t);_[n]=D()}}(I.location,I.matches),F=!0===(r&&r.preventScrollReset),L=!0===(r&&r.enableViewTransition);let o=s||p,a=r&&r.overrideNavigation,l=b(o,n,f),c=!0===(r&&r.flushSync),d=ut(l,o,n.pathname);if(d.active&&d.matches&&(l=d.matches),!l){let{error:e,notFoundMatches:t,route:i}=rt(n.pathname);return void be(n,{matches:t,loaderData:{},errors:{[i.id]:e}},{flushSync:c})}if(I.initialized&&!V&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(I.location,n)&&!(r&&r.submission&&Ge(r.submission.formMethod)))return void be(n,{matches:l},{flushSync:c});E=new AbortController;let h,g=Ce(e.history,n,E.signal,r&&r.submission);if(r&&r.pendingError)h=[De(l).route.id,{type:y.error,error:r.pendingError}];else if(r&&r.submission&&Ge(r.submission.formMethod)){let t=await async function(e,t,n,r,o,s){void 0===s&&(s={});Be();let a,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(ge({navigation:l},{flushSync:!0===s.flushSync}),o){let n=await ct(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let{boundaryId:e,error:i}=ot(t.pathname,n);return{matches:n.partialMatches,pendingActionResult:[e,{type:y.error,error:i}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:i}=rt(t.pathname);return{matches:e,pendingActionResult:[i.id,{type:y.error,error:n}]}}r=n.matches}let u=We(r,t);if(u.route.action||u.route.lazy){if(a=(await Oe("action",e,[u],r))[0],e.signal.aborted)return{shortCircuited:!0}}else a={type:y.error,error:Te(405,{method:e.method,pathname:t.pathname,routeId:u.route.id})};if(Le(a)){let t;if(s&&null!=s.replace)t=s.replace;else{t=we(a.response.headers.get("Location"),new URL(e.url),f)===I.location.pathname+I.location.search}return await Ee(e,a,{submission:n,replace:t}),{shortCircuited:!0}}if(ke(a))throw Te(400,{type:"defer-action"});if(Fe(a)){let e=De(r,u.route.id);return!0!==(s&&s.replace)&&(k=i.Push),{matches:r,pendingActionResult:[e.route.id,a]}}return{matches:r,pendingActionResult:[u.route.id,a]}}(g,n,r.submission,l,d.active,{replace:r.replace,flushSync:c});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,i]=t.pendingActionResult;if(Fe(i)&&$(i.error)&&404===i.error.status)return E=null,void be(n,{matches:t.matches,loaderData:{},errors:{[e]:i.error}})}l=t.matches||l,h=t.pendingActionResult,a=je(n,r.submission),c=!1,d.active=!1,g=Ce(e.history,g.url,g.signal)}let{shortCircuited:m,matches:v,loaderData:C,errors:S}=await async function(t,n,i,r,o,a,l,c,d,h,g){let m=o||je(n,a),v=a||l||Ue(m),y=!G&&(!w.v7_partialHydration||!d);if(r){if(y){let e=xe(g);ge(u({navigation:m},void 0!==e?{actionData:e}:{}),{flushSync:h})}let e=await ct(i,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let{boundaryId:t,error:i}=ot(n.pathname,e);return{matches:e.partialMatches,loaderData:{},errors:{[t]:i}}}if(!e.matches){let{error:e,notFoundMatches:t,route:i}=rt(n.pathname);return{matches:t,loaderData:{},errors:{[i.id]:e}}}i=e.matches}let C=s||p,[b,S]=ue(e.history,I,i,v,n,w.v7_partialHydration&&!0===d,w.v7_skipActionErrorRevalidation,V,z,H,Z,Y,q,C,f,g);if(st((e=>!(i&&i.some((t=>t.route.id===e)))||b&&b.some((t=>t.route.id===e)))),j=++U,0===b.length&&0===S.length){let e=Je();return be(n,u({matches:i,loaderData:{},errors:g&&Fe(g[1])?{[g[0]]:g[1].error}:null},Re(g),e?{fetchers:new Map(I.fetchers)}:{}),{flushSync:h}),{shortCircuited:!0}}if(y){let e={};if(!r){e.navigation=m;let t=xe(g);void 0!==t&&(e.actionData=t)}S.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=I.fetchers.get(e.key),n=$e(void 0,t?t.data:void 0);I.fetchers.set(e.key,n)})),new Map(I.fetchers)}(S)),ge(e,{flushSync:h})}S.forEach((e=>{W.has(e.key)&&Ze(e.key),e.controller&&W.set(e.key,e.controller)}));let x=()=>S.forEach((e=>Ze(e.key)));E&&E.signal.addEventListener("abort",x);let{loaderResults:M,fetcherResults:_}=await Ne(I.matches,i,b,S,t);if(t.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",x);S.forEach((e=>W.delete(e.key)));let R=Ae([...M,..._]);if(R){if(R.idx>=b.length){let e=S[R.idx-b.length].key;q.add(e)}return await Ee(t,R.result,{replace:c}),{shortCircuited:!0}}let{loaderData:D,errors:P}=Me(I,i,b,M,g,S,_,oe);oe.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&oe.delete(t)}))})),w.v7_partialHydration&&d&&I.errors&&Object.entries(I.errors).filter((e=>{let[t]=e;return!b.some((e=>e.route.id===t))})).forEach((e=>{let[t,n]=e;P=Object.assign(P||{},{[t]:n})}));let T=Je(),A=et(j),k=T||A||S.length>0;return u({matches:i,loaderData:D,errors:P},k?{fetchers:new Map(I.fetchers)}:{})}(g,n,l,d.active,a,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,r&&!0===r.initialHydration,c,h);m||(E=null,be(n,u({matches:v||l},Re(h),{loaderData:C,errors:S})))}function xe(e){return e&&!Fe(e[1])?{[e[0]]:e[1].data}:I.actionData?0===Object.keys(I.actionData).length?null:I.actionData:void 0}async function Ee(r,o,s){let{submission:a,fetcherSubmission:l,replace:c}=void 0===s?{}:s;o.response.headers.has("X-Remix-Revalidate")&&(V=!0);let h=o.response.headers.get("Location");d(h,"Expected a Location header on the redirect Response"),h=we(h,new URL(r.url),f);let p=g(I.location,h,{_isRedirect:!0});if(n){let n=!1;if(o.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(ne.test(h)){const i=e.history.createURL(h);n=i.origin!==t.location.origin||null==O(i.pathname,f)}if(n)return void(c?t.location.replace(h):t.location.assign(h))}E=null;let m=!0===c||o.response.headers.has("X-Remix-Replace")?i.Replace:i.Push,{formMethod:v,formAction:y,formEncType:w}=I.navigation;!a&&!l&&v&&y&&w&&(a=Ue(I.navigation));let C=a||l;if(Q.has(o.response.status)&&C&&Ge(C.formMethod))await Se(m,p,{submission:u({},C,{formAction:h}),preventScrollReset:F});else{let e=je(p,a);await Se(m,p,{overrideNavigation:e,fetcherSubmission:l,preventScrollReset:F})}}async function Oe(e,t,n,i){try{let r=await me(m,e,t,n,i,c,o);return await Promise.all(r.map(((e,r)=>{if(Ie(e)){let o=e.result;return{type:y.redirect,response:ye(o,t,n[r].route.id,i,f,w.v7_relativeSplatPath)}}return ve(e)})))}catch(JA){return n.map((()=>({type:y.error,error:JA})))}}async function Ne(t,n,i,r,o){let[s,...a]=await Promise.all([i.length?Oe("loader",o,i,n):[],...r.map((t=>{if(t.matches&&t.match&&t.controller){return Oe("loader",Ce(e.history,t.path,t.controller.signal),[t.match],t.matches).then((e=>e[0]))}return Promise.resolve({type:y.error,error:Te(404,{pathname:t.path})})}))]);return await Promise.all([Ve(t,i,s,s.map((()=>o.signal)),!1,I.loaderData),Ve(t,r.map((e=>e.match)),a,r.map((e=>e.controller?e.controller.signal:null)),!0)]),{loaderResults:s,fetcherResults:a}}function Be(){V=!0,z.push(...st()),Y.forEach(((e,t)=>{W.has(t)&&(H.add(t),Ze(t))}))}function He(e,t,n){void 0===n&&(n={}),I.fetchers.set(e,t),ge({fetchers:new Map(I.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function qe(e,t,n,i){void 0===i&&(i={});let r=De(I.matches,t);Xe(e),ge({errors:{[r.route.id]:n},fetchers:new Map(I.fetchers)},{flushSync:!0===(i&&i.flushSync)})}function Ye(e){return w.v7_fetcherPersist&&(X.set(e,(X.get(e)||0)+1),Z.has(e)&&Z.delete(e)),I.fetchers.get(e)||ee}function Xe(e){let t=I.fetchers.get(e);!W.has(e)||t&&"loading"===t.state&&K.has(e)||Ze(e),Y.delete(e),K.delete(e),q.delete(e),Z.delete(e),H.delete(e),I.fetchers.delete(e)}function Ze(e){let t=W.get(e);d(t,"Expected fetch controller: "+e),t.abort(),W.delete(e)}function Qe(e){for(let t of e){let e=Ke(Ye(t).data);I.fetchers.set(t,e)}}function Je(){let e=[],t=!1;for(let n of q){let i=I.fetchers.get(n);d(i,"Expected fetcher: "+n),"loading"===i.state&&(q.delete(n),e.push(n),t=!0)}return Qe(e),t}function et(e){let t=[];for(let[n,i]of K)if(i<e){let e=I.fetchers.get(n);d(e,"Expected fetcher: "+n),"loading"===e.state&&(Ze(n),K.delete(n),t.push(n))}return Qe(t),t.length>0}function tt(e){I.blockers.delete(e),le.delete(e)}function nt(e,t){let n=I.blockers.get(e)||te;d("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let i=new Map(I.blockers);i.set(e,t),ge({blockers:i})}function it(e){let{currentLocation:t,nextLocation:n,historyAction:i}=e;if(0===le.size)return;le.size>1&&h(!1,"A router only supports one blocker at a time");let r=Array.from(le.entries()),[o,s]=r[r.length-1],a=I.blockers.get(o);return a&&"proceeding"===a.state?void 0:s({currentLocation:t,nextLocation:n,historyAction:i})?o:void 0}function rt(e){let t=Te(404,{pathname:e}),n=s||p,{matches:i,route:r}=Pe(n);return st(),{notFoundMatches:i,route:r,error:t}}function ot(e,t){return{boundaryId:De(t.partialMatches).route.id,error:Te(400,{type:"route-discovery",pathname:e,message:null!=t.error&&"message"in t.error?t.error:String(t.error)})}}function st(e){let t=[];return oe.forEach(((n,i)=>{e&&!e(i)||(n.cancel(),t.push(i),oe.delete(i))})),t}function at(e,t){if(R){let n=R(e,t.map((e=>function(e,t){let{route:n,pathname:i,params:r}=e;return{id:n.id,pathname:i,params:r,data:t[n.id],handle:n.handle}}(e,I.loaderData))));return n||e.key}return e.key}function lt(e,t){if(_){let n=at(e,t),i=_[n];if("number"===typeof i)return i}return null}function ut(e,t,n){if(v){if(!e){return{active:!0,matches:S(t,n,f,!0)||[]}}{let i=e[e.length-1].route;if(i.path&&("*"===i.path||i.path.endsWith("/*"))){return{active:!0,matches:S(t,n,f,!0)}}}}return{active:!1,matches:null}}async function ct(e,t,n){let i=e,r=i.length>0?i[i.length-1].route:null;for(;;){let e=null==s,a=s||p;try{await he(v,t,i,a,c,o,ce,n)}catch(JA){return{type:"error",error:JA,partialMatches:i}}finally{e&&(p=[...p])}if(n.aborted)return{type:"aborted"};let l=b(a,t,f),u=!1;if(l){let e=l[l.length-1].route;if(e.index)return{type:"success",matches:l};if(e.path&&e.path.length>0){if("*"!==e.path)return{type:"success",matches:l};u=!0}}let d=S(a,t,f,!0);if(!d||i.map((e=>e.route.id)).join("-")===d.map((e=>e.route.id)).join("-"))return{type:"success",matches:u?l:null};if(i=d,r=i[i.length-1].route,"*"===r.path)return{type:"success",matches:i}}}return l={get basename(){return f},get future(){return w},get state(){return I},get routes(){return p},get window(){return t},initialize:function(){if(x=e.history.listen((t=>{let{action:n,location:i,delta:r}=t;if(de)return void(de=!1);h(0===le.size||null!=r,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=it({currentLocation:I.location,nextLocation:i,historyAction:n});return o&&null!=r?(de=!0,e.history.go(-1*r),void nt(o,{state:"blocked",location:i,proceed(){nt(o,{state:"proceeding",proceed:void 0,reset:void 0,location:i}),e.history.go(r)},reset(){let e=new Map(I.blockers);e.set(o,te),ge({blockers:e})}})):Se(n,i)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(re);if(n){let e=JSON.parse(n);for(let[n,i]of Object.entries(e||{}))i&&Array.isArray(i)&&t.set(n,new Set(i||[]))}}catch(JA){}}(t,N);let e=()=>function(e,t){if(t.size>0){let i={};for(let[e,n]of t)i[e]=[...n];try{e.sessionStorage.setItem(re,JSON.stringify(i))}catch(n){h(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(t,N);t.addEventListener("pagehide",e),B=()=>t.removeEventListener("pagehide",e)}return I.initialized||Se(i.Pop,I.location,{initialHydration:!0}),l},subscribe:function(e){return M.add(e),()=>M.delete(e)},enableScrollRestoration:function(e,t,n){if(_=e,D=t,R=n||null,!P&&I.navigation===J){P=!0;let e=lt(I.location,I.matches);null!=e&&ge({restoreScrollPosition:e})}return()=>{_=null,D=null,R=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let o=se(I.location,I.matches,f,w.v7_prependBasename,n,w.v7_relativeSplatPath,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:s,submission:a,error:l}=ae(w.v7_normalizeFormMethod,!1,o,r),c=I.location,d=g(I.location,s,r&&r.state);d=u({},d,e.history.encodeLocation(d));let h=r&&null!=r.replace?r.replace:void 0,p=i.Push;!0===h?p=i.Replace:!1===h||null!=a&&Ge(a.formMethod)&&a.formAction===I.location.pathname+I.location.search&&(p=i.Replace);let m=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,v=!0===(r&&r.unstable_flushSync),y=it({currentLocation:c,nextLocation:d,historyAction:p});if(!y)return await Se(p,d,{submission:a,pendingError:l,preventScrollReset:m,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition,flushSync:v});nt(y,{state:"blocked",location:d,proceed(){nt(y,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),t(n,r)},reset(){let e=new Map(I.blockers);e.set(y,te),ge({blockers:e})}})},fetch:function(t,n,i,o){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");W.has(t)&&Ze(t);let a=!0===(o&&o.unstable_flushSync),l=s||p,u=se(I.location,I.matches,f,w.v7_prependBasename,i,w.v7_relativeSplatPath,n,null==o?void 0:o.relative),c=b(l,u,f),h=ut(c,l,u);if(h.active&&h.matches&&(c=h.matches),!c)return void qe(t,n,Te(404,{pathname:u}),{flushSync:a});let{path:g,submission:m,error:v}=ae(w.v7_normalizeFormMethod,!0,u,o);if(v)return void qe(t,n,v,{flushSync:a});let y=We(c,g);F=!0===(o&&o.preventScrollReset),m&&Ge(m.formMethod)?async function(t,n,i,r,o,a,l,u){function c(e){if(!e.route.action&&!e.route.lazy){let e=Te(405,{method:u.formMethod,pathname:i,routeId:n});return qe(t,n,e,{flushSync:l}),!0}return!1}if(Be(),Y.delete(t),!a&&c(r))return;let h=I.fetchers.get(t);He(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(u,h),{flushSync:l});let g=new AbortController,m=Ce(e.history,i,g.signal,u);if(a){let e=await ct(o,i,m.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:r}=ot(i,e);return void qe(t,n,r,{flushSync:l})}if(!e.matches)return void qe(t,n,Te(404,{pathname:i}),{flushSync:l});if(c(r=We(o=e.matches,i)))return}W.set(t,g);let v=U,y=await Oe("action",m,[r],o),C=y[0];if(m.signal.aborted)return void(W.get(t)===g&&W.delete(t));if(w.v7_fetcherPersist&&Z.has(t)){if(Le(C)||Fe(C))return void He(t,Ke(void 0))}else{if(Le(C))return W.delete(t),j>v?void He(t,Ke(void 0)):(q.add(t),He(t,$e(u)),Ee(m,C,{fetcherSubmission:u}));if(Fe(C))return void qe(t,n,C.error)}if(ke(C))throw Te(400,{type:"defer-action"});let S=I.navigation.location||I.location,x=Ce(e.history,S,g.signal),M=s||p,_="idle"!==I.navigation.state?b(M,I.navigation.location,f):I.matches;d(_,"Didn't find any matches after fetcher action");let R=++U;K.set(t,R);let D=$e(u,C.data);I.fetchers.set(t,D);let[P,T]=ue(e.history,I,_,u,S,!1,w.v7_skipActionErrorRevalidation,V,z,H,Z,Y,q,M,f,[r.route.id,C]);T.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=I.fetchers.get(t),i=$e(void 0,n?n.data:void 0);I.fetchers.set(t,i),W.has(t)&&Ze(t),e.controller&&W.set(t,e.controller)})),ge({fetchers:new Map(I.fetchers)});let A=()=>T.forEach((e=>Ze(e.key)));g.signal.addEventListener("abort",A);let{loaderResults:F,fetcherResults:L}=await Ne(I.matches,_,P,T,x);if(g.signal.aborted)return;g.signal.removeEventListener("abort",A),K.delete(t),W.delete(t),T.forEach((e=>W.delete(e.key)));let O=Ae([...F,...L]);if(O){if(O.idx>=P.length){let e=T[O.idx-P.length].key;q.add(e)}return Ee(x,O.result)}let{loaderData:N,errors:B}=Me(I,I.matches,P,F,void 0,T,L,oe);if(I.fetchers.has(t)){let e=Ke(C.data);I.fetchers.set(t,e)}et(R),"loading"===I.navigation.state&&R>j?(d(k,"Expected pending action"),E&&E.abort(),be(I.navigation.location,{matches:_,loaderData:N,errors:B,fetchers:new Map(I.fetchers)})):(ge({errors:B,loaderData:_e(I.loaderData,N,_,B),fetchers:new Map(I.fetchers)}),V=!1)}(t,n,g,y,c,h.active,a,m):(Y.set(t,{routeId:n,path:g}),async function(t,n,i,r,o,s,a,l){let u=I.fetchers.get(t);He(t,$e(l,u?u.data:void 0),{flushSync:a});let c=new AbortController,h=Ce(e.history,i,c.signal);if(s){let e=await ct(o,i,h.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:r}=ot(i,e);return void qe(t,n,r,{flushSync:a})}if(!e.matches)return void qe(t,n,Te(404,{pathname:i}),{flushSync:a});r=We(o=e.matches,i)}W.set(t,c);let p=U,g=await Oe("loader",h,[r],o),f=g[0];ke(f)&&(f=await ze(f,h.signal,!0)||f);W.get(t)===c&&W.delete(t);if(h.signal.aborted)return;if(Z.has(t))return void He(t,Ke(void 0));if(Le(f))return j>p?void He(t,Ke(void 0)):(q.add(t),void await Ee(h,f));if(Fe(f))return void qe(t,n,f.error);d(!ke(f),"Unhandled fetcher deferred data"),He(t,Ke(f.data))}(t,n,g,y,c,h.active,a,m))},revalidate:function(){Be(),ge({revalidation:"loading"}),"submitting"!==I.navigation.state&&("idle"!==I.navigation.state?Se(k||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation}):Se(I.historyAction,I.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Ye,deleteFetcher:function(e){if(w.v7_fetcherPersist){let t=(X.get(e)||0)-1;t<=0?(X.delete(e),Z.add(e)):X.set(e,t)}else Xe(e);ge({fetchers:new Map(I.fetchers)})},dispose:function(){x&&x(),B&&B(),M.clear(),E&&E.abort(),I.fetchers.forEach(((e,t)=>Xe(t))),I.blockers.forEach(((e,t)=>tt(t)))},getBlocker:function(e,t){let n=I.blockers.get(e)||te;return le.get(e)!==t&&le.set(e,t),n},deleteBlocker:tt,patchRoutes:function(e,t){let n=null==s;pe(e,t,s||p,c,o),n&&(p=[...p],ge({}))},_internalFetchControllers:W,_internalActiveDeferreds:oe,_internalSetRoutes:function(e){c={},s=C(e,o,void 0,c)}},l}Symbol("deferred");function se(e,t,n,i,r,o,s,a){let l,u;if(s){l=[];for(let e of t)if(l.push(e),e.route.id===s){u=e;break}}else l=t,u=t[t.length-1];let c=V(r||".",G(l,o),O(e.pathname,n)||e.pathname,"path"===a);return null==r&&(c.search=e.search,c.hash=e.hash),null!=r&&""!==r&&"."!==r||!u||!u.route.index||He(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i&&"/"!==n&&(c.pathname="/"===c.pathname?n:z([n,c.pathname])),f(c)}function ae(e,t,n,i){if(!i||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(i))return{path:n};if(i.formMethod&&!Be(i.formMethod))return{path:n,error:Te(405,{method:i.formMethod})};let r,o,s=()=>({path:n,error:Te(400,{type:"invalid-body"})}),a=i.formMethod||"get",l=e?a.toUpperCase():a.toLowerCase(),u=Ee(n);if(void 0!==i.body){if("text/plain"===i.formEncType){if(!Ge(l))return s();let e="string"===typeof i.body?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce(((e,t)=>{let[n,i]=t;return""+e+n+"="+i+"\n"}),""):String(i.body);return{path:n,submission:{formMethod:l,formAction:u,formEncType:i.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===i.formEncType){if(!Ge(l))return s();try{let e="string"===typeof i.body?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:l,formAction:u,formEncType:i.formEncType,formData:void 0,json:e,text:void 0}}}catch(JA){return s()}}}if(d("function"===typeof FormData,"FormData is not available in this environment"),i.formData)r=be(i.formData),o=i.formData;else if(i.body instanceof FormData)r=be(i.body),o=i.body;else if(i.body instanceof URLSearchParams)r=i.body,o=Se(r);else if(null==i.body)r=new URLSearchParams,o=new FormData;else try{r=new URLSearchParams(i.body),o=Se(r)}catch(JA){return s()}let c={formMethod:l,formAction:u,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(Ge(c.formMethod))return{path:n,submission:c};let h=m(n);return t&&h.search&&He(h.search)&&r.append("index",""),h.search="?"+r,{path:f(h),submission:c}}function le(e,t){let n=e;if(t){let i=e.findIndex((e=>e.route.id===t));i>=0&&(n=e.slice(0,i))}return n}function ue(e,t,n,i,r,o,s,a,l,c,d,h,p,g,f,m){let v=m?Fe(m[1])?m[1].error:m[1].data:void 0,y=e.createURL(t.location),w=e.createURL(r),C=m&&Fe(m[1])?m[0]:void 0,S=C?le(n,C):n,x=m?m[1].statusCode:void 0,M=s&&x&&x>=400,_=S.filter(((e,n)=>{let{route:r}=e;if(r.lazy)return!0;if(null==r.loader)return!1;if(o)return!("function"===typeof r.loader&&!r.loader.hydrate)||void 0===t.loaderData[r.id]&&(!t.errors||void 0===t.errors[r.id]);if(function(e,t,n){let i=!t||n.route.id!==t.route.id,r=void 0===e[n.route.id];return i||r}(t.loaderData,t.matches[n],e)||l.some((t=>t===e.route.id)))return!0;let s=t.matches[n],c=e;return de(e,u({currentUrl:y,currentParams:s.params,nextUrl:w,nextParams:c.params},i,{actionResult:v,actionStatus:x,defaultShouldRevalidate:!M&&(a||y.pathname+y.search===w.pathname+w.search||y.search!==w.search||ce(s,c))}))})),R=[];return h.forEach(((e,r)=>{if(o||!n.some((t=>t.route.id===e.routeId))||d.has(r))return;let s=b(g,e.path,f);if(!s)return void R.push({key:r,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(r),h=We(s,e.path),m=!1;p.has(r)?m=!1:c.has(r)?(c.delete(r),m=!0):m=l&&"idle"!==l.state&&void 0===l.data?a:de(h,u({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},i,{actionResult:v,actionStatus:x,defaultShouldRevalidate:!M&&a})),m&&R.push({key:r,routeId:e.routeId,path:e.path,matches:s,match:h,controller:new AbortController})})),[_,R]}function ce(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function de(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function he(e,t,n,i,r,o,s,a){let l=[t,...n.map((e=>e.route.id))].join("-");try{let c=s.get(l);c||(c=e({path:t,matches:n,patch:(e,t)=>{a.aborted||pe(e,t,i,r,o)}}),s.set(l,c)),c&&("object"===typeof(u=c)&&null!=u&&"then"in u)&&await c}finally{s.delete(l)}var u}function pe(e,t,n,i,r){if(e){var o;let n=i[e];d(n,"No route found to patch children into: routeId = "+e);let s=C(t,r,[e,"patch",String((null==(o=n.children)?void 0:o.length)||"0")],i);n.children?n.children.push(...s):n.children=s}else{let e=C(t,r,["patch",String(n.length||"0")],i);n.push(...e)}}async function ge(e,t,n){if(!e.lazy)return;let i=await e.lazy();if(!e.lazy)return;let r=n[e.id];d(r,"No route found in manifest");let o={};for(let s in i){let e=void 0!==r[s]&&"hasErrorBoundary"!==s;h(!e,'Route "'+r.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),e||w.has(s)||(o[s]=i[s])}Object.assign(r,o),Object.assign(r,u({},t(r),{lazy:void 0}))}function fe(e){return Promise.all(e.matches.map((e=>e.resolve())))}async function me(e,t,n,i,r,o,s,a){let l=i.reduce(((e,t)=>e.add(t.route.id)),new Set),c=new Set,h=await e({matches:r.map((e=>{let i=l.has(e.route.id);return u({},e,{shouldLoad:i,resolve:r=>(c.add(e.route.id),i?async function(e,t,n,i,r,o,s){let a,l,u=i=>{let r,a=new Promise(((e,t)=>r=t));l=()=>r(),t.signal.addEventListener("abort",l);let u,c=r=>"function"!==typeof i?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):i({request:t,params:n.params,context:s},...void 0!==r?[r]:[]);return u=o?o((e=>c(e))):(async()=>{try{return{type:"data",result:await c()}}catch(JA){return{type:"error",result:JA}}})(),Promise.race([u,a])};try{let o=n.route[e];if(n.route.lazy)if(o){let e,[t]=await Promise.all([u(o).catch((t=>{e=t})),ge(n.route,r,i)]);if(void 0!==e)throw e;a=t}else{if(await ge(n.route,r,i),o=n.route[e],!o){if("action"===e){let e=new URL(t.url),i=e.pathname+e.search;throw Te(405,{method:t.method,pathname:i,routeId:n.route.id})}return{type:y.data,result:void 0}}a=await u(o)}else{if(!o){let e=new URL(t.url);throw Te(404,{pathname:e.pathname+e.search})}a=await u(o)}d(void 0!==a.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(JA){return{type:y.error,result:JA}}finally{l&&t.signal.removeEventListener("abort",l)}return a}(t,n,e,o,s,r,a):Promise.resolve({type:y.data,result:void 0}))})})),request:n,params:r[0].params,context:a});return r.forEach((e=>d(c.has(e.route.id),'`match.resolve()` was not called for route id "'+e.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.'))),h.filter(((e,t)=>l.has(r[t].route.id)))}async function ve(e){let{result:t,type:n}=e;if(Ne(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(JA){return{type:y.error,error:JA}}return n===y.error?{type:y.error,error:new j(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:y.data,data:e,statusCode:t.status,headers:t.headers}}if(n===y.error){if(Oe(t)){var i,r;if(t.data instanceof Error)return{type:y.error,error:t.data,statusCode:null==(r=t.init)?void 0:r.status};t=new j((null==(i=t.init)?void 0:i.status)||500,void 0,t.data)}return{type:y.error,error:t,statusCode:$(t)?t.status:void 0}}var o,s,a,l;return function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(t)?{type:y.deferred,deferredData:t,statusCode:null==(o=t.init)?void 0:o.status,headers:(null==(s=t.init)?void 0:s.headers)&&new Headers(t.init.headers)}:Oe(t)?{type:y.data,data:t.data,statusCode:null==(a=t.init)?void 0:a.status,headers:null!=(l=t.init)&&l.headers?new Headers(t.init.headers):void 0}:{type:y.data,data:t}}function ye(e,t,n,i,r,o){let s=e.headers.get("Location");if(d(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!ne.test(s)){let a=i.slice(0,i.findIndex((e=>e.route.id===n))+1);s=se(new URL(t.url),a,r,!0,s,o),e.headers.set("Location",s)}return e}function we(e,t,n){if(ne.test(e)){let i=e,r=i.startsWith("//")?new URL(t.protocol+i):new URL(i),o=null!=O(r.pathname,n);if(r.origin===t.origin&&o)return r.pathname+r.search+r.hash}return e}function Ce(e,t,n,i){let r=e.createURL(Ee(t)).toString(),o={signal:n};if(i&&Ge(i.formMethod)){let{formMethod:e,formEncType:t}=i;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(i.json)):"text/plain"===t?o.body=i.text:"application/x-www-form-urlencoded"===t&&i.formData?o.body=be(i.formData):o.body=i.formData}return new Request(r,o)}function be(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,"string"===typeof i?i:i.name);return t}function Se(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function xe(e,t,n,i,r,o){let s,a={},l=null,u=!1,c={},h=i&&Fe(i[1])?i[1].error:void 0;return n.forEach(((n,i)=>{let p=t[i].route.id;if(d(!Le(n),"Cannot handle redirect results in processLoaderData"),Fe(n)){let t=n.error;if(void 0!==h&&(t=h,h=void 0),l=l||{},o)l[p]=t;else{let n=De(e,p);null==l[n.route.id]&&(l[n.route.id]=t)}a[p]=void 0,u||(u=!0,s=$(n.error)?n.error.status:500),n.headers&&(c[p]=n.headers)}else ke(n)?(r.set(p,n.deferredData),a[p]=n.deferredData.data,null==n.statusCode||200===n.statusCode||u||(s=n.statusCode),n.headers&&(c[p]=n.headers)):(a[p]=n.data,n.statusCode&&200!==n.statusCode&&!u&&(s=n.statusCode),n.headers&&(c[p]=n.headers))})),void 0!==h&&i&&(l={[i[0]]:h},a[i[0]]=void 0),{loaderData:a,errors:l,statusCode:s||200,loaderHeaders:c}}function Me(e,t,n,i,r,o,s,a){let{loaderData:l,errors:c}=xe(t,n,i,r,a,!1);for(let h=0;h<o.length;h++){let{key:t,match:n,controller:i}=o[h];d(void 0!==s&&void 0!==s[h],"Did not find corresponding fetcher result");let r=s[h];if(!i||!i.signal.aborted)if(Fe(r)){let i=De(e.matches,null==n?void 0:n.route.id);c&&c[i.route.id]||(c=u({},c,{[i.route.id]:r.error})),e.fetchers.delete(t)}else if(Le(r))d(!1,"Unhandled fetcher revalidation redirect");else if(ke(r))d(!1,"Unhandled fetcher deferred data");else{let n=Ke(r.data);e.fetchers.set(t,n)}}return{loaderData:l,errors:c}}function _e(e,t,n,i){let r=u({},t);for(let o of n){let n=o.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(r[n]=t[n]):void 0!==e[n]&&o.route.loader&&(r[n]=e[n]),i&&i.hasOwnProperty(n))break}return r}function Re(e){return e?Fe(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function De(e,t){let n=t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e];return n.reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Pe(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Te(e,t){let{pathname:n,routeId:i,method:r,type:o,message:s}=void 0===t?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(a="Bad Request","route-discovery"===o?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` function threw the following error:\n'+s:r&&n&&i?l="You made a "+r+' request to "'+n+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===o?l="defer() is not supported in actions":"invalid-body"===o&&(l="Unable to encode submission body")):403===e?(a="Forbidden",l='Route "'+i+'" does not match URL "'+n+'"'):404===e?(a="Not Found",l='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",r&&n&&i?l="You made a "+r.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':r&&(l='Invalid request method "'+r.toUpperCase()+'"')),new j(e||500,a,new Error(l),!0)}function Ae(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Le(n))return{result:n,idx:t}}}function Ee(e){return f(u({},"string"===typeof e?m(e):e,{hash:""}))}function Ie(e){return Ne(e.result)&&Z.has(e.result.status)}function ke(e){return e.type===y.deferred}function Fe(e){return e.type===y.error}function Le(e){return(e&&e.type)===y.redirect}function Oe(e){return"object"===typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function Ne(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Be(e){return X.has(e.toLowerCase())}function Ge(e){return q.has(e.toLowerCase())}async function Ve(e,t,n,i,r,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let u=e.find((e=>e.route.id===l.route.id)),c=null!=u&&!ce(u,l)&&void 0!==(o&&o[l.route.id]);if(ke(a)&&(r||c)){let e=i[s];d(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await ze(a,e,r).then((e=>{e&&(n[s]=e||n[s])}))}}}async function ze(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:y.data,data:e.deferredData.unwrappedData}}catch(JA){return{type:y.error,error:JA}}return{type:y.data,data:e.deferredData.data}}}function He(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function We(e,t){let n="string"===typeof t?m(t).search:t.search;if(e[e.length-1].route.index&&He(n||""))return e[e.length-1];let i=B(e);return i[i.length-1]}function Ue(e){let{formMethod:t,formAction:n,formEncType:i,text:r,formData:o,json:s}=e;if(t&&n&&i)return null!=r?{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r}:null!=o?{formMethod:t,formAction:n,formEncType:i,formData:o,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:s,text:void 0}:void 0}function je(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $e(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ke(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qe.apply(this,arguments)}const Ye=o.createContext(null);const Xe=o.createContext(null);const Ze=o.createContext(null);const Qe=o.createContext(null);const Je=o.createContext({outlet:null,matches:[],isDataRoute:!1});const et=o.createContext(null);function tt(){return null!=o.useContext(Qe)}function nt(){return tt()||d(!1),o.useContext(Qe).location}function it(e){o.useContext(Ze).static||o.useLayoutEffect(e)}function rt(){let{isDataRoute:e}=o.useContext(Je);return e?function(){let{router:e}=ft(pt.UseNavigateStable),t=vt(gt.UseNavigateStable),n=o.useRef(!1);it((()=>{n.current=!0}));let i=o.useCallback((function(i,r){void 0===r&&(r={}),n.current&&("number"===typeof i?e.navigate(i):e.navigate(i,qe({fromRouteId:t},r)))}),[e,t]);return i}():function(){tt()||d(!1);let e=o.useContext(Ye),{basename:t,future:n,navigator:i}=o.useContext(Ze),{matches:r}=o.useContext(Je),{pathname:s}=nt(),a=JSON.stringify(G(r,n.v7_relativeSplatPath)),l=o.useRef(!1);return it((()=>{l.current=!0})),o.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let o=V(n,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:z([t,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[t,i,a,s,e])}()}const ot=o.createContext(null);function st(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=o.useContext(Ze),{matches:r}=o.useContext(Je),{pathname:s}=nt(),a=JSON.stringify(G(r,i.v7_relativeSplatPath));return o.useMemo((()=>V(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function at(e,t,n,r){tt()||d(!1);let{navigator:s}=o.useContext(Ze),{matches:a}=o.useContext(Je),l=a[a.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=nt();if(t){var g;let e="string"===typeof t?m(t):t;"/"===c||(null==(g=e.pathname)?void 0:g.startsWith(c))||d(!1),h=e}else h=p;let f=h.pathname||"/",v=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:v});let w=ht(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:z([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:z([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,r);return t&&w?o.createElement(Qe.Provider,{value:{location:qe({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:i.Pop}},w):w}function lt(){let e=function(){var e;let t=o.useContext(et),n=mt(gt.UseRouteError),i=vt(gt.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:r},n):null,null)}const ut=o.createElement(lt,null);class ct extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(Je.Provider,{value:this.props.routeContext},o.createElement(et.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dt(e){let{routeContext:t,match:n,children:i}=e,r=o.useContext(Ye);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(Je.Provider,{value:t},i)}function ht(e,t,n,i){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=i)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(r=n)?void 0:r.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let o=0;o<a.length;o++){let e=a[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=o),e.route.id){let{loaderData:t,errors:i}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!i||void 0===i[e.route.id]);if(e.route.lazy||r){u=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight(((e,i,r)=>{let s,d=!1,h=null,p=null;var g;n&&(s=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||ut,u&&(c<0&&0===r?(g="route-fallback",!1||yt[g]||(yt[g]=!0),d=!0,p=null):c===r&&(d=!0,p=i.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,r+1)),m=()=>{let t;return t=s?h:d?p:i.route.Component?o.createElement(i.route.Component,null):i.route.element?i.route.element:e,o.createElement(dt,{match:i,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===r)?o.createElement(ct,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}var pt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pt||{}),gt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gt||{});function ft(e){let t=o.useContext(Ye);return t||d(!1),t}function mt(e){let t=o.useContext(Xe);return t||d(!1),t}function vt(e){let t=function(){let e=o.useContext(Je);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const yt={};s.startTransition;function wt(e){return function(e){let t=o.useContext(Je).outlet;return t?o.createElement(ot.Provider,{value:e},t):t}(e.context)}function Ct(e){let{basename:t="/",children:n=null,location:r,navigationType:s=i.Pop,navigator:a,static:l=!1,future:u}=e;tt()&&d(!1);let c=t.replace(/^\/*/,"/"),h=o.useMemo((()=>({basename:c,navigator:a,static:l,future:qe({v7_relativeSplatPath:!1},u)})),[c,u,a,l]);"string"===typeof r&&(r=m(r));let{pathname:p="/",search:g="",hash:f="",state:v=null,key:y="default"}=r,w=o.useMemo((()=>{let e=O(p,c);return null==e?null:{location:{pathname:e,search:g,hash:f,state:v,key:y},navigationType:s}}),[c,p,g,f,v,y,s]);return null==w?null:o.createElement(Ze.Provider,{value:h},o.createElement(Qe.Provider,{children:n,value:w}))}new Promise((()=>{}));o.Component;function bt(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:o.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:o.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:o.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function St(){return St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},St.apply(this,arguments)}function xt(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Mt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_t=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];try{window.__reactRouterVersion="6"}catch(JA){}function Rt(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=St({},t,{errors:Dt(t.errors)})),t}function Dt(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,r]of t)if(r&&"RouteErrorResponse"===r.__type)n[i]=new j(r.status,r.statusText,r.data,!0===r.internal);else if(r&&"Error"===r.__type){if(r.__subType){let e=window[r.__subType];if("function"===typeof e)try{let t=new e(r.message);t.stack="",n[i]=t}catch(JA){}}if(null==n[i]){let e=new Error(r.message);e.stack="",n[i]=e}}else n[i]=r;return n}const Pt=o.createContext({isTransitioning:!1});const Tt=o.createContext(new Map);const At=s.startTransition,Et=l.flushSync;s.useId;function It(e){Et?Et(e):e()}class kt{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function Ft(e){let{fallbackElement:t,router:n,future:i}=e,[r,s]=o.useState(n.state),[a,l]=o.useState(),[u,c]=o.useState({isTransitioning:!1}),[d,h]=o.useState(),[p,g]=o.useState(),[f,m]=o.useState(),v=o.useRef(new Map),{v7_startTransition:y}=i||{},w=o.useCallback((e=>{y?function(e){At?At(e):e()}(e):e()}),[y]),C=o.useCallback(((e,t)=>{let{deletedFetchers:i,unstable_flushSync:r,unstable_viewTransitionOpts:o}=t;i.forEach((e=>v.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&v.current.set(t,e.data)}));let a=null==n.window||null==n.window.document||"function"!==typeof n.window.document.startViewTransition;if(o&&!a){if(r){It((()=>{p&&(d&&d.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})}));let t=n.window.document.startViewTransition((()=>{It((()=>s(e)))}));return t.finished.finally((()=>{It((()=>{h(void 0),g(void 0),l(void 0),c({isTransitioning:!1})}))})),void It((()=>g(t)))}p?(d&&d.resolve(),p.skipTransition(),m({state:e,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(l(e),c({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))}else r?It((()=>s(e))):w((()=>s(e)))}),[n.window,p,d,v,w]);o.useLayoutEffect((()=>n.subscribe(C)),[n,C]),o.useEffect((()=>{u.isTransitioning&&!u.flushSync&&h(new kt)}),[u]),o.useEffect((()=>{if(d&&a&&n.window){let e=a,t=d.promise,i=n.window.document.startViewTransition((async()=>{w((()=>s(e))),await t}));i.finished.finally((()=>{h(void 0),g(void 0),l(void 0),c({isTransitioning:!1})})),g(i)}}),[w,a,d,n.window]),o.useEffect((()=>{d&&a&&r.location.key===a.location.key&&d.resolve()}),[d,p,r.location,a]),o.useEffect((()=>{!u.isTransitioning&&f&&(l(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))}),[u.isTransitioning,f]),o.useEffect((()=>{}),[]);let b=o.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,i)=>n.navigate(e,{state:t,preventScrollReset:null==i?void 0:i.preventScrollReset}),replace:(e,t,i)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==i?void 0:i.preventScrollReset})})),[n]),S=n.basename||"/",x=o.useMemo((()=>({router:n,navigator:b,static:!1,basename:S})),[n,b,S]),M=o.useMemo((()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath})),[n.future.v7_relativeSplatPath]);return o.createElement(o.Fragment,null,o.createElement(Ye.Provider,{value:x},o.createElement(Xe.Provider,{value:r},o.createElement(Tt.Provider,{value:v.current},o.createElement(Pt.Provider,{value:u},o.createElement(Ct,{basename:S,location:r.location,navigationType:r.historyAction,navigator:b,future:M},r.initialized||n.future.v7_partialHydration?o.createElement(Lt,{routes:n.routes,future:n.future,state:r}):t))))),null)}const Lt=o.memo(Ot);function Ot(e){let{routes:t,future:n,state:i}=e;return at(t,void 0,i,n)}const Nt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Bt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gt=o.forwardRef((function(e,t){let n,{onClick:i,relative:r,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:h,unstable_viewTransition:p}=e,g=xt(e,Mt),{basename:m}=o.useContext(Ze),v=!1;if("string"===typeof c&&Bt.test(c)&&(n=c,Nt))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=O(t.pathname,m);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:v=!0}catch(JA){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;tt()||d(!1);let{basename:i,navigator:r}=o.useContext(Ze),{hash:s,pathname:a,search:l}=st(e,{relative:n}),u=a;return"/"!==i&&(u="/"===a?i:z([i,a])),r.createHref({pathname:u,search:l,hash:s})}(c,{relative:r}),w=function(e,t){let{target:n,replace:i,state:r,preventScrollReset:s,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,u=rt(),c=nt(),d=st(e,{relative:a});return o.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:f(c)===f(d);u(e,{replace:n,state:r,preventScrollReset:s,relative:a,unstable_viewTransition:l})}}),[c,u,d,i,r,n,e,s,a,l])}(c,{replace:a,state:l,target:u,preventScrollReset:h,relative:r,unstable_viewTransition:p});return o.createElement("a",St({},g,{href:n||y,onClick:v||s?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:t,target:u}))}));const Vt=o.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:r="",end:s=!1,style:a,to:l,unstable_viewTransition:u,children:c}=e,h=xt(e,_t),p=st(l,{relative:h.relative}),g=nt(),f=o.useContext(Xe),{navigator:m,basename:v}=o.useContext(Ze),y=null!=f&&function(e,t){void 0===t&&(t={});let n=o.useContext(Pt);null==n&&d(!1);let{basename:i}=Wt(zt.useViewTransitionState),r=st(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=O(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=O(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=F(r.pathname,a)||null!=F(r.pathname,s)}(p)&&!0===u,w=m.encodeLocation?m.encodeLocation(p).pathname:p.pathname,C=g.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;i||(C=C.toLowerCase(),b=b?b.toLowerCase():null,w=w.toLowerCase()),b&&v&&(b=O(b,v)||b);const S="/"!==w&&w.endsWith("/")?w.length-1:w.length;let x,M=C===w||!s&&C.startsWith(w)&&"/"===C.charAt(S),_=null!=b&&(b===w||!s&&b.startsWith(w)&&"/"===b.charAt(w.length)),R={isActive:M,isPending:_,isTransitioning:y},D=M?n:void 0;x="function"===typeof r?r(R):[r,M?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof a?a(R):a;return o.createElement(Gt,St({},h,{"aria-current":D,className:x,ref:t,style:P,to:l,unstable_viewTransition:u}),"function"===typeof c?c(R):c)}));var zt,Ht;function Wt(e){let t=o.useContext(Ye);return t||d(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(zt||(zt={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ht||(Ht={}));var Ut=n(7237),jt=o,$t=Symbol.for("react-redux-context"),Kt="undefined"!==typeof globalThis?globalThis:{};function qt(){if(!jt.createContext)return{};const e=Kt[$t]??(Kt[$t]=new Map);let t=e.get(jt.createContext);return t||(t=jt.createContext(null),e.set(jt.createContext,t)),t}var Yt=qt(),Xt=()=>{throw new Error("uSES not initialized!")};var Zt=Symbol.for("react.element"),Qt=Symbol.for("react.portal"),Jt=Symbol.for("react.fragment"),en=Symbol.for("react.strict_mode"),tn=Symbol.for("react.profiler"),nn=Symbol.for("react.provider"),rn=Symbol.for("react.context"),on=Symbol.for("react.server_context"),sn=Symbol.for("react.forward_ref"),an=Symbol.for("react.suspense"),ln=Symbol.for("react.suspense_list"),un=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),dn=(Symbol.for("react.offscreen"),Symbol.for("react.client.reference"),sn),hn=un;function pn(e){if("object"===typeof e&&null!==e){const t=e.$$typeof;switch(t){case Zt:{const n=e.type;switch(n){case Jt:case tn:case en:case an:case ln:return n;default:{const e=n&&n.$$typeof;switch(e){case on:case rn:case sn:case cn:case un:case nn:return e;default:return t}}}}case Qt:return t}}}function gn(e,t,n,i,r){let o,s,a,l,u,{areStatesEqual:c,areOwnPropsEqual:d,areStatePropsEqual:h}=r,p=!1;function g(r,p){const g=!d(p,s),f=!c(r,o,p,s);return o=r,s=p,g&&f?(a=e(o,s),t.dependsOnOwnProps&&(l=t(i,s)),u=n(a,l,s),u):g?(e.dependsOnOwnProps&&(a=e(o,s)),t.dependsOnOwnProps&&(l=t(i,s)),u=n(a,l,s),u):f?function(){const t=e(o,s),i=!h(t,a);return a=t,i&&(u=n(a,l,s)),u}():u}return function(r,c){return p?g(r,c):(o=r,s=c,a=e(o,s),l=t(i,s),u=n(a,l,s),p=!0,u)}}function fn(e){return function(t){const n=e(t);function i(){return n}return i.dependsOnOwnProps=!1,i}}function mn(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function vn(e,t){return function(t,n){let{displayName:i}=n;const r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=mn(e);let i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=mn(i),i=r(t,n)),i},r}}function yn(e,t){return(n,i)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${i.wrappedComponentName}.`)}}function wn(e,t,n){return{...n,...e,...t}}function Cn(e){e()}var bn={notify(){},get:()=>[]};function Sn(e,t){let n,i=bn,r=0,o=!1;function s(){u.onStateChange&&u.onStateChange()}function a(){r++,n||(n=t?t.addNestedSub(s):e.subscribe(s),i=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Cn((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let i=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){i&&null!==e&&(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}())}function l(){r--,n&&0===r&&(n(),n=void 0,i.clear(),i=bn)}const u={addNestedSub:function(e){a();const t=i.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,a())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>i};return u}var xn=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Mn="undefined"!==typeof navigator&&"ReactNative"===navigator.product,_n=xn||Mn?jt.useLayoutEffect:jt.useEffect;function Rn(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Dn(e,t){if(Rn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Rn(e[n[r]],t[n[r]]))return!1;return!0}var Pn={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Tn={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},An={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},En={[dn]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[hn]:An};function In(e){return pn(e)===un?An:En[e.$$typeof]||Pn}var kn=Object.defineProperty,Fn=Object.getOwnPropertyNames,Ln=Object.getOwnPropertySymbols,On=Object.getOwnPropertyDescriptor,Nn=Object.getPrototypeOf,Bn=Object.prototype;function Gn(e,t){if("string"!==typeof t){if(Bn){const n=Nn(t);n&&n!==Bn&&Gn(e,n)}let n=Fn(t);Ln&&(n=n.concat(Ln(t)));const i=In(e),r=In(t);for(let o=0;o<n.length;++o){const s=n[o];if(!Tn[s]&&(!r||!r[s])&&(!i||!i[s])){const n=On(t,s);try{kn(e,s,n)}catch(JA){}}}}return e}var Vn=Xt,zn=[null,null];function Hn(e,t,n,i,r,o){e.current=i,n.current=!1,r.current&&(r.current=null,o())}function Wn(e,t){return e===t}var Un=function(e,t,n){let{pure:i,areStatesEqual:r=Wn,areOwnPropsEqual:o=Dn,areStatePropsEqual:s=Dn,areMergedPropsEqual:a=Dn,forwardRef:l=!1,context:u=Yt}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c=u,d=function(e){return e?"function"===typeof e?vn(e):yn(e,"mapStateToProps"):fn((()=>({})))}(e),h=function(e){return e&&"object"===typeof e?fn((t=>function(e,t){const n={};for(const i in e){const r=e[i];"function"===typeof r&&(n[i]=function(){return t(r(...arguments))})}return n}(e,t))):e?"function"===typeof e?vn(e):yn(e,"mapDispatchToProps"):fn((e=>({dispatch:e})))}(t),p=function(e){return e?"function"===typeof e?function(e){return function(t,n){let i,{displayName:r,areMergedPropsEqual:o}=n,s=!1;return function(t,n,r){const a=e(t,n,r);return s?o(a,i)||(i=a):(s=!0,i=a),i}}}(e):yn(e,"mergeProps"):()=>wn}(n),g=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,i={shouldHandleStateChanges:g,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:d,initMapDispatchToProps:h,initMergeProps:p,areStatesEqual:r,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function u(t){const[n,r,o]=jt.useMemo((()=>{const{reactReduxForwardedRef:e,...n}=t;return[t.context,e,n]}),[t]),s=jt.useMemo((()=>c),[n,c]),a=jt.useContext(s),l=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),u=Boolean(a)&&Boolean(a.store);const d=l?t.store:a.store,h=u?a.getServerState:d.getState,p=jt.useMemo((()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:i,initMergeProps:r,...o}=t;return gn(n(e,o),i(e,o),r(e,o),e,o)}(d.dispatch,i)),[d]),[f,m]=jt.useMemo((()=>{if(!g)return zn;const e=Sn(d,l?void 0:a.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[d,l,a]),v=jt.useMemo((()=>l?a:{...a,subscription:f}),[l,a,f]),y=jt.useRef(void 0),w=jt.useRef(o),C=jt.useRef(void 0),b=jt.useRef(!1),S=jt.useRef(!1),x=jt.useRef(void 0);_n((()=>(S.current=!0,()=>{S.current=!1})),[]);const M=jt.useMemo((()=>()=>C.current&&o===w.current?C.current:p(d.getState(),o)),[d,o]),_=jt.useMemo((()=>e=>f?function(e,t,n,i,r,o,s,a,l,u,c){if(!e)return()=>{};let d=!1,h=null;const p=()=>{if(d||!a.current)return;const e=t.getState();let n,p;try{n=i(e,r.current)}catch(JA){p=JA,h=JA}p||(h=null),n===o.current?s.current||u():(o.current=n,l.current=n,s.current=!0,c())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(g,d,f,p,w,y,b,S,C,m,e):()=>{}),[f]);let R;!function(e,t,n){_n((()=>e(...t)),n)}(Hn,[w,y,b,o,C,m]);try{R=Vn(_,M,h?()=>p(h(),o):M)}catch(P){throw x.current&&(P.message+=`\nThe error may be correlated with this previous error:\n${x.current.stack}\n\n`),P}_n((()=>{x.current=void 0,C.current=void 0,y.current=R}));const D=jt.useMemo((()=>jt.createElement(e,{...R,ref:r})),[r,e,R]);return jt.useMemo((()=>g?jt.createElement(s.Provider,{value:v},D):D),[s,D,v])}const f=jt.memo(u);if(f.WrappedComponent=e,f.displayName=u.displayName=n,l){const t=jt.forwardRef((function(e,t){return jt.createElement(f,{...e,reactReduxForwardedRef:t})}));return t.displayName=n,t.WrappedComponent=e,Gn(t,e)}return Gn(f,e)}};var jn=function(e){let{store:t,context:n,children:i,serverState:r,stabilityCheck:o="once",identityFunctionCheck:s="once"}=e;const a=jt.useMemo((()=>{const e=Sn(t);return{store:t,subscription:e,getServerState:r?()=>r:void 0,stabilityCheck:o,identityFunctionCheck:s}}),[t,r,o,s]),l=jt.useMemo((()=>t.getState()),[t]);_n((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,l]);const u=n||Yt;return jt.createElement(u.Provider,{value:a},i)};var $n;$n=Ut.useSyncExternalStoreWithSelector,(e=>{Vn=e})(o.useSyncExternalStore);var Kn=n(8052),qn=n(8168),Yn=n(8587),Xn=n(7868),Zn=n(9172),Qn=n(7758),Jn=n(8812),ei=n(8280);var ti=n(7266);const ni={black:"#000",white:"#fff"},ii={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ri={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},oi={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},si={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ai={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},li={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ui={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ci=["mode","contrastThreshold","tonalOffset"],di={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ni.white,default:ni.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},hi={text:{primary:ni.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ni.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function pi(e,t,n,i){const r=i.light||i,o=i.dark||1.5*i;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,ti.a)(e.main,r):"dark"===t&&(e.dark=(0,ti.e$)(e.main,o)))}function gi(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:i=.2}=e,r=(0,Yn.A)(e,ci),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ai[200],light:ai[50],dark:ai[400]}:{main:ai[700],light:ai[400],dark:ai[800]}}(t),s=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ri[200],light:ri[50],dark:ri[400]}:{main:ri[500],light:ri[300],dark:ri[700]}}(t),a=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:oi[500],light:oi[300],dark:oi[700]}:{main:oi[700],light:oi[400],dark:oi[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:li[400],light:li[300],dark:li[700]}:{main:li[700],light:li[500],dark:li[900]}}(t),u=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ui[400],light:ui[300],dark:ui[700]}:{main:ui[800],light:ui[500],dark:ui[900]}}(t),c=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:si[400],light:si[300],dark:si[700]}:{main:"#ed6c02",light:si[500],dark:si[900]}}(t);function d(e){return(0,ti.eM)(e,hi.text.primary)>=n?hi.text.primary:di.text.primary}const h=e=>{let{color:t,name:n,mainShade:r=500,lightShade:o=300,darkShade:s=700}=e;if(t=(0,qn.A)({},t),!t.main&&t[r]&&(t.main=t[r]),!t.hasOwnProperty("main"))throw new Error((0,Xn.A)(11,n?` (${n})`:"",r));if("string"!==typeof t.main)throw new Error((0,Xn.A)(12,n?` (${n})`:"",JSON.stringify(t.main)));return pi(t,"light",o,i),pi(t,"dark",s,i),t.contrastText||(t.contrastText=d(t.main)),t},p={dark:hi,light:di};return(0,Zn.A)((0,qn.A)({common:(0,qn.A)({},ni),mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:ii,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:i},p[t]),r)}const fi=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const mi={textTransform:"uppercase"},vi='"Roboto", "Helvetica", "Arial", sans-serif';function yi(e,t){const n="function"===typeof t?t(e):t,{fontFamily:i=vi,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=(0,Yn.A)(n,fi);const p=r/14,g=d||(e=>e/u*p+"rem"),f=(e,t,n,r,o)=>{return(0,qn.A)({fontFamily:i,fontWeight:e,fontSize:g(t),lineHeight:n},i===vi?{letterSpacing:(s=r/t,Math.round(1e5*s)/1e5)+"em"}:{},o,c);var s},m={h1:f(o,96,1.167,-1.5),h2:f(o,60,1.2,-.5),h3:f(s,48,1.167,0),h4:f(s,34,1.235,.25),h5:f(s,24,1.334,0),h6:f(a,20,1.6,.15),subtitle1:f(s,16,1.75,.15),subtitle2:f(a,14,1.57,.1),body1:f(s,16,1.5,.15),body2:f(s,14,1.43,.15),button:f(a,14,1.75,.4,mi),caption:f(s,12,1.66,.4),overline:f(s,12,2.66,1,mi),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,Zn.A)((0,qn.A)({htmlFontSize:u,pxToRem:g,fontFamily:i,fontSize:r,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},m),h,{clone:!1})}function wi(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const Ci=["none",wi(0,2,1,-1,0,1,1,0,0,1,3,0),wi(0,3,1,-2,0,2,2,0,0,1,5,0),wi(0,3,3,-2,0,3,4,0,0,1,8,0),wi(0,2,4,-1,0,4,5,0,0,1,10,0),wi(0,3,5,-1,0,5,8,0,0,1,14,0),wi(0,3,5,-1,0,6,10,0,0,1,18,0),wi(0,4,5,-2,0,7,10,1,0,2,16,1),wi(0,5,5,-3,0,8,10,1,0,3,14,2),wi(0,5,6,-3,0,9,12,1,0,3,16,2),wi(0,6,6,-3,0,10,14,1,0,4,18,3),wi(0,6,7,-4,0,11,15,1,0,4,20,3),wi(0,7,8,-4,0,12,17,2,0,5,22,4),wi(0,7,8,-4,0,13,19,2,0,5,24,4),wi(0,7,9,-4,0,14,21,2,0,5,26,4),wi(0,8,9,-5,0,15,22,2,0,6,28,5),wi(0,8,10,-5,0,16,24,2,0,6,30,5),wi(0,8,11,-5,0,17,26,2,0,6,32,5),wi(0,9,11,-5,0,18,28,2,0,7,34,6),wi(0,9,12,-6,0,19,29,2,0,7,36,6),wi(0,10,13,-6,0,20,31,3,0,8,38,7),wi(0,10,13,-6,0,21,33,3,0,8,40,7),wi(0,10,14,-6,0,22,35,3,0,8,42,7),wi(0,11,14,-7,0,23,36,3,0,9,44,8),wi(0,11,15,-7,0,24,38,3,0,9,46,8)],bi=["duration","easing","delay"],Si={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},xi={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Mi(e){return`${Math.round(e)}ms`}function _i(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function Ri(e){const t=(0,qn.A)({},Si,e.easing),n=(0,qn.A)({},xi,e.duration);return(0,qn.A)({getAutoHeightDuration:_i,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:r=n.standard,easing:o=t.easeInOut,delay:s=0}=i;(0,Yn.A)(i,bi);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof r?r:Mi(r)} ${o} ${"string"===typeof s?s:Mi(s)}`)).join(",")}},e,{easing:t,duration:n})}const Di={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Pi=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:i={},typography:r={}}=e,o=(0,Yn.A)(e,Pi);if(e.vars)throw new Error((0,Xn.A)(18));const s=gi(n),a=(0,ei.A)(e);let l=(0,Zn.A)(a,{mixins:(u=a.breakpoints,c=t,(0,qn.A)({toolbar:{minHeight:56,[u.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[u.up("sm")]:{minHeight:64}}},c)),palette:s,shadows:Ci.slice(),typography:yi(s,r),transitions:Ri(i),zIndex:(0,qn.A)({},Di)});var u,c;l=(0,Zn.A)(l,o);for(var d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];return l=h.reduce(((e,t)=>(0,Zn.A)(e,t)),l),l.unstable_sxConfig=(0,qn.A)({},Qn.A,null==o?void 0:o.unstable_sxConfig),l.unstable_sx=function(e){return(0,Jn.A)({sx:e,theme:this})},l}const Ai=Ti(),Ei="$$material";const Ii=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},ki=e=>Ii(e)&&"classes"!==e,Fi=(0,Kn.Ay)({themeId:Ei,defaultTheme:Ai,rootShouldForwardProp:ki});var Li=n(3290);const Oi=Fi("div")((()=>Li.AH`
    margin: 10px;
    display: flex;
    flex-direction: column;
    row-gap: 10px;
  `));function Ni(e,t){return function(){return e.apply(t,arguments)}}const{toString:Bi}=Object.prototype,{getPrototypeOf:Gi}=Object,Vi=(zi=Object.create(null),e=>{const t=Bi.call(e);return zi[t]||(zi[t]=t.slice(8,-1).toLowerCase())});var zi;const Hi=e=>(e=e.toLowerCase(),t=>Vi(t)===e),Wi=e=>t=>typeof t===e,{isArray:Ui}=Array,ji=Wi("undefined");const $i=Hi("ArrayBuffer");const Ki=Wi("string"),qi=Wi("function"),Yi=Wi("number"),Xi=e=>null!==e&&"object"===typeof e,Zi=e=>{if("object"!==Vi(e))return!1;const t=Gi(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qi=Hi("Date"),Ji=Hi("File"),er=Hi("Blob"),tr=Hi("FileList"),nr=Hi("URLSearchParams"),[ir,rr,or,sr]=["ReadableStream","Request","Response","Headers"].map(Hi);function ar(e,t){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ui(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(n=0;n<o;n++)s=i[n],t.call(null,e[s],s,e)}}function lr(e,t){t=t.toLowerCase();const n=Object.keys(e);let i,r=n.length;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const ur="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,cr=e=>!ji(e)&&e!==ur;const dr=(hr="undefined"!==typeof Uint8Array&&Gi(Uint8Array),e=>hr&&e instanceof hr);var hr;const pr=Hi("HTMLFormElement"),gr=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),fr=Hi("RegExp"),mr=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};ar(n,((n,r)=>{let o;!1!==(o=t(n,r,e))&&(i[r]=o||n)})),Object.defineProperties(e,i)},vr="abcdefghijklmnopqrstuvwxyz",yr="0123456789",wr={DIGIT:yr,ALPHA:vr,ALPHA_DIGIT:vr+vr.toUpperCase()+yr};const Cr=Hi("AsyncFunction"),br=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,i=[],ur.addEventListener("message",(e=>{let{source:t,data:r}=e;t===ur&&r===n&&i.length&&i.shift()()}),!1),e=>{i.push(e),ur.postMessage(n,"*")}):e=>setTimeout(e);var n,i})("function"===typeof setImmediate,qi(ur.postMessage)),Sr="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ur):"undefined"!==typeof process&&process.nextTick||br,xr={isArray:Ui,isArrayBuffer:$i,isBuffer:function(e){return null!==e&&!ji(e)&&null!==e.constructor&&!ji(e.constructor)&&qi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||qi(e.append)&&("formdata"===(t=Vi(e))||"object"===t&&qi(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&$i(e.buffer),t},isString:Ki,isNumber:Yi,isBoolean:e=>!0===e||!1===e,isObject:Xi,isPlainObject:Zi,isReadableStream:ir,isRequest:rr,isResponse:or,isHeaders:sr,isUndefined:ji,isDate:Qi,isFile:Ji,isBlob:er,isRegExp:fr,isFunction:qi,isStream:e=>Xi(e)&&qi(e.pipe),isURLSearchParams:nr,isTypedArray:dr,isFileList:tr,forEach:ar,merge:function e(){const{caseless:t}=cr(this)&&this||{},n={},i=(i,r)=>{const o=t&&lr(n,r)||r;Zi(n[o])&&Zi(i)?n[o]=e(n[o],i):Zi(i)?n[o]=e({},i):Ui(i)?n[o]=i.slice():n[o]=i};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&ar(arguments[r],i);return n},extend:function(e,t,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ar(t,((t,i)=>{n&&qi(t)?e[i]=Ni(t,n):e[i]=t}),{allOwnKeys:i}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,o,s;const a={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)s=r[o],i&&!i(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&Gi(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Vi,kindOfTest:Hi,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(Ui(e))return e;let t=e.length;if(!Yi(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:pr,hasOwnProperty:gr,hasOwnProp:gr,reduceDescriptors:mr,freezeMethods:e=>{mr(e,((t,n)=>{if(qi(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];qi(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach((e=>{n[e]=!0}))};return Ui(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:lr,global:ur,isContextDefined:cr,ALPHABET:wr,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wr.ALPHA_DIGIT,n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n},isSpecCompliantForm:function(e){return!!(e&&qi(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(Xi(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const r=Ui(e)?[]:{};return ar(e,((e,t)=>{const o=n(e,i+1);!ji(o)&&(r[t]=o)})),t[i]=void 0,r}}return e};return n(e,0)},isAsyncFn:Cr,isThenable:e=>e&&(Xi(e)||qi(e))&&qi(e.then)&&qi(e.catch),setImmediate:br,asap:Sr};function Mr(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}xr.inherits(Mr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xr.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const _r=Mr.prototype,Rr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Rr[e]={value:e}})),Object.defineProperties(Mr,Rr),Object.defineProperty(_r,"isAxiosError",{value:!0}),Mr.from=(e,t,n,i,r,o)=>{const s=Object.create(_r);return xr.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Mr.call(s,e.message,t,n,i,r),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const Dr=Mr;function Pr(e){return xr.isPlainObject(e)||xr.isArray(e)}function Tr(e){return xr.endsWith(e,"[]")?e.slice(0,-2):e}function Ar(e,t,n){return e?e.concat(t).map((function(e,t){return e=Tr(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Er=xr.toFlatObject(xr,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Ir=function(e,t,n){if(!xr.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=xr.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!xr.isUndefined(t[e])}))).metaTokens,r=n.visitor||u,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&xr.isSpecCompliantForm(t);if(!xr.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(xr.isDate(e))return e.toISOString();if(!a&&xr.isBlob(e))throw new Dr("Blob is not supported. Use a Buffer instead.");return xr.isArrayBuffer(e)||xr.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,r){let a=e;if(e&&!r&&"object"===typeof e)if(xr.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(xr.isArray(e)&&function(e){return xr.isArray(e)&&!e.some(Pr)}(e)||(xr.isFileList(e)||xr.endsWith(n,"[]"))&&(a=xr.toArray(e)))return n=Tr(n),a.forEach((function(e,i){!xr.isUndefined(e)&&null!==e&&t.append(!0===s?Ar([n],i,o):null===s?n:n+"[]",l(e))})),!1;return!!Pr(e)||(t.append(Ar(r,n,o),l(e)),!1)}const c=[],d=Object.assign(Er,{defaultVisitor:u,convertValue:l,isVisitable:Pr});if(!xr.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!xr.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+i.join("."));c.push(n),xr.forEach(n,(function(n,o){!0===(!(xr.isUndefined(n)||null===n)&&r.call(t,n,xr.isString(o)?o.trim():o,i,d))&&e(n,i?i.concat(o):[o])})),c.pop()}}(e),t};function kr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Fr(e,t){this._pairs=[],e&&Ir(e,this,t)}const Lr=Fr.prototype;Lr.append=function(e,t){this._pairs.push([e,t])},Lr.toString=function(e){const t=e?function(t){return e.call(this,t,kr)}:kr;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Or=Fr;function Nr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Br(e,t,n){if(!t)return e;const i=n&&n.encode||Nr,r=n&&n.serialize;let o;if(o=r?r(t,n):xr.isURLSearchParams(t)?t.toString():new Or(t,n).toString(i),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const Gr=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){xr.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Vr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zr={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Or,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Hr="undefined"!==typeof window&&"undefined"!==typeof document,Wr=(Ur="undefined"!==typeof navigator&&navigator.product,Hr&&["ReactNative","NativeScript","NS"].indexOf(Ur)<0);var Ur;const jr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,$r=Hr&&window.location.href||"http://localhost",Kr={...e,...zr};const qr=function(e){function t(e,n,i,r){let o=e[r++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=r>=e.length;if(o=!o&&xr.isArray(i)?i.length:o,a)return xr.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s;i[o]&&xr.isObject(i[o])||(i[o]=[]);return t(e,n,i[o],r)&&xr.isArray(i[o])&&(i[o]=function(e){const t={},n=Object.keys(e);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],t[o]=e[o];return t}(i[o])),!s}if(xr.isFormData(e)&&xr.isFunction(e.entries)){const n={};return xr.forEachEntry(e,((e,i)=>{t(function(e){return xr.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,n,0)})),n}return null};const Yr={transitional:Vr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=xr.isObject(e);r&&xr.isHTMLForm(e)&&(e=new FormData(e));if(xr.isFormData(e))return i?JSON.stringify(qr(e)):e;if(xr.isArrayBuffer(e)||xr.isBuffer(e)||xr.isStream(e)||xr.isFile(e)||xr.isBlob(e)||xr.isReadableStream(e))return e;if(xr.isArrayBufferView(e))return e.buffer;if(xr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ir(e,new Kr.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return Kr.isNode&&xr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=xr.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ir(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,n){if(xr.isString(e))try{return(t||JSON.parse)(e),xr.trim(e)}catch(JA){if("SyntaxError"!==JA.name)throw JA}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Yr.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(xr.isResponse(e)||xr.isReadableStream(e))return e;if(e&&xr.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(JA){if(n){if("SyntaxError"===JA.name)throw Dr.from(JA,Dr.ERR_BAD_RESPONSE,this,null,this.response);throw JA}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kr.classes.FormData,Blob:Kr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xr.forEach(["delete","get","head","post","put","patch"],(e=>{Yr.headers[e]={}}));const Xr=Yr,Zr=xr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qr=Symbol("internals");function Jr(e){return e&&String(e).trim().toLowerCase()}function eo(e){return!1===e||null==e?e:xr.isArray(e)?e.map(eo):String(e)}function to(e,t,n,i,r){return xr.isFunction(i)?i.call(this,t,n):(r&&(t=n),xr.isString(t)?xr.isString(i)?-1!==t.indexOf(i):xr.isRegExp(i)?i.test(t):void 0:void 0)}class no{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(e,t,n){const r=Jr(t);if(!r)throw new Error("header name must be a non-empty string");const o=xr.findKey(i,r);(!o||void 0===i[o]||!0===n||void 0===n&&!1!==i[o])&&(i[o||t]=eo(e))}const o=(e,t)=>xr.forEach(e,((e,n)=>r(e,n,t)));if(xr.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(xr.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&Zr[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)})),t})(e),t);else if(xr.isHeaders(e))for(const[s,a]of e.entries())r(a,s,n);else null!=e&&r(t,e,n);return this}get(e,t){if(e=Jr(e)){const n=xr.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(xr.isFunction(t))return t.call(this,e,n);if(xr.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Jr(e)){const n=xr.findKey(this,e);return!(!n||void 0===this[n]||t&&!to(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=Jr(e)){const r=xr.findKey(n,e);!r||t&&!to(0,n[r],r,t)||(delete n[r],i=!0)}}return xr.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];e&&!to(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return xr.forEach(this,((i,r)=>{const o=xr.findKey(n,r);if(o)return t[o]=eo(i),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(r):String(r).trim();s!==r&&delete t[r],t[s]=eo(i),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return xr.forEach(this,((n,i)=>{null!=n&&!1!==n&&(t[i]=e&&xr.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Qr]=this[Qr]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=Jr(e);t[i]||(!function(e,t){const n=xr.toCamelCase(" "+t);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[i]=!0)}return xr.isArray(e)?e.forEach(i):i(e),this}}no.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),xr.reduceDescriptors(no.prototype,((e,t)=>{let{value:n}=e,i=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[i]=e}}})),xr.freezeMethods(no);const io=no;function ro(e,t){const n=this||Xr,i=t||n,r=io.from(i.headers);let o=i.data;return xr.forEach(e,(function(e){o=e.call(n,o,r.normalize(),t?t.status:void 0)})),r.normalize(),o}function oo(e){return!(!e||!e.__CANCEL__)}function so(e,t,n){Dr.call(this,null==e?"canceled":e,Dr.ERR_CANCELED,t,n),this.name="CanceledError"}xr.inherits(so,Dr,{__CANCEL__:!0});const ao=so;function lo(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new Dr("Request failed with status code "+n.status,[Dr.ERR_BAD_REQUEST,Dr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const uo=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),u=i[s];r||(r=l),n[o]=a,i[o]=l;let c=s,d=0;for(;c!==o;)d+=n[c++],c%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-r<t)return;const h=u&&l-u;return h?Math.round(1e3*d/h):void 0}};const co=function(e,t){let n,i,r=0,o=1e3/t;const s=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=o,n=null,i&&(clearTimeout(i),i=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-r;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];t>=o?s(l,e):(n=l,i||(i=setTimeout((()=>{i=null,s(n)}),o-t)))},()=>n&&s(n)]},ho=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const r=uo(50,250);return co((n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-i,l=r(a);i=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},po=(e,t)=>{const n=null!=e;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},go=e=>function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return xr.asap((()=>e(...n)))},fo=Kr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function i(n){let i=n;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=i(window.location.href),function(e){const t=xr.isString(e)?i(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},mo=Kr.hasStandardBrowserEnv?{write(e,t,n,i,r,o){const s=[e+"="+encodeURIComponent(t)];xr.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),xr.isString(i)&&s.push("path="+i),xr.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function vo(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const yo=e=>e instanceof io?{...e}:e;function wo(e,t){t=t||{};const n={};function i(e,t,n){return xr.isPlainObject(e)&&xr.isPlainObject(t)?xr.merge.call({caseless:n},e,t):xr.isPlainObject(t)?xr.merge({},t):xr.isArray(t)?t.slice():t}function r(e,t,n){return xr.isUndefined(t)?xr.isUndefined(e)?void 0:i(void 0,e,n):i(e,t,n)}function o(e,t){if(!xr.isUndefined(t))return i(void 0,t)}function s(e,t){return xr.isUndefined(t)?xr.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function a(n,r,o){return o in t?i(n,r):o in e?i(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>r(yo(e),yo(t),!0)};return xr.forEach(Object.keys(Object.assign({},e,t)),(function(i){const o=l[i]||r,s=o(e[i],t[i],i);xr.isUndefined(s)&&o!==a||(n[i]=s)})),n}const Co=e=>{const t=wo({},e);let n,{data:i,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=io.from(a),t.url=Br(vo(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),xr.isFormData(i))if(Kr.hasStandardBrowserEnv||Kr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(Kr.hasStandardBrowserEnv&&(r&&xr.isFunction(r)&&(r=r(t)),r||!1!==r&&fo(t.url))){const e=o&&s&&mo.read(s);e&&a.set(o,e)}return t},bo="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const i=Co(e);let r=i.data;const o=io.from(i.headers).normalize();let s,a,l,u,c,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=i;function g(){u&&u(),c&&c(),i.cancelToken&&i.cancelToken.unsubscribe(s),i.signal&&i.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function m(){if(!f)return;const i=io.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());lo((function(e){t(e),g()}),(function(e){n(e),g()}),{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:i,config:e,request:f}),f=null}f.open(i.method.toUpperCase(),i.url,!0),f.timeout=i.timeout,"onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(m)},f.onabort=function(){f&&(n(new Dr("Request aborted",Dr.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Dr("Network Error",Dr.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const r=i.transitional||Vr;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new Dr(t,r.clarifyTimeoutError?Dr.ETIMEDOUT:Dr.ECONNABORTED,e,f)),f=null},void 0===r&&o.setContentType(null),"setRequestHeader"in f&&xr.forEach(o.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),xr.isUndefined(i.withCredentials)||(f.withCredentials=!!i.withCredentials),d&&"json"!==d&&(f.responseType=i.responseType),p&&([l,c]=ho(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([a,u]=ho(h),f.upload.addEventListener("progress",a),f.upload.addEventListener("loadend",u)),(i.cancelToken||i.signal)&&(s=t=>{f&&(n(!t||t.type?new ao(null,e,f):t),f.abort(),f=null)},i.cancelToken&&i.cancelToken.subscribe(s),i.signal&&(i.signal.aborted?s():i.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);v&&-1===Kr.protocols.indexOf(v)?n(new Dr("Unsupported protocol "+v+":",Dr.ERR_BAD_REQUEST,e)):f.send(r||null)}))},So=(e,t)=>{let n,i=new AbortController;const r=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;i.abort(t instanceof Dr?t:new ao(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{r(new Dr(`timeout ${t} of ms exceeded`,Dr.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",r):e.unsubscribe(r))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",r)));const{signal:a}=i;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},xo=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let i,r=0;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},Mo=(e,t,n,i,r)=>{const o=async function*(e,t,n){for await(const i of e)yield*xo(ArrayBuffer.isView(i)?i:await n(String(i)),t)}(e,t,r);let s,a=0,l=e=>{s||(s=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await o.next();if(t)return l(),void e.close();let r=i.byteLength;if(n){let e=a+=r;n(e)}e.enqueue(new Uint8Array(i))}catch(t){throw l(t),t}},cancel:e=>(l(e),o.return())},{highWaterMark:2})},_o="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ro=_o&&"function"===typeof ReadableStream,Do=_o&&("function"===typeof TextEncoder?(Po=new TextEncoder,e=>Po.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Po;const To=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!e(...n)}catch(JA){return!1}},Ao=Ro&&To((()=>{let e=!1;const t=new Request(Kr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Eo=Ro&&To((()=>xr.isReadableStream(new Response("").body))),Io={stream:Eo&&(e=>e.body)};var ko;_o&&(ko=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Io[e]&&(Io[e]=xr.isFunction(ko[e])?t=>t[e]():(t,n)=>{throw new Dr(`Response type '${e}' is not supported`,Dr.ERR_NOT_SUPPORT,n)})})));const Fo=async(e,t)=>{const n=xr.toFiniteNumber(e.getContentLength());return null==n?(async e=>null==e?0:xr.isBlob(e)?e.size:xr.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:xr.isArrayBufferView(e)||xr.isArrayBuffer(e)?e.byteLength:(xr.isURLSearchParams(e)&&(e+=""),xr.isString(e)?(await Do(e)).byteLength:void 0))(t):n},Lo=_o&&(async e=>{let{url:t,method:n,data:i,signal:r,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:h}=Co(e);u=u?(u+"").toLowerCase():"text";let p,g,[f,m]=r||o||s?So([r,o],s):[];const v=()=>{!p&&setTimeout((()=>{f&&f.unsubscribe()})),p=!0};let y;try{if(l&&Ao&&"get"!==n&&"head"!==n&&0!==(y=await Fo(c,i))){let e,n=new Request(t,{method:"POST",body:i,duplex:"half"});if(xr.isFormData(i)&&(e=n.headers.get("content-type"))&&c.setContentType(e),n.body){const[e,t]=po(y,ho(go(l)));i=Mo(n.body,65536,e,t,Do)}}xr.isString(d)||(d=d?"include":"omit"),g=new Request(t,{...h,signal:f,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:i,duplex:"half",credentials:d});let r=await fetch(g);const o=Eo&&("stream"===u||"response"===u);if(Eo&&(a||o)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=xr.toFiniteNumber(r.headers.get("content-length")),[n,i]=a&&po(t,ho(go(a),!0))||[];r=new Response(Mo(r.body,65536,n,(()=>{i&&i(),o&&v()}),Do),e)}u=u||"text";let s=await Io[xr.findKey(Io,u)||"text"](r,e);return!o&&v(),m&&m(),await new Promise(((t,n)=>{lo(t,n,{data:s,headers:io.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:g})}))}catch(w){if(v(),w&&"TypeError"===w.name&&/fetch/i.test(w.message))throw Object.assign(new Dr("Network Error",Dr.ERR_NETWORK,e,g),{cause:w.cause||w});throw Dr.from(w,w&&w.code,e,g)}}),Oo={http:null,xhr:bo,fetch:Lo};xr.forEach(Oo,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(JA){}Object.defineProperty(e,"adapterName",{value:t})}}));const No=e=>`- ${e}`,Bo=e=>xr.isFunction(e)||null===e||!1===e,Go=e=>{e=xr.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let o=0;o<t;o++){let t;if(n=e[o],i=n,!Bo(n)&&(i=Oo[(t=String(n)).toLowerCase()],void 0===i))throw new Dr(`Unknown adapter '${t}'`);if(i)break;r[t||"#"+o]=i}if(!i){const e=Object.entries(r).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(No).join("\n"):" "+No(e[0]):"as no adapter specified";throw new Dr("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i};function Vo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ao(null,e)}function zo(e){Vo(e),e.headers=io.from(e.headers),e.data=ro.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Go(e.adapter||Xr.adapter)(e).then((function(t){return Vo(e),t.data=ro.call(e,e.transformResponse,t),t.headers=io.from(t.headers),t}),(function(t){return oo(t)||(Vo(e),t&&t.response&&(t.response.data=ro.call(e,e.transformResponse,t.response),t.response.headers=io.from(t.response.headers))),Promise.reject(t)}))}const Ho="1.7.4",Wo={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Wo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Uo={};Wo.transitional=function(e,t,n){function i(e,t){return"[Axios v1.7.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,o)=>{if(!1===e)throw new Dr(i(r," has been removed"+(t?" in "+t:"")),Dr.ERR_DEPRECATED);return t&&!Uo[r]&&(Uo[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}};const jo={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Dr("options must be an object",Dr.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const o=i[r],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new Dr("option "+o+" must be "+n,Dr.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Dr("Unknown option "+o,Dr.ERR_BAD_OPTION)}},validators:Wo},$o=jo.validators;class Ko{constructor(e){this.defaults=e,this.interceptors={request:new Gr,response:new Gr}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(JA){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=wo(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&jo.assertOptions(n,{silentJSONParsing:$o.transitional($o.boolean),forcedJSONParsing:$o.transitional($o.boolean),clarifyTimeoutError:$o.transitional($o.boolean)},!1),null!=i&&(xr.isFunction(i)?t.paramsSerializer={serialize:i}:jo.assertOptions(i,{encode:$o.function,serialize:$o.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&xr.merge(r.common,r[t.method]);r&&xr.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=io.concat(o,r);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,d=0;if(!a){const e=[zo.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),c=e.length,u=Promise.resolve(t);d<c;)u=u.then(e[d++],e[d++]);return u}c=s.length;let h=t;for(d=0;d<c;){const e=s[d++],t=s[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{u=zo.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,c=l.length;d<c;)u=u.then(l[d++],l[d++]);return u}getUri(e){return Br(vo((e=wo(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}xr.forEach(["delete","get","head","options"],(function(e){Ko.prototype[e]=function(t,n){return this.request(wo(n||{},{method:e,url:t,data:(n||{}).data}))}})),xr.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(wo(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Ko.prototype[e]=t(),Ko.prototype[e+"Form"]=t(!0)}));const qo=Ko;class Yo{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const i=new Promise((e=>{n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e,i,r){n.reason||(n.reason=new ao(e,i,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Yo((function(t){e=t})),cancel:e}}}const Xo=Yo;const Zo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zo).forEach((e=>{let[t,n]=e;Zo[n]=t}));const Qo=Zo;const Jo=function e(t){const n=new qo(t),i=Ni(qo.prototype.request,n);return xr.extend(i,qo.prototype,n,{allOwnKeys:!0}),xr.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(wo(t,n))},i}(Xr);Jo.Axios=qo,Jo.CanceledError=ao,Jo.CancelToken=Xo,Jo.isCancel=oo,Jo.VERSION=Ho,Jo.toFormData=Ir,Jo.AxiosError=Dr,Jo.Cancel=Jo.CanceledError,Jo.all=function(e){return Promise.all(e)},Jo.spread=function(e){return function(t){return e.apply(null,t)}},Jo.isAxiosError=function(e){return xr.isObject(e)&&!0===e.isAxiosError},Jo.mergeConfig=wo,Jo.AxiosHeaders=io,Jo.formToJSON=e=>qr(xr.isHTMLForm(e)?new FormData(e):e),Jo.getAdapter=Go,Jo.HttpStatusCode=Qo,Jo.default=Jo;const es=Jo;function ts(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new e.constructor(+e):"number"===typeof e||"[object Number]"===t||"string"===typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function ns(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function is(e,t){const n=ts(e);if(isNaN(t))return ns(e,NaN);if(!t)return n;const i=n.getDate(),r=ns(e,n.getTime());r.setMonth(n.getMonth()+t+1,0);return i>=r.getDate()?r:(n.setFullYear(r.getFullYear(),r.getMonth(),i),n)}function rs(e,t){return is(e,-t)}Math.pow(10,8);const os=6048e5,ss=864e5;function as(e){const t=ts(e);return t.setHours(0,0,0,0),t}function ls(e){const t=ts(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function us(e,t){const n=as(e),i=as(t),r=+n-ls(n),o=+i-ls(i);return Math.round((r-o)/ss)}function cs(e,t){const n=ts(e),i=ts(t),r=ds(n,i),o=Math.abs(us(n,i));n.setDate(n.getDate()-r*o);const s=r*(o-Number(ds(n,i)===-r));return 0===s?0:s}function ds(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}let hs={};function ps(){return hs}function gs(e,t){const n=ps(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=ts(e),o=r.getDay(),s=(o<i?7:0)+o-i;return r.setDate(r.getDate()-s),r.setHours(0,0,0,0),r}function fs(e,t,n){const i=gs(e,n),r=gs(t,n),o=+i-ls(i),s=+r-ls(r);return Math.round((o-s)/os)}function ms(e,t){return is(e,12*t)}function vs(e,t){return ms(e,-t)}const ys={NODE_ENV:"production",PUBLIC_URL:"/finance",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FINAZON_API_KEY,ws=`${{NODE_ENV:"production",PUBLIC_URL:"/finance",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FINAZON_URL}/latest/finazon/forex`,Cs=es.create({baseURL:ws,headers:{Authorization:`apikey ${ys}`}}),bs=Fi("div")((()=>Li.AH`
    display: flex;
    flex-direction: row;
    column-gap: 10px;
  `));function Ss(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Ss(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const xs=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Ss(e))&&(i&&(i+=" "),i+=t);return i};function Ms(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const i={};return Object.keys(e).forEach((r=>{i[r]=e[r].reduce(((e,i)=>{if(i){const r=t(i);""!==r&&e.push(r),n&&n[i]&&e.push(n[i])}return e}),[]).join(" ")})),i}let _s=0;const Rs=s["useId".toString()];function Ds(e){if(void 0!==Rs){const t=Rs();return null!=e?e:t}return function(e){const[t,n]=o.useState(e),i=e||t;return o.useEffect((()=>{null==t&&(_s+=1,n(`mui-${_s}`))}),[t]),i}(e)}function Ps(e){let{controlled:t,default:n,name:i,state:r="value"}=e;const{current:s}=o.useRef(void 0!==t),[a,l]=o.useState(n);return[s?t:a,o.useCallback((e=>{s||l(e)}),[])]}const Ts=e=>{const t=o.useRef({});return o.useEffect((()=>{t.current=e})),t.current},As="undefined"!==typeof window?o.useLayoutEffect:o.useEffect;const Es=function(e){const t=o.useRef(e);return As((()=>{t.current=e})),o.useRef((function(){return(0,t.current)(...arguments)})).current};function Is(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function ks(e){return"undefined"!==typeof e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function Fs(e,t){for(let n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}const Ls=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:i,matchFrom:r="any",stringify:o,trim:s=!1}=e;return(e,a)=>{let{inputValue:l,getOptionLabel:u}=a,c=s?l.trim():l;n&&(c=c.toLowerCase()),t&&(c=ks(c));const d=c?e.filter((e=>{let i=(o||u)(e);return n&&(i=i.toLowerCase()),t&&(i=ks(i)),"start"===r?0===i.indexOf(c):i.indexOf(c)>-1})):e;return"number"===typeof i?d.slice(0,i):d}}(),Os=e=>{var t;return null!==e.current&&(null==(t=e.current.parentElement)?void 0:t.contains(document.activeElement))};const Ns=function(e){const{unstable_isActiveElementInListbox:t=Os,unstable_classNamePrefix:n="Mui",autoComplete:i=!1,autoHighlight:r=!1,autoSelect:s=!1,blurOnSelect:a=!1,clearOnBlur:l=!e.freeSolo,clearOnEscape:u=!1,componentName:c="useAutocomplete",defaultValue:d=(e.multiple?[]:null),disableClearable:h=!1,disableCloseOnSelect:p=!1,disabled:g,disabledItemsFocusable:f=!1,disableListWrap:m=!1,filterOptions:v=Ls,filterSelectedOptions:y=!1,freeSolo:w=!1,getOptionDisabled:C,getOptionKey:b,getOptionLabel:S=e=>{var t;return null!=(t=e.label)?t:e},groupBy:x,handleHomeEndKeys:M=!e.freeSolo,id:_,includeInputInList:R=!1,inputValue:D,isOptionEqualToValue:P=(e,t)=>e===t,multiple:T=!1,onChange:A,onClose:E,onHighlightChange:I,onInputChange:k,onOpen:F,open:L,openOnFocus:O=!1,options:N,readOnly:B=!1,selectOnFocus:G=!e.freeSolo,value:V}=e,z=Ds(_);let H=S;H=e=>{const t=S(e);return"string"!==typeof t?String(t):t};const W=o.useRef(!1),U=o.useRef(!0),j=o.useRef(null),$=o.useRef(null),[K,q]=o.useState(null),[Y,X]=o.useState(-1),Z=r?0:-1,Q=o.useRef(Z),[J,ee]=Ps({controlled:V,default:d,name:c}),[te,ne]=Ps({controlled:D,default:"",name:c,state:"inputValue"}),[ie,re]=o.useState(!1),oe=o.useCallback(((e,t)=>{if(!(T?J.length<t.length:null!==t)&&!l)return;let n;if(T)n="";else if(null==t)n="";else{const e=H(t);n="string"===typeof e?e:""}te!==n&&(ne(n),k&&k(e,n,"reset"))}),[H,te,T,k,ne,l,J]),[se,ae]=Ps({controlled:L,default:!1,name:c,state:"open"}),[le,ue]=o.useState(!0),ce=!T&&null!=J&&te===H(J),de=se&&!B,he=de?v(N.filter((e=>!y||!(T?J:[J]).some((t=>null!==t&&P(e,t))))),{inputValue:ce&&le?"":te,getOptionLabel:H}):[],pe=Ts({filteredOptions:he,value:J,inputValue:te});o.useEffect((()=>{const e=J!==pe.value;ie&&!e||w&&!e||oe(null,J)}),[J,oe,ie,pe.value,w]);const ge=se&&he.length>0&&!B,fe=Es((e=>{-1===e?j.current.focus():K.querySelector(`[data-tag-index="${e}"]`).focus()}));o.useEffect((()=>{T&&Y>J.length-1&&(X(-1),fe(-1))}),[J,T,Y,fe]);const me=Es((e=>{let{event:t,index:i,reason:r="auto"}=e;if(Q.current=i,-1===i?j.current.removeAttribute("aria-activedescendant"):j.current.setAttribute("aria-activedescendant",`${z}-option-${i}`),I&&I(t,-1===i?null:he[i],r),!$.current)return;const o=$.current.querySelector(`[role="option"].${n}-focused`);o&&(o.classList.remove(`${n}-focused`),o.classList.remove(`${n}-focusVisible`));let s=$.current;if("listbox"!==$.current.getAttribute("role")&&(s=$.current.parentElement.querySelector('[role="listbox"]')),!s)return;if(-1===i)return void(s.scrollTop=0);const a=$.current.querySelector(`[data-option-index="${i}"]`);if(a&&(a.classList.add(`${n}-focused`),"keyboard"===r&&a.classList.add(`${n}-focusVisible`),s.scrollHeight>s.clientHeight&&"mouse"!==r&&"touch"!==r)){const e=a,t=s.clientHeight+s.scrollTop,n=e.offsetTop+e.offsetHeight;n>t?s.scrollTop=n-s.clientHeight:e.offsetTop-e.offsetHeight*(x?1.3:0)<s.scrollTop&&(s.scrollTop=e.offsetTop-e.offsetHeight*(x?1.3:0))}})),ve=Es((e=>{let{event:t,diff:n,direction:r="next",reason:o="auto"}=e;if(!de)return;const s=function(e,t){if(!$.current||e<0||e>=he.length)return-1;let n=e;for(;;){const i=$.current.querySelector(`[data-option-index="${n}"]`),r=!f&&(!i||i.disabled||"true"===i.getAttribute("aria-disabled"));if(i&&i.hasAttribute("tabindex")&&!r)return n;if(n="next"===t?(n+1)%he.length:(n-1+he.length)%he.length,n===e)return-1}}((()=>{const e=he.length-1;if("reset"===n)return Z;if("start"===n)return 0;if("end"===n)return e;const t=Q.current+n;return t<0?-1===t&&R?-1:m&&-1!==Q.current||Math.abs(n)>1?0:e:t>e?t===e+1&&R?-1:m||Math.abs(n)>1?e:0:t})(),r);if(me({index:s,reason:o,event:t}),i&&"reset"!==n)if(-1===s)j.current.value=te;else{const e=H(he[s]);j.current.value=e;0===e.toLowerCase().indexOf(te.toLowerCase())&&te.length>0&&j.current.setSelectionRange(te.length,e.length)}})),ye=o.useCallback((()=>{if(!de)return;const e=(()=>{if(-1!==Q.current&&pe.filteredOptions&&pe.filteredOptions.length!==he.length&&pe.inputValue===te&&(T?J.length===pe.value.length&&pe.value.every(((e,t)=>H(J[t])===H(e))):(e=pe.value,t=J,(e?H(e):"")===(t?H(t):"")))){const e=pe.filteredOptions[Q.current];if(e)return Fs(he,(t=>H(t)===H(e)))}var e,t;return-1})();if(-1!==e)return void(Q.current=e);const t=T?J[0]:J;if(0!==he.length&&null!=t){if($.current)if(null==t)Q.current>=he.length-1?me({index:he.length-1}):me({index:Q.current});else{const e=he[Q.current];if(T&&e&&-1!==Fs(J,(t=>P(e,t))))return;const n=Fs(he,(e=>P(e,t)));-1===n?ve({diff:"reset"}):me({index:n})}}else ve({diff:"reset"})}),[he.length,!T&&J,y,ve,me,de,te,T]),we=Es((e=>{Is($,e),e&&ye()}));o.useEffect((()=>{ye()}),[ye]);const Ce=e=>{se||(ae(!0),ue(!0),F&&F(e))},be=(e,t)=>{se&&(ae(!1),E&&E(e,t))},Se=(e,t,n,i)=>{if(T){if(J.length===t.length&&J.every(((e,n)=>e===t[n])))return}else if(J===t)return;A&&A(e,t,n,i),ee(t)},xe=o.useRef(!1),Me=function(e,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",r=t;if(T){r=Array.isArray(J)?J.slice():[];const e=Fs(r,(e=>P(t,e)));-1===e?r.push(t):"freeSolo"!==n&&(r.splice(e,1),i="removeOption")}oe(e,r),Se(e,r,i,{option:t}),p||e&&(e.ctrlKey||e.metaKey)||be(e,i),(!0===a||"touch"===a&&xe.current||"mouse"===a&&!xe.current)&&j.current.blur()},_e=(e,t)=>{if(!T)return;""===te&&be(e,"toggleInput");let n=Y;-1===Y?""===te&&"previous"===t&&(n=J.length-1):(n+="next"===t?1:-1,n<0&&(n=0),n===J.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;let n=e;for(;;){if("next"===t&&n===J.length||"previous"===t&&-1===n)return-1;const e=K.querySelector(`[data-tag-index="${n}"]`);if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),X(n),fe(n)},Re=e=>{W.current=!0,ne(""),k&&k(e,"","clear"),Se(e,T?[]:null,"clear")},De=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==Y&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(X(-1),fe(-1)),229!==t.which))switch(t.key){case"Home":de&&M&&(t.preventDefault(),ve({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":de&&M&&(t.preventDefault(),ve({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),ve({diff:-5,direction:"previous",reason:"keyboard",event:t}),Ce(t);break;case"PageDown":t.preventDefault(),ve({diff:5,direction:"next",reason:"keyboard",event:t}),Ce(t);break;case"ArrowDown":t.preventDefault(),ve({diff:1,direction:"next",reason:"keyboard",event:t}),Ce(t);break;case"ArrowUp":t.preventDefault(),ve({diff:-1,direction:"previous",reason:"keyboard",event:t}),Ce(t);break;case"ArrowLeft":_e(t,"previous");break;case"ArrowRight":_e(t,"next");break;case"Enter":if(-1!==Q.current&&de){const e=he[Q.current],n=!!C&&C(e);if(t.preventDefault(),n)return;Me(t,e,"selectOption"),i&&j.current.setSelectionRange(j.current.value.length,j.current.value.length)}else w&&""!==te&&!1===ce&&(T&&t.preventDefault(),Me(t,te,"createOption","freeSolo"));break;case"Escape":de?(t.preventDefault(),t.stopPropagation(),be(t,"escape")):u&&(""!==te||T&&J.length>0)&&(t.preventDefault(),t.stopPropagation(),Re(t));break;case"Backspace":if(T&&!B&&""===te&&J.length>0){const e=-1===Y?J.length-1:Y,n=J.slice();n.splice(e,1),Se(t,n,"removeOption",{option:J[e]})}break;case"Delete":if(T&&!B&&""===te&&J.length>0&&-1!==Y){const e=Y,n=J.slice();n.splice(e,1),Se(t,n,"removeOption",{option:J[e]})}}},Pe=e=>{re(!0),O&&!W.current&&Ce(e)},Te=e=>{t($)?j.current.focus():(re(!1),U.current=!0,W.current=!1,s&&-1!==Q.current&&de?Me(e,he[Q.current],"blur"):s&&w&&""!==te?Me(e,te,"blur","freeSolo"):l&&oe(e,J),be(e,"blur"))},Ae=e=>{const t=e.target.value;te!==t&&(ne(t),ue(!1),k&&k(e,t,"input")),""===t?h||T||Se(e,null,"clear"):Ce(e)},Ee=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Q.current!==t&&me({event:e,index:t,reason:"mouse"})},Ie=e=>{me({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),xe.current=!0},ke=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Me(e,he[t],"selectOption"),xe.current=!1},Fe=e=>t=>{const n=J.slice();n.splice(e,1),Se(t,n,"removeOption",{option:J[e]})},Le=e=>{se?be(e,"toggleInput"):Ce(e)},Oe=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==z&&e.preventDefault()},Ne=e=>{e.currentTarget.contains(e.target)&&(j.current.focus(),G&&U.current&&j.current.selectionEnd-j.current.selectionStart===0&&j.current.select(),U.current=!1)},Be=e=>{g||""!==te&&se||Le(e)};let Ge=w&&te.length>0;Ge=Ge||(T?J.length>0:null!==J);let Ve=he;if(x){new Map;Ve=he.reduce(((e,t,n)=>{const i=x(t);return e.length>0&&e[e.length-1].group===i?e[e.length-1].options.push(t):e.push({key:n,index:n,group:i,options:[t]}),e}),[])}return g&&ie&&Te(),{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,qn.A)({"aria-owns":ge?`${z}-listbox`:null},e,{onKeyDown:De(e),onMouseDown:Oe,onClick:Ne})},getInputLabelProps:()=>({id:`${z}-label`,htmlFor:z}),getInputProps:()=>({id:z,value:te,onBlur:Te,onFocus:Pe,onChange:Ae,onMouseDown:Be,"aria-activedescendant":de?"":null,"aria-autocomplete":i?"both":"list","aria-controls":ge?`${z}-listbox`:void 0,"aria-expanded":ge,autoComplete:"off",ref:j,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:g}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Re}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Le}),getTagProps:e=>{let{index:t}=e;return(0,qn.A)({key:t,"data-tag-index":t,tabIndex:-1},!B&&{onDelete:Fe(t)})},getListboxProps:()=>({role:"listbox",id:`${z}-listbox`,"aria-labelledby":`${z}-label`,ref:we,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:e=>{let{index:t,option:n}=e;var i;const r=(T?J:[J]).some((e=>null!=e&&P(n,e))),o=!!C&&C(n);return{key:null!=(i=null==b?void 0:b(n))?i:H(n),tabIndex:-1,role:"option",id:`${z}-option-${t}`,onMouseMove:Ee,onClick:ke,onTouchStart:Ie,"data-option-index":t,"aria-disabled":o,"aria-selected":r}},id:z,inputValue:te,value:J,dirty:Ge,expanded:de&&K,popupOpen:de,focused:ie||-1!==Y,anchorEl:K,setAnchorEl:q,focusedTag:Y,groupedOptions:Ve}};var Bs=n(2374);function Gs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{Is(t,e)}))}),t)}function Vs(e){return e&&e.ownerDocument||document}function zs(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Hs(e){return e instanceof zs(e).Element||e instanceof Element}function Ws(e){return e instanceof zs(e).HTMLElement||e instanceof HTMLElement}function Us(e){return"undefined"!==typeof ShadowRoot&&(e instanceof zs(e).ShadowRoot||e instanceof ShadowRoot)}var js=Math.max,$s=Math.min,Ks=Math.round;function qs(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Ys(){return!/^((?!chrome|android).)*safari/i.test(qs())}function Xs(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),r=1,o=1;t&&Ws(e)&&(r=e.offsetWidth>0&&Ks(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Ks(i.height)/e.offsetHeight||1);var s=(Hs(e)?zs(e):window).visualViewport,a=!Ys()&&n,l=(i.left+(a&&s?s.offsetLeft:0))/r,u=(i.top+(a&&s?s.offsetTop:0))/o,c=i.width/r,d=i.height/o;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l,x:l,y:u}}function Zs(e){var t=zs(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Qs(e){return e?(e.nodeName||"").toLowerCase():null}function Js(e){return((Hs(e)?e.ownerDocument:e.document)||window.document).documentElement}function ea(e){return Xs(Js(e)).left+Zs(e).scrollLeft}function ta(e){return zs(e).getComputedStyle(e)}function na(e){var t=ta(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function ia(e,t,n){void 0===n&&(n=!1);var i=Ws(t),r=Ws(t)&&function(e){var t=e.getBoundingClientRect(),n=Ks(t.width)/e.offsetWidth||1,i=Ks(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),o=Js(t),s=Xs(e,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&(("body"!==Qs(t)||na(o))&&(a=function(e){return e!==zs(e)&&Ws(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Zs(e);var t}(t)),Ws(t)?((l=Xs(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=ea(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function ra(e){var t=Xs(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function oa(e){return"html"===Qs(e)?e:e.assignedSlot||e.parentNode||(Us(e)?e.host:null)||Js(e)}function sa(e){return["html","body","#document"].indexOf(Qs(e))>=0?e.ownerDocument.body:Ws(e)&&na(e)?e:sa(oa(e))}function aa(e,t){var n;void 0===t&&(t=[]);var i=sa(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),o=zs(i),s=r?[o].concat(o.visualViewport||[],na(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(aa(oa(s)))}function la(e){return["table","td","th"].indexOf(Qs(e))>=0}function ua(e){return Ws(e)&&"fixed"!==ta(e).position?e.offsetParent:null}function ca(e){for(var t=zs(e),n=ua(e);n&&la(n)&&"static"===ta(n).position;)n=ua(n);return n&&("html"===Qs(n)||"body"===Qs(n)&&"static"===ta(n).position)?t:n||function(e){var t=/firefox/i.test(qs());if(/Trident/i.test(qs())&&Ws(e)&&"fixed"===ta(e).position)return null;var n=oa(e);for(Us(n)&&(n=n.host);Ws(n)&&["html","body"].indexOf(Qs(n))<0;){var i=ta(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}var da="top",ha="bottom",pa="right",ga="left",fa="auto",ma=[da,ha,pa,ga],va="start",ya="end",wa="clippingParents",Ca="viewport",ba="popper",Sa="reference",xa=ma.reduce((function(e,t){return e.concat([t+"-"+va,t+"-"+ya])}),[]),Ma=[].concat(ma,[fa]).reduce((function(e,t){return e.concat([t,t+"-"+va,t+"-"+ya])}),[]),_a=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ra(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),i}function Da(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Pa={placement:"bottom",modifiers:[],strategy:"absolute"};function Ta(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Aa(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?Pa:r;return function(e,t,n){void 0===n&&(n=o);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},Pa,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:r,setOptions:function(n){var a="function"===typeof n?n(r.options):n;u(),r.options=Object.assign({},o,r.options,a),r.scrollParents={reference:Hs(e)?aa(e):e.contextElement?aa(e.contextElement):[],popper:aa(t)};var c=function(e){var t=Ra(e);return _a.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,r.options.modifiers)));return r.orderedModifiers=c.filter((function(e){return e.enabled})),r.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:r,name:t,instance:l,options:i}),u=function(){};s.push(a||u)}})),l.update()},forceUpdate:function(){if(!a){var e=r.elements,t=e.reference,n=e.popper;if(Ta(t,n)){r.rects={reference:ia(t,ca(n),"fixed"===r.options.strategy),popper:ra(n)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(e){return r.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<r.orderedModifiers.length;i++)if(!0!==r.reset){var o=r.orderedModifiers[i],s=o.fn,u=o.options,c=void 0===u?{}:u,d=o.name;"function"===typeof s&&(r=s({state:r,options:c,name:d,instance:l})||r)}else r.reset=!1,i=-1}}},update:Da((function(){return new Promise((function(e){l.forceUpdate(),e(r)}))})),destroy:function(){u(),a=!0}};if(!Ta(e,t))return l;function u(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var Ea={passive:!0};function Ia(e){return e.split("-")[0]}function ka(e){return e.split("-")[1]}function Fa(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function La(e){var t,n=e.reference,i=e.element,r=e.placement,o=r?Ia(r):null,s=r?ka(r):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case da:t={x:a,y:n.y-i.height};break;case ha:t={x:a,y:n.y+n.height};break;case pa:t={x:n.x+n.width,y:l};break;case ga:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var u=o?Fa(o):null;if(null!=u){var c="y"===u?"height":"width";switch(s){case va:t[u]=t[u]-(n[c]/2-i[c]/2);break;case ya:t[u]=t[u]+(n[c]/2-i[c]/2)}}return t}var Oa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Na(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,h=s.x,p=void 0===h?0:h,g=s.y,f=void 0===g?0:g,m="function"===typeof c?c({x:p,y:f}):{x:p,y:f};p=m.x,f=m.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),w=ga,C=da,b=window;if(u){var S=ca(n),x="clientHeight",M="clientWidth";if(S===zs(n)&&"static"!==ta(S=Js(n)).position&&"absolute"===a&&(x="scrollHeight",M="scrollWidth"),r===da||(r===ga||r===pa)&&o===ya)C=ha,f-=(d&&S===b&&b.visualViewport?b.visualViewport.height:S[x])-i.height,f*=l?1:-1;if(r===ga||(r===da||r===ha)&&o===ya)w=pa,p-=(d&&S===b&&b.visualViewport?b.visualViewport.width:S[M])-i.width,p*=l?1:-1}var _,R=Object.assign({position:a},u&&Oa),D=!0===c?function(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:Ks(n*r)/r||0,y:Ks(i*r)/r||0}}({x:p,y:f},zs(n)):{x:p,y:f};return p=D.x,f=D.y,l?Object.assign({},R,((_={})[C]=y?"0":"",_[w]=v?"0":"",_.transform=(b.devicePixelRatio||1)<=1?"translate("+p+"px, "+f+"px)":"translate3d("+p+"px, "+f+"px, 0)",_)):Object.assign({},R,((t={})[C]=y?f+"px":"",t[w]=v?p+"px":"",t.transform="",t))}const Ba={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,s=Ma.reduce((function(e,n){return e[n]=function(e,t,n){var i=Ia(e),r=[ga,da].indexOf(i)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[ga,pa].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[i]=s}};var Ga={left:"right",right:"left",bottom:"top",top:"bottom"};function Va(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ga[e]}))}var za={start:"end",end:"start"};function Ha(e){return e.replace(/start|end/g,(function(e){return za[e]}))}function Wa(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Us(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ua(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ja(e,t,n){return t===Ca?Ua(function(e,t){var n=zs(e),i=Js(e),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var u=Ys();(u||!u&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+ea(e),y:l}}(e,n)):Hs(t)?function(e,t){var n=Xs(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Ua(function(e){var t,n=Js(e),i=Zs(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=js(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=js(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+ea(e),l=-i.scrollTop;return"rtl"===ta(r||n).direction&&(a+=js(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(Js(e)))}function $a(e,t,n,i){var r="clippingParents"===t?function(e){var t=aa(oa(e)),n=["absolute","fixed"].indexOf(ta(e).position)>=0&&Ws(e)?ca(e):e;return Hs(n)?t.filter((function(e){return Hs(e)&&Wa(e,n)&&"body"!==Qs(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),s=o[0],a=o.reduce((function(t,n){var r=ja(e,n,i);return t.top=js(r.top,t.top),t.right=$s(r.right,t.right),t.bottom=$s(r.bottom,t.bottom),t.left=js(r.left,t.left),t}),ja(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ka(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function qa(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Ya(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=void 0===i?e.placement:i,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?wa:a,u=n.rootBoundary,c=void 0===u?Ca:u,d=n.elementContext,h=void 0===d?ba:d,p=n.altBoundary,g=void 0!==p&&p,f=n.padding,m=void 0===f?0:f,v=Ka("number"!==typeof m?m:qa(m,ma)),y=h===ba?Sa:ba,w=e.rects.popper,C=e.elements[g?y:h],b=$a(Hs(C)?C:C.contextElement||Js(e.elements.popper),l,c,s),S=Xs(e.elements.reference),x=La({reference:S,element:w,strategy:"absolute",placement:r}),M=Ua(Object.assign({},w,x)),_=h===ba?M:S,R={top:b.top-_.top+v.top,bottom:_.bottom-b.bottom+v.bottom,left:b.left-_.left+v.left,right:_.right-b.right+v.right},D=e.modifiersData.offset;if(h===ba&&D){var P=D[r];Object.keys(R).forEach((function(e){var t=[pa,ha].indexOf(e)>=0?1:-1,n=[da,ha].indexOf(e)>=0?"y":"x";R[e]+=P[n]*t}))}return R}const Xa={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,g=void 0===p||p,f=n.allowedAutoPlacements,m=t.options.placement,v=Ia(m),y=l||(v===m||!g?[Va(m)]:function(e){if(Ia(e)===fa)return[];var t=Va(e);return[Ha(e),t,Ha(t)]}(m)),w=[m].concat(y).reduce((function(e,n){return e.concat(Ia(n)===fa?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?Ma:l,c=ka(i),d=c?a?xa:xa.filter((function(e){return ka(e)===c})):ma,h=d.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=Ya(e,{placement:n,boundary:r,rootBoundary:o,padding:s})[Ia(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:g,allowedAutoPlacements:f}):n)}),[]),C=t.rects.reference,b=t.rects.popper,S=new Map,x=!0,M=w[0],_=0;_<w.length;_++){var R=w[_],D=Ia(R),P=ka(R)===va,T=[da,ha].indexOf(D)>=0,A=T?"width":"height",E=Ya(t,{placement:R,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),I=T?P?pa:ga:P?ha:da;C[A]>b[A]&&(I=Va(I));var k=Va(I),F=[];if(o&&F.push(E[D]<=0),a&&F.push(E[I]<=0,E[k]<=0),F.every((function(e){return e}))){M=R,x=!1;break}S.set(R,F)}if(x)for(var L=function(e){var t=w.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return M=t,"break"},O=g?3:1;O>0;O--){if("break"===L(O))break}t.placement!==M&&(t.modifiersData[i]._skip=!0,t.placement=M,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Za(e,t,n){return js(e,$s(t,n))}const Qa={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,g=n.tetherOffset,f=void 0===g?0:g,m=Ya(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),v=Ia(t.placement),y=ka(t.placement),w=!y,C=Fa(v),b="x"===C?"y":"x",S=t.modifiersData.popperOffsets,x=t.rects.reference,M=t.rects.popper,_="function"===typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,R="number"===typeof _?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(S){if(o){var T,A="y"===C?da:ga,E="y"===C?ha:pa,I="y"===C?"height":"width",k=S[C],F=k+m[A],L=k-m[E],O=p?-M[I]/2:0,N=y===va?x[I]:M[I],B=y===va?-M[I]:-x[I],G=t.elements.arrow,V=p&&G?ra(G):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=z[A],W=z[E],U=Za(0,x[I],V[I]),j=w?x[I]/2-O-U-H-R.mainAxis:N-U-H-R.mainAxis,$=w?-x[I]/2+O+U+W+R.mainAxis:B+U+W+R.mainAxis,K=t.elements.arrow&&ca(t.elements.arrow),q=K?"y"===C?K.clientTop||0:K.clientLeft||0:0,Y=null!=(T=null==D?void 0:D[C])?T:0,X=k+$-Y,Z=Za(p?$s(F,k+j-Y-q):F,k,p?js(L,X):L);S[C]=Z,P[C]=Z-k}if(a){var Q,J="x"===C?da:ga,ee="x"===C?ha:pa,te=S[b],ne="y"===b?"height":"width",ie=te+m[J],re=te-m[ee],oe=-1!==[da,ga].indexOf(v),se=null!=(Q=null==D?void 0:D[b])?Q:0,ae=oe?ie:te-x[ne]-M[ne]-se+R.altAxis,le=oe?te+x[ne]+M[ne]-se-R.altAxis:re,ue=p&&oe?function(e,t,n){var i=Za(e,t,n);return i>n?n:i}(ae,te,le):Za(p?ae:ie,te,p?le:re);S[b]=ue,P[b]=ue-te}t.modifiersData[i]=P}},requiresIfExists:["offset"]};const Ja={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Ia(n.placement),l=Fa(a),u=[ga,pa].indexOf(a)>=0?"height":"width";if(o&&s){var c=function(e,t){return Ka("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:qa(e,ma))}(r.padding,n),d=ra(o),h="y"===l?da:ga,p="y"===l?ha:pa,g=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],f=s[l]-n.rects.reference[l],m=ca(o),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,y=g/2-f/2,w=c[h],C=v-d[u]-c[p],b=v/2-d[u]/2+y,S=Za(w,b,C),x=l;n.modifiersData[i]=((t={})[x]=S,t.centerOffset=S-b,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i)))&&Wa(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function el(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function tl(e){return[da,pa,ha,ga].some((function(t){return e[t]>=0}))}var nl=Aa({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=void 0===r||r,s=i.resize,a=void 0===s||s,l=zs(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,Ea)})),a&&l.addEventListener("resize",n.update,Ea),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,Ea)})),a&&l.removeEventListener("resize",n.update,Ea)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=La({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,u={placement:Ia(t.placement),variation:ka(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Na(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Na(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];Ws(r)&&Qs(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Ws(i)&&Qs(i)&&(Object.assign(i.style,o),Object.keys(r).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]},Ba,Xa,Qa,Ja,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=Ya(t,{elementContext:"reference"}),a=Ya(t,{altBoundary:!0}),l=el(s,i),u=el(a,r,o),c=tl(l),d=tl(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]});const il=function(e){return"string"===typeof e};const rl=function(e,t,n){return void 0===e||il(e)?t:(0,qn.A)({},t,{ownerState:(0,qn.A)({},t.ownerState,n)})};const ol=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const sl=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const al=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:i,externalForwardedProps:r,className:o}=e;if(!t){const e=xs(null==n?void 0:n.className,o,null==r?void 0:r.className,null==i?void 0:i.className),t=(0,qn.A)({},null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),s=(0,qn.A)({},n,r,i);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=ol((0,qn.A)({},r,i)),a=sl(i),l=sl(r),u=t(s),c=xs(null==u?void 0:u.className,null==n?void 0:n.className,o,null==r?void 0:r.className,null==i?void 0:i.className),d=(0,qn.A)({},null==u?void 0:u.style,null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),h=(0,qn.A)({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}};const ll=function(e,t,n){return"function"===typeof e?e(t,n):e},ul=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const cl=function(e){var t;const{elementType:n,externalSlotProps:i,ownerState:r,skipResolvingSlotProps:o=!1}=e,s=(0,Yn.A)(e,ul),a=o?{}:ll(i,r),{props:l,internalRef:u}=al((0,qn.A)({},s,{externalSlotProps:a})),c=Gs(u,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref);return rl(n,(0,qn.A)({},l,{ref:c}),r)};var dl=n(579);const hl=o.forwardRef((function(e,t){const{children:n,container:i,disablePortal:r=!1}=e,[s,l]=o.useState(null),u=Gs(o.isValidElement(n)?n.ref:null,t);if(As((()=>{r||l(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,r]),As((()=>{if(s&&!r)return Is(t,s),()=>{Is(t,null)}}),[t,s,r]),r){if(o.isValidElement(n)){const e={ref:u};return o.cloneElement(n,e)}return(0,dl.jsx)(o.Fragment,{children:n})}return(0,dl.jsx)(o.Fragment,{children:s?a.createPortal(n,s):s})})),pl=e=>e,gl=(()=>{let e=pl;return{configure(t){e=t},generate:t=>e(t),reset(){e=pl}}})(),fl={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ml(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i=fl[t];return i?`${n}-${i}`:`${gl.generate(e)}-${t}`}function vl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i={};return t.forEach((t=>{i[t]=ml(e,t,n)})),i}function yl(e){return ml("MuiPopper",e)}vl("MuiPopper",["root"]);const wl=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Cl=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function bl(e){return"function"===typeof e?e():e}function Sl(e){return void 0!==e.nodeType}const xl={},Ml=o.forwardRef((function(e,t){var n;const{anchorEl:i,children:r,direction:s,disablePortal:a,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:h,slotProps:p={},slots:g={},TransitionProps:f}=e,m=(0,Yn.A)(e,wl),v=o.useRef(null),y=Gs(v,t),w=o.useRef(null),C=Gs(w,h),b=o.useRef(C);As((()=>{b.current=C}),[C]),o.useImperativeHandle(h,(()=>w.current),[]);const S=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(c,s),[x,M]=o.useState(S),[_,R]=o.useState(bl(i));o.useEffect((()=>{w.current&&w.current.forceUpdate()})),o.useEffect((()=>{i&&R(bl(i))}),[i]),As((()=>{if(!_||!u)return;let e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;(e=>{M(e.placement)})(t)}}];null!=l&&(e=e.concat(l)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));const t=nl(_,v.current,(0,qn.A)({placement:S},d,{modifiers:e}));return b.current(t),()=>{t.destroy(),b.current(null)}}),[_,a,l,u,d,S]);const D={placement:x};null!==f&&(D.TransitionProps=f);const P=(e=>{const{classes:t}=e;return Ms({root:["root"]},yl,t)})(e),T=null!=(n=g.root)?n:"div",A=cl({elementType:T,externalSlotProps:p.root,externalForwardedProps:m,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:P.root});return(0,dl.jsx)(T,(0,qn.A)({},A,{children:"function"===typeof r?r(D):r}))})),_l=o.forwardRef((function(e,t){const{anchorEl:n,children:i,container:r,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=xl,popperRef:p,style:g,transition:f=!1,slotProps:m={},slots:v={}}=e,y=(0,Yn.A)(e,Cl),[w,C]=o.useState(!0);if(!l&&!c&&(!f||w))return null;let b;if(r)b=r;else if(n){const e=bl(n);b=e&&Sl(e)?Vs(e).body:Vs(null).body}const S=c||!l||f&&!w?void 0:"none",x=f?{in:c,onEnter:()=>{C(!1)},onExited:()=>{C(!0)}}:void 0;return(0,dl.jsx)(hl,{disablePortal:a,container:b,children:(0,dl.jsx)(Ml,(0,qn.A)({anchorEl:n,direction:s,disablePortal:a,modifiers:u,ref:t,open:f?!w:c,placement:d,popperOptions:h,popperRef:p,slotProps:m,slots:v},y,{style:(0,qn.A)({position:"fixed",top:0,left:0,display:S},g),TransitionProps:x,children:i}))})}));function Rl(e,t){const n=(0,qn.A)({},t);return Object.keys(e).forEach((i=>{if(i.toString().match(/^(components|slots)$/))n[i]=(0,qn.A)({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const r=e[i]||{},o=t[i];n[i]={},o&&Object.keys(o)?r&&Object.keys(r)?(n[i]=(0,qn.A)({},o),Object.keys(r).forEach((e=>{n[i][e]=Rl(r[e],o[e])}))):n[i]=o:n[i]=r}else void 0===n[i]&&(n[i]=e[i])})),n}const Dl=o.createContext(void 0);function Pl(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:i}=e;if(!t||!t.components||!t.components[n])return i;const r=t.components[n];return r.defaultProps?Rl(r.defaultProps,i):r.styleOverrides||r.variants?i:Rl(r,i)}({props:t,name:n,theme:{components:o.useContext(Dl)}})}function Tl(e){return Pl(e)}const Al=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],El=Fi(_l,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Il=o.forwardRef((function(e,t){var n;const i=(0,Bs.A)(),r=Tl({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:u,disablePortal:c,keepMounted:d,modifiers:h,open:p,placement:g,popperOptions:f,popperRef:m,transition:v,slots:y,slotProps:w}=r,C=(0,Yn.A)(r,Al),b=null!=(n=null==y?void 0:y.root)?n:null==a?void 0:a.Root,S=(0,qn.A)({anchorEl:o,container:u,disablePortal:c,keepMounted:d,modifiers:h,open:p,placement:g,popperOptions:f,popperRef:m,transition:v},C);return(0,dl.jsx)(El,(0,qn.A)({as:s,direction:null==i?void 0:i.direction,slots:{root:b},slotProps:null!=w?w:l},S,{ref:t}))})),kl=Il;const Fl=n(7598).A;function Ll(e){return ml("MuiListSubheader",e)}vl("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Ol=["className","color","component","disableGutters","disableSticky","inset"],Nl=Fi("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${Fl(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})((e=>{let{theme:t,ownerState:n}=e;return(0,qn.A)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},"primary"===n.color&&{color:(t.vars||t).palette.primary.main},"inherit"===n.color&&{color:"inherit"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.inset&&{paddingLeft:72},!n.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})})),Bl=o.forwardRef((function(e,t){const n=Tl({props:e,name:"MuiListSubheader"}),{className:i,color:r="default",component:o="li",disableGutters:s=!1,disableSticky:a=!1,inset:l=!1}=n,u=(0,Yn.A)(n,Ol),c=(0,qn.A)({},n,{color:r,component:o,disableGutters:s,disableSticky:a,inset:l}),d=(e=>{const{classes:t,color:n,disableGutters:i,inset:r,disableSticky:o}=e;return Ms({root:["root","default"!==n&&`color${Fl(n)}`,!i&&"gutters",r&&"inset",!o&&"sticky"]},Ll,t)})(c);return(0,dl.jsx)(Nl,(0,qn.A)({as:o,className:xs(d.root,i),ref:t,ownerState:c},u))}));Bl.muiSkipListHighlight=!0;const Gl=Bl,Vl=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function zl(e){return ml("MuiPaper",e)}vl("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Hl=["className","component","elevation","square","variant"],Wl=Fi("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((e=>{let{theme:t,ownerState:n}=e;var i;return(0,qn.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.divider}`},"elevation"===n.variant&&(0,qn.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${(0,ti.X4)("#fff",Vl(n.elevation))}, ${(0,ti.X4)("#fff",Vl(n.elevation))})`},t.vars&&{backgroundImage:null==(i=t.vars.overlays)?void 0:i[n.elevation]}))})),Ul=o.forwardRef((function(e,t){const n=Tl({props:e,name:"MuiPaper"}),{className:i,component:r="div",elevation:o=1,square:s=!1,variant:a="elevation"}=n,l=(0,Yn.A)(n,Hl),u=(0,qn.A)({},n,{component:r,elevation:o,square:s,variant:a}),c=(e=>{const{square:t,elevation:n,variant:i,classes:r}=e;return Ms({root:["root",i,!t&&"rounded","elevation"===i&&`elevation${n}`]},zl,r)})(u);return(0,dl.jsx)(Wl,(0,qn.A)({as:r,ownerState:u,className:xs(c.root,i),ref:t},l))})),jl=Gs,$l=Es,Kl={};const ql=[];class Yl{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Yl}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function Xl(){const e=function(e,t){const n=o.useRef(Kl);return n.current===Kl&&(n.current=e(t)),n}(Yl.create).current;return function(e){o.useEffect(e,ql)}(e.disposeEffect),e}let Zl=!0,Ql=!1;const Jl=new Yl,eu={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function tu(e){e.metaKey||e.altKey||e.ctrlKey||(Zl=!0)}function nu(){Zl=!1}function iu(){"hidden"===this.visibilityState&&Ql&&(Zl=!0)}function ru(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return Zl||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!eu[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const ou=function(){const e=o.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",tu,!0),t.addEventListener("mousedown",nu,!0),t.addEventListener("pointerdown",nu,!0),t.addEventListener("touchstart",nu,!0),t.addEventListener("visibilitychange",iu,!0))}),[]),t=o.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!ru(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Ql=!0,Jl.start(100,(()=>{Ql=!1})),t.current=!1,!0)},ref:e}};function su(e,t){return su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},su(e,t)}function au(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,su(e,t)}const lu=o.createContext(null);function uu(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,o.isValidElement)(e)?t(e):e}(e)})),n}function cu(e,t,n){return null!=n[t]?n[t]:e.props[t]}function du(e,t,n){var i=uu(e.children),r=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),o=[];for(var s in e)s in t?o.length&&(r[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(r[l])for(i=0;i<r[l].length;i++){var u=r[l][i];a[r[l][i]]=n(u)}a[l]=n(l)}for(i=0;i<o.length;i++)a[o[i]]=n(o[i]);return a}(t,i);return Object.keys(r).forEach((function(s){var a=r[s];if((0,o.isValidElement)(a)){var l=s in t,u=s in i,c=t[s],d=(0,o.isValidElement)(c)&&!c.props.in;!u||l&&!d?u||!l||d?u&&l&&(0,o.isValidElement)(c)&&(r[s]=(0,o.cloneElement)(a,{onExited:n.bind(null,a),in:c.props.in,exit:cu(a,"exit",e),enter:cu(a,"enter",e)})):r[s]=(0,o.cloneElement)(a,{in:!1}):r[s]=(0,o.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:cu(a,"exit",e),enter:cu(a,"enter",e)})}})),r}var hu=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},pu=function(e){function t(t,n){var i,r=(i=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}au(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,i,r=t.children,s=t.handleExited;return{children:t.firstRender?(n=e,i=s,uu(n.children,(function(e){return(0,o.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:cu(e,"appear",n),enter:cu(e,"enter",n),exit:cu(e,"exit",n)})}))):du(e,r,s),firstRender:!1}},n.handleExited=function(e,t){var n=uu(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,qn.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=(0,Yn.A)(e,["component","childFactory"]),r=this.state.contextValue,s=hu(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?o.createElement(lu.Provider,{value:r},s):o.createElement(lu.Provider,{value:r},o.createElement(t,i,s))},t}(o.Component);pu.propTypes={},pu.defaultProps={component:"div",childFactory:function(e){return e}};const gu=pu;const fu=function(e){const{className:t,classes:n,pulsate:i=!1,rippleX:r,rippleY:s,rippleSize:a,in:l,onExited:u,timeout:c}=e,[d,h]=o.useState(!1),p=xs(t,n.ripple,n.rippleVisible,i&&n.ripplePulsate),g={width:a,height:a,top:-a/2+s,left:-a/2+r},f=xs(n.child,d&&n.childLeaving,i&&n.childPulsate);return l||d||h(!0),o.useEffect((()=>{if(!l&&null!=u){const e=setTimeout(u,c);return()=>{clearTimeout(e)}}}),[u,l,c]),(0,dl.jsx)("span",{className:p,style:g,children:(0,dl.jsx)("span",{className:f})})};const mu=vl("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),vu=["center","classes","className"];let yu,wu,Cu,bu,Su=e=>e;const xu=(0,Li.i7)(yu||(yu=Su`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Mu=(0,Li.i7)(wu||(wu=Su`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),_u=(0,Li.i7)(Cu||(Cu=Su`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Ru=Fi("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Du=Fi(fu,{name:"MuiTouchRipple",slot:"Ripple"})(bu||(bu=Su`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),mu.rippleVisible,xu,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),mu.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),mu.child,mu.childLeaving,Mu,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),mu.childPulsate,_u,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),Pu=o.forwardRef((function(e,t){const n=Tl({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:r={},className:s}=n,a=(0,Yn.A)(n,vu),[l,u]=o.useState([]),c=o.useRef(0),d=o.useRef(null);o.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=o.useRef(!1),p=Xl(),g=o.useRef(null),f=o.useRef(null),m=o.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:i,rippleSize:o,cb:s}=e;u((e=>[...e,(0,dl.jsx)(Du,{classes:{ripple:xs(r.ripple,mu.ripple),rippleVisible:xs(r.rippleVisible,mu.rippleVisible),ripplePulsate:xs(r.ripplePulsate,mu.ripplePulsate),child:xs(r.child,mu.child),childLeaving:xs(r.childLeaving,mu.childLeaving),childPulsate:xs(r.childPulsate,mu.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:i,rippleSize:o},c.current)])),c.current+=1,d.current=s}),[r]),v=o.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const a=s?null:f.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let u,c,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(l.width/2),c=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;u=Math.round(t-l.left),c=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-u),u)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-c),c)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===g.current&&(g.current=()=>{m({pulsate:r,rippleX:u,rippleY:c,rippleSize:d,cb:n})},p.start(80,(()=>{g.current&&(g.current(),g.current=null)}))):m({pulsate:r,rippleX:u,rippleY:c,rippleSize:d,cb:n})}),[i,m,p]),y=o.useCallback((()=>{v({},{pulsate:!0})}),[v]),w=o.useCallback(((e,t)=>{if(p.clear(),"touchend"===(null==e?void 0:e.type)&&g.current)return g.current(),g.current=null,void p.start(0,(()=>{w(e,t)}));g.current=null,u((e=>e.length>0?e.slice(1):e)),d.current=t}),[p]);return o.useImperativeHandle(t,(()=>({pulsate:y,start:v,stop:w})),[y,v,w]),(0,dl.jsx)(Ru,(0,qn.A)({className:xs(mu.root,r.root,s),ref:f},a,{children:(0,dl.jsx)(gu,{component:null,exit:!0,children:l})}))})),Tu=Pu;function Au(e){return ml("MuiButtonBase",e)}const Eu=vl("MuiButtonBase",["root","disabled","focusVisible"]),Iu=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],ku=Fi("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Eu.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Fu=o.forwardRef((function(e,t){const n=Tl({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:r=!1,children:s,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:g,onClick:f,onContextMenu:m,onDragLeave:v,onFocus:y,onFocusVisible:w,onKeyDown:C,onKeyUp:b,onMouseDown:S,onMouseLeave:x,onMouseUp:M,onTouchEnd:_,onTouchMove:R,onTouchStart:D,tabIndex:P=0,TouchRippleProps:T,touchRippleRef:A,type:E}=n,I=(0,Yn.A)(n,Iu),k=o.useRef(null),F=o.useRef(null),L=jl(F,A),{isFocusVisibleRef:O,onFocus:N,onBlur:B,ref:G}=ou(),[V,z]=o.useState(!1);u&&V&&z(!1),o.useImperativeHandle(i,(()=>({focusVisible:()=>{z(!0),k.current.focus()}})),[]);const[H,W]=o.useState(!1);o.useEffect((()=>{W(!0)}),[]);const U=H&&!c&&!u;function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return $l((i=>{t&&t(i);return!n&&F.current&&F.current[e](i),!0}))}o.useEffect((()=>{V&&h&&!c&&H&&F.current.pulsate()}),[c,h,V,H]);const $=j("start",S),K=j("stop",m),q=j("stop",v),Y=j("stop",M),X=j("stop",(e=>{V&&e.preventDefault(),x&&x(e)})),Z=j("start",D),Q=j("stop",_),J=j("stop",R),ee=j("stop",(e=>{B(e),!1===O.current&&z(!1),g&&g(e)}),!1),te=$l((e=>{k.current||(k.current=e.currentTarget),N(e),!0===O.current&&(z(!0),w&&w(e)),y&&y(e)})),ne=()=>{const e=k.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ie=o.useRef(!1),re=$l((e=>{h&&!ie.current&&V&&F.current&&" "===e.key&&(ie.current=!0,F.current.stop(e,(()=>{F.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!u&&(e.preventDefault(),f&&f(e))})),oe=$l((e=>{h&&" "===e.key&&F.current&&V&&!e.defaultPrevented&&(ie.current=!1,F.current.stop(e,(()=>{F.current.pulsate(e)}))),b&&b(e),f&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&f(e)}));let se=l;"button"===se&&(I.href||I.to)&&(se=p);const ae={};"button"===se?(ae.type=void 0===E?"button":E,ae.disabled=u):(I.href||I.to||(ae.role="button"),u&&(ae["aria-disabled"]=u));const le=jl(t,G,k);const ue=(0,qn.A)({},n,{centerRipple:r,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:P,focusVisible:V}),ce=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:i,classes:r}=e,o=Ms({root:["root",t&&"disabled",n&&"focusVisible"]},Au,r);return n&&i&&(o.root+=` ${i}`),o})(ue);return(0,dl.jsxs)(ku,(0,qn.A)({as:se,className:xs(ce.root,a),ownerState:ue,onBlur:ee,onClick:f,onContextMenu:K,onFocus:te,onKeyDown:re,onKeyUp:oe,onMouseDown:$,onMouseLeave:X,onMouseUp:Y,onDragLeave:q,onTouchEnd:Q,onTouchMove:J,onTouchStart:Z,ref:le,tabIndex:u?-1:P,type:E},ae,I,{children:[s,U?(0,dl.jsx)(Tu,(0,qn.A)({ref:L,center:r},T)):null]}))})),Lu=Fu;function Ou(e){return ml("MuiIconButton",e)}const Nu=vl("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Bu=["edge","children","className","color","disabled","disableFocusRipple","size"],Gu=Fi(Lu,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${Fl(n.color)}`],n.edge&&t[`edge${Fl(n.edge)}`],t[`size${Fl(n.size)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,qn.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,ti.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var i;const r=null==(i=(t.vars||t).palette)?void 0:i[n.color];return(0,qn.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,qn.A)({color:null==r?void 0:r.main},!n.disableRipple&&{"&:hover":(0,qn.A)({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,ti.X4)(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Nu.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),Vu=o.forwardRef((function(e,t){const n=Tl({props:e,name:"MuiIconButton"}),{edge:i=!1,children:r,className:o,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:u="medium"}=n,c=(0,Yn.A)(n,Bu),d=(0,qn.A)({},n,{edge:i,color:s,disabled:a,disableFocusRipple:l,size:u}),h=(e=>{const{classes:t,disabled:n,color:i,edge:r,size:o}=e;return Ms({root:["root",n&&"disabled","default"!==i&&`color${Fl(i)}`,r&&`edge${Fl(r)}`,`size${Fl(o)}`]},Ou,t)})(d);return(0,dl.jsx)(Gu,(0,qn.A)({className:xs(h.root,o),centerRipple:!0,focusRipple:!l,disabled:a,ref:t},c,{ownerState:d,children:r}))}));function zu(e){return ml("MuiSvgIcon",e)}vl("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Hu=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Wu=Fi("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${Fl(n.color)}`],t[`fontSize${Fl(n.fontSize)}`]]}})((e=>{let{theme:t,ownerState:n}=e;var i,r,o,s,a,l,u,c,d,h,p,g,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(i=t.transitions)||null==(r=i.create)?void 0:r.call(i,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(u=l.pxToRem)?void 0:u.call(l,24))||"1.5rem",large:(null==(c=t.typography)||null==(d=c.pxToRem)?void 0:d.call(c,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?h:{action:null==(g=(t.vars||t).palette)||null==(g=g.action)?void 0:g.active,disabled:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.disabled,inherit:void 0}[n.color]}})),Uu=o.forwardRef((function(e,t){const n=Tl({props:e,name:"MuiSvgIcon"}),{children:i,className:r,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=n,p=(0,Yn.A)(n,Hu),g=o.isValidElement(i)&&"svg"===i.type,f=(0,qn.A)({},n,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:g}),m={};c||(m.viewBox=h);const v=(e=>{const{color:t,fontSize:n,classes:i}=e;return Ms({root:["root","inherit"!==t&&`color${Fl(t)}`,`fontSize${Fl(n)}`]},zu,i)})(f);return(0,dl.jsxs)(Wu,(0,qn.A)({as:a,className:xs(v.root,r),focusable:"false",color:u,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:t},m,p,g&&i.props,{ownerState:f,children:[g?i.props.children:i,d?(0,dl.jsx)("title",{children:d}):null]}))}));Uu.muiName="SvgIcon";const ju=Uu;function $u(e,t){function n(n,i){return(0,dl.jsx)(ju,(0,qn.A)({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return n.muiName=ju.muiName,o.memo(o.forwardRef(n))}const Ku=$u((0,dl.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function qu(e){return ml("MuiChip",e)}const Yu=vl("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Xu=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Zu=Fi("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:i,iconColor:r,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${Yu.avatar}`]:t.avatar},{[`& .${Yu.avatar}`]:t[`avatar${Fl(a)}`]},{[`& .${Yu.avatar}`]:t[`avatarColor${Fl(i)}`]},{[`& .${Yu.icon}`]:t.icon},{[`& .${Yu.icon}`]:t[`icon${Fl(a)}`]},{[`& .${Yu.icon}`]:t[`iconColor${Fl(r)}`]},{[`& .${Yu.deleteIcon}`]:t.deleteIcon},{[`& .${Yu.deleteIcon}`]:t[`deleteIcon${Fl(a)}`]},{[`& .${Yu.deleteIcon}`]:t[`deleteIconColor${Fl(i)}`]},{[`& .${Yu.deleteIcon}`]:t[`deleteIcon${Fl(l)}Color${Fl(i)}`]},t.root,t[`size${Fl(a)}`],t[`color${Fl(i)}`],o&&t.clickable,o&&"default"!==i&&t[`clickableColor${Fl(i)})`],s&&t.deletable,s&&"default"!==i&&t[`deletableColor${Fl(i)}`],t[l],t[`${l}${Fl(i)}`]]}})((e=>{let{theme:t,ownerState:n}=e;const i="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,qn.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Yu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Yu.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:i,fontSize:t.typography.pxToRem(12)},[`& .${Yu.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Yu.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Yu.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Yu.icon}`]:(0,qn.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,qn.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:i},"default"!==n.color&&{color:"inherit"})),[`& .${Yu.deleteIcon}`]:(0,qn.A)({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:(0,ti.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:(0,ti.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?`rgba(${t.vars.palette[n.color].contrastTextChannel} / 0.7)`:(0,ti.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{[`&.${Yu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,ti.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{[`&.${Yu.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,qn.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,ti.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Yu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,ti.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{[`&:hover, &.${Yu.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,qn.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Yu.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Yu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Yu.avatar}`]:{marginLeft:4},[`& .${Yu.avatarSmall}`]:{marginLeft:2},[`& .${Yu.icon}`]:{marginLeft:4},[`& .${Yu.iconSmall}`]:{marginLeft:2},[`& .${Yu.deleteIcon}`]:{marginRight:5},[`& .${Yu.deleteIconSmall}`]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,ti.X4)(t.palette[n.color].main,.7)}`,[`&.${Yu.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,ti.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},[`&.${Yu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:(0,ti.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},[`& .${Yu.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,ti.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})})),Qu=Fi("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:i}=n;return[t.label,t[`label${Fl(i)}`]]}})((e=>{let{ownerState:t}=e;return(0,qn.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})}));function Ju(e){return"Backspace"===e.key||"Delete"===e.key}const ec=o.forwardRef((function(e,t){const n=Tl({props:e,name:"MuiChip"}),{avatar:i,className:r,clickable:s,color:a="default",component:l,deleteIcon:u,disabled:c=!1,icon:d,label:h,onClick:p,onDelete:g,onKeyDown:f,onKeyUp:m,size:v="medium",variant:y="filled",tabIndex:w,skipFocusWhenDisabled:C=!1}=n,b=(0,Yn.A)(n,Xu),S=o.useRef(null),x=jl(S,t),M=e=>{e.stopPropagation(),g&&g(e)},_=!(!1===s||!p)||s,R=_||g?Lu:l||"div",D=(0,qn.A)({},n,{component:R,disabled:c,size:v,color:a,iconColor:o.isValidElement(d)&&d.props.color||a,onDelete:!!g,clickable:_,variant:y}),P=(e=>{const{classes:t,disabled:n,size:i,color:r,iconColor:o,onDelete:s,clickable:a,variant:l}=e;return Ms({root:["root",l,n&&"disabled",`size${Fl(i)}`,`color${Fl(r)}`,a&&"clickable",a&&`clickableColor${Fl(r)}`,s&&"deletable",s&&`deletableColor${Fl(r)}`,`${l}${Fl(r)}`],label:["label",`label${Fl(i)}`],avatar:["avatar",`avatar${Fl(i)}`,`avatarColor${Fl(r)}`],icon:["icon",`icon${Fl(i)}`,`iconColor${Fl(o)}`],deleteIcon:["deleteIcon",`deleteIcon${Fl(i)}`,`deleteIconColor${Fl(r)}`,`deleteIcon${Fl(l)}Color${Fl(r)}`]},qu,t)})(D),T=R===Lu?(0,qn.A)({component:l||"div",focusVisibleClassName:P.focusVisible},g&&{disableRipple:!0}):{};let A=null;g&&(A=u&&o.isValidElement(u)?o.cloneElement(u,{className:xs(u.props.className,P.deleteIcon),onClick:M}):(0,dl.jsx)(Ku,{className:xs(P.deleteIcon),onClick:M}));let E=null;i&&o.isValidElement(i)&&(E=o.cloneElement(i,{className:xs(P.avatar,i.props.className)}));let I=null;return d&&o.isValidElement(d)&&(I=o.cloneElement(d,{className:xs(P.icon,d.props.className)})),(0,dl.jsxs)(Zu,(0,qn.A)({as:R,className:xs(P.root,r),disabled:!(!_||!c)||void 0,onClick:p,onKeyDown:e=>{e.currentTarget===e.target&&Ju(e)&&e.preventDefault(),f&&f(e)},onKeyUp:e=>{e.currentTarget===e.target&&(g&&Ju(e)?g(e):"Escape"===e.key&&S.current&&S.current.blur()),m&&m(e)},ref:x,tabIndex:C&&c?-1:w,ownerState:D},T,b,{children:[E||I,(0,dl.jsx)(Qu,{className:xs(P.label),ownerState:D,children:h}),A]}))}));function tc(e){return ml("MuiInputBase",e)}const nc=vl("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);function ic(e){return ml("MuiInput",e)}const rc=(0,qn.A)({},nc,vl("MuiInput",["root","underline","input"]));function oc(e){return ml("MuiOutlinedInput",e)}const sc=(0,qn.A)({},nc,vl("MuiOutlinedInput",["root","notchedOutline","input"]));function ac(e){return ml("MuiFilledInput",e)}const lc=(0,qn.A)({},nc,vl("MuiFilledInput",["root","underline","input"])),uc=$u((0,dl.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),cc=$u((0,dl.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function dc(e){return ml("MuiAutocomplete",e)}const hc=vl("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var pc,gc;const fc=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],mc=["ref"],vc=["key"],yc=["key"],wc=Fi("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:i,hasClearIcon:r,hasPopupIcon:o,inputFocused:s,size:a}=n;return[{[`& .${hc.tag}`]:t.tag},{[`& .${hc.tag}`]:t[`tagSize${Fl(a)}`]},{[`& .${hc.inputRoot}`]:t.inputRoot},{[`& .${hc.input}`]:t.input},{[`& .${hc.input}`]:s&&t.inputFocused},t.root,i&&t.fullWidth,o&&t.hasPopupIcon,r&&t.hasClearIcon]}})({[`&.${hc.focused} .${hc.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${hc.clearIndicator}`]:{visibility:"visible"}},[`& .${hc.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${hc.inputRoot}`]:{[`.${hc.hasPopupIcon}&, .${hc.hasClearIcon}&`]:{paddingRight:30},[`.${hc.hasPopupIcon}.${hc.hasClearIcon}&`]:{paddingRight:56},[`& .${hc.input}`]:{width:0,minWidth:30}},[`& .${rc.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${rc.root}.${nc.sizeSmall}`]:{[`& .${rc.input}`]:{padding:"2px 4px 3px 0"}},[`& .${sc.root}`]:{padding:9,[`.${hc.hasPopupIcon}&, .${hc.hasClearIcon}&`]:{paddingRight:39},[`.${hc.hasPopupIcon}.${hc.hasClearIcon}&`]:{paddingRight:65},[`& .${hc.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${hc.endAdornment}`]:{right:9}},[`& .${sc.root}.${nc.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${hc.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${lc.root}`]:{paddingTop:19,paddingLeft:8,[`.${hc.hasPopupIcon}&, .${hc.hasClearIcon}&`]:{paddingRight:39},[`.${hc.hasPopupIcon}.${hc.hasClearIcon}&`]:{paddingRight:65},[`& .${lc.input}`]:{padding:"7px 4px"},[`& .${hc.endAdornment}`]:{right:9}},[`& .${lc.root}.${nc.sizeSmall}`]:{paddingBottom:1,[`& .${lc.input}`]:{padding:"2.5px 4px"}},[`& .${nc.hiddenLabel}`]:{paddingTop:8},[`& .${lc.root}.${nc.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${hc.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${lc.root}.${nc.hiddenLabel}.${nc.sizeSmall}`]:{[`& .${hc.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${hc.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${hc.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${hc.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${hc.inputRoot}`]:{flexWrap:"wrap"}}}]}),Cc=Fi("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),bc=Fi(Vu,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Sc=Fi(Vu,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,qn.A)({},t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen)}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),xc=Fi(kl,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${hc.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}})),Mc=Fi(Ul,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})((e=>{let{theme:t}=e;return(0,qn.A)({},t.typography.body1,{overflow:"auto"})})),_c=Fi("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}})),Rc=Fi("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}})),Dc=Fi("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})((e=>{let{theme:t}=e;return{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${hc.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${hc.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${hc.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,ti.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${hc.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,ti.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${hc.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,ti.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}})),Pc=Fi(Gl,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,top:-8}})),Tc=Fi("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${hc.option}`]:{paddingLeft:24}}),Ac=o.forwardRef((function(e,t){var n,i,r,s;const a=Tl({props:e,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:u=!1,autoSelect:c=!1,blurOnSelect:d=!1,ChipProps:h,className:p,clearIcon:g=pc||(pc=(0,dl.jsx)(uc,{fontSize:"small"})),clearOnBlur:f=!a.freeSolo,clearOnEscape:m=!1,clearText:v="Clear",closeText:y="Close",componentsProps:w={},defaultValue:C=(a.multiple?[]:null),disableClearable:b=!1,disableCloseOnSelect:S=!1,disabled:x=!1,disabledItemsFocusable:M=!1,disableListWrap:_=!1,disablePortal:R=!1,filterSelectedOptions:D=!1,forcePopupIcon:P="auto",freeSolo:T=!1,fullWidth:A=!1,getLimitTagsText:E=e=>`+${e}`,getOptionLabel:I,groupBy:k,handleHomeEndKeys:F=!a.freeSolo,includeInputInList:L=!1,limitTags:O=-1,ListboxComponent:N="ul",ListboxProps:B,loading:G=!1,loadingText:V="Loading\u2026",multiple:z=!1,noOptionsText:H="No options",openOnFocus:W=!1,openText:U="Open",PaperComponent:j=Ul,PopperComponent:$=kl,popupIcon:K=gc||(gc=(0,dl.jsx)(cc,{})),readOnly:q=!1,renderGroup:Y,renderInput:X,renderOption:Z,renderTags:Q,selectOnFocus:J=!a.freeSolo,size:ee="medium",slotProps:te={}}=a,ne=(0,Yn.A)(a,fc),{getRootProps:ie,getInputProps:re,getInputLabelProps:oe,getPopupIndicatorProps:se,getClearProps:ae,getTagProps:le,getListboxProps:ue,getOptionProps:ce,value:de,dirty:he,expanded:pe,id:ge,popupOpen:fe,focused:me,focusedTag:ve,anchorEl:ye,setAnchorEl:we,inputValue:Ce,groupedOptions:be}=Ns((0,qn.A)({},a,{componentName:"Autocomplete"})),Se=!b&&!x&&he&&!q,xe=(!T||!0===P)&&!1!==P,{onMouseDown:Me}=re(),{ref:_e}=null!=B?B:{},Re=ue(),{ref:De}=Re,Pe=(0,Yn.A)(Re,mc),Te=jl(De,_e),Ae=I||(e=>{var t;return null!=(t=e.label)?t:e}),Ee=(0,qn.A)({},a,{disablePortal:R,expanded:pe,focused:me,fullWidth:A,getOptionLabel:Ae,hasClearIcon:Se,hasPopupIcon:xe,inputFocused:-1===ve,popupOpen:fe,size:ee}),Ie=(e=>{const{classes:t,disablePortal:n,expanded:i,focused:r,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:u,size:c}=e;return Ms({root:["root",i&&"expanded",r&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${Fl(c)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]},dc,t)})(Ee);let ke;if(z&&de.length>0){const e=e=>(0,qn.A)({className:Ie.tag,disabled:x},le(e));ke=Q?Q(de,e,Ee):de.map(((t,n)=>{const i=e({index:n}),{key:r}=i,o=(0,Yn.A)(i,vc);return(0,dl.jsx)(ec,(0,qn.A)({label:Ae(t),size:ee},o,h),r)}))}if(O>-1&&Array.isArray(ke)){const e=ke.length-O;!me&&e>0&&(ke=ke.splice(0,O),ke.push((0,dl.jsx)("span",{className:Ie.tag,children:E(e)},ke.length)))}const Fe=Y||(e=>(0,dl.jsxs)("li",{children:[(0,dl.jsx)(Pc,{className:Ie.groupLabel,ownerState:Ee,component:"div",children:e.group}),(0,dl.jsx)(Tc,{className:Ie.groupUl,ownerState:Ee,children:e.children})]},e.key)),Le=Z||((e,t)=>{const{key:n}=e,i=(0,Yn.A)(e,yc);return(0,dl.jsx)("li",(0,qn.A)({},i,{children:Ae(t)}),n)}),Oe=(e,t)=>{const n=ce({option:e,index:t});return Le((0,qn.A)({},n,{className:Ie.option}),e,{selected:n["aria-selected"],index:t,inputValue:Ce},Ee)},Ne=null!=(n=te.clearIndicator)?n:w.clearIndicator,Be=null!=(i=te.paper)?i:w.paper,Ge=null!=(r=te.popper)?r:w.popper,Ve=null!=(s=te.popupIndicator)?s:w.popupIndicator,ze=e=>(0,dl.jsx)(xc,(0,qn.A)({as:$,disablePortal:R,style:{width:ye?ye.clientWidth:null},ownerState:Ee,role:"presentation",anchorEl:ye,open:fe},Ge,{className:xs(Ie.popper,null==Ge?void 0:Ge.className),children:(0,dl.jsx)(Mc,(0,qn.A)({ownerState:Ee,as:j},Be,{className:xs(Ie.paper,null==Be?void 0:Be.className),children:e}))}));let He=null;return be.length>0?He=ze((0,dl.jsx)(Dc,(0,qn.A)({as:N,className:Ie.listbox,ownerState:Ee},Pe,B,{ref:Te,children:be.map(((e,t)=>k?Fe({key:e.key,group:e.group,children:e.options.map(((t,n)=>Oe(t,e.index+n)))}):Oe(e,t)))}))):G&&0===be.length?He=ze((0,dl.jsx)(_c,{className:Ie.loading,ownerState:Ee,children:V})):0!==be.length||T||G||(He=ze((0,dl.jsx)(Rc,{className:Ie.noOptions,ownerState:Ee,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:H}))),(0,dl.jsxs)(o.Fragment,{children:[(0,dl.jsx)(wc,(0,qn.A)({ref:t,className:xs(Ie.root,p),ownerState:Ee},ie(ne),{children:X({id:ge,disabled:x,fullWidth:!0,size:"small"===ee?"small":void 0,InputLabelProps:oe(),InputProps:(0,qn.A)({ref:we,className:Ie.inputRoot,startAdornment:ke,onClick:e=>{e.target===e.currentTarget&&Me(e)}},(Se||xe)&&{endAdornment:(0,dl.jsxs)(Cc,{className:Ie.endAdornment,ownerState:Ee,children:[Se?(0,dl.jsx)(bc,(0,qn.A)({},ae(),{"aria-label":v,title:v,ownerState:Ee},Ne,{className:xs(Ie.clearIndicator,null==Ne?void 0:Ne.className),children:g})):null,xe?(0,dl.jsx)(Sc,(0,qn.A)({},se(),{disabled:x,"aria-label":fe?y:U,title:fe?y:U,ownerState:Ee},Ve,{className:xs(Ie.popupIndicator,null==Ve?void 0:Ve.className),children:K})):null]})}),inputProps:(0,qn.A)({className:Ie.input,disabled:x,readOnly:q},re())})})),ye?He:null]})}));function Ec(e){return Vs(e).defaultView||window}function Ic(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function i(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,r)}),n)}return i.clear=()=>{clearTimeout(t)},i}const kc=["onChange","maxRows","minRows","style","value"];function Fc(e){return parseInt(e,10)||0}const Lc={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const Oc=o.forwardRef((function(e,t){const{onChange:n,maxRows:i,minRows:r=1,style:s,value:a}=e,l=(0,Yn.A)(e,kc),{current:u}=o.useRef(null!=a),c=o.useRef(null),d=Gs(t,c),h=o.useRef(null),p=o.useRef(null),g=o.useCallback((()=>{const t=c.current,n=Ec(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};const o=p.current;o.style.width=n.width,o.value=t.value||e.placeholder||"x","\n"===o.value.slice(-1)&&(o.value+=" ");const s=n.boxSizing,a=Fc(n.paddingBottom)+Fc(n.paddingTop),l=Fc(n.borderBottomWidth)+Fc(n.borderTopWidth),u=o.scrollHeight;o.value="x";const d=o.scrollHeight;let h=u;r&&(h=Math.max(Number(r)*d,h)),i&&(h=Math.min(Number(i)*d,h)),h=Math.max(h,d);return{outerHeightStyle:h+("border-box"===s?a+l:0),overflowing:Math.abs(h-u)<=1}}),[i,r,e.placeholder]),f=o.useCallback((()=>{const e=g();if(void 0===(t=e)||null===t||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const n=e.outerHeightStyle,i=c.current;h.current!==n&&(h.current=n,i.style.height=`${n}px`),i.style.overflow=e.overflowing?"hidden":""}),[g]);As((()=>{const e=()=>{f()};let t;const n=Ic(e),i=c.current,r=Ec(i);let o;return r.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(o=new ResizeObserver(e),o.observe(i)),()=>{n.clear(),cancelAnimationFrame(t),r.removeEventListener("resize",n),o&&o.disconnect()}}),[g,f]),As((()=>{f()}));return(0,dl.jsxs)(o.Fragment,{children:[(0,dl.jsx)("textarea",(0,qn.A)({value:a,onChange:e=>{u||f(),n&&n(e)},ref:d,rows:r,style:s},l)),(0,dl.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:(0,qn.A)({},Lc,s,{paddingTop:0,paddingBottom:0})})]})})),Nc=Oc;function Bc(e){let{props:t,states:n,muiFormControl:i}=e;return n.reduce(((e,n)=>(e[n]=t[n],i&&"undefined"===typeof t[n]&&(e[n]=i[n]),e)),{})}const Gc=o.createContext(void 0);function Vc(){return o.useContext(Gc)}const zc=As;var Hc=n(869),Wc=n(4575);const Uc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=o.useContext(Wc.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},jc=(0,ei.A)();const $c=function(){return Uc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jc)};const Kc=function(e){let{styles:t,themeId:n,defaultTheme:i={}}=e;const r=$c(i),o="function"===typeof t?t(n&&r[n]||r):t;return(0,dl.jsx)(Hc.A,{styles:o})};const qc=function(e){return(0,dl.jsx)(Kc,(0,qn.A)({},e,{defaultTheme:Ai,themeId:Ei}))};function Yc(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Xc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Yc(e.value)&&""!==e.value||t&&Yc(e.defaultValue)&&""!==e.defaultValue)}const Zc=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Qc=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Fl(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Jc=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},ed=Fi("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Qc})((e=>{let{theme:t,ownerState:n}=e;return(0,qn.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${nc.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,qn.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),td=Fi("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Jc})((e=>{let{theme:t,ownerState:n}=e;const i="light"===t.palette.mode,r=(0,qn.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return(0,qn.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${nc.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${nc.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),nd=(0,dl.jsx)(qc,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),id=o.forwardRef((function(e,t){var n;const i=Tl({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:s,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:g,fullWidth:f=!1,id:m,inputComponent:v="input",inputProps:y={},inputRef:w,maxRows:C,minRows:b,multiline:S=!1,name:x,onBlur:M,onChange:_,onClick:R,onFocus:D,onKeyDown:P,onKeyUp:T,placeholder:A,readOnly:E,renderSuffix:I,rows:k,slotProps:F={},slots:L={},startAdornment:O,type:N="text",value:B}=i,G=(0,Yn.A)(i,Zc),V=null!=y.value?y.value:B,{current:z}=o.useRef(null!=V),H=o.useRef(),W=o.useCallback((e=>{0}),[]),U=jl(H,w,y.ref,W),[j,$]=o.useState(!1),K=Vc();const q=Bc({props:i,muiFormControl:K,states:["color","disabled","error","hiddenLabel","size","required","filled"]});q.focused=K?K.focused:j,o.useEffect((()=>{!K&&h&&j&&($(!1),M&&M())}),[K,h,j,M]);const Y=K&&K.onFilled,X=K&&K.onEmpty,Z=o.useCallback((e=>{Xc(e)?Y&&Y():X&&X()}),[Y,X]);zc((()=>{z&&Z({value:V})}),[V,Z,z]);o.useEffect((()=>{Z(H.current)}),[]);let Q=v,J=y;S&&"input"===Q&&(J=k?(0,qn.A)({type:void 0,minRows:k,maxRows:k},J):(0,qn.A)({type:void 0,maxRows:C,minRows:b},J),Q=Nc);o.useEffect((()=>{K&&K.setAdornedStart(Boolean(O))}),[K,O]);const ee=(0,qn.A)({},i,{color:q.color||"primary",disabled:q.disabled,endAdornment:g,error:q.error,focused:q.focused,formControl:K,fullWidth:f,hiddenLabel:q.hiddenLabel,multiline:S,size:q.size,startAdornment:O,type:N}),te=(e=>{const{classes:t,color:n,disabled:i,error:r,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:p,type:g}=e;return Ms({root:["root",`color${Fl(n)}`,i&&"disabled",r&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&`size${Fl(h)}`,c&&"multiline",p&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",i&&"disabled","search"===g&&"inputTypeSearch",c&&"inputMultiline","small"===h&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]},tc,t)})(ee),ne=L.root||u.Root||ed,ie=F.root||c.root||{},re=L.input||u.Input||td;return J=(0,qn.A)({},J,null!=(n=F.input)?n:c.input),(0,dl.jsxs)(o.Fragment,{children:[!p&&nd,(0,dl.jsxs)(ne,(0,qn.A)({},ie,!il(ne)&&{ownerState:(0,qn.A)({},ee,ie.ownerState)},{ref:t,onClick:e=>{H.current&&e.currentTarget===e.target&&H.current.focus(),R&&R(e)}},G,{className:xs(te.root,ie.className,l,E&&"MuiInputBase-readOnly"),children:[O,(0,dl.jsx)(Gc.Provider,{value:null,children:(0,dl.jsx)(re,(0,qn.A)({ownerState:ee,"aria-invalid":q.error,"aria-describedby":r,autoComplete:s,autoFocus:a,defaultValue:d,disabled:q.disabled,id:m,onAnimationStart:e=>{Z("mui-auto-fill-cancel"===e.animationName?H.current:{value:"x"})},name:x,placeholder:A,readOnly:E,required:q.required,rows:k,value:V,onKeyDown:P,onKeyUp:T,type:N},J,!il(re)&&{as:Q,ownerState:(0,qn.A)({},ee,J.ownerState)},{ref:U,className:xs(te.input,J.className,E&&"MuiInputBase-readOnly"),onBlur:e=>{M&&M(e),y.onBlur&&y.onBlur(e),K&&K.onBlur?K.onBlur(e):$(!1)},onChange:function(e){if(!z){const t=e.target||H.current;if(null==t)throw new Error((0,Xn.A)(1));Z({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];y.onChange&&y.onChange(e,...n),_&&_(e,...n)},onFocus:e=>{q.disabled?e.stopPropagation():(D&&D(e),y.onFocus&&y.onFocus(e),K&&K.onFocus?K.onFocus(e):$(!0))}}))}),g,I?I((0,qn.A)({},q,{startAdornment:O})):null]}))]})})),rd=id,od=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],sd=Fi(ed,{shouldForwardProp:e=>ki(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Qc(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let i="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(i=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),(0,qn.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${rc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${rc.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${rc.disabled}, .${rc.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${i}`}},[`&.${rc.disabled}:before`]:{borderBottomStyle:"dotted"}})})),ad=Fi(td,{name:"MuiInput",slot:"Input",overridesResolver:Jc})({}),ld=o.forwardRef((function(e,t){var n,i,r,o;const s=Tl({props:e,name:"MuiInput"}),{disableUnderline:a,components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:g={},type:f="text"}=s,m=(0,Yn.A)(s,od),v=(e=>{const{classes:t,disableUnderline:n}=e,i=Ms({root:["root",!n&&"underline"],input:["input"]},ic,t);return(0,qn.A)({},t,i)})(s),y={root:{ownerState:{disableUnderline:a}}},w=(null!=p?p:u)?(0,Zn.A)(null!=p?p:u,y):y,C=null!=(n=null!=(i=g.root)?i:l.Root)?n:sd,b=null!=(r=null!=(o=g.input)?o:l.Input)?r:ad;return(0,dl.jsx)(rd,(0,qn.A)({slots:{root:C,input:b},slotProps:w,fullWidth:c,inputComponent:d,multiline:h,ref:t,type:f},m,{classes:v}))}));ld.muiName="Input";const ud=ld,cd=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],dd=Fi(ed,{shouldForwardProp:e=>ki(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Qc(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var i;const r="light"===t.palette.mode,o=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,qn.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${lc.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${lc.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(i=(t.vars||t).palette[n.color||"primary"])?void 0:i.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${lc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${lc.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${lc.disabled}, .${lc.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${lc.disabled}:before`]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,qn.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),hd=Fi(td,{name:"MuiFilledInput",slot:"Input",overridesResolver:Jc})((e=>{let{theme:t,ownerState:n}=e;return(0,qn.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),pd=o.forwardRef((function(e,t){var n,i,r,o;const s=Tl({props:e,name:"MuiFilledInput"}),{components:a={},componentsProps:l,fullWidth:u=!1,inputComponent:c="input",multiline:d=!1,slotProps:h,slots:p={},type:g="text"}=s,f=(0,Yn.A)(s,cd),m=(0,qn.A)({},s,{fullWidth:u,inputComponent:c,multiline:d,type:g}),v=(e=>{const{classes:t,disableUnderline:n}=e,i=Ms({root:["root",!n&&"underline"],input:["input"]},ac,t);return(0,qn.A)({},t,i)})(s),y={root:{ownerState:m},input:{ownerState:m}},w=(null!=h?h:l)?(0,Zn.A)(y,null!=h?h:l):y,C=null!=(n=null!=(i=p.root)?i:a.Root)?n:dd,b=null!=(r=null!=(o=p.input)?o:a.Input)?r:hd;return(0,dl.jsx)(rd,(0,qn.A)({slots:{root:C,input:b},componentsProps:w,fullWidth:u,inputComponent:c,multiline:d,ref:t,type:g},f,{classes:v}))}));pd.muiName="Input";const gd=pd;var fd;const md=["children","classes","className","label","notched"],vd=Fi("fieldset",{shouldForwardProp:ki})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),yd=Fi("legend",{shouldForwardProp:ki})((e=>{let{ownerState:t,theme:n}=e;return(0,qn.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,qn.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));const wd=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Cd=Fi(ed,{shouldForwardProp:e=>ki(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:Qc})((e=>{let{theme:t,ownerState:n}=e;const i="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,qn.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${sc.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${sc.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:i}},[`&.${sc.focused} .${sc.notchedOutline}`]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},[`&.${sc.error} .${sc.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${sc.disabled} .${sc.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,qn.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),bd=Fi((function(e){const{className:t,label:n,notched:i}=e,r=(0,Yn.A)(e,md),o=null!=n&&""!==n,s=(0,qn.A)({},e,{notched:i,withLabel:o});return(0,dl.jsx)(vd,(0,qn.A)({"aria-hidden":!0,className:t,ownerState:s},r,{children:(0,dl.jsx)(yd,{ownerState:s,children:o?(0,dl.jsx)("span",{children:n}):fd||(fd=(0,dl.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}})),Sd=Fi(td,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Jc})((e=>{let{theme:t,ownerState:n}=e;return(0,qn.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),xd=o.forwardRef((function(e,t){var n,i,r,s,a;const l=Tl({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:g,slots:f={},type:m="text"}=l,v=(0,Yn.A)(l,wd),y=(e=>{const{classes:t}=e,n=Ms({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},oc,t);return(0,qn.A)({},t,n)})(l),w=Vc(),C=Bc({props:l,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b=(0,qn.A)({},l,{color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:w,fullWidth:c,hiddenLabel:C.hiddenLabel,multiline:p,size:C.size,type:m}),S=null!=(n=null!=(i=f.root)?i:u.Root)?n:Cd,x=null!=(r=null!=(s=f.input)?s:u.Input)?r:Sd;return(0,dl.jsx)(rd,(0,qn.A)({slots:{root:S,input:x},renderSuffix:e=>(0,dl.jsx)(bd,{ownerState:b,className:y.notchedOutline,label:null!=h&&""!==h&&C.required?a||(a=(0,dl.jsxs)(o.Fragment,{children:[h,"\u2009","*"]})):h,notched:"undefined"!==typeof g?g:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:c,inputComponent:d,multiline:p,ref:t,type:m},v,{classes:(0,qn.A)({},y,{notchedOutline:null})}))}));xd.muiName="Input";const Md=xd;function _d(e){return ml("MuiFormLabel",e)}const Rd=vl("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Dd=["children","className","color","component","disabled","error","filled","focused","required"],Pd=Fi("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,qn.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,qn.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Rd.focused}`]:{color:(t.vars||t).palette[n.color].main},[`&.${Rd.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Rd.error}`]:{color:(t.vars||t).palette.error.main}})})),Td=Fi("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${Rd.error}`]:{color:(t.vars||t).palette.error.main}}})),Ad=o.forwardRef((function(e,t){const n=Tl({props:e,name:"MuiFormLabel"}),{children:i,className:r,component:o="label"}=n,s=(0,Yn.A)(n,Dd),a=Bc({props:n,muiFormControl:Vc(),states:["color","required","focused","disabled","error","filled"]}),l=(0,qn.A)({},n,{color:a.color||"primary",component:o,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),u=(e=>{const{classes:t,color:n,focused:i,disabled:r,error:o,filled:s,required:a}=e;return Ms({root:["root",`color${Fl(n)}`,r&&"disabled",o&&"error",s&&"filled",i&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]},_d,t)})(l);return(0,dl.jsxs)(Pd,(0,qn.A)({as:o,ownerState:l,className:xs(u.root,r),ref:t},s,{children:[i,a.required&&(0,dl.jsxs)(Td,{ownerState:l,"aria-hidden":!0,className:u.asterisk,children:["\u2009","*"]})]}))}));function Ed(e){return ml("MuiInputLabel",e)}vl("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Id=["disableAnimation","margin","shrink","variant","className"],kd=Fi(Ad,{shouldForwardProp:e=>ki(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Rd.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,qn.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,qn.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,qn.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,qn.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Fd=o.forwardRef((function(e,t){const n=Tl({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:r,className:o}=n,s=(0,Yn.A)(n,Id),a=Vc();let l=r;"undefined"===typeof l&&a&&(l=a.filled||a.focused||a.adornedStart);const u=Bc({props:n,muiFormControl:a,states:["size","variant","required","focused"]}),c=(0,qn.A)({},n,{disableAnimation:i,formControl:a,shrink:l,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),d=(e=>{const{classes:t,formControl:n,size:i,shrink:r,disableAnimation:o,variant:s,required:a}=e,l=Ms({root:["root",n&&"formControl",!o&&"animated",r&&"shrink",i&&"normal"!==i&&`size${Fl(i)}`,s],asterisk:[a&&"asterisk"]},Ed,t);return(0,qn.A)({},t,l)})(c);return(0,dl.jsx)(kd,(0,qn.A)({"data-shrink":l,ownerState:c,ref:t,className:xs(d.root,o)},s,{classes:d}))}));const Ld=function(e,t){var n,i;return o.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)};function Od(e){return ml("MuiFormControl",e)}vl("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Nd=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Bd=Fi("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,qn.A)({},t.root,t[`margin${Fl(n.margin)}`],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,qn.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),Gd=o.forwardRef((function(e,t){const n=Tl({props:e,name:"MuiFormControl"}),{children:i,className:r,color:s="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:g=!1,size:f="medium",variant:m="outlined"}=n,v=(0,Yn.A)(n,Nd),y=(0,qn.A)({},n,{color:s,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:p,required:g,size:f,variant:m}),w=(e=>{const{classes:t,margin:n,fullWidth:i}=e;return Ms({root:["root","none"!==n&&`margin${Fl(n)}`,i&&"fullWidth"]},Od,t)})(y),[C,b]=o.useState((()=>{let e=!1;return i&&o.Children.forEach(i,(t=>{if(!Ld(t,["Input","Select"]))return;const n=Ld(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[S,x]=o.useState((()=>{let e=!1;return i&&o.Children.forEach(i,(t=>{Ld(t,["Input","Select"])&&(Xc(t.props,!0)||Xc(t.props.inputProps,!0))&&(e=!0)})),e})),[M,_]=o.useState(!1);l&&M&&_(!1);const R=void 0===c||l?M:c;let D;const P=o.useMemo((()=>({adornedStart:C,setAdornedStart:b,color:s,disabled:l,error:u,filled:S,focused:R,fullWidth:d,hiddenLabel:h,size:f,onBlur:()=>{_(!1)},onEmpty:()=>{x(!1)},onFilled:()=>{x(!0)},onFocus:()=>{_(!0)},registerEffect:D,required:g,variant:m})),[C,s,l,u,S,R,d,h,D,g,f,m]);return(0,dl.jsx)(Gc.Provider,{value:P,children:(0,dl.jsx)(Bd,(0,qn.A)({as:a,ownerState:y,className:xs(w.root,r),ref:t},v,{children:i}))})}));function Vd(e){return ml("MuiFormHelperText",e)}const zd=vl("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Hd;const Wd=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Ud=Fi("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Fl(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,qn.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${zd.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${zd.error}`]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),jd=o.forwardRef((function(e,t){const n=Tl({props:e,name:"MuiFormHelperText"}),{children:i,className:r,component:o="p"}=n,s=(0,Yn.A)(n,Wd),a=Bc({props:n,muiFormControl:Vc(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,qn.A)({},n,{component:o,contained:"filled"===a.variant||"outlined"===a.variant,variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),u=(e=>{const{classes:t,contained:n,size:i,disabled:r,error:o,filled:s,focused:a,required:l}=e;return Ms({root:["root",r&&"disabled",o&&"error",i&&`size${Fl(i)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]},Vd,t)})(l);return(0,dl.jsx)(Ud,(0,qn.A)({as:o,ownerState:l,className:xs(u.root,r),ref:t},s,{children:" "===i?Hd||(Hd=(0,dl.jsx)("span",{className:"notranslate",children:"\u200b"})):i}))}));n(805);const $d=Vs,Kd=o.createContext();const qd=o.createContext({});function Yd(e){return ml("MuiList",e)}vl("MuiList",["root","padding","dense","subheader"]);const Xd=["children","className","component","dense","disablePadding","subheader"],Zd=Fi("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,qn.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),Qd=o.forwardRef((function(e,t){const n=Tl({props:e,name:"MuiList"}),{children:i,className:r,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=n,c=(0,Yn.A)(n,Xd),d=o.useMemo((()=>({dense:a})),[a]),h=(0,qn.A)({},n,{component:s,dense:a,disablePadding:l}),p=(e=>{const{classes:t,disablePadding:n,dense:i,subheader:r}=e;return Ms({root:["root",!n&&"padding",i&&"dense",r&&"subheader"]},Yd,t)})(h);return(0,dl.jsx)(qd.Provider,{value:d,children:(0,dl.jsxs)(Zd,(0,qn.A)({as:s,className:xs(p.root,r),ref:t,ownerState:h},c,{children:[u,i]}))})}));function Jd(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const eh=Jd,th=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nh(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function ih(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function rh(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function oh(e,t,n,i,r,o){let s=!1,a=r(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!i&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&rh(a,o)&&!t)return a.focus(),!0;a=r(e,a,n)}return!1}const sh=o.forwardRef((function(e,t){const{actions:n,autoFocus:i=!1,autoFocusItem:r=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=(0,Yn.A)(e,th),p=o.useRef(null),g=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});zc((()=>{i&&p.current.focus()}),[i]),o.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const i=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&i){const t=`${eh($d(e))}px`;p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,p.current.style.width=`calc(100% + ${t})`}return p.current}})),[]);const f=jl(p,t);let m=-1;o.Children.forEach(s,((e,t)=>{o.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===m)&&(m=t),m===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(m+=1,m>=s.length&&(m=-1))):m===t&&(m+=1,m>=s.length&&(m=-1))}));const v=o.Children.map(s,((e,t)=>{if(t===m){const t={};return r&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(t.tabIndex=0),o.cloneElement(e,t)}return e}));return(0,dl.jsx)(Qd,(0,qn.A)({role:"menu",ref:f,className:a,onKeyDown:e=>{const t=p.current,n=e.key,i=$d(t).activeElement;if("ArrowDown"===n)e.preventDefault(),oh(t,i,u,l,nh);else if("ArrowUp"===n)e.preventDefault(),oh(t,i,u,l,ih);else if("Home"===n)e.preventDefault(),oh(t,null,u,l,nh);else if("End"===n)e.preventDefault(),oh(t,null,u,l,ih);else if(1===n.length){const r=g.current,o=n.toLowerCase(),s=performance.now();r.keys.length>0&&(s-r.lastTime>500?(r.keys=[],r.repeating=!0,r.previousKeyMatched=!0):r.repeating&&o!==r.keys[0]&&(r.repeating=!1)),r.lastTime=s,r.keys.push(o);const a=i&&!r.repeating&&rh(i,r);r.previousKeyMatched&&(a||oh(t,i,!1,l,nh,r))?e.preventDefault():r.previousKeyMatched=!1}c&&c(e)},tabIndex:i?0:-1},h,{children:v}))})),ah=sh,lh=Ic,uh=Ec,ch=!1;var dh="unmounted",hh="exited",ph="entering",gh="entered",fh="exiting",mh=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,o=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(r=hh,i.appearStatus=ph):r=gh:r=t.unmountOnExit||t.mountOnEnter?dh:hh,i.state={status:r},i.nextCallback=null,i}au(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===dh?{status:hh}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ph&&n!==gh&&(t=ph):n!==ph&&n!==gh||(t=fh)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===ph){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===hh&&this.setState({status:dh})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[a.findDOMNode(this),i],o=r[0],s=r[1],l=this.getTimeouts(),u=i?l.appear:l.enter;!e&&!n||ch?this.safeSetState({status:gh},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:ph},(function(){t.props.onEntering(o,s),t.onTransitionEnd(u,(function(){t.safeSetState({status:gh},(function(){t.props.onEntered(o,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!ch?(this.props.onExit(i),this.safeSetState({status:fh},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:hh},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:hh},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=r[0],s=r[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===dh)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,Yn.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(lu.Provider,{value:null},"function"===typeof n?n(e,i):o.cloneElement(o.Children.only(n),i))},t}(o.Component);function vh(){}mh.contextType=lu,mh.propTypes={},mh.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vh,onEntering:vh,onEntered:vh,onExit:vh,onExiting:vh,onExited:vh},mh.UNMOUNTED=dh,mh.EXITED=hh,mh.ENTERING=ph,mh.ENTERED=gh,mh.EXITING=fh;const yh=mh;function wh(){const e=$c(Ai);return e[Ei]||e}const Ch=e=>e.scrollTop;function bh(e,t){var n,i;const{timeout:r,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof r?r:r[t.mode]||0,easing:null!=(i=s.transitionTimingFunction)?i:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}const Sh=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function xh(e){return`scale(${e}, ${e**2})`}const Mh={entering:{opacity:1,transform:xh(1)},entered:{opacity:1,transform:"none"}},_h="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Rh=o.forwardRef((function(e,t){const{addEndListener:n,appear:i=!0,children:r,easing:s,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:p,style:g,timeout:f="auto",TransitionComponent:m=yh}=e,v=(0,Yn.A)(e,Sh),y=Xl(),w=o.useRef(),C=wh(),b=o.useRef(null),S=jl(b,r.ref,t),x=e=>t=>{if(e){const n=b.current;void 0===t?e(n):e(n,t)}},M=x(c),_=x(((e,t)=>{Ch(e);const{duration:n,delay:i,easing:r}=bh({style:g,timeout:f,easing:s},{mode:"enter"});let o;"auto"===f?(o=C.transitions.getAutoHeightDuration(e.clientHeight),w.current=o):o=n,e.style.transition=[C.transitions.create("opacity",{duration:o,delay:i}),C.transitions.create("transform",{duration:_h?o:.666*o,delay:i,easing:r})].join(","),l&&l(e,t)})),R=x(u),D=x(p),P=x((e=>{const{duration:t,delay:n,easing:i}=bh({style:g,timeout:f,easing:s},{mode:"exit"});let r;"auto"===f?(r=C.transitions.getAutoHeightDuration(e.clientHeight),w.current=r):r=t,e.style.transition=[C.transitions.create("opacity",{duration:r,delay:n}),C.transitions.create("transform",{duration:_h?r:.666*r,delay:_h?n:n||.333*r,easing:i})].join(","),e.style.opacity=0,e.style.transform=xh(.75),d&&d(e)})),T=x(h);return(0,dl.jsx)(m,(0,qn.A)({appear:i,in:a,nodeRef:b,onEnter:_,onEntered:R,onEntering:M,onExit:P,onExited:T,onExiting:D,addEndListener:e=>{"auto"===f&&y.start(w.current||0,e),n&&n(b.current,e)},timeout:"auto"===f?null:f},v,{children:(e,t)=>o.cloneElement(r,(0,qn.A)({style:(0,qn.A)({opacity:0,transform:xh(.75),visibility:"exited"!==e||a?void 0:"hidden"},Mh[e],g,r.props.style),ref:S},t))}))}));Rh.muiSupportAuto=!0;const Dh=Rh,Ph=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Th(e){const t=[],n=[];return Array.from(e.querySelectorAll(Ph)).forEach(((e,i)=>{const r=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==r&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===r?t.push(e):n.push({documentOrder:i,tabIndex:r,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function Ah(){return!0}const Eh=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:i=!1,disableRestoreFocus:r=!1,getTabbable:s=Th,isEnabled:a=Ah,open:l}=e,u=o.useRef(!1),c=o.useRef(null),d=o.useRef(null),h=o.useRef(null),p=o.useRef(null),g=o.useRef(!1),f=o.useRef(null),m=Gs(t.ref,f),v=o.useRef(null);o.useEffect((()=>{l&&f.current&&(g.current=!n)}),[n,l]),o.useEffect((()=>{if(!l||!f.current)return;const e=Vs(f.current);return f.current.contains(e.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),g.current&&f.current.focus()),()=>{r||(h.current&&h.current.focus&&(u.current=!0,h.current.focus()),h.current=null)}}),[l]),o.useEffect((()=>{if(!l||!f.current)return;const e=Vs(f.current),t=t=>{v.current=t,!i&&a()&&"Tab"===t.key&&e.activeElement===f.current&&t.shiftKey&&(u.current=!0,d.current&&d.current.focus())},n=()=>{const t=f.current;if(null===t)return;if(!e.hasFocus()||!a()||u.current)return void(u.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==c.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!g.current)return;let n=[];if(e.activeElement!==c.current&&e.activeElement!==d.current||(n=s(f.current)),n.length>0){var r,o;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=v.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,i,r,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),g.current=!0};return(0,dl.jsxs)(o.Fragment,{children:[(0,dl.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:c,"data-testid":"sentinelStart"}),o.cloneElement(t,{ref:m,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),g.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,dl.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})},Ih=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],kh={entering:{opacity:1},entered:{opacity:1}},Fh=o.forwardRef((function(e,t){const n=wh(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:r,appear:s=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:p,onExited:g,onExiting:f,style:m,timeout:v=i,TransitionComponent:y=yh}=e,w=(0,Yn.A)(e,Ih),C=o.useRef(null),b=jl(C,a.ref,t),S=e=>t=>{if(e){const n=C.current;void 0===t?e(n):e(n,t)}},x=S(h),M=S(((e,t)=>{Ch(e);const i=bh({style:m,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",i),e.style.transition=n.transitions.create("opacity",i),c&&c(e,t)})),_=S(d),R=S(f),D=S((e=>{const t=bh({style:m,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),P=S(g);return(0,dl.jsx)(y,(0,qn.A)({appear:s,in:u,nodeRef:C,onEnter:M,onEntered:_,onEntering:x,onExit:D,onExited:P,onExiting:R,addEndListener:e=>{r&&r(C.current,e)},timeout:v},w,{children:(e,t)=>o.cloneElement(a,(0,qn.A)({style:(0,qn.A)({opacity:0,visibility:"exited"!==e||u?void 0:"hidden"},kh[e],m,a.props.style),ref:b},t))}))})),Lh=Fh;function Oh(e){return ml("MuiBackdrop",e)}vl("MuiBackdrop",["root","invisible"]);const Nh=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Bh=Fi("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,qn.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),Gh=o.forwardRef((function(e,t){var n,i,r;const o=Tl({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",components:u={},componentsProps:c={},invisible:d=!1,open:h,slotProps:p={},slots:g={},TransitionComponent:f=Lh,transitionDuration:m}=o,v=(0,Yn.A)(o,Nh),y=(0,qn.A)({},o,{component:l,invisible:d}),w=(e=>{const{classes:t,invisible:n}=e;return Ms({root:["root",n&&"invisible"]},Oh,t)})(y),C=null!=(n=p.root)?n:c.root;return(0,dl.jsx)(f,(0,qn.A)({in:h,timeout:m},v,{children:(0,dl.jsx)(Bh,(0,qn.A)({"aria-hidden":!0},C,{as:null!=(i=null!=(r=g.root)?r:u.Root)?i:l,className:xs(w.root,a,null==C?void 0:C.className),ownerState:(0,qn.A)({},y,null==C?void 0:C.ownerState),classes:w,ref:t,children:s}))}))}));function Vh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)}),(()=>{}))}function zh(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Hh(e){return parseInt(Ec(e).getComputedStyle(e).paddingRight,10)||0}function Wh(e,t,n,i,r){const o=[t,n,...i];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&zh(e,r)}))}function Uh(e,t){let n=-1;return e.some(((e,i)=>!!t(e)&&(n=i,!0))),n}function jh(e,t){const n=[],i=e.container;if(!t.disableScrollLock){if(function(e){const t=Vs(e);return t.body===e?Ec(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(i)){const e=Jd(Vs(i));n.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${Hh(i)+e}px`;const t=Vs(i).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${Hh(t)+e}px`}))}let e;if(i.parentNode instanceof DocumentFragment)e=Vs(i).body;else{const t=i.parentElement,n=Ec(i);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:i}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:i}=e;t?n.style.setProperty(i,t):n.style.removeProperty(i)}))}}const $h=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&zh(e.modalRef,!1);const i=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Wh(t,e.mount,e.modalRef,i,!0);const r=Uh(this.containers,(e=>e.container===t));return-1!==r?(this.containers[r].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),n)}mount(e,t){const n=Uh(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[n];i.restore||(i.restore=jh(i,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const i=Uh(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[i];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(n,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&zh(e.modalRef,t),Wh(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(i,1);else{const e=r.modals[r.modals.length-1];e.modalRef&&zh(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const Kh=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:i=!1,manager:r=$h,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:u,onClose:c,open:d,rootRef:h}=e,p=o.useRef({}),g=o.useRef(null),f=o.useRef(null),m=Gs(f,h),[v,y]=o.useState(!d),w=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let C=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(C=!1);const b=()=>(p.current.modalRef=f.current,p.current.mount=g.current,p.current),S=()=>{r.mount(b(),{disableScrollLock:i}),f.current&&(f.current.scrollTop=0)},x=Es((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||Vs(g.current).body;r.add(b(),e),f.current&&S()})),M=o.useCallback((()=>r.isTopModal(b())),[r]),_=Es((e=>{g.current=e,e&&(d&&M()?S():f.current&&zh(f.current,C))})),R=o.useCallback((()=>{r.remove(b(),C)}),[C,r]);o.useEffect((()=>()=>{R()}),[R]),o.useEffect((()=>{d?x():w&&s||R()}),[d,R,w,s,x]);const D=e=>t=>{var i;null==(i=e.onKeyDown)||i.call(e,t),"Escape"===t.key&&229!==t.which&&M()&&(n||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},P=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=ol(e);delete n.onTransitionEnter,delete n.onTransitionExited;const i=(0,qn.A)({},n,t);return(0,qn.A)({role:"presentation"},i,{onKeyDown:D(i),ref:m})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,qn.A)({"aria-hidden":!0},e,{onClick:P(e),open:d})},getTransitionProps:()=>({onEnter:Vh((()=>{y(!1),a&&a()}),null==u?void 0:u.props.onEnter),onExited:Vh((()=>{y(!0),l&&l(),s&&R()}),null==u?void 0:u.props.onExited)}),rootRef:m,portalRef:_,isTopModal:M,exited:v,hasTransition:w}};function qh(e){return ml("MuiModal",e)}vl("MuiModal",["root","hidden","backdrop"]);const Yh=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Xh=Fi("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,qn.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Zh=Fi(Gh,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Qh=o.forwardRef((function(e,t){var n,i,r,s,a,l;const u=Tl({name:"MuiModal",props:e}),{BackdropComponent:c=Zh,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:g,container:f,component:m,components:v={},componentsProps:y={},disableAutoFocus:w=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:b=!1,disablePortal:S=!1,disableRestoreFocus:x=!1,disableScrollLock:M=!1,hideBackdrop:_=!1,keepMounted:R=!1,onBackdropClick:D,open:P,slotProps:T,slots:A}=u,E=(0,Yn.A)(u,Yh),I=(0,qn.A)({},u,{closeAfterTransition:p,disableAutoFocus:w,disableEnforceFocus:C,disableEscapeKeyDown:b,disablePortal:S,disableRestoreFocus:x,disableScrollLock:M,hideBackdrop:_,keepMounted:R}),{getRootProps:k,getBackdropProps:F,getTransitionProps:L,portalRef:O,isTopModal:N,exited:B,hasTransition:G}=Kh((0,qn.A)({},I,{rootRef:t})),V=(0,qn.A)({},I,{exited:B}),z=(e=>{const{open:t,exited:n,classes:i}=e;return Ms({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},qh,i)})(V),H={};if(void 0===g.props.tabIndex&&(H.tabIndex="-1"),G){const{onEnter:e,onExited:t}=L();H.onEnter=e,H.onExited=t}const W=null!=(n=null!=(i=null==A?void 0:A.root)?i:v.Root)?n:Xh,U=null!=(r=null!=(s=null==A?void 0:A.backdrop)?s:v.Backdrop)?r:c,j=null!=(a=null==T?void 0:T.root)?a:y.root,$=null!=(l=null==T?void 0:T.backdrop)?l:y.backdrop,K=cl({elementType:W,externalSlotProps:j,externalForwardedProps:E,getSlotProps:k,additionalProps:{ref:t,as:m},ownerState:V,className:xs(h,null==j?void 0:j.className,null==z?void 0:z.root,!V.open&&V.exited&&(null==z?void 0:z.hidden))}),q=cl({elementType:U,externalSlotProps:$,additionalProps:d,getSlotProps:e=>F((0,qn.A)({},e,{onClick:t=>{D&&D(t),null!=e&&e.onClick&&e.onClick(t)}})),className:xs(null==$?void 0:$.className,null==d?void 0:d.className,null==z?void 0:z.backdrop),ownerState:V});return R||P||G&&!B?(0,dl.jsx)(hl,{ref:O,container:f,disablePortal:S,children:(0,dl.jsxs)(W,(0,qn.A)({},K,{children:[!_&&c?(0,dl.jsx)(U,(0,qn.A)({},q)):null,(0,dl.jsx)(Eh,{disableEnforceFocus:C,disableAutoFocus:w,disableRestoreFocus:x,isEnabled:N,open:P,children:o.cloneElement(g,H)})]}))}):null})),Jh=Qh;function ep(e){return ml("MuiPopover",e)}vl("MuiPopover",["root","paper"]);const tp=["onEntering"],np=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ip=["slotProps"];function rp(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function op(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function sp(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function ap(e){return"function"===typeof e?e():e}const lp=Fi(Jh,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),up=Fi(Ul,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),cp=o.forwardRef((function(e,t){var n,i,r;const s=Tl({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:p,container:g,elevation:f=8,marginThreshold:m=16,open:v,PaperProps:y={},slots:w,slotProps:C,transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:S=Dh,transitionDuration:x="auto",TransitionProps:{onEntering:M}={},disableScrollLock:_=!1}=s,R=(0,Yn.A)(s.TransitionProps,tp),D=(0,Yn.A)(s,np),P=null!=(n=null==C?void 0:C.paper)?n:y,T=o.useRef(),A=jl(T,P.ref),E=(0,qn.A)({},s,{anchorOrigin:u,anchorReference:d,elevation:f,marginThreshold:m,externalPaperSlotProps:P,transformOrigin:b,TransitionComponent:S,transitionDuration:x,TransitionProps:R}),I=(e=>{const{classes:t}=e;return Ms({root:["root"],paper:["paper"]},ep,t)})(E),k=o.useCallback((()=>{if("anchorPosition"===d)return c;const e=ap(l),t=(e&&1===e.nodeType?e:$d(T.current).body).getBoundingClientRect();return{top:t.top+rp(t,u.vertical),left:t.left+op(t,u.horizontal)}}),[l,u.horizontal,u.vertical,c,d]),F=o.useCallback((e=>({vertical:rp(e,b.vertical),horizontal:op(e,b.horizontal)})),[b.horizontal,b.vertical]),L=o.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=F(t);if("none"===d)return{top:null,left:null,transformOrigin:sp(n)};const i=k();let r=i.top-n.vertical,o=i.left-n.horizontal;const s=r+t.height,a=o+t.width,u=uh(ap(l)),c=u.innerHeight-m,h=u.innerWidth-m;if(null!==m&&r<m){const e=r-m;r-=e,n.vertical+=e}else if(null!==m&&s>c){const e=s-c;r-=e,n.vertical+=e}if(null!==m&&o<m){const e=o-m;o-=e,n.horizontal+=e}else if(a>h){const e=a-h;o-=e,n.horizontal+=e}return{top:`${Math.round(r)}px`,left:`${Math.round(o)}px`,transformOrigin:sp(n)}}),[l,d,k,F,m]),[O,N]=o.useState(v),B=o.useCallback((()=>{const e=T.current;if(!e)return;const t=L(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,N(!0)}),[L]);o.useEffect((()=>(_&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B))),[l,_,B]);o.useEffect((()=>{v&&B()})),o.useImperativeHandle(a,(()=>v?{updatePosition:()=>{B()}}:null),[v,B]),o.useEffect((()=>{if(!v)return;const e=lh((()=>{B()})),t=uh(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,v,B]);let G=x;"auto"!==x||S.muiSupportAuto||(G=void 0);const V=g||(l?$d(ap(l)).body:void 0),z=null!=(i=null==w?void 0:w.root)?i:lp,H=null!=(r=null==w?void 0:w.paper)?r:up,W=cl({elementType:H,externalSlotProps:(0,qn.A)({},P,{style:O?P.style:(0,qn.A)({},P.style,{opacity:0})}),additionalProps:{elevation:f,ref:A},ownerState:E,className:xs(I.paper,null==P?void 0:P.className)}),U=cl({elementType:z,externalSlotProps:(null==C?void 0:C.root)||{},externalForwardedProps:D,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:V,open:v},ownerState:E,className:xs(I.root,p)}),{slotProps:j}=U,$=(0,Yn.A)(U,ip);return(0,dl.jsx)(z,(0,qn.A)({},$,!il(z)&&{slotProps:j,disableScrollLock:_},{children:(0,dl.jsx)(S,(0,qn.A)({appear:!0,in:v,onEntering:(e,t)=>{M&&M(e,t),B()},onExited:()=>{N(!1)},timeout:G},R,{children:(0,dl.jsx)(H,(0,qn.A)({},W,{children:h}))}))}))})),dp=cp;function hp(e){return ml("MuiMenu",e)}vl("MuiMenu",["root","paper","list"]);const pp=["onEntering"],gp=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],fp={vertical:"top",horizontal:"right"},mp={vertical:"top",horizontal:"left"},vp=Fi(dp,{shouldForwardProp:e=>ki(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),yp=Fi(up,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),wp=Fi(ah,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Cp=o.forwardRef((function(e,t){var n,i;const r=Tl({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:p={},PopoverClasses:g,transitionDuration:f="auto",TransitionProps:{onEntering:m}={},variant:v="selectedMenu",slots:y={},slotProps:w={}}=r,C=(0,Yn.A)(r.TransitionProps,pp),b=(0,Yn.A)(r,gp),S=(()=>{const e=o.useContext(Kd);return null!=e&&e})(),x=(0,qn.A)({},r,{autoFocus:s,disableAutoFocusItem:u,MenuListProps:c,onEntering:m,PaperProps:p,transitionDuration:f,TransitionProps:C,variant:v}),M=(e=>{const{classes:t}=e;return Ms({root:["root"],paper:["paper"],list:["list"]},hp,t)})(x),_=s&&!u&&h,R=o.useRef(null);let D=-1;o.Children.map(a,((e,t)=>{o.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===D)&&(D=t))}));const P=null!=(n=y.paper)?n:yp,T=null!=(i=w.paper)?i:p,A=cl({elementType:y.root,externalSlotProps:w.root,ownerState:x,className:[M.root,l]}),E=cl({elementType:P,externalSlotProps:T,ownerState:x,className:M.paper});return(0,dl.jsx)(vp,(0,qn.A)({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?fp:mp,slots:{paper:P,root:y.root},slotProps:{root:A,paper:E},open:h,ref:t,transitionDuration:f,TransitionProps:(0,qn.A)({onEntering:(e,t)=>{R.current&&R.current.adjustStyleForScrollbar(e,{direction:S?"rtl":"ltr"}),m&&m(e,t)}},C),ownerState:x},b,{classes:g,children:(0,dl.jsx)(wp,(0,qn.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:R,autoFocus:s&&(-1===D||u),autoFocusItem:_,variant:v},c,{className:xs(M.list,c.className),children:a}))}))}));function bp(e){return ml("MuiNativeSelect",e)}const Sp=vl("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),xp=["className","disabled","error","IconComponent","inputRef","variant"],Mp=e=>{let{ownerState:t,theme:n}=e;return(0,qn.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,qn.A)({},n.vars?{backgroundColor:`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Sp.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},_p=Fi("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ki,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${Sp.multiple}`]:t.multiple}]}})(Mp),Rp=e=>{let{ownerState:t,theme:n}=e;return(0,qn.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${Sp.disabled}`]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Dp=Fi("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Fl(n.variant)}`],n.open&&t.iconOpen]}})(Rp),Pp=o.forwardRef((function(e,t){const{className:n,disabled:i,error:r,IconComponent:s,inputRef:a,variant:l="standard"}=e,u=(0,Yn.A)(e,xp),c=(0,qn.A)({},e,{disabled:i,variant:l,error:r}),d=(e=>{const{classes:t,variant:n,disabled:i,multiple:r,open:o,error:s}=e;return Ms({select:["select",n,i&&"disabled",r&&"multiple",s&&"error"],icon:["icon",`icon${Fl(n)}`,o&&"iconOpen",i&&"disabled"]},bp,t)})(c);return(0,dl.jsxs)(o.Fragment,{children:[(0,dl.jsx)(_p,(0,qn.A)({ownerState:c,className:xs(d.select,n),disabled:i,ref:a||t},u)),e.multiple?null:(0,dl.jsx)(Dp,{as:s,ownerState:c,className:d.icon})]})})),Tp=Ps;function Ap(e){return ml("MuiSelect",e)}const Ep=vl("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Ip;const kp=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Fp=Fi("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Ep.select}`]:t.select},{[`&.${Ep.select}`]:t[n.variant]},{[`&.${Ep.error}`]:t.error},{[`&.${Ep.multiple}`]:t.multiple}]}})(Mp,{[`&.${Ep.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Lp=Fi("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Fl(n.variant)}`],n.open&&t.iconOpen]}})(Rp),Op=Fi("input",{shouldForwardProp:e=>Ii(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Np(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Bp(e){return null==e||"string"===typeof e&&!e.trim()}const Gp=o.forwardRef((function(e,t){var n;const{"aria-describedby":i,"aria-label":r,autoFocus:s,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:p,error:g=!1,IconComponent:f,inputRef:m,labelId:v,MenuProps:y={},multiple:w,name:C,onBlur:b,onChange:S,onClose:x,onFocus:M,onOpen:_,open:R,readOnly:D,renderValue:P,SelectDisplayProps:T={},tabIndex:A,value:E,variant:I="standard"}=e,k=(0,Yn.A)(e,kp),[F,L]=Tp({controlled:E,default:d,name:"Select"}),[O,N]=Tp({controlled:R,default:c,name:"Select"}),B=o.useRef(null),G=o.useRef(null),[V,z]=o.useState(null),{current:H}=o.useRef(null!=R),[W,U]=o.useState(),j=jl(t,m),$=o.useCallback((e=>{G.current=e,e&&z(e)}),[]),K=null==V?void 0:V.parentNode;o.useImperativeHandle(j,(()=>({focus:()=>{G.current.focus()},node:B.current,value:F})),[F]),o.useEffect((()=>{c&&O&&V&&!H&&(U(a?null:K.clientWidth),G.current.focus())}),[V,a]),o.useEffect((()=>{s&&G.current.focus()}),[s]),o.useEffect((()=>{if(!v)return;const e=$d(G.current).getElementById(v);if(e){const t=()=>{getSelection().isCollapsed&&G.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[v]);const q=(e,t)=>{e?_&&_(t):x&&x(t),H||(U(a?null:K.clientWidth),N(e))},Y=o.Children.toArray(l),X=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(w){n=Array.isArray(F)?F.slice():[];const t=F.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),F!==n&&(L(n),S)){const i=t.nativeEvent||t,r=new i.constructor(i.type,i);Object.defineProperty(r,"target",{writable:!0,value:{value:n,name:C}}),S(r,e)}w||q(!1,t)}},Z=null!==V&&O;let Q,J;delete k["aria-invalid"];const ee=[];let te=!1,ne=!1;(Xc({value:F})||p)&&(P?Q=P(F):te=!0);const ie=Y.map((e=>{if(!o.isValidElement(e))return null;let t;if(w){if(!Array.isArray(F))throw new Error((0,Xn.A)(2));t=F.some((t=>Np(t,e.props.value))),t&&te&&ee.push(e.props.children)}else t=Np(F,e.props.value),t&&te&&(J=e.props.children);return t&&(ne=!0),o.cloneElement(e,{"aria-selected":t?"true":"false",onClick:X(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));te&&(Q=w?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):J);let re,oe=W;!a&&H&&V&&(oe=K.clientWidth),re="undefined"!==typeof A?A:h?null:0;const se=T.id||(C?`mui-component-select-${C}`:void 0),ae=(0,qn.A)({},e,{variant:I,value:F,open:Z,error:g}),le=(e=>{const{classes:t,variant:n,disabled:i,multiple:r,open:o,error:s}=e;return Ms({select:["select",n,i&&"disabled",r&&"multiple",s&&"error"],icon:["icon",`icon${Fl(n)}`,o&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]},Ap,t)})(ae),ue=(0,qn.A)({},y.PaperProps,null==(n=y.slotProps)?void 0:n.paper),ce=Ds();return(0,dl.jsxs)(o.Fragment,{children:[(0,dl.jsx)(Fp,(0,qn.A)({ref:$,tabIndex:re,role:"combobox","aria-controls":ce,"aria-disabled":h?"true":void 0,"aria-expanded":Z?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[v,se].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:e=>{if(!D){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),q(!0,e))}},onMouseDown:h||D?null:e=>{0===e.button&&(e.preventDefault(),G.current.focus(),q(!0,e))},onBlur:e=>{!Z&&b&&(Object.defineProperty(e,"target",{writable:!0,value:{value:F,name:C}}),b(e))},onFocus:M},T,{ownerState:ae,className:xs(T.className,le.select,u),id:se,children:Bp(Q)?Ip||(Ip=(0,dl.jsx)("span",{className:"notranslate",children:"\u200b"})):Q})),(0,dl.jsx)(Op,(0,qn.A)({"aria-invalid":g,value:Array.isArray(F)?F.join(","):F,name:C,ref:B,"aria-hidden":!0,onChange:e=>{const t=Y.find((t=>t.props.value===e.target.value));void 0!==t&&(L(t.props.value),S&&S(e,t))},tabIndex:-1,disabled:h,className:le.nativeInput,autoFocus:s,ownerState:ae},k)),(0,dl.jsx)(Lp,{as:f,className:le.icon,ownerState:ae}),(0,dl.jsx)(Cp,(0,qn.A)({id:`menu-${C||""}`,anchorEl:K,open:Z,onClose:e=>{q(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,qn.A)({"aria-labelledby":v,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:ce},y.MenuListProps),slotProps:(0,qn.A)({},y.slotProps,{paper:(0,qn.A)({},ue,{style:(0,qn.A)({minWidth:oe},null!=ue?ue.style:null)})}),children:ie}))]})})),Vp=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],zp=["root"],Hp={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>ki(e)&&"variant"!==e,slot:"Root"},Wp=Fi(ud,Hp)(""),Up=Fi(Md,Hp)(""),jp=Fi(gd,Hp)(""),$p=o.forwardRef((function(e,t){const n=Tl({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:r,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=cc,id:d,input:h,inputProps:p,label:g,labelId:f,MenuProps:m,multiple:v=!1,native:y=!1,onClose:w,onOpen:C,open:b,renderValue:S,SelectDisplayProps:x,variant:M="outlined"}=n,_=(0,Yn.A)(n,Vp),R=y?Pp:Gp,D=Bc({props:n,muiFormControl:Vc(),states:["variant","error"]}),P=D.variant||M,T=(0,qn.A)({},n,{variant:P,classes:s}),A=(e=>{const{classes:t}=e;return t})(T),E=(0,Yn.A)(A,zp),I=h||{standard:(0,dl.jsx)(Wp,{ownerState:T}),outlined:(0,dl.jsx)(Up,{label:g,ownerState:T}),filled:(0,dl.jsx)(jp,{ownerState:T})}[P],k=jl(t,I.ref);return(0,dl.jsx)(o.Fragment,{children:o.cloneElement(I,(0,qn.A)({inputComponent:R,inputProps:(0,qn.A)({children:r,error:D.error,IconComponent:c,variant:P,type:void 0,multiple:v},y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:f,MenuProps:m,onClose:w,onOpen:C,open:b,renderValue:S,SelectDisplayProps:(0,qn.A)({id:d},x)},p,{classes:p?(0,Zn.A)(E,p.classes):E},h?h.props.inputProps:{})},(v&&y||u)&&"outlined"===P?{notched:!0}:{},{ref:k,className:xs(I.props.className,a,A.root)},!h&&{variant:P},_))})}));$p.muiName="Select";const Kp=$p;function qp(e){return ml("MuiTextField",e)}vl("MuiTextField",["root"]);const Yp=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Xp={standard:ud,filled:gd,outlined:Md},Zp=Fi(Gd,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Qp=o.forwardRef((function(e,t){const n=Tl({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:r=!1,children:o,className:s,color:a="primary",defaultValue:l,disabled:u=!1,error:c=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:p,id:g,InputLabelProps:f,inputProps:m,InputProps:v,inputRef:y,label:w,maxRows:C,minRows:b,multiline:S=!1,name:x,onBlur:M,onChange:_,onFocus:R,placeholder:D,required:P=!1,rows:T,select:A=!1,SelectProps:E,type:I,value:k,variant:F="outlined"}=n,L=(0,Yn.A)(n,Yp),O=(0,qn.A)({},n,{autoFocus:r,color:a,disabled:u,error:c,fullWidth:h,multiline:S,required:P,select:A,variant:F}),N=(e=>{const{classes:t}=e;return Ms({root:["root"]},qp,t)})(O);const B={};"outlined"===F&&(f&&"undefined"!==typeof f.shrink&&(B.notched=f.shrink),B.label=w),A&&(E&&E.native||(B.id=void 0),B["aria-describedby"]=void 0);const G=Ds(g),V=p&&G?`${G}-helper-text`:void 0,z=w&&G?`${G}-label`:void 0,H=Xp[F],W=(0,dl.jsx)(H,(0,qn.A)({"aria-describedby":V,autoComplete:i,autoFocus:r,defaultValue:l,fullWidth:h,multiline:S,name:x,rows:T,maxRows:C,minRows:b,type:I,value:k,id:G,inputRef:y,onBlur:M,onChange:_,onFocus:R,placeholder:D,inputProps:m},B,v));return(0,dl.jsxs)(Zp,(0,qn.A)({className:xs(N.root,s),disabled:u,error:c,fullWidth:h,ref:t,required:P,color:a,variant:F,ownerState:O},L,{children:[null!=w&&""!==w&&(0,dl.jsx)(Fd,(0,qn.A)({htmlFor:G,id:z},f,{children:w})),A?(0,dl.jsx)(Kp,(0,qn.A)({"aria-describedby":V,id:G,labelId:z,value:k,input:W},E,{children:o})):W,p&&(0,dl.jsx)(jd,(0,qn.A)({id:V},d,{children:p}))]}))})),Jp=e=>{let{ticker:t,setTickers:n}=e;const[i,r]=(0,o.useState)(1),[s,a]=(0,o.useState)(1),[l,u]=(0,o.useState)(1);(0,o.useEffect)((()=>{(async()=>{try{const e=await(e=>Cs.get(`/price?ticker=${e}`))(t);r(e.data.p),a(s),u(s*e.data.p)}catch(e){console.error("Error fetching price: ",e)}})()}),[t]);const[c,d]=t.split("/");return(0,dl.jsxs)(bs,{children:[(0,dl.jsx)(Ac,{value:t,options:["AUD/USD","EUR/USD","GBP/USD"],sx:{width:160},renderInput:e=>(0,dl.jsx)(Qp,{...e,label:"FX"}),onChange:(e,t)=>{n(t)},disableClearable:!0}),(0,dl.jsx)(Qp,{label:c,type:"number",value:s,onChange:e=>{const t=Number(e.target.value);a(t),u(t*i)}}),(0,dl.jsx)(Qp,{label:d,type:"number",value:l,onChange:e=>{const t=Number(e.target.value);a(t*i),u(t)}})]})},eg=["7d","14d","1mo","6mo"],tg=["1d","5d","1mo","1y"];function ng(e){return ml("MuiToggleButtonGroup",e)}const ig=vl("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]);const rg=o.createContext({});const og=o.createContext(void 0);function sg(e){return ml("MuiToggleButton",e)}const ag=vl("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),lg=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],ug=Fi("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ig.grouped}`]:t.grouped},{[`& .${ig.grouped}`]:t[`grouped${Fl(n.orientation)}`]},{[`& .${ig.firstButton}`]:t.firstButton},{[`& .${ig.lastButton}`]:t.lastButton},{[`& .${ig.middleButton}`]:t.middleButton},t.root,"vertical"===n.orientation&&t.vertical,n.fullWidth&&t.fullWidth]}})((e=>{let{ownerState:t,theme:n}=e;return(0,qn.A)({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius},"vertical"===t.orientation&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},{[`& .${ig.grouped}`]:(0,qn.A)({},"horizontal"===t.orientation?{[`&.${ig.selected} + .${ig.grouped}.${ig.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${ig.selected} + .${ig.grouped}.${ig.selected}`]:{borderTop:0,marginTop:0}})},"horizontal"===t.orientation?{[`& .${ig.firstButton},& .${ig.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${ig.lastButton},& .${ig.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${ig.firstButton},& .${ig.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${ig.lastButton},& .${ig.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},"horizontal"===t.orientation?{[`& .${ig.lastButton}.${ag.disabled},& .${ig.middleButton}.${ag.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${ig.lastButton}.${ag.disabled},& .${ig.middleButton}.${ag.disabled}`]:{borderTop:"1px solid transparent"}})})),cg=o.forwardRef((function(e,t){const n=Tl({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:r,color:s="standard",disabled:a=!1,exclusive:l=!1,fullWidth:u=!1,onChange:c,orientation:d="horizontal",size:h="medium",value:p}=n,g=(0,Yn.A)(n,lg),f=(0,qn.A)({},n,{disabled:a,fullWidth:u,orientation:d,size:h}),m=(e=>{const{classes:t,orientation:n,fullWidth:i,disabled:r}=e;return Ms({root:["root","vertical"===n&&"vertical",i&&"fullWidth"],grouped:["grouped",`grouped${Fl(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]},ng,t)})(f),v=o.useCallback(((e,t)=>{if(!c)return;const n=p&&p.indexOf(t);let i;p&&n>=0?(i=p.slice(),i.splice(n,1)):i=p?p.concat(t):[t],c(e,i)}),[c,p]),y=o.useCallback(((e,t)=>{c&&c(e,p===t?null:t)}),[c,p]),w=o.useMemo((()=>({className:m.grouped,onChange:l?y:v,value:p,size:h,fullWidth:u,color:s,disabled:a})),[m.grouped,l,y,v,p,h,u,s,a]),C=function(e){return o.Children.toArray(e).filter((e=>o.isValidElement(e)))}(i),b=C.length,S=e=>{const t=0===e,n=e===b-1;return t&&n?"":t?m.firstButton:n?m.lastButton:m.middleButton};return(0,dl.jsx)(ug,(0,qn.A)({role:"group",className:xs(m.root,r),ref:t,ownerState:f},g,{children:(0,dl.jsx)(rg.Provider,{value:w,children:C.map(((e,t)=>(0,dl.jsx)(og.Provider,{value:S(t),children:e},t)))})}))}));var dg=n(1188);function hg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,dg.A)(e,t,n)}function pg(e){if(e.type)return e;if("#"===e.charAt(0))return pg(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,Xn.A)(9,e));let i,r=e.substring(t+1,e.length-1);if("color"===n){if(r=r.split(" "),i=r.shift(),4===r.length&&"/"===r[3].charAt(0)&&(r[3]=r[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,Xn.A)(10,i))}else r=r.split(",");return r=r.map((e=>parseFloat(e))),{type:n,values:r,colorSpace:i}}function gg(e){const{type:t,colorSpace:n}=e;let{values:i}=e;return-1!==t.indexOf("rgb")?i=i.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),i=-1!==t.indexOf("color")?`${n} ${i.join(" ")}`:`${i.join(", ")}`,`${t}(${i})`}function fg(e,t){return e=pg(e),t=hg(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,gg(e)}function mg(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}const vg=["value"],yg=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],wg=Fi(Lu,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${Fl(n.size)}`]]}})((e=>{let t,{theme:n,ownerState:i}=e,r="standard"===i.color?n.palette.text.primary:n.palette[i.color].main;return n.vars&&(r="standard"===i.color?n.vars.palette.text.primary:n.vars.palette[i.color].main,t="standard"===i.color?n.vars.palette.text.primaryChannel:n.vars.palette[i.color].mainChannel),(0,qn.A)({},n.typography.button,{borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:`1px solid ${(n.vars||n).palette.divider}`,color:(n.vars||n).palette.action.active},i.fullWidth&&{width:"100%"},{[`&.${ag.disabled}`]:{color:(n.vars||n).palette.action.disabled,border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:fg(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ag.selected}`]:{color:r,backgroundColor:n.vars?`rgba(${t} / ${n.vars.palette.action.selectedOpacity})`:fg(r,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${t} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:fg(r,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${t} / ${n.vars.palette.action.selectedOpacity})`:fg(r,n.palette.action.selectedOpacity)}}}},"small"===i.size&&{padding:7,fontSize:n.typography.pxToRem(13)},"large"===i.size&&{padding:15,fontSize:n.typography.pxToRem(15)})})),Cg=o.forwardRef((function(e,t){const n=o.useContext(rg),{value:i}=n,r=(0,Yn.A)(n,vg),s=o.useContext(og),a=Tl({props:Rl((0,qn.A)({},r,{selected:mg(e.value,i)}),e),name:"MuiToggleButton"}),{children:l,className:u,color:c="standard",disabled:d=!1,disableFocusRipple:h=!1,fullWidth:p=!1,onChange:g,onClick:f,selected:m,size:v="medium",value:y}=a,w=(0,Yn.A)(a,yg),C=(0,qn.A)({},a,{color:c,disabled:d,disableFocusRipple:h,fullWidth:p,size:v}),b=(e=>{const{classes:t,fullWidth:n,selected:i,disabled:r,size:o,color:s}=e;return Ms({root:["root",i&&"selected",r&&"disabled",n&&"fullWidth",`size${Fl(o)}`,s]},sg,t)})(C),S=s||"";return(0,dl.jsx)(wg,(0,qn.A)({className:xs(r.className,b.root,u,S),disabled:d,focusRipple:!h,ref:t,onClick:e=>{f&&(f(e,y),e.defaultPrevented)||g&&g(e,y)},onChange:g,value:y,ownerState:C,"aria-pressed":m},w,{children:l}))})),bg=e=>{let{value:t,options:n,onChange:i}=e;return(0,dl.jsx)(cg,{value:t,exclusive:!0,"aria-label":"text alignment",onChange:(e,t)=>i(t),children:n.map((e=>(0,dl.jsx)(Cg,{value:e,children:e},e)))})},Sg={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function xg(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Mg={date:xg({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:xg({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:xg({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},_g={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Rg(e){return(t,n)=>{let i;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,r=n?.width?String(n.width):t;i=e.formattingValues[r]||e.formattingValues[t]}else{const t=e.defaultWidth,r=n?.width?String(n.width):e.defaultWidth;i=e.values[r]||e.values[t]}return i[e.argumentCallback?e.argumentCallback(t):t]}}function Dg(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=n.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=t.match(r);if(!o)return null;const s=o[0],a=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(a,(e=>e.test(s))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(a,(e=>e.test(s)));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;return{value:u,rest:t.slice(s.length)}}}var Pg;const Tg={code:"en-US",formatDistance:(e,t,n)=>{let i;const r=Sg[e];return i="string"===typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i},formatLong:Mg,formatRelative:(e,t,n,i)=>_g[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Rg({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Rg({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Rg({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Rg({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Rg({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Pg={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(Pg.matchPattern);if(!n)return null;const i=n[0],r=e.match(Pg.parsePattern);if(!r)return null;let o=Pg.valueCallback?Pg.valueCallback(r[0]):r[0];return o=t.valueCallback?t.valueCallback(o):o,{value:o,rest:e.slice(i.length)}}),era:Dg({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Dg({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Dg({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Dg({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Dg({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ag(e){const t=ts(e),n=ns(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Eg(e){const t=ts(e);return us(t,Ag(t))+1}function Ig(e){return gs(e,{weekStartsOn:1})}function kg(e){const t=ts(e),n=t.getFullYear(),i=ns(e,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const r=Ig(i),o=ns(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Ig(o);return t.getTime()>=r.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Fg(e){const t=kg(e),n=ns(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ig(n)}function Lg(e){const t=ts(e),n=+Ig(t)-+Fg(t);return Math.round(n/os)+1}function Og(e,t){const n=ts(e),i=n.getFullYear(),r=ps(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=ns(e,0);s.setFullYear(i+1,0,o),s.setHours(0,0,0,0);const a=gs(s,t),l=ns(e,0);l.setFullYear(i,0,o),l.setHours(0,0,0,0);const u=gs(l,t);return n.getTime()>=a.getTime()?i+1:n.getTime()>=u.getTime()?i:i-1}function Ng(e,t){const n=ps(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=Og(e,t),o=ns(e,0);o.setFullYear(r,0,i),o.setHours(0,0,0,0);return gs(o,t)}function Bg(e,t){const n=ts(e),i=+gs(n,t)-+Ng(n,t);return Math.round(i/os)+1}function Gg(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Vg={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Gg("yy"===t?i%100:i,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Gg(n+1,2)},d:(e,t)=>Gg(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Gg(e.getHours()%12||12,t.length),H:(e,t)=>Gg(e.getHours(),t.length),m:(e,t)=>Gg(e.getMinutes(),t.length),s:(e,t)=>Gg(e.getSeconds(),t.length),S(e,t){const n=t.length,i=e.getMilliseconds();return Gg(Math.trunc(i*Math.pow(10,n-3)),t.length)}},zg="midnight",Hg="noon",Wg="morning",Ug="afternoon",jg="evening",$g="night",Kg={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),i=t>0?t:1-t;return n.ordinalNumber(i,{unit:"year"})}return Vg.y(e,t)},Y:function(e,t,n,i){const r=Og(e,i),o=r>0?r:1-r;if("YY"===t){return Gg(o%100,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Gg(o,t.length)},R:function(e,t){return Gg(kg(e),t.length)},u:function(e,t){return Gg(e.getFullYear(),t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Gg(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Gg(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return Vg.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Gg(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const r=Bg(e,i);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):Gg(r,t.length)},I:function(e,t,n){const i=Lg(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):Gg(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Vg.d(e,t)},D:function(e,t,n){const i=Eg(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):Gg(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const r=e.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Gg(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const r=e.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Gg(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),r=0===i?7:i;switch(t){case"i":return String(r);case"ii":return Gg(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let r;switch(r=12===i?Hg:0===i?zg:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let r;switch(r=i>=17?jg:i>=12?Ug:i>=4?Wg:$g,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Vg.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Vg.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):Gg(i,t.length)},k:function(e,t,n){let i=e.getHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):Gg(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vg.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Vg.s(e,t)},S:function(e,t){return Vg.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return Yg(i);case"XXXX":case"XX":return Xg(i);default:return Xg(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return Yg(i);case"xxxx":case"xx":return Xg(i);default:return Xg(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+qg(i,":");default:return"GMT"+Xg(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+qg(i,":");default:return"GMT"+Xg(i,":")}},t:function(e,t,n){return Gg(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,n){return Gg(e.getTime(),t.length)}};function qg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",i=Math.abs(e),r=Math.trunc(i/60),o=i%60;return 0===o?n+String(r):n+String(r)+t+Gg(o,2)}function Yg(e,t){if(e%60===0){return(e>0?"-":"+")+Gg(Math.abs(e)/60,2)}return Xg(e,t)}function Xg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",i=Math.abs(e);return n+Gg(Math.trunc(i/60),2)+t+Gg(i%60,2)}const Zg=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Qg=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Jg={p:Qg,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return Zg(e,t);let o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",Zg(i,t)).replace("{{time}}",Qg(r,t))}},ef=/^D+$/,tf=/^Y+$/,nf=["D","DD","YY","YYYY"];function rf(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function of(e){if(!rf(e)&&"number"!==typeof e)return!1;const t=ts(e);return!isNaN(Number(t))}const sf=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,af=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lf=/^'([^]*?)'?$/,uf=/''/g,cf=/[a-zA-Z]/;function df(e,t,n){const i=ps(),r=n?.locale??i.locale??Tg,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,a=ts(e);if(!of(a))throw new RangeError("Invalid time value");let l=t.match(af).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Jg[t])(e,r.formatLong)}return e})).join("").match(sf).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:hf(e)};if(Kg[t])return{isToken:!0,value:e};if(t.match(cf))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));r.localize.preprocessor&&(l=r.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:r};return l.map((i=>{if(!i.isToken)return i.value;const o=i.value;(!n?.useAdditionalWeekYearTokens&&function(e){return tf.test(e)}(o)||!n?.useAdditionalDayOfYearTokens&&function(e){return ef.test(e)}(o))&&function(e,t,n){const i=function(e,t,n){const i="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(i),nf.includes(e))throw new RangeError(i)}(o,t,String(e));return(0,Kg[o[0]])(a,o,r.localize,u)})).join("")}function hf(e){const t=e.match(lf);return t?t[1].replace(uf,"'"):e}function pf(e){return ts(1e3*e)}const gf=(e,t)=>({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:e.map((e=>df(pf(e.t),"dd/MMM/yyyy")))},yAxis:{scale:!0,splitArea:{show:!0}},series:[{name:t,type:"candlestick",data:e.map((e=>[e.o,e.c,e.l,e.h]))}],dataZoom:[{type:"inside",start:0,end:100},{show:!0,type:"slider"}]}),ff=(e,t)=>({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:e.map((e=>df(pf(e.t),"dd/MMM/yyyy HH:mm")))},yAxis:{scale:!0,splitArea:{show:!0}},series:[{name:t,type:"line",data:e.map((e=>e.h))}],dataZoom:[{type:"inside",start:0,end:100},{show:!0,type:"slider"}]});var mf=function(e,t){return mf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},mf(e,t)};function vf(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}mf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;Object.create;var yf=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},wf=new function(){this.browser=new yf,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!==typeof window};"object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?(wf.wxa=!0,wf.touchEventsSupported=!0):"undefined"===typeof document&&"undefined"!==typeof self?wf.worker=!0:"undefined"===typeof navigator||0===navigator.userAgent.indexOf("Node.js")?(wf.node=!0,wf.svgSupported=!0):function(e,t){var n=t.browser,i=e.match(/Firefox\/([\d.]+)/),r=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(e);i&&(n.firefox=!0,n.version=i[1]);r&&(n.ie=!0,n.version=r[1]);o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18);s&&(n.weChat=!0);t.svgSupported="undefined"!==typeof SVGRect,t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported="undefined"!==typeof document;var a=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in a||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in a)&&!("OTransition"in a),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}(navigator.userAgent,wf);const Cf=wf;var bf=12,Sf="sans-serif",xf=bf+"px "+Sf;var Mf=function(e){var t={};if("undefined"===typeof JSON)return t;for(var n=0;n<e.length;n++){var i=String.fromCharCode(n+32),r=(e.charCodeAt(n)-20)/100;t[i]=r}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),_f={createCanvas:function(){return"undefined"!==typeof document&&document.createElement("canvas")},measureText:function(){var e,t;return function(n,i){if(!e){var r=_f.createCanvas();e=r&&r.getContext("2d")}if(e)return t!==i&&(t=e.font=i||xf),e.measureText(n);n=n||"";var o=/((?:\d+)?\.?\d*)px/.exec(i=i||xf),s=o&&+o[1]||bf,a=0;if(i.indexOf("mono")>=0)a=s*n.length;else for(var l=0;l<n.length;l++){var u=Mf[n[l]];a+=null==u?s:u*s}return{width:a}}}(),loadImage:function(e,t,n){var i=new Image;return i.onload=t,i.onerror=n,i.src=e,i}};var Rf=Xf(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],(function(e,t){return e["[object "+t+"]"]=!0,e}),{}),Df=Xf(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],(function(e,t){return e["[object "+t+"Array]"]=!0,e}),{}),Pf=Object.prototype.toString,Tf=Array.prototype,Af=Tf.forEach,Ef=Tf.filter,If=Tf.slice,kf=Tf.map,Ff=function(){}.constructor,Lf=Ff?Ff.prototype:null,Of="__proto__",Nf=2311;function Bf(){return Nf++}function Gf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!==typeof console&&console.error.apply(console,e)}function Vf(e){if(null==e||"object"!==typeof e)return e;var t=e,n=Pf.call(e);if("[object Array]"===n){if(!bm(e)){t=[];for(var i=0,r=e.length;i<r;i++)t[i]=Vf(e[i])}}else if(Df[n]){if(!bm(e)){var o=e.constructor;if(o.from)t=o.from(e);else{t=new o(e.length);for(i=0,r=e.length;i<r;i++)t[i]=e[i]}}}else if(!Rf[n]&&!bm(e)&&!um(e))for(var s in t={},e)e.hasOwnProperty(s)&&s!==Of&&(t[s]=Vf(e[s]));return t}function zf(e,t,n){if(!sm(t)||!sm(e))return n?Vf(t):e;for(var i in t)if(t.hasOwnProperty(i)&&i!==Of){var r=e[i],o=t[i];!sm(o)||!sm(r)||tm(o)||tm(r)||um(o)||um(r)||am(o)||am(r)||bm(o)||bm(r)?!n&&i in e||(e[i]=Vf(t[i])):zf(r,o,n)}return e}function Hf(e,t){for(var n=e[0],i=1,r=e.length;i<r;i++)n=zf(n,e[i],t);return n}function Wf(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&n!==Of&&(e[n]=t[n]);return e}function Uf(e,t,n){for(var i=Qf(t),r=0;r<i.length;r++){var o=i[r];(n?null!=t[o]:null==e[o])&&(e[o]=t[o])}return e}_f.createCanvas;function jf(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1}function $f(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(n?null!=t[o]:null==e[o])&&(e[o]=t[o])}else Uf(e,t,n)}function Kf(e){return!!e&&("string"!==typeof e&&"number"===typeof e.length)}function qf(e,t,n){if(e&&t)if(e.forEach&&e.forEach===Af)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function Yf(e,t,n){if(!e)return[];if(!t)return fm(e);if(e.map&&e.map===kf)return e.map(t,n);for(var i=[],r=0,o=e.length;r<o;r++)i.push(t.call(n,e[r],r,e));return i}function Xf(e,t,n,i){if(e&&t){for(var r=0,o=e.length;r<o;r++)n=t.call(i,n,e[r],r,e);return n}}function Zf(e,t,n){if(!e)return[];if(!t)return fm(e);if(e.filter&&e.filter===Ef)return e.filter(t,n);for(var i=[],r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i}function Qf(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}var Jf=Lf&&nm(Lf.bind)?Lf.call.bind(Lf.bind):function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return function(){return e.apply(t,n.concat(If.call(arguments)))}};function em(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(If.call(arguments)))}}function tm(e){return Array.isArray?Array.isArray(e):"[object Array]"===Pf.call(e)}function nm(e){return"function"===typeof e}function im(e){return"string"===typeof e}function rm(e){return"[object String]"===Pf.call(e)}function om(e){return"number"===typeof e}function sm(e){var t=typeof e;return"function"===t||!!e&&"object"===t}function am(e){return!!Rf[Pf.call(e)]}function lm(e){return!!Df[Pf.call(e)]}function um(e){return"object"===typeof e&&"number"===typeof e.nodeType&&"object"===typeof e.ownerDocument}function cm(e){return null!=e.colorStops}function dm(e){return e!==e}function hm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e.length;n<i;n++)if(null!=e[n])return e[n]}function pm(e,t){return null!=e?e:t}function gm(e,t,n){return null!=e?e:null!=t?t:n}function fm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return If.apply(e,t)}function mm(e){if("number"===typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function vm(e,t){if(!e)throw new Error(t)}function ym(e){return null==e?null:"function"===typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var wm="__ec_primitive__";function Cm(e){e[wm]=!0}function bm(e){return e[wm]}var Sm=function(){function e(){this.data={}}return e.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},e.prototype.has=function(e){return this.data.hasOwnProperty(e)},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){return this.data[e]=t,this},e.prototype.keys=function(){return Qf(this.data)},e.prototype.forEach=function(e){var t=this.data;for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},e}(),xm="function"===typeof Map;var Mm=function(){function e(t){var n=tm(t);this.data=xm?new Map:new Sm;var i=this;function r(e,t){n?i.set(e,t):i.set(t,e)}t instanceof e?t.each(r):t&&qf(t,r)}return e.prototype.hasKey=function(e){return this.data.has(e)},e.prototype.get=function(e){return this.data.get(e)},e.prototype.set=function(e,t){return this.data.set(e,t),t},e.prototype.each=function(e,t){this.data.forEach((function(n,i){e.call(t,n,i)}))},e.prototype.keys=function(){var e=this.data.keys();return xm?Array.from(e):e},e.prototype.removeKey=function(e){this.data.delete(e)},e}();function _m(e){return new Mm(e)}function Rm(e,t){for(var n=new e.constructor(e.length+t.length),i=0;i<e.length;i++)n[i]=e[i];var r=e.length;for(i=0;i<t.length;i++)n[i+r]=t[i];return n}function Dm(e,t){var n;if(Object.create)n=Object.create(e);else{var i=function(){};i.prototype=e,n=new i}return t&&Wf(n,t),n}function Pm(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Tm(e,t){return e.hasOwnProperty(t)}function Am(){}var Em=180/Math.PI,Im=function(e,t){return Im=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Im(e,t)};function km(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Im(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;Object.create;function Fm(e,t){return null==e&&(e=0),null==t&&(t=0),[e,t]}function Lm(e,t){return e[0]=t[0],e[1]=t[1],e}function Om(e){return[e[0],e[1]]}function Nm(e,t,n){return e[0]=t,e[1]=n,e}function Bm(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Gm(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e}function Vm(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function zm(e){return Math.sqrt(Hm(e))}function Hm(e){return e[0]*e[0]+e[1]*e[1]}function Wm(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function Um(e,t){var n=zm(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function jm(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var $m=jm;var Km=function(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])};function qm(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e}function Ym(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[2]*r+n[4],e[1]=n[1]*i+n[3]*r+n[5],e}function Xm(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function Zm(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var Qm=function(e,t){this.target=e,this.topTarget=t&&t.topTarget},Jm=function(){function e(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Qm(t,e),"dragstart",e.event))},e.prototype._drag=function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,t.drift(r,o,e),this.handler.dispatchToElement(new Qm(t,e),"drag",e.event);var s=this.handler.findHover(n,i,t).target,a=this._dropTarget;this._dropTarget=s,t!==s&&(a&&s!==a&&this.handler.dispatchToElement(new Qm(a,e),"dragleave",e.event),s&&s!==a&&this.handler.dispatchToElement(new Qm(s,e),"dragenter",e.event))}},e.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new Qm(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Qm(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},e}();const ev=Jm;var tv=function(){function e(e){e&&(this._$eventProcessor=e)}return e.prototype.on=function(e,t,n,i){this._$handlers||(this._$handlers={});var r=this._$handlers;if("function"===typeof t&&(i=n,n=t,t=null),!n||!e)return this;var o=this._$eventProcessor;null!=t&&o&&o.normalizeQuery&&(t=o.normalizeQuery(t)),r[e]||(r[e]=[]);for(var s=0;s<r[e].length;s++)if(r[e][s].h===n)return this;var a={h:n,query:t,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},l=r[e].length-1,u=r[e][l];return u&&u.callAtLast?r[e].splice(l,0,a):r[e].push(a),this},e.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},e.prototype.off=function(e,t){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],r=0,o=n[e].length;r<o;r++)n[e][r].h!==t&&i.push(n[e][r]);n[e]=i}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],r=this._$eventProcessor;if(i)for(var o=t.length,s=i.length,a=0;a<s;a++){var l=i[a];if(!r||!r.filter||null==l.query||r.filter(e,l.query))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,t[0]);break;case 2:l.h.call(l.ctx,t[0],t[1]);break;default:l.h.apply(l.ctx,t)}}return r&&r.afterTrigger&&r.afterTrigger(e),this},e.prototype.triggerWithContext=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],r=this._$eventProcessor;if(i)for(var o=t.length,s=t[o-1],a=i.length,l=0;l<a;l++){var u=i[l];if(!r||!r.filter||null==u.query||r.filter(e,u.query))switch(o){case 0:u.h.call(s);break;case 1:u.h.call(s,t[0]);break;case 2:u.h.call(s,t[0],t[1]);break;default:u.h.apply(s,t.slice(1,o-1))}}return r&&r.afterTrigger&&r.afterTrigger(e),this},e}();const nv=tv;var iv=Math.log(2);function rv(e,t,n,i,r,o){var s=i+"-"+r,a=e.length;if(o.hasOwnProperty(s))return o[s];if(1===t){var l=Math.round(Math.log((1<<a)-1&~r)/iv);return e[n][l]}for(var u=i|1<<n,c=n+1;i&1<<c;)c++;for(var d=0,h=0,p=0;h<a;h++){var g=1<<h;g&r||(d+=(p%2?-1:1)*e[n][h]*rv(e,t-1,c,u,r|g,o),p++)}return o[s]=d,d}function ov(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],i={},r=rv(n,8,0,0,0,i);if(0!==r){for(var o=[],s=0;s<8;s++)for(var a=0;a<8;a++)null==o[a]&&(o[a]=0),o[a]+=((s+a)%2?-1:1)*rv(n,7,0===s?1:0,1<<s,1<<a,i)/r*t[s];return function(e,t,n){var i=t*o[6]+n*o[7]+1;e[0]=(t*o[0]+n*o[1]+o[2])/i,e[1]=(t*o[3]+n*o[4]+o[5])/i}}}var sv="___zrEVENTSAVED",av=[];function lv(e,t,n,i,r){if(t.getBoundingClientRect&&Cf.domSupported&&!uv(t)){var o=t[sv]||(t[sv]={}),s=function(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var s=document.createElement("div"),a=o%2,l=(o>>1)%2;s.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[a]+":0",r[l]+":0",i[1-a]+":auto",r[1-l]+":auto",""].join("!important;"),e.appendChild(s),n.push(s)}return n}(t,o),a=function(e,t,n){for(var i=n?"invTrans":"trans",r=t[i],o=t.srcCoords,s=[],a=[],l=!0,u=0;u<4;u++){var c=e[u].getBoundingClientRect(),d=2*u,h=c.left,p=c.top;s.push(h,p),l=l&&o&&h===o[d]&&p===o[d+1],a.push(e[u].offsetLeft,e[u].offsetTop)}return l&&r?r:(t.srcCoords=s,t[i]=n?ov(a,s):ov(s,a))}(s,o,r);if(a)return a(e,n,i),!0}return!1}function uv(e){return"CANVAS"===e.nodeName.toUpperCase()}var cv=/([&<>"'])/g,dv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function hv(e){return null==e?"":(e+"").replace(cv,(function(e,t){return dv[t]}))}var pv=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,gv=[],fv=Cf.browser.firefox&&+Cf.browser.version.split(".")[0]<39;function mv(e,t,n,i){return n=n||{},i?vv(e,t,n):fv&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):vv(e,t,n),n}function vv(e,t,n){if(Cf.domSupported&&e.getBoundingClientRect){var i=t.clientX,r=t.clientY;if(uv(e)){var o=e.getBoundingClientRect();return n.zrX=i-o.left,void(n.zrY=r-o.top)}if(lv(gv,e,i,r))return n.zrX=gv[0],void(n.zrY=gv[1])}n.zrX=n.zrY=0}function yv(e){return e||window.event}function wv(e,t,n){if(null!=(t=yv(t)).zrX)return t;var i=t.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!==i?t.targetTouches[0]:t.changedTouches[0];r&&mv(e,r,t,n)}else{mv(e,t,t,n);var o=function(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX,i=e.deltaY;if(null==n||null==i)return t;return 3*(0!==i?Math.abs(i):Math.abs(n))*(i>0?-1:i<0?1:n>0?-1:1)}(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var s=t.button;return null==t.which&&void 0!==s&&pv.test(t.type)&&(t.which=1&s?1:2&s?3:4&s?2:0),t}function Cv(e,t,n,i){e.addEventListener(t,n,i)}var bv=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function Sv(e){return 2===e.which||3===e.which}var xv=function(){function e(){this._track=[]}return e.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(e,t,n){var i=e.touches;if(i){for(var r={points:[],touches:[],target:t,event:e},o=0,s=i.length;o<s;o++){var a=i[o],l=mv(n,a,{});r.points.push([l.zrX,l.zrY]),r.touches.push(a)}this._track.push(r)}},e.prototype._recognize=function(e){for(var t in _v)if(_v.hasOwnProperty(t)){var n=_v[t](this._track,e);if(n)return n}},e}();function Mv(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}var _v={pinch:function(e,t){var n=e.length;if(n){var i,r=(e[n-1]||{}).points,o=(e[n-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var s=Mv(r)/Mv(o);!isFinite(s)&&(s=1),t.pinchScale=s;var a=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return t.pinchX=a[0],t.pinchY=a[1],{type:"pinch",target:e[0].target,event:t}}}}};function Rv(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Dv(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Pv(e,t,n){var i=t[0]*n[0]+t[2]*n[1],r=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],s=t[1]*n[2]+t[3]*n[3],a=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=i,e[1]=r,e[2]=o,e[3]=s,e[4]=a,e[5]=l,e}function Tv(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function Av(e,t,n,i){void 0===i&&(i=[0,0]);var r=t[0],o=t[2],s=t[4],a=t[1],l=t[3],u=t[5],c=Math.sin(n),d=Math.cos(n);return e[0]=r*d+a*c,e[1]=-r*c+a*d,e[2]=o*d+l*c,e[3]=-o*c+d*l,e[4]=d*(s-i[0])+c*(u-i[1])+i[0],e[5]=d*(u-i[1])-c*(s-i[0])+i[1],e}function Ev(e,t,n){var i=n[0],r=n[1];return e[0]=t[0]*i,e[1]=t[1]*r,e[2]=t[2]*i,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*r,e}function Iv(e,t){var n=t[0],i=t[2],r=t[4],o=t[1],s=t[3],a=t[5],l=n*s-o*i;return l?(l=1/l,e[0]=s*l,e[1]=-o*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*a-s*r)*l,e[5]=(o*r-n*a)*l,e):null}var kv=function(){function e(e,t){this.x=e||0,this.y=t||0}return e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.scale=function(e){this.x*=e,this.y*=e},e.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},e.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},e.prototype.distanceSquare=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(e){if(e){var t=this.x,n=this.y;return this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this}},e.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},e.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},e.set=function(e,t,n){e.x=t,e.y=n},e.copy=function(e,t){e.x=t.x,e.y=t.y},e.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.lenSquare=function(e){return e.x*e.x+e.y*e.y},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},e.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},e.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},e.scaleAndAdd=function(e,t,n,i){e.x=t.x+n.x*i,e.y=t.y+n.y*i},e.lerp=function(e,t,n,i){var r=1-i;e.x=r*t.x+i*n.x,e.y=r*t.y+i*n.y},e}();const Fv=kv;var Lv=Math.min,Ov=Math.max,Nv=new Fv,Bv=new Fv,Gv=new Fv,Vv=new Fv,zv=new Fv,Hv=new Fv,Wv=function(){function e(e,t,n,i){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),this.x=e,this.y=t,this.width=n,this.height=i}return e.prototype.union=function(e){var t=Lv(e.x,this.x),n=Lv(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Ov(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=Ov(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(e){var t=this,n=e.width/t.width,i=e.height/t.height,r=[1,0,0,1,0,0];return Tv(r,r,[-t.x,-t.y]),Ev(r,r,[n,i]),Tv(r,r,[e.x,e.y]),r},e.prototype.intersect=function(t,n){if(!t)return!1;t instanceof e||(t=e.create(t));var i=this,r=i.x,o=i.x+i.width,s=i.y,a=i.y+i.height,l=t.x,u=t.x+t.width,c=t.y,d=t.y+t.height,h=!(o<l||u<r||a<c||d<s);if(n){var p=1/0,g=0,f=Math.abs(o-l),m=Math.abs(u-r),v=Math.abs(a-c),y=Math.abs(d-s),w=Math.min(f,m),C=Math.min(v,y);o<l||u<r?w>g&&(g=w,f<m?Fv.set(Hv,-f,0):Fv.set(Hv,m,0)):w<p&&(p=w,f<m?Fv.set(zv,f,0):Fv.set(zv,-m,0)),a<c||d<s?C>g&&(g=C,v<y?Fv.set(Hv,0,-v):Fv.set(Hv,0,y)):w<p&&(p=w,v<y?Fv.set(zv,0,v):Fv.set(zv,0,-y))}return n&&Fv.copy(n,h?zv:Hv),h},e.prototype.contain=function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return 0===this.width||0===this.height},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},e.applyTransform=function(t,n,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],s=i[4],a=i[5];return t.x=n.x*r+s,t.y=n.y*o+a,t.width=n.width*r,t.height=n.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}Nv.x=Gv.x=n.x,Nv.y=Vv.y=n.y,Bv.x=Vv.x=n.x+n.width,Bv.y=Gv.y=n.y+n.height,Nv.transform(i),Vv.transform(i),Bv.transform(i),Gv.transform(i),t.x=Lv(Nv.x,Bv.x,Gv.x,Vv.x),t.y=Lv(Nv.y,Bv.y,Gv.y,Vv.y);var l=Ov(Nv.x,Bv.x,Gv.x,Vv.x),u=Ov(Nv.y,Bv.y,Gv.y,Vv.y);t.width=l-t.x,t.height=u-t.y}else t!==n&&e.copy(t,n)},e}();const Uv=Wv;var jv="silent";function $v(){bv(this.event)}var Kv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handler=null,t}return km(t,e),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(nv),qv=function(e,t){this.x=e,this.y=t},Yv=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Xv=new Uv(0,0,0,0),Zv=function(e){function t(t,n,i,r,o){var s=e.call(this)||this;return s._hovered=new qv(0,0),s.storage=t,s.painter=n,s.painterRoot=r,s._pointerSize=o,i=i||new Kv,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new ev(s),s}return km(t,e),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(qf(Yv,(function(t){e.on&&e.on(t,this[t],this)}),this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var t=e.zrX,n=e.zrY,i=ey(this,t,n),r=this._hovered,o=r.target;o&&!o.__zr&&(o=(r=this.findHover(r.x,r.y)).target);var s=this._hovered=i?new qv(t,n):this.findHover(t,n),a=s.target,l=this.proxy;l.setCursor&&l.setCursor(a?a.cursor:"default"),o&&a!==o&&this.dispatchToElement(r,"mouseout",e),this.dispatchToElement(s,"mousemove",e),a&&a!==o&&this.dispatchToElement(s,"mouseover",e)},t.prototype.mouseout=function(e){var t=e.zrEventControl;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new qv(0,0)},t.prototype.dispatch=function(e,t){var n=this[e];n&&n.call(this,t)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},t.prototype.dispatchToElement=function(e,t,n){var i=(e=e||{}).target;if(!i||!i.silent){for(var r="on"+t,o=function(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:$v}}(t,e,n);i&&(i[r]&&(o.cancelBubble=!!i[r].call(i,o)),i.trigger(t,o),i=i.__hostTarget?i.__hostTarget:i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(t,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(e){"function"===typeof e[r]&&e[r].call(e,o),e.trigger&&e.trigger(t,o)})))}},t.prototype.findHover=function(e,t,n){var i=this.storage.getDisplayList(),r=new qv(e,t);if(Jv(i,r,e,t,n),this._pointerSize&&!r.target){for(var o=[],s=this._pointerSize,a=s/2,l=new Uv(e-a,t-a,s,s),u=i.length-1;u>=0;u--){var c=i[u];c===n||c.ignore||c.ignoreCoarsePointer||c.parent&&c.parent.ignoreCoarsePointer||(Xv.copy(c.getBoundingRect()),c.transform&&Xv.applyTransform(c.transform),Xv.intersect(l)&&o.push(c))}if(o.length)for(var d=Math.PI/12,h=2*Math.PI,p=0;p<a;p+=4)for(var g=0;g<h;g+=d){if(Jv(o,r,e+p*Math.cos(g),t+p*Math.sin(g),n),r.target)return r}}return r},t.prototype.processGesture=function(e,t){this._gestureMgr||(this._gestureMgr=new xv);var n=this._gestureMgr;"start"===t&&n.clear();var i=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&n.clear(),i){var r=i.type;e.gestureEvent=r;var o=new qv;o.target=i.target,this.dispatchToElement(o,r,i.event)}},t}(nv);function Qv(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var i=e,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var s=i.getClipPath();if(s&&!s.contain(t,n))return!1}i.silent&&(r=!0);var a=i.__hostTarget;i=a||i.parent}return!r||jv}return!1}function Jv(e,t,n,i,r){for(var o=e.length-1;o>=0;o--){var s=e[o],a=void 0;if(s!==r&&!s.ignore&&(a=Qv(s,n,i))&&(!t.topTarget&&(t.topTarget=s),a!==jv)){t.target=s;break}}}function ey(e,t,n){var i=e.painter;return t<0||t>i.getWidth()||n<0||n>i.getHeight()}qf(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(e){Zv.prototype[e]=function(t){var n,i,r=t.zrX,o=t.zrY,s=ey(this,r,o);if("mouseup"===e&&s||(i=(n=this.findHover(r,o)).target),"mousedown"===e)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===e)this._upEl=i;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||$m(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}}));const ty=Zv;var ny=32,iy=7;function ry(e,t,n,i){var r=t+1;if(r===n)return 1;if(i(e[r++],e[t])<0){for(;r<n&&i(e[r],e[r-1])<0;)r++;!function(e,t,n){n--;for(;t<n;){var i=e[t];e[t++]=e[n],e[n--]=i}}(e,t,r)}else for(;r<n&&i(e[r],e[r-1])>=0;)r++;return r-t}function oy(e,t,n,i,r){for(i===t&&i++;i<n;i++){for(var o,s=e[i],a=t,l=i;a<l;)r(s,e[o=a+l>>>1])<0?l=o:a=o+1;var u=i-a;switch(u){case 3:e[a+3]=e[a+2];case 2:e[a+2]=e[a+1];case 1:e[a+1]=e[a];break;default:for(;u>0;)e[a+u]=e[a+u-1],u--}e[a]=s}}function sy(e,t,n,i,r,o){var s=0,a=0,l=1;if(o(e,t[n+r])>0){for(a=i-r;l<a&&o(e,t[n+r+l])>0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a),s+=r,l+=r}else{for(a=r+1;l<a&&o(e,t[n+r-l])<=0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a);var u=s;s=r-l,l=r-u}for(s++;s<l;){var c=s+(l-s>>>1);o(e,t[n+c])>0?s=c+1:l=c}return l}function ay(e,t,n,i,r,o){var s=0,a=0,l=1;if(o(e,t[n+r])<0){for(a=r+1;l<a&&o(e,t[n+r-l])<0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a);var u=s;s=r-l,l=r-u}else{for(a=i-r;l<a&&o(e,t[n+r+l])>=0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a),s+=r,l+=r}for(s++;s<l;){var c=s+(l-s>>>1);o(e,t[n+c])<0?l=c:s=c+1}return l}function ly(e,t){var n,i,r=iy,o=0,s=[];function a(a){var l=n[a],u=i[a],c=n[a+1],d=i[a+1];i[a]=u+d,a===o-3&&(n[a+1]=n[a+2],i[a+1]=i[a+2]),o--;var h=ay(e[c],e,l,u,0,t);l+=h,0!==(u-=h)&&0!==(d=sy(e[l+u-1],e,c,d,d-1,t))&&(u<=d?function(n,i,o,a){var l=0;for(l=0;l<i;l++)s[l]=e[n+l];var u=0,c=o,d=n;if(e[d++]=e[c++],0===--a){for(l=0;l<i;l++)e[d+l]=s[u+l];return}if(1===i){for(l=0;l<a;l++)e[d+l]=e[c+l];return void(e[d+a]=s[u])}var h,p,g,f=r;for(;;){h=0,p=0,g=!1;do{if(t(e[c],s[u])<0){if(e[d++]=e[c++],p++,h=0,0===--a){g=!0;break}}else if(e[d++]=s[u++],h++,p=0,1===--i){g=!0;break}}while((h|p)<f);if(g)break;do{if(0!==(h=ay(e[c],s,u,i,0,t))){for(l=0;l<h;l++)e[d+l]=s[u+l];if(d+=h,u+=h,(i-=h)<=1){g=!0;break}}if(e[d++]=e[c++],0===--a){g=!0;break}if(0!==(p=sy(s[u],e,c,a,0,t))){for(l=0;l<p;l++)e[d+l]=e[c+l];if(d+=p,c+=p,0===(a-=p)){g=!0;break}}if(e[d++]=s[u++],1===--i){g=!0;break}f--}while(h>=iy||p>=iy);if(g)break;f<0&&(f=0),f+=2}if((r=f)<1&&(r=1),1===i){for(l=0;l<a;l++)e[d+l]=e[c+l];e[d+a]=s[u]}else{if(0===i)throw new Error;for(l=0;l<i;l++)e[d+l]=s[u+l]}}(l,u,c,d):function(n,i,o,a){var l=0;for(l=0;l<a;l++)s[l]=e[o+l];var u=n+i-1,c=a-1,d=o+a-1,h=0,p=0;if(e[d--]=e[u--],0===--i){for(h=d-(a-1),l=0;l<a;l++)e[h+l]=s[l];return}if(1===a){for(p=(d-=i)+1,h=(u-=i)+1,l=i-1;l>=0;l--)e[p+l]=e[h+l];return void(e[d]=s[c])}var g=r;for(;;){var f=0,m=0,v=!1;do{if(t(s[c],e[u])<0){if(e[d--]=e[u--],f++,m=0,0===--i){v=!0;break}}else if(e[d--]=s[c--],m++,f=0,1===--a){v=!0;break}}while((f|m)<g);if(v)break;do{if(0!==(f=i-ay(s[c],e,n,i,i-1,t))){for(i-=f,p=(d-=f)+1,h=(u-=f)+1,l=f-1;l>=0;l--)e[p+l]=e[h+l];if(0===i){v=!0;break}}if(e[d--]=s[c--],1===--a){v=!0;break}if(0!==(m=a-sy(e[u],s,0,a,a-1,t))){for(a-=m,p=(d-=m)+1,h=(c-=m)+1,l=0;l<m;l++)e[p+l]=s[h+l];if(a<=1){v=!0;break}}if(e[d--]=e[u--],0===--i){v=!0;break}g--}while(f>=iy||m>=iy);if(v)break;g<0&&(g=0),g+=2}(r=g)<1&&(r=1);if(1===a){for(p=(d-=i)+1,h=(u-=i)+1,l=i-1;l>=0;l--)e[p+l]=e[h+l];e[d]=s[c]}else{if(0===a)throw new Error;for(h=d-(a-1),l=0;l<a;l++)e[h+l]=s[l]}}(l,u,c,d))}return n=[],i=[],{mergeRuns:function(){for(;o>1;){var e=o-2;if(e>=1&&i[e-1]<=i[e]+i[e+1]||e>=2&&i[e-2]<=i[e]+i[e-1])i[e-1]<i[e+1]&&e--;else if(i[e]>i[e+1])break;a(e)}},forceMergeRuns:function(){for(;o>1;){var e=o-2;e>0&&i[e-1]<i[e+1]&&e--,a(e)}},pushRun:function(e,t){n[o]=e,i[o]=t,o+=1}}}function uy(e,t,n,i){n||(n=0),i||(i=e.length);var r=i-n;if(!(r<2)){var o=0;if(r<ny)oy(e,n,i,n+(o=ry(e,n,i,t)),t);else{var s=ly(e,t),a=function(e){for(var t=0;e>=ny;)t|=1&e,e>>=1;return e+t}(r);do{if((o=ry(e,n,i,t))<a){var l=r;l>a&&(l=a),oy(e,n,n+l,n+o,t),o=l}s.pushRun(n,o),s.mergeRuns(),r-=o,n+=o}while(0!==r);s.forceMergeRuns()}}}var cy=1,dy=4,hy=!1;function py(){hy||(hy=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function gy(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var fy=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=gy}return e.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},e.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return!e&&n.length||this.updateDisplayList(t),n},e.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,r=t.length;i<r;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,uy(n,gy)},e.prototype._updateAndAddDisplayable=function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)t=null;else if(i){t=t?t.slice():[];for(var r=i,o=e;r;)r.parent=o,r.updateTransform(),t.push(r),o=r,r=r.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),a=0;a<s.length;a++){var l=s[a];e.__dirty&&(l.__dirty|=cy),this._updateAndAddDisplayable(l,t,n)}e.__dirty=0}else{var u=e;t&&t.length?u.__clipPaths=t:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(py(),u.z=0),isNaN(u.z2)&&(py(),u.z2=0),isNaN(u.zlevel)&&(py(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var c=e.getDecalElement&&e.getDecalElement();c&&this._updateAndAddDisplayable(c,t,n);var d=e.getTextGuideLine();d&&this._updateAndAddDisplayable(d,t,n);var h=e.getTextContent();h&&this._updateAndAddDisplayable(h,t,n)}},e.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},e.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);else{var i=jf(this._roots,e);i>=0&&this._roots.splice(i,1)}},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}();const my=fy;const vy=Cf.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var yy={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=i*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-yy.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*yy.bounceIn(2*e):.5*yy.bounceOut(2*e-1)+.5}};const wy=yy;var Cy=Math.pow,by=Math.sqrt,Sy=1e-8,xy=1e-4,My=by(3),_y=1/3,Ry=Fm(),Dy=Fm(),Py=Fm();function Ty(e){return e>-Sy&&e<Sy}function Ay(e){return e>Sy||e<-Sy}function Ey(e,t,n,i,r){var o=1-r;return o*o*(o*e+3*r*t)+r*r*(r*i+3*o*n)}function Iy(e,t,n,i,r){var o=1-r;return 3*(((t-e)*o+2*(n-t)*r)*o+(i-n)*r*r)}function ky(e,t,n,i,r,o){var s=i+3*(t-n)-e,a=3*(n-2*t+e),l=3*(t-e),u=e-r,c=a*a-3*s*l,d=a*l-9*s*u,h=l*l-3*a*u,p=0;if(Ty(c)&&Ty(d)){if(Ty(a))o[0]=0;else(M=-l/a)>=0&&M<=1&&(o[p++]=M)}else{var g=d*d-4*c*h;if(Ty(g)){var f=d/c,m=-f/2;(M=-a/s+f)>=0&&M<=1&&(o[p++]=M),m>=0&&m<=1&&(o[p++]=m)}else if(g>0){var v=by(g),y=c*a+1.5*s*(-d+v),w=c*a+1.5*s*(-d-v);(M=(-a-((y=y<0?-Cy(-y,_y):Cy(y,_y))+(w=w<0?-Cy(-w,_y):Cy(w,_y))))/(3*s))>=0&&M<=1&&(o[p++]=M)}else{var C=(2*c*a-3*s*d)/(2*by(c*c*c)),b=Math.acos(C)/3,S=by(c),x=Math.cos(b),M=(-a-2*S*x)/(3*s),_=(m=(-a+S*(x+My*Math.sin(b)))/(3*s),(-a+S*(x-My*Math.sin(b)))/(3*s));M>=0&&M<=1&&(o[p++]=M),m>=0&&m<=1&&(o[p++]=m),_>=0&&_<=1&&(o[p++]=_)}}return p}function Fy(e,t,n,i,r){var o=6*n-12*t+6*e,s=9*t+3*i-3*e-9*n,a=3*t-3*e,l=0;if(Ty(s)){if(Ay(o))(c=-a/o)>=0&&c<=1&&(r[l++]=c)}else{var u=o*o-4*s*a;if(Ty(u))r[0]=-o/(2*s);else if(u>0){var c,d=by(u),h=(-o-d)/(2*s);(c=(-o+d)/(2*s))>=0&&c<=1&&(r[l++]=c),h>=0&&h<=1&&(r[l++]=h)}}return l}function Ly(e,t,n,i,r,o){var s=(t-e)*r+e,a=(n-t)*r+t,l=(i-n)*r+n,u=(a-s)*r+s,c=(l-a)*r+a,d=(c-u)*r+u;o[0]=e,o[1]=s,o[2]=u,o[3]=d,o[4]=d,o[5]=c,o[6]=l,o[7]=i}function Oy(e,t,n,i,r,o,s,a,l,u,c){var d,h,p,g,f,m=.005,v=1/0;Ry[0]=l,Ry[1]=u;for(var y=0;y<1;y+=.05)Dy[0]=Ey(e,n,r,s,y),Dy[1]=Ey(t,i,o,a,y),(g=Km(Ry,Dy))<v&&(d=y,v=g);v=1/0;for(var w=0;w<32&&!(m<xy);w++)h=d-m,p=d+m,Dy[0]=Ey(e,n,r,s,h),Dy[1]=Ey(t,i,o,a,h),g=Km(Dy,Ry),h>=0&&g<v?(d=h,v=g):(Py[0]=Ey(e,n,r,s,p),Py[1]=Ey(t,i,o,a,p),f=Km(Py,Ry),p<=1&&f<v?(d=p,v=f):m*=.5);return c&&(c[0]=Ey(e,n,r,s,d),c[1]=Ey(t,i,o,a,d)),by(v)}function Ny(e,t,n,i,r,o,s,a,l){for(var u=e,c=t,d=0,h=1/l,p=1;p<=l;p++){var g=p*h,f=Ey(e,n,r,s,g),m=Ey(t,i,o,a,g),v=f-u,y=m-c;d+=Math.sqrt(v*v+y*y),u=f,c=m}return d}function By(e,t,n,i){var r=1-i;return r*(r*e+2*i*t)+i*i*n}function Gy(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function Vy(e,t,n){var i=e+n-2*t;return 0===i?.5:(e-t)/i}function zy(e,t,n,i,r){var o=(t-e)*i+e,s=(n-t)*i+t,a=(s-o)*i+o;r[0]=e,r[1]=o,r[2]=a,r[3]=a,r[4]=s,r[5]=n}function Hy(e,t,n,i,r,o,s,a,l){var u,c=.005,d=1/0;Ry[0]=s,Ry[1]=a;for(var h=0;h<1;h+=.05){Dy[0]=By(e,n,r,h),Dy[1]=By(t,i,o,h),(m=Km(Ry,Dy))<d&&(u=h,d=m)}d=1/0;for(var p=0;p<32&&!(c<xy);p++){var g=u-c,f=u+c;Dy[0]=By(e,n,r,g),Dy[1]=By(t,i,o,g);var m=Km(Dy,Ry);if(g>=0&&m<d)u=g,d=m;else{Py[0]=By(e,n,r,f),Py[1]=By(t,i,o,f);var v=Km(Py,Ry);f<=1&&v<d?(u=f,d=v):c*=.5}}return l&&(l[0]=By(e,n,r,u),l[1]=By(t,i,o,u)),by(d)}function Wy(e,t,n,i,r,o,s){for(var a=e,l=t,u=0,c=1/s,d=1;d<=s;d++){var h=d*c,p=By(e,n,r,h),g=By(t,i,o,h),f=p-a,m=g-l;u+=Math.sqrt(f*f+m*m),a=p,l=g}return u}var Uy=/cubic-bezier\(([0-9,\.e ]+)\)/;function jy(e){var t=e&&Uy.exec(e);if(t){var n=t[1].split(","),i=+ym(n[0]),r=+ym(n[1]),o=+ym(n[2]),s=+ym(n[3]);if(isNaN(i+r+o+s))return;var a=[];return function(e){return e<=0?0:e>=1?1:ky(0,i,o,1,e,a)&&Ey(0,r,s,1,a[0])}}}var $y=function(){function e(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Am,this.ondestroy=e.ondestroy||Am,this.onrestart=e.onrestart||Am,e.easing&&this.setEasing(e.easing)}return e.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),!this._paused){var n=this._life,i=e-this._startTime-this._pausedTime,r=i/n;r<0&&(r=0),r=Math.min(r,1);var o=this.easingFunc,s=o?o(r):r;if(this.onframe(s),1===r){if(!this.loop)return!0;var a=i%n;this._startTime=e-a,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(e){this.easing=e,this.easingFunc=nm(e)?e:wy[e]||jy(e)},e}();const Ky=$y;var qy=function(e){this.value=e},Yy=function(){function e(){this._len=0}return e.prototype.insert=function(e){var t=new qy(e);return this.insertEntry(t),t},e.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},e.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),Xy=function(){function e(e){this._list=new Yy,this._maxSize=10,this._map={},this._maxSize=e}return e.prototype.put=function(e,t){var n=this._list,i=this._map,r=null;if(null==i[e]){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var a=n.head;n.remove(a),delete i[a.key],r=a.value,this._lastRemovedEntry=a}s?s.value=t:s=new qy(t),s.key=e,n.insertEntry(s),i[e]=s}return r},e.prototype.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}();const Zy=Xy;var Qy={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Jy(e){return(e=Math.round(e))<0?0:e>255?255:e}function ew(e){return e<0?0:e>1?1:e}function tw(e){var t=e;return t.length&&"%"===t.charAt(t.length-1)?Jy(parseFloat(t)/100*255):Jy(parseInt(t,10))}function nw(e){var t=e;return t.length&&"%"===t.charAt(t.length-1)?ew(parseFloat(t)/100):ew(parseFloat(t))}function iw(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function rw(e,t,n){return e+(t-e)*n}function ow(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e}function sw(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var aw=new Zy(20),lw=null;function uw(e,t){lw&&sw(lw,t),lw=aw.put(e,lw||t.slice())}function cw(e,t){if(e){t=t||[];var n=aw.get(e);if(n)return sw(t,n);var i=(e+="").replace(/ /g,"").toLowerCase();if(i in Qy)return sw(t,Qy[i]),uw(e,t),t;var r,o=i.length;if("#"===i.charAt(0))return 4===o||5===o?(r=parseInt(i.slice(1,4),16))>=0&&r<=4095?(ow(t,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,5===o?parseInt(i.slice(4),16)/15:1),uw(e,t),t):void ow(t,0,0,0,1):7===o||9===o?(r=parseInt(i.slice(1,7),16))>=0&&r<=16777215?(ow(t,(16711680&r)>>16,(65280&r)>>8,255&r,9===o?parseInt(i.slice(7),16)/255:1),uw(e,t),t):void ow(t,0,0,0,1):void 0;var s=i.indexOf("("),a=i.indexOf(")");if(-1!==s&&a+1===o){var l=i.substr(0,s),u=i.substr(s+1,a-(s+1)).split(","),c=1;switch(l){case"rgba":if(4!==u.length)return 3===u.length?ow(t,+u[0],+u[1],+u[2],1):ow(t,0,0,0,1);c=nw(u.pop());case"rgb":return u.length>=3?(ow(t,tw(u[0]),tw(u[1]),tw(u[2]),3===u.length?c:nw(u[3])),uw(e,t),t):void ow(t,0,0,0,1);case"hsla":return 4!==u.length?void ow(t,0,0,0,1):(u[3]=nw(u[3]),dw(u,t),uw(e,t),t);case"hsl":return 3!==u.length?void ow(t,0,0,0,1):(dw(u,t),uw(e,t),t);default:return}}ow(t,0,0,0,1)}}function dw(e,t){var n=(parseFloat(e[0])%360+360)%360/360,i=nw(e[1]),r=nw(e[2]),o=r<=.5?r*(i+1):r+i-r*i,s=2*r-o;return ow(t=t||[],Jy(255*iw(s,o,n+1/3)),Jy(255*iw(s,o,n)),Jy(255*iw(s,o,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function hw(e,t){var n=cw(e);if(n){for(var i=0;i<3;i++)n[i]=t<0?n[i]*(1-t)|0:(255-n[i])*t+n[i]|0,n[i]>255?n[i]=255:n[i]<0&&(n[i]=0);return vw(n,4===n.length?"rgba":"rgb")}}function pw(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var i=e*(t.length-1),r=Math.floor(i),o=Math.ceil(i),s=t[r],a=t[o],l=i-r;return n[0]=Jy(rw(s[0],a[0],l)),n[1]=Jy(rw(s[1],a[1],l)),n[2]=Jy(rw(s[2],a[2],l)),n[3]=ew(rw(s[3],a[3],l)),n}}function gw(e,t,n){if(t&&t.length&&e>=0&&e<=1){var i=e*(t.length-1),r=Math.floor(i),o=Math.ceil(i),s=cw(t[r]),a=cw(t[o]),l=i-r,u=vw([Jy(rw(s[0],a[0],l)),Jy(rw(s[1],a[1],l)),Jy(rw(s[2],a[2],l)),ew(rw(s[3],a[3],l))],"rgba");return n?{color:u,leftIndex:r,rightIndex:o,value:i}:u}}function fw(e,t,n,i){var r=cw(e);if(e)return r=function(e){if(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,s=Math.min(i,r,o),a=Math.max(i,r,o),l=a-s,u=(a+s)/2;if(0===l)t=0,n=0;else{n=u<.5?l/(a+s):l/(2-a-s);var c=((a-i)/6+l/2)/l,d=((a-r)/6+l/2)/l,h=((a-o)/6+l/2)/l;i===a?t=h-d:r===a?t=1/3+c-h:o===a&&(t=2/3+d-c),t<0&&(t+=1),t>1&&(t-=1)}var p=[360*t,n,u];return null!=e[3]&&p.push(e[3]),p}}(r),null!=t&&(r[0]=function(e){return(e=Math.round(e))<0?0:e>360?360:e}(t)),null!=n&&(r[1]=nw(n)),null!=i&&(r[2]=nw(i)),vw(dw(r),"rgba")}function mw(e,t){var n=cw(e);if(n&&null!=t)return n[3]=ew(t),vw(n,"rgba")}function vw(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}function yw(e,t){var n=cw(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}var ww=new Zy(100);function Cw(e){if(im(e)){var t=ww.get(e);return t||(t=hw(e,-.1),ww.put(e,t)),t}if(cm(e)){var n=Wf({},e);return n.colorStops=Yf(e.colorStops,(function(e){return{offset:e.offset,color:hw(e.color,-.1)}})),n}return e}var bw=Math.round;function Sw(e){var t;if(e&&"transparent"!==e){if("string"===typeof e&&e.indexOf("rgba")>-1){var n=cw(e);n&&(e="rgb("+n[0]+","+n[1]+","+n[2]+")",t=n[3])}}else e="none";return{color:e,opacity:null==t?1:t}}var xw=1e-4;function Mw(e){return e<xw&&e>-xw}function _w(e){return bw(1e3*e)/1e3}function Rw(e){return bw(1e4*e)/1e4}var Dw={left:"start",right:"end",center:"middle",middle:"middle"};function Pw(e){return e&&!!e.image}function Tw(e){return Pw(e)||function(e){return e&&!!e.svgElement}(e)}function Aw(e){return"linear"===e.type}function Ew(e){return"radial"===e.type}function Iw(e){return e&&("linear"===e.type||"radial"===e.type)}function kw(e){return"url(#"+e+")"}function Fw(e){var t=e.getGlobalScale(),n=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function Lw(e){var t=e.x||0,n=e.y||0,i=(e.rotation||0)*Em,r=pm(e.scaleX,1),o=pm(e.scaleY,1),s=e.skewX||0,a=e.skewY||0,l=[];return(t||n)&&l.push("translate("+t+"px,"+n+"px)"),i&&l.push("rotate("+i+")"),1===r&&1===o||l.push("scale("+r+","+o+")"),(s||a)&&l.push("skew("+bw(s*Em)+"deg, "+bw(a*Em)+"deg)"),l.join(" ")}var Ow=Cf.hasGlobalWindow&&nm(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:"undefined"!==typeof Buffer?function(e){return Buffer.from(e).toString("base64")}:function(e){return null},Nw=Array.prototype.slice;function Bw(e,t,n){return(t-e)*n+e}function Gw(e,t,n,i){for(var r=t.length,o=0;o<r;o++)e[o]=Bw(t[o],n[o],i);return e}function Vw(e,t,n,i){for(var r=t.length,o=0;o<r;o++)e[o]=t[o]+n[o]*i;return e}function zw(e,t,n,i){for(var r=t.length,o=r&&t[0].length,s=0;s<r;s++){e[s]||(e[s]=[]);for(var a=0;a<o;a++)e[s][a]=t[s][a]+n[s][a]*i}return e}function Hw(e,t){for(var n=e.length,i=t.length,r=n>i?t:e,o=Math.min(n,i),s=r[o-1]||{color:[0,0,0,0],offset:0},a=o;a<Math.max(n,i);a++)r.push({offset:s.offset,color:s.color.slice()})}function Ww(e,t,n){var i=e,r=t;if(i.push&&r.push){var o=i.length,s=r.length;if(o!==s)if(o>s)i.length=s;else for(var a=o;a<s;a++)i.push(1===n?r[a]:Nw.call(r[a]));var l=i[0]&&i[0].length;for(a=0;a<i.length;a++)if(1===n)isNaN(i[a])&&(i[a]=r[a]);else for(var u=0;u<l;u++)isNaN(i[a][u])&&(i[a][u]=r[a][u])}}function Uw(e){if(Kf(e)){var t=e.length;if(Kf(e[0])){for(var n=[],i=0;i<t;i++)n.push(Nw.call(e[i]));return n}return Nw.call(e)}return e}function jw(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=null==e[3]?1:e[3],"rgba("+e.join(",")+")"}function $w(e){return 4===e||5===e}function Kw(e){return 1===e||2===e}var qw=[0,0,0,0],Yw=function(){function e(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(e,t,n){this._needsSort=!0;var i=this.keyframes,r=i.length,o=!1,s=6,a=t;if(Kf(t)){var l=function(e){return Kf(e&&e[0])?2:1}(t);s=l,(1===l&&!om(t[0])||2===l&&!om(t[0][0]))&&(o=!0)}else if(om(t)&&!dm(t))s=0;else if(im(t))if(isNaN(+t)){var u=cw(t);u&&(a=u,s=3)}else s=0;else if(cm(t)){var c=Wf({},a);c.colorStops=Yf(t.colorStops,(function(e){return{offset:e.offset,color:cw(e.color)}})),Aw(t)?s=4:Ew(t)&&(s=5),a=c}0===r?this.valType=s:s===this.valType&&6!==s||(o=!0),this.discrete=this.discrete||o;var d={time:e,value:a,rawValue:t,percent:0};return n&&(d.easing=n,d.easingFunc=nm(n)?n:wy[n]||jy(n)),i.push(d),d},e.prototype.prepare=function(e,t){var n=this.keyframes;this._needsSort&&n.sort((function(e,t){return e.time-t.time}));for(var i=this.valType,r=n.length,o=n[r-1],s=this.discrete,a=Kw(i),l=$w(i),u=0;u<r;u++){var c=n[u],d=c.value,h=o.value;c.percent=c.time/e,s||(a&&u!==r-1?Ww(d,h,i):l&&Hw(d.colorStops,h.colorStops))}if(!s&&5!==i&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;var p=n[0].value;for(u=0;u<r;u++)0===i?n[u].additiveValue=n[u].value-p:3===i?n[u].additiveValue=Vw([],n[u].value,p,-1):Kw(i)&&(n[u].additiveValue=1===i?Vw([],n[u].value,p,-1):zw([],n[u].value,p,-1))}},e.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,i,r,o=null!=this._additiveTrack,s=o?"additiveValue":"value",a=this.valType,l=this.keyframes,u=l.length,c=this.propName,d=3===a,h=this._lastFr,p=Math.min;if(1===u)i=r=l[0];else{if(t<0)n=0;else if(t<this._lastFrP){for(n=p(h+1,u-1);n>=0&&!(l[n].percent<=t);n--);n=p(n,u-2)}else{for(n=h;n<u&&!(l[n].percent>t);n++);n=p(n-1,u-2)}r=l[n+1],i=l[n]}if(i&&r){this._lastFr=n,this._lastFrP=t;var g=r.percent-i.percent,f=0===g?1:p((t-i.percent)/g,1);r.easingFunc&&(f=r.easingFunc(f));var m=o?this._additiveValue:d?qw:e[c];if(!Kw(a)&&!d||m||(m=this._additiveValue=[]),this.discrete)e[c]=f<1?i.rawValue:r.rawValue;else if(Kw(a))1===a?Gw(m,i[s],r[s],f):function(e,t,n,i){for(var r=t.length,o=r&&t[0].length,s=0;s<r;s++){e[s]||(e[s]=[]);for(var a=0;a<o;a++)e[s][a]=Bw(t[s][a],n[s][a],i)}}(m,i[s],r[s],f);else if($w(a)){var v=i[s],y=r[s],w=4===a;e[c]={type:w?"linear":"radial",x:Bw(v.x,y.x,f),y:Bw(v.y,y.y,f),colorStops:Yf(v.colorStops,(function(e,t){var n=y.colorStops[t];return{offset:Bw(e.offset,n.offset,f),color:jw(Gw([],e.color,n.color,f))}})),global:y.global},w?(e[c].x2=Bw(v.x2,y.x2,f),e[c].y2=Bw(v.y2,y.y2,f)):e[c].r=Bw(v.r,y.r,f)}else if(d)Gw(m,i[s],r[s],f),o||(e[c]=jw(m));else{var C=Bw(i[s],r[s],f);o?this._additiveValue=C:e[c]=C}o&&this._addToTarget(e)}}},e.prototype._addToTarget=function(e){var t=this.valType,n=this.propName,i=this._additiveValue;0===t?e[n]=e[n]+i:3===t?(cw(e[n],qw),Vw(qw,qw,i,1),e[n]=jw(qw)):1===t?Vw(e[n],e[n],i,1):2===t&&zw(e[n],e[n],i,1)},e}(),Xw=function(){function e(e,t,n,i){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i?Gf("Can' use additive animation on looped animation."):(this._additiveAnimators=i,this._allowDiscrete=n)}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(e){this._target=e},e.prototype.when=function(e,t,n){return this.whenWithKeys(e,t,Qf(t),n)},e.prototype.whenWithKeys=function(e,t,n,i){for(var r=this._tracks,o=0;o<n.length;o++){var s=n[o],a=r[s];if(!a){a=r[s]=new Yw(s);var l=void 0,u=this._getAdditiveTrack(s);if(u){var c=u.keyframes,d=c[c.length-1];l=d&&d.value,3===u.valType&&l&&(l=jw(l))}else l=this._target[s];if(null==l)continue;e>0&&a.addKeyframe(0,Uw(l),i),this._trackKeys.push(s)}a.addKeyframe(e,Uw(t[s]),i)}return this._maxTime=Math.max(this._maxTime,e),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,n=0;n<t;n++)e[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},e.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)e[t[n]].setFinished()},e.prototype._getAdditiveTrack=function(e){var t,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var r=n[i].getTrack(e);r&&(t=r)}return t},e.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,n=[],i=this._maxTime||0,r=0;r<this._trackKeys.length;r++){var o=this._trackKeys[r],s=this._tracks[o],a=this._getAdditiveTrack(o),l=s.keyframes,u=l.length;if(s.prepare(i,a),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var c=l[u-1];c&&(t._target[s.propName]=c.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var d=new Ky({life:i,loop:this._loop,delay:this._delay||0,onframe:function(e){t._started=2;var i=t._additiveAnimators;if(i){for(var r=!1,o=0;o<i.length;o++)if(i[o]._clip){r=!0;break}r||(t._additiveAnimators=null)}for(o=0;o<n.length;o++)n[o].step(t._target,e);var s=t._onframeCbs;if(s)for(o=0;o<s.length;o++)s[o](t._target,e)},ondestroy:function(){t._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),e&&d.setEasing(e)}else this._doneCallback();return this}},e.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},e.prototype.delay=function(e){return this._delay=e,this},e.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},e.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},e.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(e){return this._tracks[e]},e.prototype.getTracks=function(){var e=this;return Yf(this._trackKeys,(function(t){return e._tracks[t]}))},e.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,r=0;r<e.length;r++){var o=n[e[r]];o&&!o.isFinished()&&(t?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var s=!0;for(r=0;r<i.length;r++)if(!n[i[r]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},e.prototype.saveTo=function(e,t,n){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var r=t[i],o=this._tracks[r];if(o&&!o.isFinished()){var s=o.keyframes,a=s[n?0:s.length-1];a&&(e[r]=Uw(a.rawValue))}}}},e.prototype.__changeFinalValue=function(e,t){t=t||Qf(e);for(var n=0;n<t.length;n++){var i=t[n],r=this._tracks[i];if(r){var o=r.keyframes;if(o.length>1){var s=o.pop();r.addKeyframe(s.time,e[i]),r.prepare(this._maxTime,r.getAdditiveTrack())}}}},e}();const Zw=Xw;function Qw(){return(new Date).getTime()}var Jw=function(e){function t(t){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,t=t||{},n.stage=t.stage||{},n}return km(t,e),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var t=e.getClip();t&&this.addClip(t)},t.prototype.removeClip=function(e){if(e.animation){var t=e.prev,n=e.next;t?t.next=n:this._head=n,n?n.prev=t:this._tail=t,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var t=e.getClip();t&&this.removeClip(t),e.animation=null},t.prototype.update=function(e){for(var t=Qw()-this._pausedTime,n=t-this._time,i=this._head;i;){var r=i.next;i.step(t,n)?(i.ondestroy(),this.removeClip(i),i=r):i=r}this._time=t,e||(this.trigger("frame",n),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,vy((function t(){e._running&&(vy(t),!e._paused&&e.update())}))},t.prototype.start=function(){this._running||(this._time=Qw(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Qw(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Qw()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var t=e.next;e.prev=e.next=e.animation=null,e=t}this._head=this._tail=null},t.prototype.isFinished=function(){return null==this._head},t.prototype.animate=function(e,t){t=t||{},this.start();var n=new Zw(e,t.loop);return this.addAnimator(n),n},t}(nv);const eC=Jw;var tC=Cf.domSupported,nC=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:e,touch:["touchstart","touchend","touchmove"],pointer:Yf(e,(function(e){var n=e.replace("mouse","pointer");return t.hasOwnProperty(n)?n:e}))}}(),iC=["mousemove","mouseup"],rC=["pointermove","pointerup"],oC=!1;function sC(e){var t=e.pointerType;return"pen"===t||"touch"===t}function aC(e){e&&(e.zrByTouch=!0)}function lC(e,t){for(var n=t,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return i}var uC=function(e,t){this.stopPropagation=Am,this.stopImmediatePropagation=Am,this.preventDefault=Am,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},cC={mousedown:function(e){e=wv(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=wv(this.dom,e);var t=this.__mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=wv(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){lC(this,(e=wv(this.dom,e)).toElement||e.relatedTarget)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){oC=!0,e=wv(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){oC||(e=wv(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){aC(e=wv(this.dom,e)),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),cC.mousemove.call(this,e),cC.mousedown.call(this,e)},touchmove:function(e){aC(e=wv(this.dom,e)),this.handler.processGesture(e,"change"),cC.mousemove.call(this,e)},touchend:function(e){aC(e=wv(this.dom,e)),this.handler.processGesture(e,"end"),cC.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<300&&cC.click.call(this,e)},pointerdown:function(e){cC.mousedown.call(this,e)},pointermove:function(e){sC(e)||cC.mousemove.call(this,e)},pointerup:function(e){cC.mouseup.call(this,e)},pointerout:function(e){sC(e)||cC.mouseout.call(this,e)}};qf(["click","dblclick","contextmenu"],(function(e){cC[e]=function(t){t=wv(this.dom,t),this.trigger(e,t)}}));var dC={pointermove:function(e){sC(e)||dC.mousemove.call(this,e)},pointerup:function(e){dC.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function hC(e,t){var n=t.domHandlers;Cf.pointerEventsSupported?qf(nC.pointer,(function(i){gC(t,i,(function(t){n[i].call(e,t)}))})):(Cf.touchEventsSupported&&qf(nC.touch,(function(i){gC(t,i,(function(r){n[i].call(e,r),function(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout((function(){e.touching=!1,e.touchTimer=null}),700)}(t)}))})),qf(nC.mouse,(function(i){gC(t,i,(function(r){r=yv(r),t.touching||n[i].call(e,r)}))})))}function pC(e,t){function n(n){gC(t,n,(function(i){i=yv(i),lC(e,i.target)||(i=function(e,t){return wv(e.dom,new uC(e,t),!0)}(e,i),t.domHandlers[n].call(e,i))}),{capture:!0})}Cf.pointerEventsSupported?qf(rC,n):Cf.touchEventsSupported||qf(iC,n)}function gC(e,t,n,i){e.mounted[t]=n,e.listenerOpts[t]=i,Cv(e.domTarget,t,n,i)}function fC(e){var t,n,i,r,o=e.mounted;for(var s in o)o.hasOwnProperty(s)&&(t=e.domTarget,n=s,i=o[s],r=e.listenerOpts[s],t.removeEventListener(n,i,r));e.mounted={}}var mC=function(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t};const vC=function(e){function t(t,n){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=n,i._localHandlerScope=new mC(t,cC),tC&&(i._globalHandlerScope=new mC(document,dC)),hC(i,i._localHandlerScope),i}return km(t,e),t.prototype.dispose=function(){fC(this._localHandlerScope),tC&&fC(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,tC&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var t=this._globalHandlerScope;e?pC(this,t):fC(t)}},t}(nv);var yC=1;Cf.hasGlobalWindow&&(yC=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var wC=yC,CC="#333",bC="#ccc",SC=Rv,xC=5e-5;function MC(e){return e>xC||e<-5e-5}var _C=[],RC=[],DC=[1,0,0,1,0,0],PC=Math.abs,TC=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},e.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},e.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},e.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},e.prototype.needLocalTransform=function(){return MC(this.rotation)||MC(this.x)||MC(this.y)||MC(this.scaleX-1)||MC(this.scaleY-1)||MC(this.skewX)||MC(this.skewY)},e.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),n=this.transform;t||e?(n=n||[1,0,0,1,0,0],t?this.getLocalTransform(n):SC(n),e&&(t?Pv(n,e,n):Dv(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&(SC(n),this.invTransform=null)},e.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(_C);var n=_C[0]<0?-1:1,i=_C[1]<0?-1:1,r=((_C[0]-n)*t+n)/_C[0]||0,o=((_C[1]-i)*t+i)/_C[1]||0;e[0]*=r,e[1]*=r,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],Iv(this.invTransform,e)},e.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},e.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),r=Math.PI/2+i-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(r),t=Math.sqrt(t),this.skewX=r,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||[1,0,0,1,0,0],Pv(RC,e.invTransform,t),t=RC);var n=this.originX,i=this.originY;(n||i)&&(DC[4]=n,DC[5]=i,Pv(RC,t,DC),RC[4]-=n,RC[5]-=i,t=RC),this.setLocalTransform(t)}},e.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},e.prototype.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&Ym(n,n,i),n},e.prototype.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&Ym(n,n,i),n},e.prototype.getLineScale=function(){var e=this.transform;return e&&PC(e[0]-1)>1e-10&&PC(e[3]-1)>1e-10?Math.sqrt(PC(e[0]*e[3]-e[2]*e[1])):1},e.prototype.copyTransform=function(e){EC(this,e)},e.getLocalTransform=function(e,t){t=t||[];var n=e.originX||0,i=e.originY||0,r=e.scaleX,o=e.scaleY,s=e.anchorX,a=e.anchorY,l=e.rotation||0,u=e.x,c=e.y,d=e.skewX?Math.tan(e.skewX):0,h=e.skewY?Math.tan(-e.skewY):0;if(n||i||s||a){var p=n+s,g=i+a;t[4]=-p*r-d*g*o,t[5]=-g*o-h*p*r}else t[4]=t[5]=0;return t[0]=r,t[3]=o,t[1]=h*r,t[2]=d*o,l&&Av(t,t,l),t[4]+=n+u,t[5]+=i+c,t},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),AC=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function EC(e,t){for(var n=0;n<AC.length;n++){var i=AC[n];e[i]=t[i]}}const IC=TC;var kC={};function FC(e,t){var n=kC[t=t||xf];n||(n=kC[t]=new Zy(500));var i=n.get(e);return null==i&&(i=_f.measureText(e,t).width,n.put(e,i)),i}function LC(e,t,n,i){var r=FC(e,t),o=GC(t),s=NC(0,r,n),a=BC(0,o,i);return new Uv(s,a,r,o)}function OC(e,t,n,i){var r=((e||"")+"").split("\n");if(1===r.length)return LC(r[0],t,n,i);for(var o=new Uv(0,0,0,0),s=0;s<r.length;s++){var a=LC(r[s],t,n,i);0===s?o.copy(a):o.union(a)}return o}function NC(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function BC(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function GC(e){return FC("\u56fd",e)}function VC(e,t){return"string"===typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function zC(e,t,n){var i=t.position||"inside",r=null!=t.distance?t.distance:5,o=n.height,s=n.width,a=o/2,l=n.x,u=n.y,c="left",d="top";if(i instanceof Array)l+=VC(i[0],n.width),u+=VC(i[1],n.height),c=null,d=null;else switch(i){case"left":l-=r,u+=a,c="right",d="middle";break;case"right":l+=r+s,u+=a,d="middle";break;case"top":l+=s/2,u-=r,c="center",d="bottom";break;case"bottom":l+=s/2,u+=o+r,c="center";break;case"inside":l+=s/2,u+=a,c="center",d="middle";break;case"insideLeft":l+=r,u+=a,d="middle";break;case"insideRight":l+=s-r,u+=a,c="right",d="middle";break;case"insideTop":l+=s/2,u+=r,c="center";break;case"insideBottom":l+=s/2,u+=o-r,c="center",d="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=s-r,u+=r,c="right";break;case"insideBottomLeft":l+=r,u+=o-r,d="bottom";break;case"insideBottomRight":l+=s-r,u+=o-r,c="right",d="bottom"}return(e=e||{}).x=l,e.y=u,e.align=c,e.verticalAlign=d,e}var HC="__zr_normal__",WC=AC.concat(["ignore"]),UC=Xf(AC,(function(e,t){return e[t]=!0,e}),{ignore:!1}),jC={},$C=new Uv(0,0,0,0),KC=function(){function e(e){this.id=Bf(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return e.prototype._init=function(e){this.attr(e)},e.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,r=t.innerTransformable,o=void 0,s=void 0,a=!1;r.parent=i?this:null;var l=!1;if(r.copyTransform(t),null!=n.position){var u=$C;n.layoutRect?u.copy(n.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(jC,n,u):zC(jC,n,u),r.x=jC.x,r.y=jC.y,o=jC.align,s=jC.verticalAlign;var c=n.origin;if(c&&null!=n.rotation){var d=void 0,h=void 0;"center"===c?(d=.5*u.width,h=.5*u.height):(d=VC(c[0],u.width),h=VC(c[1],u.height)),l=!0,r.originX=-r.x+d+(i?0:u.x),r.originY=-r.y+h+(i?0:u.y)}}null!=n.rotation&&(r.rotation=n.rotation);var p=n.offset;p&&(r.x+=p[0],r.y+=p[1],l||(r.originX=-p[0],r.originY=-p[1]));var g=null==n.inside?"string"===typeof n.position&&n.position.indexOf("inside")>=0:n.inside,f=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,v=void 0,y=void 0;g&&this.canBeInsideText()?(m=n.insideFill,v=n.insideStroke,null!=m&&"auto"!==m||(m=this.getInsideTextFill()),null!=v&&"auto"!==v||(v=this.getInsideTextStroke(m),y=!0)):(m=n.outsideFill,v=n.outsideStroke,null!=m&&"auto"!==m||(m=this.getOutsideFill()),null!=v&&"auto"!==v||(v=this.getOutsideStroke(m),y=!0)),(m=m||"#000")===f.fill&&v===f.stroke&&y===f.autoStroke&&o===f.align&&s===f.verticalAlign||(a=!0,f.fill=m,f.stroke=v,f.autoStroke=y,f.align=o,f.verticalAlign=s,t.setDefaultTextStyle(f)),t.__dirty|=cy,a&&t.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(e){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?bC:CC},e.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),n="string"===typeof t&&cw(t);n||(n=[255,255,255,1]);for(var i=n[3],r=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(r?0:255)*(1-i);return n[3]=1,vw(n,"rgba")},e.prototype.traverse=function(e,t){},e.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},Wf(this.extra,t)):this[e]=t},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(e,t){if("string"===typeof e)this.attrKV(e,t);else if(sm(e))for(var n=Qf(e),i=0;i<n.length;i++){var r=n[i];this.attrKV(r,e[r])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],r=i.__fromStateTransition;if(!(i.getLoop()||r&&r!==HC)){var o=i.targetName,s=o?t[o]:t;i.saveTo(s)}}},e.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,WC)},e.prototype._savePrimaryToNormal=function(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];null==e[r]||r in t||(t[r]=this[r])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(e){return this.states[e]},e.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},e.prototype.clearStates=function(e){this.useState(HC,!1,e)},e.prototype.useState=function(e,t,n,i){var r=e===HC;if(this.hasState()||!r){var o=this.currentStates,s=this.stateTransition;if(!(jf(o,e)>=0)||!t&&1!==o.length){var a;if(this.stateProxy&&!r&&(a=this.stateProxy(e)),a||(a=this.states&&this.states[e]),a||r){r||this.saveCurrentToNormalState(a);var l=!!(a&&a.hoverLayer||i);l&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,a,this._normalState,t,!n&&!this.__inHover&&s&&s.duration>0,s);var u=this._textContent,c=this._textGuide;return u&&u.useState(e,t,n,l),c&&c.useState(e,t,n,l),r?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~cy),a}Gf("State "+e+" not exists.")}}},e.prototype.useStates=function(e,t,n){if(e.length){var i=[],r=this.currentStates,o=e.length,s=o===r.length;if(s)for(var a=0;a<o;a++)if(e[a]!==r[a]){s=!1;break}if(s)return;for(a=0;a<o;a++){var l=e[a],u=void 0;this.stateProxy&&(u=this.stateProxy(l,e)),u||(u=this.states[l]),u&&i.push(u)}var c=i[o-1],d=!!(c&&c.hoverLayer||n);d&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(e.join(","),h,this._normalState,!1,!t&&!this.__inHover&&p&&p.duration>0,p);var g=this._textContent,f=this._textGuide;g&&g.useStates(e,t,d),f&&f.useStates(e,t,d),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~cy)}else this.clearStates()},e.prototype.isSilent=function(){for(var e=this.silent,t=this.parent;!e&&t;){if(t.silent){e=!0;break}t=t.parent}return e},e.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},e.prototype.removeState=function(e){var t=jf(this.currentStates,e);if(t>=0){var n=this.currentStates.slice();n.splice(t,1),this.useStates(n)}},e.prototype.replaceState=function(e,t,n){var i=this.currentStates.slice(),r=jf(i,e),o=jf(i,t)>=0;r>=0?o?i.splice(r,1):i[r]=t:n&&!o&&i.push(t),this.useStates(i)},e.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},e.prototype._mergeStates=function(e){for(var t,n={},i=0;i<e.length;i++){var r=e[i];Wf(n,r),r.textConfig&&Wf(t=t||{},r.textConfig)}return t&&(n.textConfig=t),n},e.prototype._applyStateObj=function(e,t,n,i,r,o){var s=!(t&&i);t&&t.textConfig?(this.textConfig=Wf({},i?this.textConfig:n.textConfig),Wf(this.textConfig,t.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var a={},l=!1,u=0;u<WC.length;u++){var c=WC[u],d=r&&UC[c];t&&null!=t[c]?d?(l=!0,a[c]=t[c]):this[c]=t[c]:s&&null!=n[c]&&(d?(l=!0,a[c]=n[c]):this[c]=n[c])}if(!r)for(u=0;u<this.animators.length;u++){var h=this.animators[u],p=h.targetName;h.getLoop()||h.__changeFinalValue(p?(t||n)[p]:t||n)}l&&this._transitionState(e,a,o)},e.prototype._attachComponent=function(e){if((!e.__zr||e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},e.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},e.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new IC,this._attachComponent(e),this._textContent=e,this.markRedraw())},e.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Wf(this.textConfig,e),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=cy;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},e.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},e.prototype.animate=function(e,t,n){var i=e?this[e]:this;var r=new Zw(i,t,n);return e&&(r.targetName=e),this.addAnimator(r,e),r},e.prototype.addAnimator=function(e,t){var n=this.__zr,i=this;e.during((function(){i.updateDuringAnimation(t)})).done((function(){var t=i.animators,n=jf(t,e);n>=0&&t.splice(n,1)})),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(e){this.markRedraw()},e.prototype.stopAnimation=function(e,t){for(var n=this.animators,i=n.length,r=[],o=0;o<i;o++){var s=n[o];e&&e!==s.scope?r.push(s):s.stop(t)}return this.animators=r,this},e.prototype.animateTo=function(e,t,n){qC(this,e,t,n)},e.prototype.animateFrom=function(e,t,n){qC(this,e,t,n,!0)},e.prototype._transitionState=function(e,t,n,i){for(var r=qC(this,t,n,i),o=0;o<r.length;o++)r[o].__fromStateTransition=e},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=cy;function n(e,n,i,r){function o(e,t){Object.defineProperty(t,0,{get:function(){return e[i]},set:function(t){e[i]=t}}),Object.defineProperty(t,1,{get:function(){return e[r]},set:function(t){e[r]=t}})}Object.defineProperty(t,e,{get:function(){this[n]||o(this,this[n]=[]);return this[n]},set:function(e){this[i]=e[0],this[r]=e[1],this[n]=e,o(this,e)}})}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),e}();function qC(e,t,n,i,r){var o=[];ZC(e,"",e,t,n=n||{},i,o,r);var s=o.length,a=!1,l=n.done,u=n.aborted,c=function(){a=!0,--s<=0&&(a?l&&l():u&&u())},d=function(){--s<=0&&(a?l&&l():u&&u())};s||l&&l(),o.length>0&&n.during&&o[0].during((function(e,t){n.during(t)}));for(var h=0;h<o.length;h++){var p=o[h];c&&p.done(c),d&&p.aborted(d),n.force&&p.duration(n.duration),p.start(n.easing)}return o}function YC(e,t,n){for(var i=0;i<n;i++)e[i]=t[i]}function XC(e,t,n){if(Kf(t[n]))if(Kf(e[n])||(e[n]=[]),lm(t[n])){var i=t[n].length;e[n].length!==i&&(e[n]=new t[n].constructor(i),YC(e[n],t[n],i))}else{var r=t[n],o=e[n],s=r.length;if(Kf(r[0]))for(var a=r[0].length,l=0;l<s;l++)o[l]?YC(o[l],r[l],a):o[l]=Array.prototype.slice.call(r[l]);else YC(o,r,s);o.length=r.length}else e[n]=t[n]}function ZC(e,t,n,i,r,o,s,a){for(var l=Qf(i),u=r.duration,c=r.delay,d=r.additive,h=r.setToFinal,p=!sm(o),g=e.animators,f=[],m=0;m<l.length;m++){var v=l[m],y=i[v];if(null!=y&&null!=n[v]&&(p||o[v]))if(!sm(y)||Kf(y)||cm(y))f.push(v);else{if(t){a||(n[v]=y,e.updateDuringAnimation(t));continue}ZC(e,v,n[v],y,r,o&&o[v],s,a)}else a||(n[v]=y,e.updateDuringAnimation(t),f.push(v))}var w=f.length;if(!d&&w)for(var C=0;C<g.length;C++){if((S=g[C]).targetName===t)if(S.stopTracks(f)){var b=jf(g,S);g.splice(b,1)}}if(r.force||(f=Zf(f,(function(e){return t=i[e],r=n[e],!(t===r||Kf(t)&&Kf(r)&&function(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}(t,r));var t,r})),w=f.length),w>0||r.force&&!s.length){var S,x=void 0,M=void 0,_=void 0;if(a){M={},h&&(x={});for(C=0;C<w;C++){M[v=f[C]]=n[v],h?x[v]=i[v]:n[v]=i[v]}}else if(h){_={};for(C=0;C<w;C++){_[v=f[C]]=Uw(n[v]),XC(n,i,v)}}(S=new Zw(n,!1,!1,d?Zf(g,(function(e){return e.targetName===t})):null)).targetName=t,r.scope&&(S.scope=r.scope),h&&x&&S.whenWithKeys(0,x,f),_&&S.whenWithKeys(0,_,f),S.whenWithKeys(null==u?500:u,a?M:i,f).delay(c||0),e.addAnimator(S,t),s.push(S)}}$f(KC,nv),$f(KC,IC);const QC=KC;var JC=function(e){function t(t){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return km(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,i=n.indexOf(t);i>=0&&(n.splice(i,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,t){var n=jf(this._children,e);return n>=0&&this.replaceAt(t,n),this},t.prototype.replaceAt=function(e,t){var n=this._children,i=n[t];if(e&&e!==this&&e.parent!==this&&e!==i){n[t]=e,i.parent=null;var r=this.__zr;r&&i.removeSelfFromZr(r),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__zr;t&&t!==e.__zr&&e.addSelfToZr(t),t&&t.refresh()},t.prototype.remove=function(e){var t=this.__zr,n=this._children,i=jf(n,e);return i<0||(n.splice(i,1),e.parent=null,t&&e.removeSelfFromZr(t),t&&t.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,t=this.__zr,n=0;n<e.length;n++){var i=e[n];t&&i.removeSelfFromZr(t),i.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,t){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];e.call(t,r,i)}return this},t.prototype.traverse=function(e,t){for(var n=0;n<this._children.length;n++){var i=this._children[n],r=e.call(t,i);i.isGroup&&!r&&i.traverse(e,t)}return this},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++){this._children[n].addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++){this._children[n].removeSelfFromZr(t)}},t.prototype.getBoundingRect=function(e){for(var t=new Uv(0,0,0,0),n=e||this._children,i=[],r=null,o=0;o<n.length;o++){var s=n[o];if(!s.ignore&&!s.invisible){var a=s.getBoundingRect(),l=s.getLocalTransform(i);l?(Uv.applyTransform(t,a,l),(r=r||t.clone()).union(t)):(r=r||a.clone()).union(a)}}return r||t},t}(QC);JC.prototype.type="group";const eb=JC;var tb={},nb={};var ib,rb=function(){function e(e,t,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e;var r=new my,o=n.renderer||"canvas";tb[o]||(o=Qf(tb)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var s=new tb[o](t,r,n,e),a=n.ssr||s.ssrOnly;this.storage=r,this.painter=s;var l,u=Cf.node||Cf.worker||a?null:new vC(s.getViewportRoot(),s.root),c=n.useCoarsePointer;(null==c||"auto"===c?Cf.touchEventsSupported:!!c)&&(l=pm(n.pointerSize,44)),this.handler=new ty(r,s,u,s.root,l),this.animation=new eC({stage:{update:a?null:function(){return i._flush(!0)}}}),a||this.animation.start()}return e.prototype.add=function(e){!this._disposed&&e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},e.prototype.remove=function(e){!this._disposed&&e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},e.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function(e){if(!e)return!1;if("string"===typeof e)return yw(e,1)<.4;if(e.colorStops){for(var t=e.colorStops,n=0,i=t.length,r=0;r<i;r++)n+=yw(t[r].color,1);return(n/=i)<.4}return!1}(e))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(e){this._darkMode=e},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(e){var t,n=Qw();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=Qw();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover())},e.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},e.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},e.prototype.on=function(e,t,n){return this._disposed||this.handler.on(e,t,n),this},e.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},e.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},e.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof eb&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){var e;this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,e=this.id,delete nb[e])},e}();function ob(e,t){var n=new rb(Bf(),e,t);return nb[n.id]=n,n}var sb=1e-4,ab=20;function lb(e,t,n,i){var r=t[0],o=t[1],s=n[0],a=n[1],l=o-r,u=a-s;if(0===l)return 0===u?s:(s+a)/2;if(i)if(l>0){if(e<=r)return s;if(e>=o)return a}else{if(e>=r)return s;if(e<=o)return a}else{if(e===r)return s;if(e===o)return a}return(e-r)/l*u+s}function ub(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return im(e)?(n=e,n.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e;var n}function cb(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),ab),e=(+e).toFixed(t),n?e:+e}function db(e){return e.sort((function(e,t){return e-t})),e}function hb(e){if(e=+e,isNaN(e))return 0;if(e>1e-14)for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n;return function(e){var t=e.toString().toLowerCase(),n=t.indexOf("e"),i=n>0?+t.slice(n+1):0,r=n>0?n:t.length,o=t.indexOf("."),s=o<0?0:r-1-o;return Math.max(0,s-i)}(e)}function pb(e,t){var n=Math.log,i=Math.LN10,r=Math.floor(n(e[1]-e[0])/i),o=Math.round(n(Math.abs(t[1]-t[0]))/i),s=Math.min(Math.max(-r+o,0),20);return isFinite(s)?s:20}function gb(e,t){var n=Xf(e,(function(e,t){return e+(isNaN(t)?0:t)}),0);if(0===n)return[];for(var i=Math.pow(10,t),r=Yf(e,(function(e){return(isNaN(e)?0:e)/n*i*100})),o=100*i,s=Yf(r,(function(e){return Math.floor(e)})),a=Xf(s,(function(e,t){return e+t}),0),l=Yf(r,(function(e,t){return e-s[t]}));a<o;){for(var u=Number.NEGATIVE_INFINITY,c=null,d=0,h=l.length;d<h;++d)l[d]>u&&(u=l[d],c=d);++s[c],l[c]=0,++a}return Yf(s,(function(e){return e/i}))}function fb(e,t){var n=Math.max(hb(e),hb(t)),i=e+t;return n>ab?i:cb(i,n)}var mb=9007199254740991;function vb(e){var t=2*Math.PI;return(e%t+t)%t}function yb(e){return e>-sb&&e<sb}var wb=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Cb(e){if(e instanceof Date)return e;if(im(e)){var t=wb.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==e?new Date(NaN):new Date(Math.round(e))}function bb(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function Sb(e,t){var n=bb(e),i=Math.pow(10,n),r=e/i;return e=(t?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,n>=-20?+e.toFixed(n<0?-n:0):e}function xb(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],o=n-i;return o?r+o*(e[i]-r):r}function Mb(e){e.sort((function(e,t){return a(e,t,0)?-1:1}));for(var t=-1/0,n=1,i=0;i<e.length;){for(var r=e[i].interval,o=e[i].close,s=0;s<2;s++)r[s]<=t&&(r[s]=t,o[s]=s?1:1-n),t=r[s],n=o[s];r[0]===r[1]&&o[0]*o[1]!==1?e.splice(i,1):i++}return e;function a(e,t,n){return e.interval[n]<t.interval[n]||e.interval[n]===t.interval[n]&&(e.close[n]-t.close[n]===(n?-1:1)||!n&&a(e,t,1))}}function _b(e){var t=parseFloat(e);return t==e&&(0!==t||!im(e)||e.indexOf("x")<=0)?t:NaN}function Rb(e){return!isNaN(_b(e))}function Db(){return Math.round(9*Math.random())}function Pb(e,t){return 0===t?e:Pb(t,e%t)}function Tb(e,t){return null==e?t:null==t?e:e*t/Pb(e,t)}function Ab(e,t,n){return(t-e)*n+e}var Eb="series\0",Ib="\0_ec_\0";function kb(e){return e instanceof Array?e:null==e?[]:[e]}function Fb(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}var Lb=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Ob(e){return!sm(e)||tm(e)||e instanceof Date?e:e.value}function Nb(e){return sm(e)&&!(e instanceof Array)}function Bb(e,t,n){var i="normalMerge"===n,r="replaceMerge"===n,o="replaceAll"===n;e=e||[],t=(t||[]).slice();var s=_m();qf(t,(function(e,n){sm(e)||(t[n]=null)}));var a=function(e,t,n){var i=[];if("replaceAll"===n)return i;for(var r=0;r<e.length;r++){var o=e[r];o&&null!=o.id&&t.set(o.id,r),i.push({existing:"replaceMerge"===n||Wb(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}(e,s,n);return(i||r)&&function(e,t,n,i){qf(i,(function(r,o){if(r&&null!=r.id){var s=Vb(r.id),a=n.get(s);if(null!=a){var l=e[a];vm(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=r,l.existing=t[a],i[o]=null}}}))}(a,e,s,t),i&&function(e,t){qf(t,(function(n,i){if(n&&null!=n.name)for(var r=0;r<e.length;r++){var o=e[r].existing;if(!e[r].newOption&&o&&(null==o.id||null==n.id)&&!Wb(n)&&!Wb(o)&&Gb("name",o,n))return e[r].newOption=n,void(t[i]=null)}}))}(a,t),i||r?function(e,t,n){qf(t,(function(t){if(t){for(var i,r=0;(i=e[r])&&(i.newOption||Wb(i.existing)||i.existing&&null!=t.id&&!Gb("id",t,i.existing));)r++;i?(i.newOption=t,i.brandNew=n):e.push({newOption:t,brandNew:n,existing:null,keyInfo:null}),r++}}))}(a,t,r):o&&function(e,t){qf(t,(function(t){e.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})}))}(a,t),function(e){var t=_m();qf(e,(function(e){var n=e.existing;n&&t.set(n.id,e)})),qf(e,(function(e){var n=e.newOption;vm(!n||null==n.id||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})})),qf(e,(function(e,n){var i=e.existing,r=e.newOption,o=e.keyInfo;if(sm(r)){if(o.name=null!=r.name?Vb(r.name):i?i.name:Eb+n,i)o.id=Vb(i.id);else if(null!=r.id)o.id=Vb(r.id);else{var s=0;do{o.id="\0"+o.name+"\0"+s++}while(t.get(o.id))}t.set(o.id,e)}}))}(a),a}function Gb(e,t,n){var i=zb(t[e],null),r=zb(n[e],null);return null!=i&&null!=r&&i===r}function Vb(e){return zb(e,"")}function zb(e,t){return null==e?t:im(e)?e:om(e)||rm(e)?e+"":t}function Hb(e){var t=e.name;return!(!t||!t.indexOf(Eb))}function Wb(e){return e&&null!=e.id&&0===Vb(e.id).indexOf(Ib)}function Ub(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?tm(t.dataIndex)?Yf(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex):null!=t.name?tm(t.name)?Yf(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name):void 0}function jb(){var e="__ec_inner_"+$b++;return function(t){return t[e]||(t[e]={})}}var $b=Db();function Kb(e,t,n){var i=qb(t,n),r=i.mainTypeSpecified,o=i.queryOptionMap,s=i.others,a=n?n.defaultMainType:null;return!r&&a&&o.set(a,{}),o.each((function(t,i){var r=Zb(e,i,t,{useDefault:a===i,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});s[i+"Models"]=r.models,s[i+"Model"]=r.models[0]})),s}function qb(e,t){var n;if(im(e)){var i={};i[e+"Index"]=0,n=i}else n=e;var r=_m(),o={},s=!1;return qf(n,(function(e,n){if("dataIndex"!==n&&"dataIndexInside"!==n){var i=n.match(/^(\w+)(Index|Id|Name)$/)||[],a=i[1],l=(i[2]||"").toLowerCase();if(a&&l&&!(t&&t.includeMainTypes&&jf(t.includeMainTypes,a)<0))s=s||!!a,(r.get(a)||r.set(a,{}))[l]=e}else o[n]=e})),{mainTypeSpecified:s,queryOptionMap:r,others:o}}var Yb={useDefault:!0,enableAll:!1,enableNone:!1},Xb={useDefault:!1,enableAll:!0,enableNone:!0};function Zb(e,t,n,i){i=i||Yb;var r=n.index,o=n.id,s=n.name,a={models:null,specified:null!=r||null!=o||null!=s};if(!a.specified){var l=void 0;return a.models=i.useDefault&&(l=e.getComponent(t))?[l]:[],a}return"none"===r||!1===r?(vm(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),a.models=[],a):("all"===r&&(vm(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=s=null),a.models=e.queryComponents({mainType:t,index:r,id:o,name:s}),a)}function Qb(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function Jb(e,t){var n=_m(),i=[];return qf(e,(function(e){var r=t(e);(n.get(r)||(i.push(r),n.set(r,[]))).push(e)})),{keys:i,buckets:n}}function eS(e,t,n,i,r){var o=null==t||"auto"===t;if(null==i)return i;if(om(i))return cb(g=Ab(n||0,i,r),o?Math.max(hb(n||0),hb(i)):t);if(im(i))return r<1?n:i;for(var s=[],a=n,l=i,u=Math.max(a?a.length:0,l.length),c=0;c<u;++c){var d=e.getDimensionInfo(c);if(d&&"ordinal"===d.type)s[c]=(r<1&&a?a:l)[c];else{var h=a&&a[c]?a[c]:0,p=l[c],g=Ab(h,p,r);s[c]=cb(g,o?Math.max(hb(h),hb(p)):t)}}return s}var tS=".",nS="___EC__COMPONENT__CONTAINER___",iS="___EC__EXTENDED_CLASS___";function rS(e){var t={main:"",sub:""};if(e){var n=e.split(tS);t.main=n[0]||"",t.sub=n[1]||""}return t}function oS(e,t){e.$constructor=e,e.extend=function(e){var t,n=this;return!function(e){return nm(e)&&/^class\s/.test(Function.prototype.toString.call(e))}(n)?(t=function(){(e.$constructor||n).apply(this,arguments)},function(e,t){var n=e.prototype;function i(){}for(var r in i.prototype=t.prototype,e.prototype=new i,n)n.hasOwnProperty(r)&&(e.prototype[r]=n[r]);e.prototype.constructor=e,e.superClass=t}(t,this)):t=function(e){function t(){return e.apply(this,arguments)||this}return vf(t,e),t}(n),Wf(t.prototype,e),t[iS]=!0,t.extend=this.extend,t.superCall=lS,t.superApply=uS,t.superClass=n,t}}function sS(e,t){e.extend=t.extend}var aS=Math.round(10*Math.random());function lS(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this.superClass.prototype[t].apply(e,n)}function uS(e,t,n){return this.superClass.prototype[t].apply(e,n)}function cS(e){var t={};e.registerClass=function(e){var n,i=e.type||e.prototype.type;if(i){vm(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n=i),'componentType "'+n+'" illegal'),e.prototype.type=i;var r=rS(i);if(r.sub){if(r.sub!==nS){var o=function(e){var n=t[e.main];n&&n[nS]||((n=t[e.main]={})[nS]=!0);return n}(r);o[r.sub]=e}}else t[r.main]=e}return e},e.getClass=function(e,n,i){var r=t[e];if(r&&r[nS]&&(r=n?r[n]:null),i&&!r)throw new Error(n?"Component "+e+"."+(n||"")+" is used but not imported.":e+".type should be specified.");return r},e.getClassesByMainType=function(e){var n=rS(e),i=[],r=t[n.main];return r&&r[nS]?qf(r,(function(e,t){t!==nS&&i.push(e)})):i.push(r),i},e.hasClass=function(e){var n=rS(e);return!!t[n.main]},e.getAllClassMainTypes=function(){var e=[];return qf(t,(function(t,n){e.push(n)})),e},e.hasSubTypes=function(e){var n=rS(e),i=t[n.main];return i&&i[nS]}}function dS(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(n,i,r){for(var o={},s=0;s<e.length;s++){var a=e[s][1];if(!(i&&jf(i,a)>=0||r&&jf(r,a)<0)){var l=n.getShallow(a,t);null!=l&&(o[e[s][0]]=l)}}return o}}var hS=dS([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),pS=function(){function e(){}return e.prototype.getAreaStyle=function(e,t){return hS(this,e,t)},e}(),gS=new Zy(50);function fS(e){if("string"===typeof e){var t=gS.get(e);return t&&t.image}return e}function mS(e,t,n,i,r){if(e){if("string"===typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var o=gS.get(e),s={hostEl:n,cb:i,cbPayload:r};return o?!yS(t=o.image)&&o.pending.push(s):((t=_f.loadImage(e,vS,vS)).__zrImageSrc=e,gS.put(e,t.__cachedImgObj={image:t,pending:[s]})),t}return e}return t}function vS(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function yS(e){return e&&e.width&&e.height}var wS=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function CS(e,t,n,i,r){if(!t)return"";var o=(e+"").split("\n");r=bS(t,n,i,r);for(var s=0,a=o.length;s<a;s++)o[s]=SS(o[s],r);return o.join("\n")}function bS(e,t,n,i){var r=Wf({},i=i||{});r.font=t,n=pm(n,"..."),r.maxIterations=pm(i.maxIterations,2);var o=r.minChar=pm(i.minChar,0);r.cnCharWidth=FC("\u56fd",t);var s=r.ascCharWidth=FC("a",t);r.placeholder=pm(i.placeholder,"");for(var a=e=Math.max(0,e-1),l=0;l<o&&a>=s;l++)a-=s;var u=FC(n,t);return u>a&&(n="",u=0),a=e-u,r.ellipsis=n,r.ellipsisWidth=u,r.contentWidth=a,r.containerWidth=e,r}function SS(e,t){var n=t.containerWidth,i=t.font,r=t.contentWidth;if(!n)return"";var o=FC(e,i);if(o<=n)return e;for(var s=0;;s++){if(o<=r||s>=t.maxIterations){e+=t.ellipsis;break}var a=0===s?xS(e,r,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(e.length*r/o):0;o=FC(e=e.substr(0,a),i)}return""===e&&(e=t.placeholder),e}function xS(e,t,n,i){for(var r=0,o=0,s=e.length;o<s&&r<t;o++){var a=e.charCodeAt(o);r+=0<=a&&a<=127?n:i}return o}var MS=function(){},_S=function(e){this.tokens=[],e&&(this.tokens=e)},RS=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function DS(e,t,n,i,r){var o,s,a=""===t,l=r&&n.rich[r]||{},u=e.lines,c=l.font||n.font,d=!1;if(i){var h=l.padding,p=h?h[1]+h[3]:0;if(null!=l.width&&"auto"!==l.width){var g=VC(l.width,i.width)+p;u.length>0&&g+i.accumWidth>i.width&&(o=t.split("\n"),d=!0),i.accumWidth=g}else{var f=AS(t,c,i.width,i.breakAll,i.accumWidth);i.accumWidth=f.accumWidth+p,s=f.linesWidths,o=f.lines}}else o=t.split("\n");for(var m=0;m<o.length;m++){var v=o[m],y=new MS;if(y.styleName=r,y.text=v,y.isLineHolder=!v&&!a,"number"===typeof l.width?y.width=l.width:y.width=s?s[m]:FC(v,c),m||d)u.push(new _S([y]));else{var w=(u[u.length-1]||(u[0]=new _S)).tokens,C=w.length;1===C&&w[0].isLineHolder?w[0]=y:(v||!C||a)&&w.push(y)}}}var PS=Xf(",&?/;] ".split(""),(function(e,t){return e[t]=!0,e}),{});function TS(e){return!function(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}(e)||!!PS[e]}function AS(e,t,n,i,r){for(var o=[],s=[],a="",l="",u=0,c=0,d=0;d<e.length;d++){var h=e.charAt(d);if("\n"!==h){var p=FC(h,t),g=!i&&!TS(h);(o.length?c+p>n:r+c+p>n)?c?(a||l)&&(g?(a||(a=l,l="",c=u=0),o.push(a),s.push(c-u),l+=h,a="",c=u+=p):(l&&(a+=l,l="",u=0),o.push(a),s.push(c),a=h,c=p)):g?(o.push(l),s.push(u),l=h,u=p):(o.push(h),s.push(p)):(c+=p,g?(l+=h,u+=p):(l&&(a+=l,l="",u=0),a+=h))}else l&&(a+=l,c+=u),o.push(a),s.push(c),a="",l="",u=0,c=0}return o.length||a||(a=e,l="",u=0),l&&(a+=l),a&&(o.push(a),s.push(c)),1===o.length&&(c+=r),{accumWidth:c,lines:o,linesWidths:s}}var ES="__zr_style_"+Math.round(10*Math.random()),IS={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},kS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};IS[ES]=!0;var FS=["z","z2","invisible"],LS=["invisible"],OS=function(e){function t(t){return e.call(this,t)||this}return km(t,e),t.prototype._init=function(t){for(var n=Qf(t),i=0;i<n.length;i++){var r=n[i];"style"===r?this.useStyle(t[r]):e.prototype.attrKV.call(this,r,t[r])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,t,n,i){var r=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(e,t,n){NS.copy(e.getBoundingRect()),e.transform&&NS.applyTransform(e.transform);return BS.width=t,BS.height=n,!NS.intersect(BS)}(this,e,t)||r&&!r[0]&&!r[3])return!1;if(n&&this.__clipPaths)for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1;if(i&&this.parent)for(var s=this.parent;s;){if(s.ignore)return!1;s=s.parent}return!0},t.prototype.contain=function(e,t){return this.rectContain(e,t)},t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.rectContain=function(e,t){var n=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(n[0],n[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var t=this.transform,n=this.getBoundingRect(),i=this.style,r=i.shadowBlur||0,o=i.shadowOffsetX||0,s=i.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new Uv(0,0,0,0)),t?Uv.applyTransform(e,n,t):e.copy(n),(r||o||s)&&(e.width+=2*r+Math.abs(o),e.height+=2*r+Math.abs(s),e.x=Math.min(e.x,e.x+o-r),e.y=Math.min(e.y,e.y+s-r));var a=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-a),e.y=Math.floor(e.y-a),e.width=Math.ceil(e.width+1+2*a),e.height=Math.ceil(e.height+1+2*a))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new Uv(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(t,n){"style"!==t?e.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,t){return"string"===typeof e?this.style[e]=t:Wf(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(e){return Dm(IS,e)},t.prototype.useStyle=function(e){e[ES]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[ES]},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,FS)},t.prototype._applyStateObj=function(t,n,i,r,o,s){e.prototype._applyStateObj.call(this,t,n,i,r,o,s);var a,l=!(n&&r);if(n&&n.style?o?r?a=n.style:(a=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(a,n.style)):(a=this._mergeStyle(this.createStyle(),r?this.style:i.style),this._mergeStyle(a,n.style)):l&&(a=i.style),a)if(o){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var c=Qf(u),d=0;d<c.length;d++){(p=c[d])in a&&(a[p]=a[p],this.style[p]=u[p])}var h=Qf(a);for(d=0;d<h.length;d++){var p=h[d];this.style[p]=this.style[p]}this._transitionState(t,{style:a},s,this.getAnimationStyleProps())}else this.useStyle(a);var g=this.__inHover?LS:FS;for(d=0;d<g.length;d++){p=g[d];n&&null!=n[p]?this[p]=n[p]:l&&null!=i[p]&&(this[p]=i[p])}},t.prototype._mergeStates=function(t){for(var n,i=e.prototype._mergeStates.call(this,t),r=0;r<t.length;r++){var o=t[r];o.style&&(n=n||{},this._mergeStyle(n,o.style))}return n&&(i.style=n),i},t.prototype._mergeStyle=function(e,t){return Wf(e,t),e},t.prototype.getAnimationStyleProps=function(){return kS},t.initDefaultProps=function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=2|cy}(),t}(QC),NS=new Uv(0,0,0,0),BS=new Uv(0,0,0,0);const GS=OS;var VS=Math.min,zS=Math.max,HS=Math.sin,WS=Math.cos,US=2*Math.PI,jS=Fm(),$S=Fm(),KS=Fm();function qS(e,t,n){if(0!==e.length){for(var i=e[0],r=i[0],o=i[0],s=i[1],a=i[1],l=1;l<e.length;l++)i=e[l],r=VS(r,i[0]),o=zS(o,i[0]),s=VS(s,i[1]),a=zS(a,i[1]);t[0]=r,t[1]=s,n[0]=o,n[1]=a}}function YS(e,t,n,i,r,o){r[0]=VS(e,n),r[1]=VS(t,i),o[0]=zS(e,n),o[1]=zS(t,i)}var XS=[],ZS=[];function QS(e,t,n,i,r,o,s,a,l,u){var c=Fy,d=Ey,h=c(e,n,r,s,XS);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var p=0;p<h;p++){var g=d(e,n,r,s,XS[p]);l[0]=VS(g,l[0]),u[0]=zS(g,u[0])}h=c(t,i,o,a,ZS);for(p=0;p<h;p++){var f=d(t,i,o,a,ZS[p]);l[1]=VS(f,l[1]),u[1]=zS(f,u[1])}l[0]=VS(e,l[0]),u[0]=zS(e,u[0]),l[0]=VS(s,l[0]),u[0]=zS(s,u[0]),l[1]=VS(t,l[1]),u[1]=zS(t,u[1]),l[1]=VS(a,l[1]),u[1]=zS(a,u[1])}function JS(e,t,n,i,r,o,s,a){var l=Vy,u=By,c=zS(VS(l(e,n,r),1),0),d=zS(VS(l(t,i,o),1),0),h=u(e,n,r,c),p=u(t,i,o,d);s[0]=VS(e,r,h),s[1]=VS(t,o,p),a[0]=zS(e,r,h),a[1]=zS(t,o,p)}function ex(e,t,n,i,r,o,s,a,l){var u=Xm,c=Zm,d=Math.abs(r-o);if(d%US<1e-4&&d>1e-4)return a[0]=e-n,a[1]=t-i,l[0]=e+n,void(l[1]=t+i);if(jS[0]=WS(r)*n+e,jS[1]=HS(r)*i+t,$S[0]=WS(o)*n+e,$S[1]=HS(o)*i+t,u(a,jS,$S),c(l,jS,$S),(r%=US)<0&&(r+=US),(o%=US)<0&&(o+=US),r>o&&!s?o+=US:r<o&&s&&(r+=US),s){var h=o;o=r,r=h}for(var p=0;p<o;p+=Math.PI/2)p>r&&(KS[0]=WS(p)*n+e,KS[1]=HS(p)*i+t,u(a,KS,a),c(l,KS,l))}var tx={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},nx=[],ix=[],rx=[],ox=[],sx=[],ax=[],lx=Math.min,ux=Math.max,cx=Math.cos,dx=Math.sin,hx=Math.abs,px=Math.PI,gx=2*px,fx="undefined"!==typeof Float32Array,mx=[];function vx(e){return Math.round(e/px*1e8)/1e8%2*px}function yx(e,t){var n=vx(e[0]);n<0&&(n+=gx);var i=n-e[0],r=e[1];r+=i,!t&&r-n>=gx?r=n+gx:t&&n-r>=gx?r=n-gx:!t&&n>r?r=n+(gx-vx(n-r)):t&&n<r&&(r=n-(gx-vx(r-n))),e[0]=n,e[1]=r}var Cx=function(){function e(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(e,t,n){(n=n||0)>0&&(this._ux=hx(n/wC/e)||0,this._uy=hx(n/wC/t)||0)},e.prototype.setDPR=function(e){this.dpr=e},e.prototype.setContext=function(e){this._ctx=e},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(tx.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},e.prototype.lineTo=function(e,t){var n=hx(e-this._xi),i=hx(t-this._yi),r=n>this._ux||i>this._uy;if(this.addData(tx.L,e,t),this._ctx&&r&&this._ctx.lineTo(e,t),r)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=o)}return this},e.prototype.bezierCurveTo=function(e,t,n,i,r,o){return this._drawPendingPt(),this.addData(tx.C,e,t,n,i,r,o),this._ctx&&this._ctx.bezierCurveTo(e,t,n,i,r,o),this._xi=r,this._yi=o,this},e.prototype.quadraticCurveTo=function(e,t,n,i){return this._drawPendingPt(),this.addData(tx.Q,e,t,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,n,i),this._xi=n,this._yi=i,this},e.prototype.arc=function(e,t,n,i,r,o){this._drawPendingPt(),mx[0]=i,mx[1]=r,yx(mx,o),i=mx[0];var s=(r=mx[1])-i;return this.addData(tx.A,e,t,n,n,i,s,0,o?0:1),this._ctx&&this._ctx.arc(e,t,n,i,r,o),this._xi=cx(r)*n+e,this._yi=dx(r)*n+t,this},e.prototype.arcTo=function(e,t,n,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,n,i,r),this},e.prototype.rect=function(e,t,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,n,i),this.addData(tx.R,e,t,n,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(tx.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&e.closePath(),this._xi=t,this._yi=n,this},e.prototype.fill=function(e){e&&e.fill(),this.toStatic()},e.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(e){var t=e.length;this.data&&this.data.length===t||!fx||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},e.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,r=0;r<t;r++)n+=e[r].len();fx&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(r=0;r<t;r++)for(var o=e[r].data,s=0;s<o.length;s++)this.data[i++]=o[s];this._len=i},e.prototype.addData=function(e,t,n,i,r,o,s,a,l){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var c=0;c<arguments.length;c++)u[this._len++]=arguments[c]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,fx&&this._len>11&&(this.data=new Float32Array(e)))}},e.prototype.getBoundingRect=function(){rx[0]=rx[1]=sx[0]=sx[1]=Number.MAX_VALUE,ox[0]=ox[1]=ax[0]=ax[1]=-Number.MAX_VALUE;var e,t=this.data,n=0,i=0,r=0,o=0;for(e=0;e<this._len;){var s=t[e++],a=1===e;switch(a&&(r=n=t[e],o=i=t[e+1]),s){case tx.M:n=r=t[e++],i=o=t[e++],sx[0]=r,sx[1]=o,ax[0]=r,ax[1]=o;break;case tx.L:YS(n,i,t[e],t[e+1],sx,ax),n=t[e++],i=t[e++];break;case tx.C:QS(n,i,t[e++],t[e++],t[e++],t[e++],t[e],t[e+1],sx,ax),n=t[e++],i=t[e++];break;case tx.Q:JS(n,i,t[e++],t[e++],t[e],t[e+1],sx,ax),n=t[e++],i=t[e++];break;case tx.A:var l=t[e++],u=t[e++],c=t[e++],d=t[e++],h=t[e++],p=t[e++]+h;e+=1;var g=!t[e++];a&&(r=cx(h)*c+l,o=dx(h)*d+u),ex(l,u,c,d,h,p,g,sx,ax),n=cx(p)*c+l,i=dx(p)*d+u;break;case tx.R:YS(r=n=t[e++],o=i=t[e++],r+t[e++],o+t[e++],sx,ax);break;case tx.Z:n=r,i=o}Xm(rx,rx,sx),Zm(ox,ox,ax)}return 0===e&&(rx[0]=rx[1]=ox[0]=ox[1]=0),new Uv(rx[0],rx[1],ox[0]-rx[0],ox[1]-rx[1])},e.prototype._calculateLength=function(){var e=this.data,t=this._len,n=this._ux,i=this._uy,r=0,o=0,s=0,a=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,u=0,c=0,d=0;d<t;){var h=e[d++],p=1===d;p&&(s=r=e[d],a=o=e[d+1]);var g=-1;switch(h){case tx.M:r=s=e[d++],o=a=e[d++];break;case tx.L:var f=e[d++],m=(w=e[d++])-o;(hx(T=f-r)>n||hx(m)>i||d===t-1)&&(g=Math.sqrt(T*T+m*m),r=f,o=w);break;case tx.C:var v=e[d++],y=e[d++],w=(f=e[d++],e[d++]),C=e[d++],b=e[d++];g=Ny(r,o,v,y,f,w,C,b,10),r=C,o=b;break;case tx.Q:g=Wy(r,o,v=e[d++],y=e[d++],f=e[d++],w=e[d++],10),r=f,o=w;break;case tx.A:var S=e[d++],x=e[d++],M=e[d++],_=e[d++],R=e[d++],D=e[d++],P=D+R;d+=1,p&&(s=cx(R)*M+S,a=dx(R)*_+x),g=ux(M,_)*lx(gx,Math.abs(D)),r=cx(P)*M+S,o=dx(P)*_+x;break;case tx.R:s=r=e[d++],a=o=e[d++],g=2*e[d++]+2*e[d++];break;case tx.Z:var T=s-r;m=a-o;g=Math.sqrt(T*T+m*m),r=s,o=a}g>=0&&(l[c++]=g,u+=g)}return this._pathLen=u,u},e.prototype.rebuildPath=function(e,t){var n,i,r,o,s,a,l,u,c,d,h=this.data,p=this._ux,g=this._uy,f=this._len,m=t<1,v=0,y=0,w=0;if(!m||(this._pathSegLen||this._calculateLength(),l=this._pathSegLen,u=t*this._pathLen))e:for(var C=0;C<f;){var b=h[C++],S=1===C;switch(S&&(n=r=h[C],i=o=h[C+1]),b!==tx.L&&w>0&&(e.lineTo(c,d),w=0),b){case tx.M:n=r=h[C++],i=o=h[C++],e.moveTo(r,o);break;case tx.L:s=h[C++],a=h[C++];var x=hx(s-r),M=hx(a-o);if(x>p||M>g){if(m){if(v+(q=l[y++])>u){var _=(u-v)/q;e.lineTo(r*(1-_)+s*_,o*(1-_)+a*_);break e}v+=q}e.lineTo(s,a),r=s,o=a,w=0}else{var R=x*x+M*M;R>w&&(c=s,d=a,w=R)}break;case tx.C:var D=h[C++],P=h[C++],T=h[C++],A=h[C++],E=h[C++],I=h[C++];if(m){if(v+(q=l[y++])>u){Ly(r,D,T,E,_=(u-v)/q,nx),Ly(o,P,A,I,_,ix),e.bezierCurveTo(nx[1],ix[1],nx[2],ix[2],nx[3],ix[3]);break e}v+=q}e.bezierCurveTo(D,P,T,A,E,I),r=E,o=I;break;case tx.Q:D=h[C++],P=h[C++],T=h[C++],A=h[C++];if(m){if(v+(q=l[y++])>u){zy(r,D,T,_=(u-v)/q,nx),zy(o,P,A,_,ix),e.quadraticCurveTo(nx[1],ix[1],nx[2],ix[2]);break e}v+=q}e.quadraticCurveTo(D,P,T,A),r=T,o=A;break;case tx.A:var k=h[C++],F=h[C++],L=h[C++],O=h[C++],N=h[C++],B=h[C++],G=h[C++],V=!h[C++],z=L>O?L:O,H=hx(L-O)>.001,W=N+B,U=!1;if(m)v+(q=l[y++])>u&&(W=N+B*(u-v)/q,U=!0),v+=q;if(H&&e.ellipse?e.ellipse(k,F,L,O,G,N,W,V):e.arc(k,F,z,N,W,V),U)break e;S&&(n=cx(N)*L+k,i=dx(N)*O+F),r=cx(W)*L+k,o=dx(W)*O+F;break;case tx.R:n=r=h[C],i=o=h[C+1],s=h[C++],a=h[C++];var j=h[C++],$=h[C++];if(m){if(v+(q=l[y++])>u){var K=u-v;e.moveTo(s,a),e.lineTo(s+lx(K,j),a),(K-=j)>0&&e.lineTo(s+j,a+lx(K,$)),(K-=$)>0&&e.lineTo(s+ux(j-K,0),a+$),(K-=j)>0&&e.lineTo(s,a+ux($-K,0));break e}v+=q}e.rect(s,a,j,$);break;case tx.Z:if(m){var q;if(v+(q=l[y++])>u){_=(u-v)/q;e.lineTo(r*(1-_)+n*_,o*(1-_)+i*_);break e}v+=q}e.closePath(),r=n,o=i}}},e.prototype.clone=function(){var t=new e,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},e.CMD=tx,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();const bx=Cx;function Sx(e,t,n,i,r,o,s){if(0===r)return!1;var a=r,l=0;if(s>t+a&&s>i+a||s<t-a&&s<i-a||o>e+a&&o>n+a||o<e-a&&o<n-a)return!1;if(e===n)return Math.abs(o-e)<=a/2;var u=(l=(t-i)/(e-n))*o-s+(e*i-n*t)/(e-n);return u*u/(l*l+1)<=a/2*a/2}function xx(e,t,n,i,r,o,s,a,l,u,c){if(0===l)return!1;var d=l;return!(c>t+d&&c>i+d&&c>o+d&&c>a+d||c<t-d&&c<i-d&&c<o-d&&c<a-d||u>e+d&&u>n+d&&u>r+d&&u>s+d||u<e-d&&u<n-d&&u<r-d&&u<s-d)&&Oy(e,t,n,i,r,o,s,a,u,c,null)<=d/2}function Mx(e,t,n,i,r,o,s,a,l){if(0===s)return!1;var u=s;return!(l>t+u&&l>i+u&&l>o+u||l<t-u&&l<i-u&&l<o-u||a>e+u&&a>n+u&&a>r+u||a<e-u&&a<n-u&&a<r-u)&&Hy(e,t,n,i,r,o,a,l,null)<=u/2}var _x=2*Math.PI;function Rx(e){return(e%=_x)<0&&(e+=_x),e}var Dx=2*Math.PI;function Px(e,t,n,i,r,o,s,a,l){if(0===s)return!1;var u=s;a-=e,l-=t;var c=Math.sqrt(a*a+l*l);if(c-u>n||c+u<n)return!1;if(Math.abs(i-r)%Dx<1e-4)return!0;if(o){var d=i;i=Rx(r),r=Rx(d)}else i=Rx(i),r=Rx(r);i>r&&(r+=Dx);var h=Math.atan2(l,a);return h<0&&(h+=Dx),h>=i&&h<=r||h+Dx>=i&&h+Dx<=r}function Tx(e,t,n,i,r,o){if(o>t&&o>i||o<t&&o<i)return 0;if(i===t)return 0;var s=(o-t)/(i-t),a=i<t?1:-1;1!==s&&0!==s||(a=i<t?.5:-.5);var l=s*(n-e)+e;return l===r?1/0:l>r?a:0}var Ax=bx.CMD,Ex=2*Math.PI,Ix=1e-4;var kx=[-1,-1,-1],Fx=[-1,-1];function Lx(){var e=Fx[0];Fx[0]=Fx[1],Fx[1]=e}function Ox(e,t,n,i,r,o,s,a,l,u){if(u>t&&u>i&&u>o&&u>a||u<t&&u<i&&u<o&&u<a)return 0;var c=ky(t,i,o,a,u,kx);if(0===c)return 0;for(var d=0,h=-1,p=void 0,g=void 0,f=0;f<c;f++){var m=kx[f],v=0===m||1===m?.5:1;Ey(e,n,r,s,m)<l||(h<0&&(h=Fy(t,i,o,a,Fx),Fx[1]<Fx[0]&&h>1&&Lx(),p=Ey(t,i,o,a,Fx[0]),h>1&&(g=Ey(t,i,o,a,Fx[1]))),2===h?m<Fx[0]?d+=p<t?v:-v:m<Fx[1]?d+=g<p?v:-v:d+=a<g?v:-v:m<Fx[0]?d+=p<t?v:-v:d+=a<p?v:-v)}return d}function Nx(e,t,n,i,r,o,s,a){if(a>t&&a>i&&a>o||a<t&&a<i&&a<o)return 0;var l=function(e,t,n,i,r){var o=e-2*t+n,s=2*(t-e),a=e-i,l=0;if(Ty(o))Ay(s)&&(c=-a/s)>=0&&c<=1&&(r[l++]=c);else{var u=s*s-4*o*a;if(Ty(u))(c=-s/(2*o))>=0&&c<=1&&(r[l++]=c);else if(u>0){var c,d=by(u),h=(-s-d)/(2*o);(c=(-s+d)/(2*o))>=0&&c<=1&&(r[l++]=c),h>=0&&h<=1&&(r[l++]=h)}}return l}(t,i,o,a,kx);if(0===l)return 0;var u=Vy(t,i,o);if(u>=0&&u<=1){for(var c=0,d=By(t,i,o,u),h=0;h<l;h++){var p=0===kx[h]||1===kx[h]?.5:1;By(e,n,r,kx[h])<s||(kx[h]<u?c+=d<t?p:-p:c+=o<d?p:-p)}return c}p=0===kx[0]||1===kx[0]?.5:1;return By(e,n,r,kx[0])<s?0:o<t?p:-p}function Bx(e,t,n,i,r,o,s,a){if((a-=t)>n||a<-n)return 0;var l=Math.sqrt(n*n-a*a);kx[0]=-l,kx[1]=l;var u=Math.abs(i-r);if(u<1e-4)return 0;if(u>=Ex-1e-4){i=0,r=Ex;var c=o?1:-1;return s>=kx[0]+e&&s<=kx[1]+e?c:0}if(i>r){var d=i;i=r,r=d}i<0&&(i+=Ex,r+=Ex);for(var h=0,p=0;p<2;p++){var g=kx[p];if(g+e>s){var f=Math.atan2(a,g);c=o?1:-1;f<0&&(f=Ex+f),(f>=i&&f<=r||f+Ex>=i&&f+Ex<=r)&&(f>Math.PI/2&&f<1.5*Math.PI&&(c=-c),h+=c)}}return h}function Gx(e,t,n,i,r){for(var o,s,a,l,u=e.data,c=e.len(),d=0,h=0,p=0,g=0,f=0,m=0;m<c;){var v=u[m++],y=1===m;switch(v===Ax.M&&m>1&&(n||(d+=Tx(h,p,g,f,i,r))),y&&(g=h=u[m],f=p=u[m+1]),v){case Ax.M:h=g=u[m++],p=f=u[m++];break;case Ax.L:if(n){if(Sx(h,p,u[m],u[m+1],t,i,r))return!0}else d+=Tx(h,p,u[m],u[m+1],i,r)||0;h=u[m++],p=u[m++];break;case Ax.C:if(n){if(xx(h,p,u[m++],u[m++],u[m++],u[m++],u[m],u[m+1],t,i,r))return!0}else d+=Ox(h,p,u[m++],u[m++],u[m++],u[m++],u[m],u[m+1],i,r)||0;h=u[m++],p=u[m++];break;case Ax.Q:if(n){if(Mx(h,p,u[m++],u[m++],u[m],u[m+1],t,i,r))return!0}else d+=Nx(h,p,u[m++],u[m++],u[m],u[m+1],i,r)||0;h=u[m++],p=u[m++];break;case Ax.A:var w=u[m++],C=u[m++],b=u[m++],S=u[m++],x=u[m++],M=u[m++];m+=1;var _=!!(1-u[m++]);o=Math.cos(x)*b+w,s=Math.sin(x)*S+C,y?(g=o,f=s):d+=Tx(h,p,o,s,i,r);var R=(i-w)*S/b+w;if(n){if(Px(w,C,S,x,x+M,_,t,R,r))return!0}else d+=Bx(w,C,S,x,x+M,_,R,r);h=Math.cos(x+M)*b+w,p=Math.sin(x+M)*S+C;break;case Ax.R:if(g=h=u[m++],f=p=u[m++],o=g+u[m++],s=f+u[m++],n){if(Sx(g,f,o,f,t,i,r)||Sx(o,f,o,s,t,i,r)||Sx(o,s,g,s,t,i,r)||Sx(g,s,g,f,t,i,r))return!0}else d+=Tx(o,f,o,s,i,r),d+=Tx(g,s,g,f,i,r);break;case Ax.Z:if(n){if(Sx(h,p,g,f,t,i,r))return!0}else d+=Tx(h,p,g,f,i,r);h=g,p=f}}return n||(a=p,l=f,Math.abs(a-l)<Ix)||(d+=Tx(h,p,g,f,i,r)||0),0!==d}var Vx=Uf({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},IS),zx={style:Uf({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},kS.style)},Hx=AC.concat(["invisible","culling","z","z2","zlevel","parent"]),Wx=function(e){function t(t){return e.call(this,t)||this}return km(t,e),t.prototype.update=function(){var n=this;e.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new t;r.buildPath===t.prototype.buildPath&&(r.buildPath=function(e){n.buildPath(e,n.shape)}),r.silent=!0;var o=r.style;for(var s in i)o[s]!==i[s]&&(o[s]=i[s]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var a=0;a<Hx.length;++a)r[Hx[a]]=this[Hx[a]];r.__dirty|=cy}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(t){var n=Qf(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var r=0;r<n.length;r++){var o=n[r],s=t[o];"style"===o?this.style?Wf(this.style,s):this.useStyle(s):"shape"===o?Wf(this.shape,s):e.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if("none"!==e){if(im(e)){var t=yw(e,0);return t>.5?CC:t>.2?"#eee":bC}if(e)return bC}return CC},t.prototype.getInsideTextStroke=function(e){var t=this.style.fill;if(im(t)){var n=this.__zr;if(!(!n||!n.isDarkMode())===yw(e,0)<.4)return t}},t.prototype.buildPath=function(e,t,n){},t.prototype.pathUpdated=function(){this.__dirty&=~dy},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new bx(!1)},t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return!(null==t||"none"===t||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.getBoundingRect=function(){var e=this._rect,t=this.style,n=!e;if(n){var i=!1;this.path||(i=!0,this.createPathProxy());var r=this.path;(i||this.__dirty&dy)&&(r.beginPath(),this.buildPath(r,this.shape,!1),this.pathUpdated()),e=r.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||n){o.copy(e);var s=t.strokeNoScale?this.getLineScale():1,a=t.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;a=Math.max(a,null==l?4:l)}s>1e-10&&(o.width+=a/s,o.height+=a/s,o.x-=a/s/2,o.y-=a/s/2)}return o}return e},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect(),r=this.style;if(e=n[0],t=n[1],i.contain(e,t)){var o=this.path;if(this.hasStroke()){var s=r.lineWidth,a=r.strokeNoScale?this.getLineScale():1;if(a>1e-10&&(this.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),function(e,t,n,i){return Gx(e,t,!0,n,i)}(o,s/a,e,t)))return!0}if(this.hasFill())return function(e,t,n){return Gx(e,0,!1,t,n)}(o,e,t)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=dy,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():"shape"===e?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(t,n){"shape"===t?this.setShape(n):e.prototype.attrKV.call(this,t,n)},t.prototype.setShape=function(e,t){var n=this.shape;return n||(n=this.shape={}),"string"===typeof e?n[e]=t:Wf(n,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&dy)},t.prototype.createStyle=function(e){return Dm(Vx,e)},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.shape&&!n.shape&&(n.shape=Wf({},this.shape))},t.prototype._applyStateObj=function(t,n,i,r,o,s){e.prototype._applyStateObj.call(this,t,n,i,r,o,s);var a,l=!(n&&r);if(n&&n.shape?o?r?a=n.shape:(a=Wf({},i.shape),Wf(a,n.shape)):(a=Wf({},r?this.shape:i.shape),Wf(a,n.shape)):l&&(a=i.shape),a)if(o){this.shape=Wf({},this.shape);for(var u={},c=Qf(a),d=0;d<c.length;d++){var h=c[d];"object"===typeof a[h]?this.shape[h]=a[h]:u[h]=a[h]}this._transitionState(t,{shape:u},s)}else this.shape=a,this.dirtyShape()},t.prototype._mergeStates=function(t){for(var n,i=e.prototype._mergeStates.call(this,t),r=0;r<t.length;r++){var o=t[r];o.shape&&(n=n||{},this._mergeStyle(n,o.shape))}return n&&(i.shape=n),i},t.prototype.getAnimationStyleProps=function(){return zx},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=function(t){function n(n){var i=t.call(this,n)||this;return e.init&&e.init.call(i,n),i}return km(n,t),n.prototype.getDefaultStyle=function(){return Vf(e.style)},n.prototype.getDefaultShape=function(){return Vf(e.shape)},n}(t);for(var i in e)"function"===typeof e[i]&&(n.prototype[i]=e[i]);return n},t.initDefaultProps=function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=2|cy|dy}(),t}(GS);const Ux=Wx;var jx=Uf({strokeFirst:!0,font:xf,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Vx),$x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return km(t,e),t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return null!=t&&"none"!==t&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.createStyle=function(e){return Dm(jx,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var t=e.text;null!=t?t+="":t="";var n=OC(t,e.font,e.textAlign,e.textBaseline);if(n.x+=e.x||0,n.y+=e.y||0,this.hasStroke()){var i=e.lineWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(GS);$x.prototype.type="tspan";const Kx=$x;var qx=Uf({x:0,y:0},IS),Yx={style:Uf({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},kS.style)};var Xx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return km(t,e),t.prototype.createStyle=function(e){return Dm(qx,e)},t.prototype._getSize=function(e){var t=this.style,n=t[e];if(null!=n)return n;var i,r=(i=t.image)&&"string"!==typeof i&&i.width&&i.height?t.image:this.__image;if(!r)return 0;var o="width"===e?"height":"width",s=t[o];return null==s?r[e]:r[e]/r[o]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return Yx},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Uv(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(GS);Xx.prototype.type="image";const Zx=Xx;var Qx=Math.round;function Jx(e,t,n){if(t){var i=t.x1,r=t.x2,o=t.y1,s=t.y2;e.x1=i,e.x2=r,e.y1=o,e.y2=s;var a=n&&n.lineWidth;return a?(Qx(2*i)===Qx(2*r)&&(e.x1=e.x2=tM(i,a,!0)),Qx(2*o)===Qx(2*s)&&(e.y1=e.y2=tM(o,a,!0)),e):e}}function eM(e,t,n){if(t){var i=t.x,r=t.y,o=t.width,s=t.height;e.x=i,e.y=r,e.width=o,e.height=s;var a=n&&n.lineWidth;return a?(e.x=tM(i,a,!0),e.y=tM(r,a,!0),e.width=Math.max(tM(i+o,a,!1)-e.x,0===o?0:1),e.height=Math.max(tM(r+s,a,!1)-e.y,0===s?0:1),e):e}}function tM(e,t,n){if(!t)return e;var i=Qx(2*e);return(i+Qx(t))%2===0?i/2:(i+(n?1:-1))/2}var nM=function(){this.x=0,this.y=0,this.width=0,this.height=0},iM={},rM=function(e){function t(t){return e.call(this,t)||this}return km(t,e),t.prototype.getDefaultShape=function(){return new nM},t.prototype.buildPath=function(e,t){var n,i,r,o;if(this.subPixelOptimize){var s=eM(iM,t,this.style);n=s.x,i=s.y,r=s.width,o=s.height,s.r=t.r,t=s}else n=t.x,i=t.y,r=t.width,o=t.height;t.r?function(e,t){var n,i,r,o,s,a=t.x,l=t.y,u=t.width,c=t.height,d=t.r;u<0&&(a+=u,u=-u),c<0&&(l+=c,c=-c),"number"===typeof d?n=i=r=o=d:d instanceof Array?1===d.length?n=i=r=o=d[0]:2===d.length?(n=r=d[0],i=o=d[1]):3===d.length?(n=d[0],i=o=d[1],r=d[2]):(n=d[0],i=d[1],r=d[2],o=d[3]):n=i=r=o=0,n+i>u&&(n*=u/(s=n+i),i*=u/s),r+o>u&&(r*=u/(s=r+o),o*=u/s),i+r>c&&(i*=c/(s=i+r),r*=c/s),n+o>c&&(n*=c/(s=n+o),o*=c/s),e.moveTo(a+n,l),e.lineTo(a+u-i,l),0!==i&&e.arc(a+u-i,l+i,i,-Math.PI/2,0),e.lineTo(a+u,l+c-r),0!==r&&e.arc(a+u-r,l+c-r,r,0,Math.PI/2),e.lineTo(a+o,l+c),0!==o&&e.arc(a+o,l+c-o,o,Math.PI/2,Math.PI),e.lineTo(a,l+n),0!==n&&e.arc(a+n,l+n,n,Math.PI,1.5*Math.PI)}(e,t):e.rect(n,i,r,o)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Ux);rM.prototype.type="rect";const oM=rM;var sM={fill:"#000"},aM={style:Uf({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},kS.style)},lM=function(e){function t(t){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=sM,n.attr(t),n}return km(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var n=this._children[t];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(t){var n=this.innerTransformable;return n?n.getLocalTransform(t):e.prototype.getLocalTransform.call(this,t)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){var e;this._childCursor=0,fM(e=this.style),qf(e.rich,fM),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Uv(0,0,0,0),t=this._children,n=[],i=null,r=0;r<t.length;r++){var o=t[r],s=o.getBoundingRect(),a=o.getLocalTransform(n);a?(e.copy(s),e.applyTransform(a),(i=i||e.clone()).union(e)):(i=i||s.clone()).union(s)}this._rect=i||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||sM},t.prototype.setTextContent=function(e){0},t.prototype._mergeStyle=function(e,t){if(!t)return e;var n=t.rich,i=e.rich||n&&{};return Wf(e,t),n&&i?(this._mergeRich(i,n),e.rich=i):i&&(e.rich=i),e},t.prototype._mergeRich=function(e,t){for(var n=Qf(t),i=0;i<n.length;i++){var r=n[i];e[r]=e[r]||{},Wf(e[r],t[r])}},t.prototype.getAnimationStyleProps=function(){return aM},t.prototype._getOrCreateChild=function(e){var t=this._children[this._childCursor];return t&&t instanceof e||(t=new e),this._children[this._childCursor++]=t,t.__zr=this.__zr,t.parent=this,t},t.prototype._updatePlainTexts=function(){var e=this.style,t=e.font||xf,n=e.padding,i=function(e,t){null!=e&&(e+="");var n,i=t.overflow,r=t.padding,o=t.font,s="truncate"===i,a=GC(o),l=pm(t.lineHeight,a),u=!!t.backgroundColor,c="truncate"===t.lineOverflow,d=t.width,h=(n=null==d||"break"!==i&&"breakAll"!==i?e?e.split("\n"):[]:e?AS(e,t.font,d,"breakAll"===i,0).lines:[]).length*l,p=pm(t.height,h);if(h>p&&c){var g=Math.floor(p/l);n=n.slice(0,g)}if(e&&s&&null!=d)for(var f=bS(d,o,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),m=0;m<n.length;m++)n[m]=SS(n[m],f);var v=p,y=0;for(m=0;m<n.length;m++)y=Math.max(FC(n[m],o),y);null==d&&(d=y);var w=y;return r&&(v+=r[0]+r[2],w+=r[1]+r[3],d+=r[1]+r[3]),u&&(w=d),{lines:n,height:p,outerWidth:w,outerHeight:v,lineHeight:l,calculatedLineHeight:a,contentWidth:y,contentHeight:h,width:d}}(wM(e),e),r=CM(e),o=!!e.backgroundColor,s=i.outerHeight,a=i.outerWidth,l=i.contentWidth,u=i.lines,c=i.lineHeight,d=this._defaultStyle,h=e.x||0,p=e.y||0,g=e.align||d.align||"left",f=e.verticalAlign||d.verticalAlign||"top",m=h,v=BC(p,i.contentHeight,f);if(r||n){var y=NC(h,a,g),w=BC(p,s,f);r&&this._renderBackground(e,e,y,w,a,s)}v+=c/2,n&&(m=yM(h,g,n),"top"===f?v+=n[0]:"bottom"===f&&(v-=n[2]));for(var C=0,b=!1,S=(vM("fill"in e?e.fill:(b=!0,d.fill))),x=(mM("stroke"in e?e.stroke:o||d.autoStroke&&!b?null:(C=2,d.stroke))),M=e.textShadowBlur>0,_=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),R=i.calculatedLineHeight,D=0;D<u.length;D++){var P=this._getOrCreateChild(Kx),T=P.createStyle();P.useStyle(T),T.text=u[D],T.x=m,T.y=v,g&&(T.textAlign=g),T.textBaseline="middle",T.opacity=e.opacity,T.strokeFirst=!0,M&&(T.shadowBlur=e.textShadowBlur||0,T.shadowColor=e.textShadowColor||"transparent",T.shadowOffsetX=e.textShadowOffsetX||0,T.shadowOffsetY=e.textShadowOffsetY||0),T.stroke=x,T.fill=S,x&&(T.lineWidth=e.lineWidth||C,T.lineDash=e.lineDash,T.lineDashOffset=e.lineDashOffset||0),T.font=t,pM(T,e),v+=c,_&&P.setBoundingRect(new Uv(NC(T.x,e.width,T.textAlign),BC(T.y,R,T.textBaseline),l,R))}},t.prototype._updateRichTexts=function(){var e=this.style,t=function(e,t){var n=new RS;if(null!=e&&(e+=""),!e)return n;for(var i,r=t.width,o=t.height,s=t.overflow,a="break"!==s&&"breakAll"!==s||null==r?null:{width:r,accumWidth:0,breakAll:"breakAll"===s},l=wS.lastIndex=0;null!=(i=wS.exec(e));){var u=i.index;u>l&&DS(n,e.substring(l,u),t,a),DS(n,i[2],t,a,i[1]),l=wS.lastIndex}l<e.length&&DS(n,e.substring(l,e.length),t,a);var c=[],d=0,h=0,p=t.padding,g="truncate"===s,f="truncate"===t.lineOverflow;function m(e,t,n){e.width=t,e.lineHeight=n,d+=n,h=Math.max(h,t)}e:for(var v=0;v<n.lines.length;v++){for(var y=n.lines[v],w=0,C=0,b=0;b<y.tokens.length;b++){var S=(I=y.tokens[b]).styleName&&t.rich[I.styleName]||{},x=I.textPadding=S.padding,M=x?x[1]+x[3]:0,_=I.font=S.font||t.font;I.contentHeight=GC(_);var R=pm(S.height,I.contentHeight);if(I.innerHeight=R,x&&(R+=x[0]+x[2]),I.height=R,I.lineHeight=gm(S.lineHeight,t.lineHeight,R),I.align=S&&S.align||t.align,I.verticalAlign=S&&S.verticalAlign||"middle",f&&null!=o&&d+I.lineHeight>o){b>0?(y.tokens=y.tokens.slice(0,b),m(y,C,w),n.lines=n.lines.slice(0,v+1)):n.lines=n.lines.slice(0,v);break e}var D=S.width,P=null==D||"auto"===D;if("string"===typeof D&&"%"===D.charAt(D.length-1))I.percentWidth=D,c.push(I),I.contentWidth=FC(I.text,_);else{if(P){var T=S.backgroundColor,A=T&&T.image;A&&yS(A=fS(A))&&(I.width=Math.max(I.width,A.width*R/A.height))}var E=g&&null!=r?r-C:null;null!=E&&E<I.width?!P||E<M?(I.text="",I.width=I.contentWidth=0):(I.text=CS(I.text,E-M,_,t.ellipsis,{minChar:t.truncateMinChar}),I.width=I.contentWidth=FC(I.text,_)):I.contentWidth=FC(I.text,_)}I.width+=M,C+=I.width,S&&(w=Math.max(w,I.lineHeight))}m(y,C,w)}for(n.outerWidth=n.width=pm(r,h),n.outerHeight=n.height=pm(o,d),n.contentHeight=d,n.contentWidth=h,p&&(n.outerWidth+=p[1]+p[3],n.outerHeight+=p[0]+p[2]),v=0;v<c.length;v++){var I,k=(I=c[v]).percentWidth;I.width=parseInt(k,10)/100*n.width}return n}(wM(e),e),n=t.width,i=t.outerWidth,r=t.outerHeight,o=e.padding,s=e.x||0,a=e.y||0,l=this._defaultStyle,u=e.align||l.align,c=e.verticalAlign||l.verticalAlign,d=NC(s,i,u),h=BC(a,r,c),p=d,g=h;o&&(p+=o[3],g+=o[0]);var f=p+n;CM(e)&&this._renderBackground(e,e,d,h,i,r);for(var m=!!e.backgroundColor,v=0;v<t.lines.length;v++){for(var y=t.lines[v],w=y.tokens,C=w.length,b=y.lineHeight,S=y.width,x=0,M=p,_=f,R=C-1,D=void 0;x<C&&(!(D=w[x]).align||"left"===D.align);)this._placeToken(D,e,b,g,M,"left",m),S-=D.width,M+=D.width,x++;for(;R>=0&&"right"===(D=w[R]).align;)this._placeToken(D,e,b,g,_,"right",m),S-=D.width,_-=D.width,R--;for(M+=(n-(M-p)-(f-_)-S)/2;x<=R;)D=w[x],this._placeToken(D,e,b,g,M+D.width/2,"center",m),M+=D.width,x++;g+=b}},t.prototype._placeToken=function(e,t,n,i,r,o,s){var a=t.rich[e.styleName]||{};a.text=e.text;var l=e.verticalAlign,u=i+n/2;"top"===l?u=i+e.height/2:"bottom"===l&&(u=i+n-e.height/2),!e.isLineHolder&&CM(a)&&this._renderBackground(a,t,"right"===o?r-e.width:"center"===o?r-e.width/2:r,u-e.height/2,e.width,e.height);var c=!!a.backgroundColor,d=e.textPadding;d&&(r=yM(r,o,d),u-=e.height/2-d[0]-e.innerHeight/2);var h=this._getOrCreateChild(Kx),p=h.createStyle();h.useStyle(p);var g=this._defaultStyle,f=!1,m=0,v=vM("fill"in a?a.fill:"fill"in t?t.fill:(f=!0,g.fill)),y=mM("stroke"in a?a.stroke:"stroke"in t?t.stroke:c||s||g.autoStroke&&!f?null:(m=2,g.stroke)),w=a.textShadowBlur>0||t.textShadowBlur>0;p.text=e.text,p.x=r,p.y=u,w&&(p.shadowBlur=a.textShadowBlur||t.textShadowBlur||0,p.shadowColor=a.textShadowColor||t.textShadowColor||"transparent",p.shadowOffsetX=a.textShadowOffsetX||t.textShadowOffsetX||0,p.shadowOffsetY=a.textShadowOffsetY||t.textShadowOffsetY||0),p.textAlign=o,p.textBaseline="middle",p.font=e.font||xf,p.opacity=gm(a.opacity,t.opacity,1),pM(p,a),y&&(p.lineWidth=gm(a.lineWidth,t.lineWidth,m),p.lineDash=pm(a.lineDash,t.lineDash),p.lineDashOffset=t.lineDashOffset||0,p.stroke=y),v&&(p.fill=v);var C=e.contentWidth,b=e.contentHeight;h.setBoundingRect(new Uv(NC(p.x,C,p.textAlign),BC(p.y,b,p.textBaseline),C,b))},t.prototype._renderBackground=function(e,t,n,i,r,o){var s,a,l,u=e.backgroundColor,c=e.borderWidth,d=e.borderColor,h=u&&u.image,p=u&&!h,g=e.borderRadius,f=this;if(p||e.lineHeight||c&&d){(s=this._getOrCreateChild(oM)).useStyle(s.createStyle()),s.style.fill=null;var m=s.shape;m.x=n,m.y=i,m.width=r,m.height=o,m.r=g,s.dirtyShape()}if(p)(l=s.style).fill=u||null,l.fillOpacity=pm(e.fillOpacity,1);else if(h){(a=this._getOrCreateChild(Zx)).onload=function(){f.dirtyStyle()};var v=a.style;v.image=u.image,v.x=n,v.y=i,v.width=r,v.height=o}c&&d&&((l=s.style).lineWidth=c,l.stroke=d,l.strokeOpacity=pm(e.strokeOpacity,1),l.lineDash=e.borderDash,l.lineDashOffset=e.borderDashOffset||0,s.strokeContainThreshold=0,s.hasFill()&&s.hasStroke()&&(l.strokeFirst=!0,l.lineWidth*=2));var y=(s||a).style;y.shadowBlur=e.shadowBlur||0,y.shadowColor=e.shadowColor||"transparent",y.shadowOffsetX=e.shadowOffsetX||0,y.shadowOffsetY=e.shadowOffsetY||0,y.opacity=gm(e.opacity,t.opacity,1)},t.makeFont=function(e){var t="";return gM(e)&&(t=[e.fontStyle,e.fontWeight,hM(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),t&&ym(t)||e.textFont||e.font},t}(GS),uM={left:!0,right:1,center:1},cM={top:1,bottom:1,middle:1},dM=["fontStyle","fontWeight","fontSize","fontFamily"];function hM(e){return"string"!==typeof e||-1===e.indexOf("px")&&-1===e.indexOf("rem")&&-1===e.indexOf("em")?isNaN(+e)?bf+"px":e+"px":e}function pM(e,t){for(var n=0;n<dM.length;n++){var i=dM[n],r=t[i];null!=r&&(e[i]=r)}}function gM(e){return null!=e.fontSize||e.fontFamily||e.fontWeight}function fM(e){if(e){e.font=lM.makeFont(e);var t=e.align;"middle"===t&&(t="center"),e.align=null==t||uM[t]?t:"left";var n=e.verticalAlign;"center"===n&&(n="middle"),e.verticalAlign=null==n||cM[n]?n:"top",e.padding&&(e.padding=mm(e.padding))}}function mM(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function vM(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function yM(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function wM(e){var t=e.text;return null!=t&&(t+=""),t}function CM(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}const bM=lM;var SM=jb(),xM=function(e,t,n,i){if(i){var r=SM(i);r.dataIndex=n,r.dataType=t,r.seriesIndex=e,r.ssrType="chart","group"===i.type&&i.traverse((function(i){var r=SM(i);r.seriesIndex=e,r.dataIndex=n,r.dataType=t,r.ssrType="chart"}))}},MM=1,_M={},RM=jb(),DM=jb(),PM=0,TM=1,AM=2,EM=["emphasis","blur","select"],IM=["normal","emphasis","blur","select"],kM=10,FM=9,LM="highlight",OM="downplay",NM="select",BM="unselect",GM="toggleSelect";function VM(e){return null!=e&&"none"!==e}function zM(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function HM(e){zM(e,"emphasis",AM)}function WM(e){e.hoverState===AM&&zM(e,"normal",PM)}function UM(e){zM(e,"blur",TM)}function jM(e){e.hoverState===TM&&zM(e,"normal",PM)}function $M(e){e.selected=!0}function KM(e){e.selected=!1}function qM(e,t,n){t(e,n)}function YM(e,t,n){qM(e,t,n),e.isGroup&&e.traverse((function(e){qM(e,t,n)}))}function XM(e,t){switch(t){case"emphasis":e.hoverState=AM;break;case"normal":e.hoverState=PM;break;case"blur":e.hoverState=TM;break;case"select":e.selected=!0}}function ZM(e,t){var n=this.states[e];if(this.style){if("emphasis"===e)return function(e,t,n,i){var r=n&&jf(n,"select")>=0,o=!1;if(e instanceof Ux){var s=RM(e),a=r&&s.selectFill||s.normalFill,l=r&&s.selectStroke||s.normalStroke;if(VM(a)||VM(l)){var u=(i=i||{}).style||{};"inherit"===u.fill?(o=!0,i=Wf({},i),(u=Wf({},u)).fill=a):!VM(u.fill)&&VM(a)?(o=!0,i=Wf({},i),(u=Wf({},u)).fill=Cw(a)):!VM(u.stroke)&&VM(l)&&(o||(i=Wf({},i),u=Wf({},u)),u.stroke=Cw(l)),i.style=u}}if(i&&null==i.z2){o||(i=Wf({},i));var c=e.z2EmphasisLift;i.z2=e.z2+(null!=c?c:kM)}return i}(this,0,t,n);if("blur"===e)return function(e,t,n){var i=jf(e.currentStates,t)>=0,r=e.style.opacity,o=i?null:function(e,t,n,i){for(var r=e.style,o={},s=0;s<t.length;s++){var a=t[s],l=r[a];o[a]=null==l?i&&i[a]:l}for(s=0;s<e.animators.length;s++){var u=e.animators[s];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&"style"===u.targetName&&u.saveTo(o,t)}return o}(e,["opacity"],t,{opacity:1}),s=(n=n||{}).style||{};return null==s.opacity&&(n=Wf({},n),s=Wf({opacity:i?r:.1*o.opacity},s),n.style=s),n}(this,e,n);if("select"===e)return function(e,t,n){if(n&&null==n.z2){n=Wf({},n);var i=e.z2SelectLift;n.z2=e.z2+(null!=i?i:FM)}return n}(this,0,n)}return n}function QM(e){e.stateProxy=ZM;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=ZM),n&&(n.stateProxy=ZM)}function JM(e,t){!a_(e,t)&&!e.__highByOuter&&YM(e,HM)}function e_(e,t){!a_(e,t)&&!e.__highByOuter&&YM(e,WM)}function t_(e,t){e.__highByOuter|=1<<(t||0),YM(e,HM)}function n_(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&YM(e,WM)}function i_(e){YM(e,UM)}function r_(e){YM(e,jM)}function o_(e){YM(e,$M)}function s_(e){YM(e,KM)}function a_(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function l_(e){var t=e.getModel(),n=[],i=[];t.eachComponent((function(t,r){var o=DM(r),s="series"===t,a=s?e.getViewOfSeriesModel(r):e.getViewOfComponentModel(r);!s&&i.push(a),o.isBlured&&(a.group.traverse((function(e){jM(e)})),s&&n.push(r)),o.isBlured=!1})),qf(i,(function(e){e&&e.toggleBlurSeries&&e.toggleBlurSeries(n,!1,t)}))}function u_(e,t,n,i){var r=i.getModel();function o(e,t){for(var n=0;n<t.length;n++){var i=e.getItemGraphicEl(t[n]);i&&r_(i)}}if(n=n||"coordinateSystem",null!=e&&t&&"none"!==t){var s=r.getSeriesByIndex(e),a=s.coordinateSystem;a&&a.master&&(a=a.master);var l=[];r.eachSeries((function(e){var r=s===e,u=e.coordinateSystem;if(u&&u.master&&(u=u.master),!("series"===n&&!r||"coordinateSystem"===n&&!(u&&a?u===a:r)||"series"===t&&r)){if(i.getViewOfSeriesModel(e).group.traverse((function(e){e.__highByOuter&&r&&"self"===t||UM(e)})),Kf(t))o(e.getData(),t);else if(sm(t))for(var c=Qf(t),d=0;d<c.length;d++)o(e.getData(c[d]),t[c[d]]);l.push(e),DM(e).isBlured=!0}})),r.eachComponent((function(e,t){if("series"!==e){var n=i.getViewOfComponentModel(t);n&&n.toggleBlurSeries&&n.toggleBlurSeries(l,!0,r)}}))}}function c_(e,t,n){if(null!=e&&null!=t){var i=n.getModel().getComponent(e,t);if(i){DM(i).isBlured=!0;var r=n.getViewOfComponentModel(i);r&&r.focusBlurEnabled&&r.group.traverse((function(e){UM(e)}))}}}function d_(e,t,n,i){var r={focusSelf:!1,dispatchers:null};if(null==e||"series"===e||null==t||null==n)return r;var o=i.getModel().getComponent(e,t);if(!o)return r;var s=i.getViewOfComponentModel(o);if(!s||!s.findHighDownDispatchers)return r;for(var a,l=s.findHighDownDispatchers(n),u=0;u<l.length;u++)if("self"===SM(l[u]).focus){a=!0;break}return{focusSelf:a,dispatchers:l}}function h_(e){qf(e.getAllData(),(function(t){var n=t.data,i=t.type;n.eachItemGraphicEl((function(t,n){e.isSelected(n,i)?o_(t):s_(t)}))}))}function p_(e){var t=[];return e.eachSeries((function(e){qf(e.getAllData(),(function(n){n.data;var i=n.type,r=e.getSelectedDataIndices();if(r.length>0){var o={dataIndex:r,seriesIndex:e.seriesIndex};null!=i&&(o.dataType=i),t.push(o)}}))})),t}function g_(e,t,n){C_(e,!0),YM(e,QM),m_(e,t,n)}function f_(e,t,n,i){i?function(e){C_(e,!1)}(e):g_(e,t,n)}function m_(e,t,n){var i=SM(e);null!=t?(i.focus=t,i.blurScope=n):i.focus&&(i.focus=null)}var v_=["emphasis","blur","select"],y_={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function w_(e,t,n,i){n=n||"itemStyle";for(var r=0;r<v_.length;r++){var o=v_[r],s=t.getModel([o,n]);e.ensureState(o).style=i?i(s):s[y_[n]]()}}function C_(e,t){var n=!1===t,i=e;e.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=e.highDownSilentOnTouch),n&&!i.__highDownDispatcher||(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!n)}function b_(e){return!(!e||!e.__highDownDispatcher)}function S_(e){var t=e.type;return t===NM||t===BM||t===GM}function x_(e){var t=e.type;return t===LM||t===OM}var M_=jb();function __(e,t,n,i,r){var o;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();o=s&&s.animation}var a="update"===e;if(t&&t.isAnimationEnabled()){var l=void 0,u=void 0,c=void 0;return i?(l=pm(i.duration,200),u=pm(i.easing,"cubicOut"),c=0):(l=t.getShallow(a?"animationDurationUpdate":"animationDuration"),u=t.getShallow(a?"animationEasingUpdate":"animationEasing"),c=t.getShallow(a?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(l=o.duration),null!=o.easing&&(u=o.easing),null!=o.delay&&(c=o.delay)),nm(c)&&(c=c(n,r)),nm(l)&&(l=l(n)),{duration:l||0,delay:c,easing:u}}return null}function R_(e,t,n,i,r,o,s){var a,l=!1;nm(r)?(s=o,o=r,r=null):sm(r)&&(o=r.cb,s=r.during,l=r.isFrom,a=r.removeOpt,r=r.dataIndex);var u="leave"===e;u||t.stopAnimation("leave");var c=__(e,i,r,u?a||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(t,r):null);if(c&&c.duration>0){var d={duration:c.duration,delay:c.delay||0,easing:c.easing,done:o,force:!!o||!!s,setToFinal:!u,scope:e,during:s};l?t.animateFrom(n,d):t.animateTo(n,d)}else t.stopAnimation(),!l&&t.attr(n),s&&s(1),o&&o()}function D_(e,t,n,i,r,o){R_("update",e,t,n,i,r,o)}function P_(e,t,n,i,r,o){R_("enter",e,t,n,i,r,o)}function T_(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){if("leave"===e.animators[t].scope)return!0}return!1}function A_(e,t,n,i,r,o){T_(e)||R_("leave",e,t,n,i,r,o)}function E_(e,t,n,i){e.removeTextContent(),e.removeTextGuideLine(),A_(e,{style:{opacity:0}},t,n,i)}function I_(e,t,n){function i(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse((function(e){e.isGroup||E_(e,t,n,i)})):E_(e,t,n,i)}function k_(e){M_(e).oldStyle=e.style}var F_={};function L_(e,t){for(var n=0;n<EM.length;n++){var i=EM[n],r=t[i],o=e.ensureState(i);o.style=o.style||{},o.style.text=r}var s=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(s,!0)}function O_(e,t,n){var i,r=e.labelFetcher,o=e.labelDataIndex,s=e.labelDimIndex,a=t.normal;r&&(i=r.getFormattedLabel(o,"normal",null,s,a&&a.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==i&&(i=nm(e.defaultText)?e.defaultText(o,e,n):e.defaultText);for(var l={normal:i},u=0;u<EM.length;u++){var c=EM[u],d=t[c];l[c]=pm(r?r.getFormattedLabel(o,c,null,s,d&&d.get("formatter")):null,i)}return l}function N_(e,t,n,i){n=n||F_;for(var r=e instanceof bM,o=!1,s=0;s<IM.length;s++){if((h=t[IM[s]])&&h.getShallow("show")){o=!0;break}}var a=r?e:e.getTextContent();if(o){r||(a||(a=new bM,e.setTextContent(a)),e.stateProxy&&(a.stateProxy=e.stateProxy));var l=O_(n,t),u=t.normal,c=!!u.getShallow("show"),d=G_(u,i&&i.normal,n,!1,!r);d.text=l.normal,r||e.setTextConfig(V_(u,n,!1));for(s=0;s<EM.length;s++){var h,p=EM[s];if(h=t[p]){var g=a.ensureState(p),f=!!pm(h.getShallow("show"),c);if(f!==c&&(g.ignore=!f),g.style=G_(h,i&&i[p],n,!0,!r),g.style.text=l[p],!r)e.ensureState(p).textConfig=V_(h,n,!0)}}a.silent=!!u.getShallow("silent"),null!=a.style.x&&(d.x=a.style.x),null!=a.style.y&&(d.y=a.style.y),a.ignore=!c,a.useStyle(d),a.dirty(),n.enableTextSetter&&($_(a).setLabelText=function(e){var i=O_(n,t,e);L_(a,i)})}else a&&(a.ignore=!0);e.dirty()}function B_(e,t){t=t||"label";for(var n={normal:e.getModel(t)},i=0;i<EM.length;i++){var r=EM[i];n[r]=e.getModel([r,t])}return n}function G_(e,t,n,i,r){var o={};return function(e,t,n,i,r){n=n||F_;var o,s=t.ecModel,a=s&&s.option.textStyle,l=function(e){var t;for(;e&&e!==e.ecModel;){var n=(e.option||F_).rich;if(n){t=t||{};for(var i=Qf(n),r=0;r<i.length;r++){t[i[r]]=1}}e=e.parentModel}return t}(t);if(l)for(var u in o={},l)if(l.hasOwnProperty(u)){var c=t.getModel(["rich",u]);U_(o[u]={},c,a,n,i,r,!1,!0)}o&&(e.rich=o);var d=t.get("overflow");d&&(e.overflow=d);var h=t.get("minMargin");null!=h&&(e.margin=h);U_(e,t,a,n,i,r,!0,!1)}(o,e,n,i,r),t&&Wf(o,t),o}function V_(e,t,n){t=t||{};var i,r={},o=e.getShallow("rotate"),s=pm(e.getShallow("distance"),n?null:5),a=e.getShallow("offset");return"outside"===(i=e.getShallow("position")||(n?null:"inside"))&&(i=t.defaultOutsidePosition||"top"),null!=i&&(r.position=i),null!=a&&(r.offset=a),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=s&&(r.distance=s),r.outsideFill="inherit"===e.get("color")?t.inheritColor||null:"auto",r}var z_=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],H_=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],W_=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function U_(e,t,n,i,r,o,s,a){n=!r&&n||F_;var l=i&&i.inheritColor,u=t.getShallow("color"),c=t.getShallow("textBorderColor"),d=pm(t.getShallow("opacity"),n.opacity);"inherit"!==u&&"auto"!==u||(u=l||null),"inherit"!==c&&"auto"!==c||(c=l||null),o||(u=u||n.color,c=c||n.textBorderColor),null!=u&&(e.fill=u),null!=c&&(e.stroke=c);var h=pm(t.getShallow("textBorderWidth"),n.textBorderWidth);null!=h&&(e.lineWidth=h);var p=pm(t.getShallow("textBorderType"),n.textBorderType);null!=p&&(e.lineDash=p);var g=pm(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=g&&(e.lineDashOffset=g),r||null!=d||a||(d=i&&i.defaultOpacity),null!=d&&(e.opacity=d),r||o||null==e.fill&&i.inheritColor&&(e.fill=i.inheritColor);for(var f=0;f<z_.length;f++){var m=z_[f];null!=(y=pm(t.getShallow(m),n[m]))&&(e[m]=y)}for(f=0;f<H_.length;f++){m=H_[f];null!=(y=t.getShallow(m))&&(e[m]=y)}if(null==e.verticalAlign){var v=t.getShallow("baseline");null!=v&&(e.verticalAlign=v)}if(!s||!i.disableBox){for(f=0;f<W_.length;f++){var y;m=W_[f];null!=(y=t.getShallow(m))&&(e[m]=y)}var w=t.getShallow("borderType");null!=w&&(e.borderDash=w),"auto"!==e.backgroundColor&&"inherit"!==e.backgroundColor||!l||(e.backgroundColor=l),"auto"!==e.borderColor&&"inherit"!==e.borderColor||!l||(e.borderColor=l)}}function j_(e,t){var n=t&&t.getModel("textStyle");return ym([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var $_=jb();function K_(e,t,n,i){if(e){var r=$_(e);r.prevValue=r.value,r.value=n;var o=t.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=t)}}function q_(e,t,n,i,r){var o=$_(e);if(o.valueAnimation&&o.prevValue!==o.value){var s=o.defaultInterpolatedText,a=pm(o.interpolatedValue,o.prevValue),l=o.value;e.percent=0,(null==o.prevValue?P_:D_)(e,{percent:1},i,t,null,(function(i){var u=eS(n,o.precision,a,l,i);o.interpolatedValue=1===i?null:u;var c=O_({labelDataIndex:t,labelFetcher:r,defaultText:s?s(u):u+""},o.statesModels,u);L_(e,c)}))}}var Y_=["textStyle","color"],X_=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Z_=new bM,Q_=function(){function e(){}return e.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(Y_):null)},e.prototype.getFont=function(){return j_({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<X_.length;n++)t[X_[n]]=this.getShallow(X_[n]);return Z_.useStyle(t),Z_.update(),Z_.getBoundingRect()},e}();const J_=Q_;var eR=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],tR=dS(eR),nR=function(){function e(){}return e.prototype.getLineStyle=function(e){return tR(this,e)},e}(),iR=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],rR=dS(iR),oR=function(){function e(){}return e.prototype.getItemStyle=function(e,t){return rR(this,e,t)},e}(),sR=function(){function e(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return e.prototype.init=function(e,t,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r]},e.prototype.mergeOption=function(e,t){zf(this.option,e,!0)},e.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},e.prototype.getShallow=function(e,t){var n=this.option,i=null==n?n:n[e];if(null==i&&!t){var r=this.parentModel;r&&(i=r.getShallow(e))}return i},e.prototype.getModel=function(t,n){var i=null!=t,r=i?this.parsePath(t):null;return new e(i?this._doGet(r):this.option,n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},e.prototype.isEmpty=function(){return null==this.option},e.prototype.restoreData=function(){},e.prototype.clone=function(){return new(0,this.constructor)(Vf(this.option))},e.prototype.parsePath=function(e){return"string"===typeof e?e.split("."):e},e.prototype.resolveParentPath=function(e){return e},e.prototype.isAnimationEnabled=function(){if(!Cf.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var i=0;i<e.length&&(!e[i]||null!=(n=n&&"object"===typeof n?n[e[i]]:null));i++);return null==n&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},e}();oS(sR),function(e){var t=["__\0is_clz",aS++].join("_");e.prototype[t]=!0,e.isInstance=function(e){return!(!e||!e[t])}}(sR),$f(sR,nR),$f(sR,oR),$f(sR,pS),$f(sR,J_);const aR=sR;var lR=Math.round(10*Math.random());function uR(e){return[e||"",lR++].join("_")}function cR(e,t){return zf(zf({},e,!0),t,!0)}var dR="ZH",hR="EN",pR=hR,gR={},fR={},mR=Cf.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage||pR).toUpperCase().indexOf(dR)>-1?dR:pR;function vR(e,t){e=e.toUpperCase(),fR[e]=new aR(t),gR[e]=t}function yR(e){return fR[e]}vR(hR,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),vR(dR,{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe",custom:"\u81ea\u5b9a\u4e49\u56fe\u8868",chart:"\u56fe\u8868"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var wR=1e3,CR=60*wR,bR=60*CR,SR=24*bR,xR=365*SR,MR={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},_R="{yyyy}-{MM}-{dd}",RR={year:"{yyyy}",month:"{yyyy}-{MM}",day:_R,hour:_R+" "+MR.hour,minute:_R+" "+MR.minute,second:_R+" "+MR.second,millisecond:MR.none},DR=["year","month","day","hour","minute","second","millisecond"],PR=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function TR(e,t){return"0000".substr(0,t-(e+="").length)+e}function AR(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function ER(e){return e===AR(e)}function IR(e,t,n,i){var r=Cb(e),o=r[LR(n)](),s=r[OR(n)]()+1,a=Math.floor((s-1)/3)+1,l=r[NR(n)](),u=r["get"+(n?"UTC":"")+"Day"](),c=r[BR(n)](),d=(c-1)%12+1,h=r[GR(n)](),p=r[VR(n)](),g=r[zR(n)](),f=c>=12?"pm":"am",m=f.toUpperCase(),v=(i instanceof aR?i:yR(i||mR)||fR[pR]).getModel("time"),y=v.get("month"),w=v.get("monthAbbr"),C=v.get("dayOfWeek"),b=v.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,f+"").replace(/{A}/g,m+"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,TR(o%100+"",2)).replace(/{Q}/g,a+"").replace(/{MMMM}/g,y[s-1]).replace(/{MMM}/g,w[s-1]).replace(/{MM}/g,TR(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,TR(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,C[u]).replace(/{ee}/g,b[u]).replace(/{e}/g,u+"").replace(/{HH}/g,TR(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,TR(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,TR(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,TR(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,TR(g,3)).replace(/{S}/g,g+"")}function kR(e,t){var n=Cb(e),i=n[OR(t)]()+1,r=n[NR(t)](),o=n[BR(t)](),s=n[GR(t)](),a=n[VR(t)](),l=0===n[zR(t)](),u=l&&0===a,c=u&&0===s,d=c&&0===o,h=d&&1===r;return h&&1===i?"year":h?"month":d?"day":c?"hour":u?"minute":l?"second":"millisecond"}function FR(e,t,n){var i=om(e)?Cb(e):e;switch(t=t||kR(e,n)){case"year":return i[LR(n)]();case"half-year":return i[OR(n)]()>=6?1:0;case"quarter":return Math.floor((i[OR(n)]()+1)/4);case"month":return i[OR(n)]();case"day":return i[NR(n)]();case"half-day":return i[BR(n)]()/24;case"hour":return i[BR(n)]();case"minute":return i[GR(n)]();case"second":return i[VR(n)]();case"millisecond":return i[zR(n)]()}}function LR(e){return e?"getUTCFullYear":"getFullYear"}function OR(e){return e?"getUTCMonth":"getMonth"}function NR(e){return e?"getUTCDate":"getDate"}function BR(e){return e?"getUTCHours":"getHours"}function GR(e){return e?"getUTCMinutes":"getMinutes"}function VR(e){return e?"getUTCSeconds":"getSeconds"}function zR(e){return e?"getUTCMilliseconds":"getMilliseconds"}function HR(e){return e?"setUTCFullYear":"setFullYear"}function WR(e){return e?"setUTCMonth":"setMonth"}function UR(e){return e?"setUTCDate":"setDate"}function jR(e){return e?"setUTCHours":"setHours"}function $R(e){return e?"setUTCMinutes":"setMinutes"}function KR(e){return e?"setUTCSeconds":"setSeconds"}function qR(e){return e?"setUTCMilliseconds":"setMilliseconds"}function YR(e){if(!Rb(e))return im(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function XR(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var ZR=mm;function QR(e,t,n){function i(e){return e&&ym(e)?e:"-"}function r(e){return!(null==e||isNaN(e)||!isFinite(e))}var o="time"===t,s=e instanceof Date;if(o||s){var a=o?Cb(e):e;if(!isNaN(+a))return IR(a,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",n);if(s)return"-"}if("ordinal"===t)return rm(e)?i(e):om(e)&&r(e)?e+"":"-";var l=_b(e);return r(l)?YR(l):rm(e)?i(e):"boolean"===typeof e?e+"":"-"}var JR=["a","b","c","d","e","f","g"],eD=function(e,t){return"{"+e+(null==t?"":t)+"}"};function tD(e,t,n){tm(t)||(t=[t]);var i=t.length;if(!i)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var s=JR[o];e=e.replace(eD(s),eD(s,0))}for(var a=0;a<i;a++)for(var l=0;l<r.length;l++){var u=t[a][r[l]];e=e.replace(eD(JR[l],a),n?hv(u):u)}return e}function nD(e,t){return t=t||"transparent",im(e)?e:sm(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function iD(e,t){if("_blank"===t||"blank"===t){var n=window.open();n.opener=null,n.location.href=e}else window.open(e,t)}var rD=qf,oD=["left","right","top","bottom","width","height"],sD=[["width","left","right"],["height","top","bottom"]];function aD(e,t,n,i,r){var o=0,s=0;null==i&&(i=1/0),null==r&&(r=1/0);var a=0;t.eachChild((function(l,u){var c,d,h=l.getBoundingRect(),p=t.childAt(u+1),g=p&&p.getBoundingRect();if("horizontal"===e){var f=h.width+(g?-g.x+h.x:0);(c=o+f)>i||l.newline?(o=0,c=f,s+=a+n,a=h.height):a=Math.max(a,h.height)}else{var m=h.height+(g?-g.y+h.y:0);(d=s+m)>r||l.newline?(o+=a+n,s=0,d=m,a=h.width):a=Math.max(a,h.width)}l.newline||(l.x=o,l.y=s,l.markRedraw(),"horizontal"===e?o=c+n:s=d+n)}))}var lD=aD;em(aD,"vertical"),em(aD,"horizontal");function uD(e,t,n){n=ZR(n||0);var i=t.width,r=t.height,o=ub(e.left,i),s=ub(e.top,r),a=ub(e.right,i),l=ub(e.bottom,r),u=ub(e.width,i),c=ub(e.height,r),d=n[2]+n[0],h=n[1]+n[3],p=e.aspect;switch(isNaN(u)&&(u=i-a-h-o),isNaN(c)&&(c=r-l-d-s),null!=p&&(isNaN(u)&&isNaN(c)&&(p>i/r?u=.8*i:c=.8*r),isNaN(u)&&(u=p*c),isNaN(c)&&(c=u/p)),isNaN(o)&&(o=i-a-u-h),isNaN(s)&&(s=r-l-c-d),e.left||e.right){case"center":o=i/2-u/2-n[3];break;case"right":o=i-u-h}switch(e.top||e.bottom){case"middle":case"center":s=r/2-c/2-n[0];break;case"bottom":s=r-c-d}o=o||0,s=s||0,isNaN(u)&&(u=i-h-o-(a||0)),isNaN(c)&&(c=r-d-s-(l||0));var g=new Uv(o+n[3],s+n[0],u,c);return g.margin=n,g}function cD(e,t,n,i,r,o){var s,a=!r||!r.hv||r.hv[0],l=!r||!r.hv||r.hv[1],u=r&&r.boundingMode||"all";if((o=o||e).x=e.x,o.y=e.y,!a&&!l)return!1;if("raw"===u)s="group"===e.type?new Uv(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(s=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();(s=s.clone()).applyTransform(c)}var d=uD(Uf({width:s.width,height:s.height},t),n,i),h=a?d.x-s.x:0,p=l?d.y-s.y:0;return"raw"===u?(o.x=h,o.y=p):(o.x+=h,o.y+=p),o===e&&e.markRedraw(),!0}function dD(e){var t=e.layoutMode||e.constructor.layoutMode;return sm(t)?t:t?{type:t}:null}function hD(e,t,n){var i=n&&n.ignoreSize;!tm(i)&&(i=[i,i]);var r=s(sD[0],0),o=s(sD[1],1);function s(n,r){var o={},s=0,u={},c=0;if(rD(n,(function(t){u[t]=e[t]})),rD(n,(function(e){a(t,e)&&(o[e]=u[e]=t[e]),l(o,e)&&s++,l(u,e)&&c++})),i[r])return l(t,n[1])?u[n[2]]=null:l(t,n[2])&&(u[n[1]]=null),u;if(2!==c&&s){if(s>=2)return o;for(var d=0;d<n.length;d++){var h=n[d];if(!a(o,h)&&a(e,h)){o[h]=e[h];break}}return o}return u}function a(e,t){return e.hasOwnProperty(t)}function l(e,t){return null!=e[t]&&"auto"!==e[t]}function u(e,t,n){rD(e,(function(e){t[e]=n[e]}))}u(sD[0],e,r),u(sD[1],e,o)}function pD(e){return gD({},e)}function gD(e,t){return t&&e&&rD(oD,(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}var fD=jb(),mD=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.uid=uR("ec_cpt_model"),r}return vf(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=dD(this),i=n?pD(e):{};zf(e,t.getTheme().get(this.mainType)),zf(e,this.getDefaultOption()),n&&hD(e,i,n)},t.prototype.mergeOption=function(e,t){zf(this.option,e,!0);var n=dD(this);n&&hD(this.option,e,n)},t.prototype.optionUpdated=function(e,t){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!function(e){return!(!e||!e[iS])}(e))return e.defaultOption;var t=fD(this);if(!t.defaultOption){for(var n=[],i=e;i;){var r=i.prototype.defaultOption;r&&n.push(r),i=i.superClass}for(var o={},s=n.length-1;s>=0;s--)o=zf(o,n[s],!0);t.defaultOption=o}return t.defaultOption},t.prototype.getReferringComponents=function(e,t){var n=e+"Index",i=e+"Id";return Zb(this.ecModel,e,{index:this.get(n,!0),id:this.get(i,!0)},t)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0}(),t}(aR);sS(mD,aR),cS(mD),function(e){var t={};e.registerSubTypeDefaulter=function(e,n){var i=rS(e);t[i.main]=n},e.determineSubType=function(n,i){var r=i.type;if(!r){var o=rS(n).main;e.hasSubTypes(n)&&t[o]&&(r=t[o](i))}return r}}(mD),function(e,t){function n(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}e.topologicalTravel=function(e,i,r,o){if(e.length){var s=function(e){var i={},r=[];return qf(e,(function(o){var s=n(i,o),a=function(e,t){var n=[];return qf(e,(function(e){jf(t,e)>=0&&n.push(e)})),n}(s.originalDeps=t(o),e);s.entryCount=a.length,0===s.entryCount&&r.push(o),qf(a,(function(e){jf(s.predecessor,e)<0&&s.predecessor.push(e);var t=n(i,e);jf(t.successor,e)<0&&t.successor.push(o)}))})),{graph:i,noEntryList:r}}(i),a=s.graph,l=s.noEntryList,u={};for(qf(e,(function(e){u[e]=!0}));l.length;){var c=l.pop(),d=a[c],h=!!u[c];h&&(r.call(o,c,d.originalDeps.slice()),delete u[c]),qf(d.successor,h?g:p)}qf(u,(function(){throw new Error("")}))}function p(e){a[e].entryCount--,0===a[e].entryCount&&l.push(e)}function g(e){u[e]=!0,p(e)}}}(mD,(function(e){var t=[];qf(mD.getClassesByMainType(e),(function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])})),t=Yf(t,(function(e){return rS(e).main})),"dataset"!==e&&jf(t,"dataset")<=0&&t.unshift("dataset");return t}));const vD=mD;var yD="";"undefined"!==typeof navigator&&(yD=navigator.platform||"");var wD="rgba(0, 0, 0, 0.2)";const CD={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:wD,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:wD,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:wD,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:wD,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:wD,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:wD,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:yD.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var bD=_m(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),SD="original",xD="arrayRows",MD="objectRows",_D="keyedColumns",RD="typedArray",DD="unknown",PD="column",TD="row",AD={Must:1,Might:2,Not:3},ED=jb();function ID(e,t,n){var i={},r=FD(t);if(!r||!e)return i;var o,s,a=[],l=[],u=t.ecModel,c=ED(u).datasetMap,d=r.uid+"_"+n.seriesLayoutBy;qf(e=e.slice(),(function(t,n){var r=sm(t)?t:e[n]={name:t};"ordinal"===r.type&&null==o&&(o=n,s=g(r)),i[r.name]=[]}));var h=c.get(d)||c.set(d,{categoryWayDim:s,valueWayDim:0});function p(e,t,n){for(var i=0;i<n;i++)e.push(t+i)}function g(e){var t=e.dimsDef;return t?t.length:1}return qf(e,(function(e,t){var n=e.name,r=g(e);if(null==o){var s=h.valueWayDim;p(i[n],s,r),p(l,s,r),h.valueWayDim+=r}else if(o===t)p(i[n],0,r),p(a,0,r);else{s=h.categoryWayDim;p(i[n],s,r),p(l,s,r),h.categoryWayDim+=r}})),a.length&&(i.itemName=a),l.length&&(i.seriesName=l),i}function kD(e,t,n){var i={};if(!FD(e))return i;var r,o=t.sourceFormat,s=t.dimensionsDefine;o!==MD&&o!==_D||qf(s,(function(e,t){"name"===(sm(e)?e.name:e)&&(r=t)}));var a=function(){for(var e={},i={},a=[],l=0,u=Math.min(5,n);l<u;l++){var c=OD(t.data,o,t.seriesLayoutBy,s,t.startIndex,l);a.push(c);var d=c===AD.Not;if(d&&null==e.v&&l!==r&&(e.v=l),(null==e.n||e.n===e.v||!d&&a[e.n]===AD.Not)&&(e.n=l),h(e)&&a[e.n]!==AD.Not)return e;d||(c===AD.Might&&null==i.v&&l!==r&&(i.v=l),null!=i.n&&i.n!==i.v||(i.n=l))}function h(e){return null!=e.v&&null!=e.n}return h(e)?e:h(i)?i:null}();if(a){i.value=[a.v];var l=null!=r?r:a.n;i.itemName=[l],i.seriesName=[l]}return i}function FD(e){if(!e.get("data",!0))return Zb(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},Yb).models[0]}function LD(e,t){return OD(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function OD(e,t,n,i,r,o){var s,a,l;if(lm(e))return AD.Not;if(i){var u=i[o];sm(u)?(a=u.name,l=u.type):im(u)&&(a=u)}if(null!=l)return"ordinal"===l?AD.Must:AD.Not;if(t===xD){var c=e;if(n===TD){for(var d=c[o],h=0;h<(d||[]).length&&h<5;h++)if(null!=(s=w(d[r+h])))return s}else for(h=0;h<c.length&&h<5;h++){var p=c[r+h];if(p&&null!=(s=w(p[o])))return s}}else if(t===MD){var g=e;if(!a)return AD.Not;for(h=0;h<g.length&&h<5;h++){if((v=g[h])&&null!=(s=w(v[a])))return s}}else if(t===_D){var f=e;if(!a)return AD.Not;if(!(d=f[a])||lm(d))return AD.Not;for(h=0;h<d.length&&h<5;h++)if(null!=(s=w(d[h])))return s}else if(t===SD){var m=e;for(h=0;h<m.length&&h<5;h++){var v,y=Ob(v=m[h]);if(!tm(y))return AD.Not;if(null!=(s=w(y[o])))return s}}function w(e){var t=im(e);return null!=e&&Number.isFinite(Number(e))&&""!==e?t?AD.Might:AD.Not:t&&"-"!==e?AD.Must:void 0}return AD.Not}var ND=_m();var BD,GD,VD,zD=jb(),HD=jb(),WD=function(){function e(){}return e.prototype.getColorFromPalette=function(e,t,n){var i=kb(this.get("color",!0)),r=this.get("colorLayer",!0);return jD(this,zD,i,r,e,t,n)},e.prototype.clearColorPalette=function(){!function(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}(this,zD)},e}();function UD(e,t,n,i){var r=kb(e.get(["aria","decal","decals"]));return jD(e,HD,r,null,t,n,i)}function jD(e,t,n,i,r,o,s){var a=t(o=o||e),l=a.paletteIdx||0,u=a.paletteNameMap=a.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var c=null!=s&&i?function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i].length>t)return e[i];return e[n-1]}(i,s):n;if((c=c||n)&&c.length){var d=c[l];return r&&(u[r]=d),a.paletteIdx=(l+1)%c.length,d}}var $D="\0_ec_inner";var KD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.init=function(e,t,n,i,r,o){i=i||{},this.option=null,this._theme=new aR(i),this._locale=new aR(r),this._optionManager=o},t.prototype.setOption=function(e,t,n){var i=XD(t);this._optionManager.setOption(e,n,i),this._resetOption(null,i)},t.prototype.resetOption=function(e,t){return this._resetOption(e,XD(t))},t.prototype._resetOption=function(e,t){var n=!1,i=this._optionManager;if(!e||"recreate"===e){var r=i.mountOption("recreate"===e);0,this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(r,t)):VD(this,r),n=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var o=i.getTimelineOption(this);o&&(n=!0,this._mergeOption(o,t))}if(!e||"recreate"===e||"media"===e){var s=i.getMediaOption(this);s.length&&qf(s,(function(e){n=!0,this._mergeOption(e,t)}),this)}return n},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,t){var n=this.option,i=this._componentsMap,r=this._componentsCount,o=[],s=_m(),a=t&&t.replaceMergeMainTypeMap;ED(this).datasetMap=_m(),qf(e,(function(e,t){null!=e&&(vD.hasClass(t)?t&&(o.push(t),s.set(t,!0)):n[t]=null==n[t]?Vf(e):zf(n[t],e,!0))})),a&&a.each((function(e,t){vD.hasClass(t)&&!s.get(t)&&(o.push(t),s.set(t,!0))})),vD.topologicalTravel(o,vD.getAllClassMainTypes(),(function(t){var o=function(e,t,n){var i=ND.get(t);if(!i)return n;var r=i(e);return r?n.concat(r):n}(this,t,kb(e[t])),s=i.get(t),l=s?a&&a.get(t)?"replaceMerge":"normalMerge":"replaceAll",u=Bb(s,o,l);(function(e,t,n){qf(e,(function(e){var i=e.newOption;sm(i)&&(e.keyInfo.mainType=t,e.keyInfo.subType=function(e,t,n,i){return t.type?t.type:n?n.subType:i.determineSubType(e,t)}(t,i,e.existing,n))}))})(u,t,vD),n[t]=null,i.set(t,null),r.set(t,0);var c,d=[],h=[],p=0;qf(u,(function(e,n){var i=e.existing,r=e.newOption;if(r){var o="series"===t,s=vD.getClass(t,e.keyInfo.subType,!o);if(!s)return;if("tooltip"===t){if(c)return void 0;c=!0}if(i&&i.constructor===s)i.name=e.keyInfo.name,i.mergeOption(r,this),i.optionUpdated(r,!1);else{var a=Wf({componentIndex:n},e.keyInfo);Wf(i=new s(r,this,this,a),a),e.brandNew&&(i.__requireNewView=!0),i.init(r,this,this),i.optionUpdated(null,!0)}}else i&&(i.mergeOption({},this),i.optionUpdated({},!1));i?(d.push(i.option),h.push(i),p++):(d.push(void 0),h.push(void 0))}),this),n[t]=d,i.set(t,h),r.set(t,p),"series"===t&&BD(this)}),this),this._seriesIndices||BD(this)},t.prototype.getOption=function(){var e=Vf(this.option);return qf(e,(function(t,n){if(vD.hasClass(n)){for(var i=kb(t),r=i.length,o=!1,s=r-1;s>=0;s--)i[s]&&!Wb(i[s])?o=!0:(i[s]=null,!o&&r--);i.length=r,e[n]=i}})),delete e[$D],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,t){var n=this._componentsMap.get(e);if(n){var i=n[t||0];if(i)return i;if(null==t)for(var r=0;r<n.length;r++)if(n[r])return n[r]}},t.prototype.queryComponents=function(e){var t=e.mainType;if(!t)return[];var n,i=e.index,r=e.id,o=e.name,s=this._componentsMap.get(t);return s&&s.length?(null!=i?(n=[],qf(kb(i),(function(e){s[e]&&n.push(s[e])}))):n=null!=r?qD("id",r,s):null!=o?qD("name",o,s):Zf(s,(function(e){return!!e})),YD(n,e)):[]},t.prototype.findComponents=function(e){var t=e.query,n=e.mainType,i=function(e){var t=n+"Index",i=n+"Id",r=n+"Name";return!e||null==e[t]&&null==e[i]&&null==e[r]?null:{mainType:n,index:e[t],id:e[i],name:e[r]}}(t);return function(t){return e.filter?Zf(t,e.filter):t}(YD(i?this.queryComponents(i):Zf(this._componentsMap.get(n),(function(e){return!!e})),e))},t.prototype.eachComponent=function(e,t,n){var i=this._componentsMap;if(nm(e)){var r=t,o=e;i.each((function(e,t){for(var n=0;e&&n<e.length;n++){var i=e[n];i&&o.call(r,t,i,i.componentIndex)}}))}else for(var s=im(e)?i.get(e):sm(e)?this.findComponents(e):null,a=0;s&&a<s.length;a++){var l=s[a];l&&t.call(n,l,l.componentIndex)}},t.prototype.getSeriesByName=function(e){var t=zb(e,null);return Zf(this._componentsMap.get("series"),(function(e){return!!e&&null!=t&&e.name===t}))},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Zf(this._componentsMap.get("series"),(function(t){return!!t&&t.subType===e}))},t.prototype.getSeries=function(){return Zf(this._componentsMap.get("series"),(function(e){return!!e}))},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,t){GD(this),qf(this._seriesIndices,(function(n){var i=this._componentsMap.get("series")[n];e.call(t,i,n)}),this)},t.prototype.eachRawSeries=function(e,t){qf(this._componentsMap.get("series"),(function(n){n&&e.call(t,n,n.componentIndex)}))},t.prototype.eachSeriesByType=function(e,t,n){GD(this),qf(this._seriesIndices,(function(i){var r=this._componentsMap.get("series")[i];r.subType===e&&t.call(n,r,i)}),this)},t.prototype.eachRawSeriesByType=function(e,t,n){return qf(this.getSeriesByType(e),t,n)},t.prototype.isSeriesFiltered=function(e){return GD(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,t){GD(this);var n=[];qf(this._seriesIndices,(function(i){var r=this._componentsMap.get("series")[i];e.call(t,r,i)&&n.push(i)}),this),this._seriesIndices=n,this._seriesIndicesMap=_m(n)},t.prototype.restoreData=function(e){BD(this);var t=this._componentsMap,n=[];t.each((function(e,t){vD.hasClass(t)&&n.push(t)})),vD.topologicalTravel(n,vD.getAllClassMainTypes(),(function(n){qf(t.get(n),(function(t){!t||"series"===n&&function(e,t){if(t){var n=t.seriesIndex,i=t.seriesId,r=t.seriesName;return null!=n&&e.componentIndex!==n||null!=i&&e.id!==i||null!=r&&e.name!==r}}(t,e)||t.restoreData()}))}))},t.internalField=(BD=function(e){var t=e._seriesIndices=[];qf(e._componentsMap.get("series"),(function(e){e&&t.push(e.componentIndex)})),e._seriesIndicesMap=_m(t)},GD=function(e){},void(VD=function(e,t){e.option={},e.option[$D]=1,e._componentsMap=_m({series:[]}),e._componentsCount=_m();var n=t.aria;sm(n)&&null==n.enabled&&(n.enabled=!0),function(e,t){var n=e.color&&!e.colorLayer;qf(t,(function(t,i){"colorLayer"===i&&n||vD.hasClass(i)||("object"===typeof t?e[i]=e[i]?zf(e[i],t,!1):Vf(t):null==e[i]&&(e[i]=t))}))}(t,e._theme.option),zf(t,CD,!1),e._mergeOption(t,null)})),t}(aR);function qD(e,t,n){if(tm(t)){var i=_m();return qf(t,(function(e){null!=e&&(null!=zb(e,null)&&i.set(e,!0))})),Zf(n,(function(t){return t&&i.get(t[e])}))}var r=zb(t,null);return Zf(n,(function(t){return t&&null!=r&&t[e]===r}))}function YD(e,t){return t.hasOwnProperty("subType")?Zf(e,(function(e){return e&&e.subType===t.subType})):e}function XD(e){var t=_m();return e&&qf(kb(e.replaceMerge),(function(e){t.set(e,!0)})),{replaceMergeMainTypeMap:t}}$f(KD,WD);const ZD=KD;var QD=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const JD=function(e){qf(QD,(function(t){this[t]=Jf(e[t],e)}),this)};var eP={},tP=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(e,t){var n=[];qf(eP,(function(i,r){var o=i.create(e,t);n=n.concat(o||[])})),this._coordinateSystems=n},e.prototype.update=function(e,t){qf(this._coordinateSystems,(function(n){n.update&&n.update(e,t)}))},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(e,t){eP[e]=t},e.get=function(e){return eP[e]},e}();const nP=tP;var iP=/^(min|max)?(.+)$/,rP=function(){function e(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return e.prototype.setOption=function(e,t,n){e&&(qf(kb(e.series),(function(e){e&&e.data&&lm(e.data)&&Cm(e.data)})),qf(kb(e.dataset),(function(e){e&&e.source&&lm(e.source)&&Cm(e.source)}))),e=Vf(e);var i=this._optionBackup,r=function(e,t,n){var i,r,o=[],s=e.baseOption,a=e.timeline,l=e.options,u=e.media,c=!!e.media,d=!!(l||a||s&&s.timeline);s?(r=s).timeline||(r.timeline=a):((d||c)&&(e.options=e.media=null),r=e);c&&tm(u)&&qf(u,(function(e){e&&e.option&&(e.query?o.push(e):i||(i=e))}));function h(e){qf(t,(function(t){t(e,n)}))}return h(r),qf(l,(function(e){return h(e)})),qf(o,(function(e){return h(e.option)})),{baseOption:r,timelineOptions:l||[],mediaDefault:i,mediaList:o}}(e,t,!i);this._newBaseOption=r.baseOption,i?(r.timelineOptions.length&&(i.timelineOptions=r.timelineOptions),r.mediaList.length&&(i.mediaList=r.mediaList),r.mediaDefault&&(i.mediaDefault=r.mediaDefault)):this._optionBackup=r},e.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Vf(e?t.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(t=Vf(n[i.getCurrentIndex()]))}return t},e.prototype.getMediaOption=function(e){var t,n,i=this._api.getWidth(),r=this._api.getHeight(),o=this._mediaList,s=this._mediaDefault,a=[],l=[];if(!o.length&&!s)return l;for(var u=0,c=o.length;u<c;u++)oP(o[u].query,i,r)&&a.push(u);return!a.length&&s&&(a=[-1]),a.length&&(t=a,n=this._currentMediaIndices,t.join(",")!==n.join(","))&&(l=Yf(a,(function(e){return Vf(-1===e?s.option:o[e].option)}))),this._currentMediaIndices=a,l},e}();function oP(e,t,n){var i={width:t,height:n,aspectratio:t/n},r=!0;return qf(e,(function(e,t){var n=t.match(iP);if(n&&n[1]&&n[2]){var o=n[1],s=n[2].toLowerCase();(function(e,t,n){return"min"===n?e>=t:"max"===n?e<=t:e===t})(i[s],e,o)||(r=!1)}})),r}const sP=rP;var aP=qf,lP=sm,uP=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function cP(e){var t=e&&e.itemStyle;if(t)for(var n=0,i=uP.length;n<i;n++){var r=uP[n],o=t.normal,s=t.emphasis;o&&o[r]&&(e[r]=e[r]||{},e[r].normal?zf(e[r].normal,o[r]):e[r].normal=o[r],o[r]=null),s&&s[r]&&(e[r]=e[r]||{},e[r].emphasis?zf(e[r].emphasis,s[r]):e[r].emphasis=s[r],s[r]=null)}}function dP(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var i=e[t].normal,r=e[t].emphasis;i&&(n?(e[t].normal=e[t].emphasis=null,Uf(e[t],i)):e[t]=i),r&&(e.emphasis=e.emphasis||{},e.emphasis[t]=r,r.focus&&(e.emphasis.focus=r.focus),r.blurScope&&(e.emphasis.blurScope=r.blurScope))}}function hP(e){dP(e,"itemStyle"),dP(e,"lineStyle"),dP(e,"areaStyle"),dP(e,"label"),dP(e,"labelLine"),dP(e,"upperLabel"),dP(e,"edgeLabel")}function pP(e,t){var n=lP(e)&&e[t],i=lP(n)&&n.textStyle;if(i){0;for(var r=0,o=Lb.length;r<o;r++){var s=Lb[r];i.hasOwnProperty(s)&&(n[s]=i[s])}}}function gP(e){e&&(hP(e),pP(e,"label"),e.emphasis&&pP(e.emphasis,"label"))}function fP(e){return tm(e)?e:e?[e]:[]}function mP(e){return(tm(e)?e[0]:e)||{}}function vP(e,t){aP(fP(e.series),(function(e){lP(e)&&function(e){if(lP(e)){cP(e),hP(e),pP(e,"label"),pP(e,"upperLabel"),pP(e,"edgeLabel"),e.emphasis&&(pP(e.emphasis,"label"),pP(e.emphasis,"upperLabel"),pP(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(cP(t),gP(t));var n=e.markLine;n&&(cP(n),gP(n));var i=e.markArea;i&&gP(i);var r=e.data;if("graph"===e.type){r=r||e.nodes;var o=e.links||e.edges;if(o&&!lm(o))for(var s=0;s<o.length;s++)gP(o[s]);qf(e.categories,(function(e){hP(e)}))}if(r&&!lm(r))for(s=0;s<r.length;s++)gP(r[s]);if((t=e.markPoint)&&t.data){var a=t.data;for(s=0;s<a.length;s++)gP(a[s])}if((n=e.markLine)&&n.data){var l=n.data;for(s=0;s<l.length;s++)tm(l[s])?(gP(l[s][0]),gP(l[s][1])):gP(l[s])}"gauge"===e.type?(pP(e,"axisLabel"),pP(e,"title"),pP(e,"detail")):"treemap"===e.type?(dP(e.breadcrumb,"itemStyle"),qf(e.levels,(function(e){hP(e)}))):"tree"===e.type&&hP(e.leaves)}}(e)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),aP(n,(function(t){aP(fP(e[t]),(function(e){e&&(pP(e,"axisLabel"),pP(e.axisPointer,"label"))}))})),aP(fP(e.parallel),(function(e){var t=e&&e.parallelAxisDefault;pP(t,"axisLabel"),pP(t&&t.axisPointer,"label")})),aP(fP(e.calendar),(function(e){dP(e,"itemStyle"),pP(e,"dayLabel"),pP(e,"monthLabel"),pP(e,"yearLabel")})),aP(fP(e.radar),(function(e){pP(e,"name"),e.name&&null==e.axisName&&(e.axisName=e.name,delete e.name),null!=e.nameGap&&null==e.axisNameGap&&(e.axisNameGap=e.nameGap,delete e.nameGap)})),aP(fP(e.geo),(function(e){lP(e)&&(gP(e),aP(fP(e.regions),(function(e){gP(e)})))})),aP(fP(e.timeline),(function(e){gP(e),dP(e,"label"),dP(e,"itemStyle"),dP(e,"controlStyle",!0);var t=e.data;tm(t)&&qf(t,(function(e){sm(e)&&(dP(e,"label"),dP(e,"itemStyle"))}))})),aP(fP(e.toolbox),(function(e){dP(e,"iconStyle"),aP(e.feature,(function(e){dP(e,"iconStyle")}))})),pP(mP(e.axisPointer),"label"),pP(mP(e.tooltip).axisPointer,"label")}function yP(e){e&&qf(wP,(function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])}))}var wP=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],CP=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],bP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function SP(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<bP.length;n++){var i=bP[n][1],r=bP[n][0];null!=t[i]&&(t[r]=t[i])}}function xP(e){e&&"edge"===e.alignTo&&null!=e.margin&&null==e.edgeDistance&&(e.edgeDistance=e.margin)}function MP(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function _P(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&_P(e[n].children,t)}function RP(e,t){vP(e,t),e.series=kb(e.series),qf(e.series,(function(e){if(sm(e)){var t=e.type;if("line"===t)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===t||"gauge"===t){if(null!=e.clockWise&&(e.clockwise=e.clockWise),xP(e.label),(r=e.data)&&!lm(r))for(var n=0;n<r.length;n++)xP(r[n]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===t){var i=function(e,t){for(var n=t.split(","),i=e,r=0;r<n.length&&null!=(i=i&&i[n[r]]);r++);return i}(e,"pointer.color");null!=i&&function(e,t,n,i){for(var r,o=t.split(","),s=e,a=0;a<o.length-1;a++)null==s[r=o[a]]&&(s[r]={}),s=s[r];(i||null==s[o[a]])&&(s[o[a]]=n)}(e,"itemStyle.color",i)}else if("bar"===t){var r;if(SP(e),SP(e.backgroundStyle),SP(e.emphasis),(r=e.data)&&!lm(r))for(n=0;n<r.length;n++)"object"===typeof r[n]&&(SP(r[n]),SP(r[n]&&r[n].emphasis))}else if("sunburst"===t){var o=e.highlightPolicy;o&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=o)),MP(e),_P(e.data,MP)}else"graph"===t||"sankey"===t?function(e){e&&null!=e.focusNodeAdjacency&&(e.emphasis=e.emphasis||{},null==e.emphasis.focus&&(e.emphasis.focus="adjacency"))}(e):"map"===t&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Uf(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),yP(e)}})),e.dataRange&&(e.visualMap=e.dataRange),qf(CP,(function(t){var n=e[t];n&&(tm(n)||(n=[n]),qf(n,(function(e){yP(e)})))}))}function DP(e){qf(e,(function(t,n){var i=[],r=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],s=t.data,a=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";s.modify(o,(function(o,u,c){var d,h,p=s.get(t.stackedDimension,c);if(isNaN(p))return r;a?h=s.getRawIndex(c):d=s.get(t.stackedByDimension,c);for(var g=NaN,f=n-1;f>=0;f--){var m=e[f];if(a||(h=m.data.rawIndexOf(m.stackedByDimension,d)),h>=0){var v=m.data.getByRawIndex(m.stackResultDimension,h);if("all"===l||"positive"===l&&v>0||"negative"===l&&v<0||"samesign"===l&&p>=0&&v>0||"samesign"===l&&p<=0&&v<0){p=fb(p,v),g=v;break}}}return i[0]=p,i[1]=g,i}))}))}var PP,TP,AP,EP,IP,kP=function(e){this.data=e.data||(e.sourceFormat===_D?{}:[]),this.sourceFormat=e.sourceFormat||DD,this.seriesLayoutBy=e.seriesLayoutBy||PD,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var n=0;n<t.length;n++){var i=t[n];null==i.type&&LD(this,n)===AD.Must&&(i.type="ordinal")}};function FP(e){return e instanceof kP}function LP(e,t,n){n=n||NP(e);var i=t.seriesLayoutBy,r=function(e,t,n,i,r){var o,s;if(!e)return{dimensionsDefine:BP(r),startIndex:s,dimensionsDetectedCount:o};if(t===xD){var a=e;"auto"===i||null==i?GP((function(e){null!=e&&"-"!==e&&(im(e)?null==s&&(s=1):s=0)}),n,a,10):s=om(i)?i:i?1:0,r||1!==s||(r=[],GP((function(e,t){r[t]=null!=e?e+"":""}),n,a,1/0)),o=r?r.length:n===TD?a.length:a[0]?a[0].length:null}else if(t===MD)r||(r=function(e){var t,n=0;for(;n<e.length&&!(t=e[n++]););if(t)return Qf(t)}(e));else if(t===_D)r||(r=[],qf(e,(function(e,t){r.push(t)})));else if(t===SD){var l=Ob(e[0]);o=tm(l)&&l.length||1}return{startIndex:s,dimensionsDefine:BP(r),dimensionsDetectedCount:o}}(e,n,i,t.sourceHeader,t.dimensions);return new kP({data:e,sourceFormat:n,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Vf(t)})}function OP(e){return new kP({data:e,sourceFormat:lm(e)?RD:SD})}function NP(e){var t=DD;if(lm(e))t=RD;else if(tm(e)){0===e.length&&(t=xD);for(var n=0,i=e.length;n<i;n++){var r=e[n];if(null!=r){if(tm(r)||lm(r)){t=xD;break}if(sm(r)){t=MD;break}}}}else if(sm(e))for(var o in e)if(Tm(e,o)&&Kf(e[o])){t=_D;break}return t}function BP(e){if(e){var t=_m();return Yf(e,(function(e,n){var i={name:(e=sm(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==i.name)return i;i.name+="",null==i.displayName&&(i.displayName=i.name);var r=t.get(i.name);return r?i.name+="-"+r.count++:t.set(i.name,{count:1}),i}))}}function GP(e,t,n,i){if(t===TD)for(var r=0;r<n.length&&r<i;r++)e(n[r]?n[r][0]:null,r);else{var o=n[0]||[];for(r=0;r<o.length&&r<i;r++)e(o[r],r)}}function VP(e){var t=e.sourceFormat;return t===MD||t===_D}var zP=function(){function e(e,t){var n=FP(e)?e:OP(e);this._source=n;var i=this._data=n.data;n.sourceFormat===RD&&(this._offset=0,this._dimSize=t,this._data=i),IP(this,i,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(e,t){},e.prototype.appendData=function(e){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var e;IP=function(e,r,o){var s=o.sourceFormat,a=o.seriesLayoutBy,l=o.startIndex,u=o.dimensionsDefine;if(Wf(e,EP[ZP(s,a)]),s===RD)e.getItem=t,e.count=i,e.fillStorage=n;else{var c=UP(s,a);e.getItem=Jf(c,null,r,l,u);var d=KP(s,a);e.count=Jf(d,null,r,l,u)}};var t=function(e,t){e-=this._offset,t=t||[];for(var n=this._data,i=this._dimSize,r=i*e,o=0;o<i;o++)t[o]=n[r+o];return t},n=function(e,t,n,i){for(var r=this._data,o=this._dimSize,s=0;s<o;s++){for(var a=i[s],l=null==a[0]?1/0:a[0],u=null==a[1]?-1/0:a[1],c=t-e,d=n[s],h=0;h<c;h++){var p=r[h*o+s];d[e+h]=p,p<l&&(l=p),p>u&&(u=p)}a[0]=l,a[1]=u}},i=function(){return this._data?this._data.length/this._dimSize:0};function r(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}(e={})[xD+"_"+PD]={pure:!0,appendData:r},e[xD+"_"+TD]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[MD]={pure:!0,appendData:r},e[_D]={pure:!0,appendData:function(e){var t=this._data;qf(e,(function(e,n){for(var i=t[n]||(t[n]=[]),r=0;r<(e||[]).length;r++)i.push(e[r])}))}},e[SD]={appendData:r},e[RD]={persistent:!1,pure:!0,appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}},EP=e}(),e}(),HP=function(e,t,n,i){return e[i]},WP=((PP={})[xD+"_"+PD]=function(e,t,n,i){return e[i+t]},PP[xD+"_"+TD]=function(e,t,n,i,r){i+=t;for(var o=r||[],s=e,a=0;a<s.length;a++){var l=s[a];o[a]=l?l[i]:null}return o},PP[MD]=HP,PP[_D]=function(e,t,n,i,r){for(var o=r||[],s=0;s<n.length;s++){0;var a=e[n[s].name];o[s]=a?a[i]:null}return o},PP[SD]=HP,PP);function UP(e,t){return WP[ZP(e,t)]}var jP=function(e,t,n){return e.length},$P=((TP={})[xD+"_"+PD]=function(e,t,n){return Math.max(0,e.length-t)},TP[xD+"_"+TD]=function(e,t,n){var i=e[0];return i?Math.max(0,i.length-t):0},TP[MD]=jP,TP[_D]=function(e,t,n){var i=e[n[0].name];return i?i.length:0},TP[SD]=jP,TP);function KP(e,t){return $P[ZP(e,t)]}var qP=function(e,t,n){return e[t]},YP=((AP={})[xD]=qP,AP[MD]=function(e,t,n){return e[n]},AP[_D]=qP,AP[SD]=function(e,t,n){var i=Ob(e);return i instanceof Array?i[t]:i},AP[RD]=qP,AP);function XP(e){return YP[e]}function ZP(e,t){return e===xD?e+"_"+t:e}function QP(e,t,n){if(e){var i=e.getRawDataItem(t);if(null!=i){var r=e.getStore(),o=r.getSource().sourceFormat;if(null!=n){var s=e.getDimensionIndex(n),a=r.getDimensionProperty(s);return XP(o)(i,s,a)}var l=i;return o===SD&&(l=Ob(i)),l}}}var JP=/\{@(.+?)\}/g,eT=function(){function e(){}return e.prototype.getDataParams=function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),r=n.getRawIndex(e),o=n.getName(e),s=n.getRawDataItem(e),a=n.getItemVisual(e,"style"),l=a&&a[n.getItemVisual(e,"drawType")||"fill"],u=a&&a.stroke,c=this.mainType,d="series"===c,h=n.userOutput&&n.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:o,dataIndex:r,data:s,dataType:t,value:i,color:l,borderColor:u,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(e,t,n,i,r,o){t=t||"normal";var s=this.getData(n),a=this.getDataParams(e,n);(o&&(a.value=o.interpolatedValue),null!=i&&tm(a.value)&&(a.value=a.value[i]),r)||(r=s.getItemModel(e).get("normal"===t?["label","formatter"]:[t,"label","formatter"]));return nm(r)?(a.status=t,a.dimensionIndex=i,r(a)):im(r)?tD(r,a).replace(JP,(function(t,n){var i=n.length,r=n;"["===r.charAt(0)&&"]"===r.charAt(i-1)&&(r=+r.slice(1,i-1));var a=QP(s,e,r);if(o&&tm(o.interpolatedValue)){var l=s.getDimensionIndex(r);l>=0&&(a=o.interpolatedValue[l])}return null!=a?a+"":""})):void 0},e.prototype.getRawValue=function(e,t){return QP(this.getData(t),e)},e.prototype.formatTooltip=function(e,t,n){},e}();function tT(e){var t,n;return sm(e)?e.type&&(n=e):t=e,{text:t,frag:n}}function nT(e){return new iT(e)}var iT=function(){function e(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return e.prototype.perform=function(e){var t,n=this._upstream,i=e&&e.skip;if(this._dirty&&n){var r=this.context;r.data=r.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(t=this._plan(this.context));var o,s=c(this._modBy),a=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;function c(e){return!(e>=1)&&(e=1),e}s===l&&a===u||(t="reset"),(this._dirty||"reset"===t)&&(this._dirty=!1,o=this._doReset(i)),this._modBy=l,this._modDataCount=u;var d=e&&e.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,p=Math.min(null!=d?this._dueIndex+d:1/0,this._dueEnd);if(!i&&(o||h<p)){var g=this._progress;if(tm(g))for(var f=0;f<g.length;f++)this._doProgress(g[f],h,p,l,u);else this._doProgress(g,h,p,l,u)}this._dueIndex=p;var m=null!=this._settedOutputEnd?this._settedOutputEnd:p;0,this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(e,t,n,i,r){rT.reset(t,n,i,r),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:rT.next},this.context)},e.prototype._doReset=function(e){var t,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(n=t.forceFirstProgress,t=t.progress),tm(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},e}(),rT=function(){var e,t,n,i,r,o={reset:function(l,u,c,d){t=l,e=u,n=c,i=d,r=Math.ceil(i/n),o.next=n>1&&i>0?a:s}};return o;function s(){return t<e?t++:null}function a(){var o=t%r*n+Math.ceil(t/r),s=t>=e?null:o<i?o:t;return t++,s}}();"undefined"!==typeof console&&console.warn&&console.log;function oT(e){0}function sT(e){throw new Error(e)}function aT(e,t){var n=t&&t.type;return"ordinal"===n?e:("time"!==n||om(e)||null==e||"-"===e||(e=+Cb(e)),null==e||""===e?NaN:Number(e))}var lT=_m({number:function(e){return parseFloat(e)},time:function(e){return+Cb(e)},trim:function(e){return im(e)?ym(e):e}});function uT(e){return lT.get(e)}var cT={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},dT=function(){function e(e,t){if(!om(t)){0,sT("")}this._opFn=cT[e],this._rvalFloat=_b(t)}return e.prototype.evaluate=function(e){return om(e)?this._opFn(e,this._rvalFloat):this._opFn(_b(e),this._rvalFloat)},e}(),hT=function(){function e(e,t){var n="desc"===e;this._resultLT=n?1:-1,null==t&&(t=n?"min":"max"),this._incomparable="min"===t?-1/0:1/0}return e.prototype.evaluate=function(e,t){var n=om(e)?e:_b(e),i=om(t)?t:_b(t),r=isNaN(n),o=isNaN(i);if(r&&(n=this._incomparable),o&&(i=this._incomparable),r&&o){var s=im(e),a=im(t);s&&(n=a?e:0),a&&(i=s?t:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},e}(),pT=function(){function e(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=_b(t)}return e.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=typeof e;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(t=_b(e)===this._rvalFloat)}return this._isEQ?t:!t},e}();function gT(e,t){return"eq"===e||"ne"===e?new pT("eq"===e,t):Tm(cT,e)?new dT(e,t):null}var fT=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(e){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(e){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(e,t){},e.prototype.retrieveValueFromItem=function(e,t){},e.prototype.convertValue=function(e,t){return aT(e,t)},e}();function mT(e){if(!ST(e.sourceFormat)){0,sT("")}return e.data}function vT(e){var t=e.sourceFormat,n=e.data;if(!ST(t)){0,sT("")}if(t===xD){for(var i=[],r=0,o=n.length;r<o;r++)i.push(n[r].slice());return i}if(t===MD){for(i=[],r=0,o=n.length;r<o;r++)i.push(Wf({},n[r]));return i}}function yT(e,t,n){if(null!=n)return om(n)||!isNaN(n)&&!Tm(t,n)?e[n]:Tm(t,n)?t[n]:void 0}function wT(e){return Vf(e)}var CT=_m();function bT(e,t,n,i){t.length||sT(""),sm(e)||sT("");var r=e.type,o=CT.get(r);o||sT("");var s=Yf(t,(function(e){return function(e,t){var n=new fT,i=e.data,r=n.sourceFormat=e.sourceFormat,o=e.startIndex;e.seriesLayoutBy!==PD&&sT("");var s=[],a={},l=e.dimensionsDefine;if(l)qf(l,(function(e,t){var n=e.name,i={index:t,name:n,displayName:e.displayName};s.push(i),null!=n&&(Tm(a,n)&&sT(""),a[n]=i)}));else for(var u=0;u<e.dimensionsDetectedCount;u++)s.push({index:u});var c=UP(r,PD);t.__isBuiltIn&&(n.getRawDataItem=function(e){return c(i,o,s,e)},n.getRawData=Jf(mT,null,e)),n.cloneRawData=Jf(vT,null,e);var d=KP(r,PD);n.count=Jf(d,null,i,o,s);var h=XP(r);n.retrieveValue=function(e,t){var n=c(i,o,s,e);return p(n,t)};var p=n.retrieveValueFromItem=function(e,t){if(null!=e){var n=s[t];return n?h(e,t,n.name):void 0}};return n.getDimensionInfo=Jf(yT,null,s,a),n.cloneAllDimensionInfo=Jf(wT,null,s),n}(e,o)}));return Yf(kb(o.transform({upstream:s[0],upstreamList:s,config:Vf(e.config)})),(function(e,n){var i;sm(e)||sT(""),e.data||sT(""),ST(NP(e.data))||sT("");var r=t[0];if(r&&0===n&&!e.dimensions){var o=r.startIndex;o&&(e.data=r.data.slice(0,o).concat(e.data)),i={seriesLayoutBy:PD,sourceHeader:o,dimensions:r.metaRawOption.dimensions}}else i={seriesLayoutBy:PD,sourceHeader:0,dimensions:e.dimensions};return LP(e.data,i,null)}))}function ST(e){return e===xD||e===MD}var xT,MT="undefined",_T=typeof Uint32Array===MT?Array:Uint32Array,RT=typeof Uint16Array===MT?Array:Uint16Array,DT=typeof Int32Array===MT?Array:Int32Array,PT=typeof Float64Array===MT?Array:Float64Array,TT={float:PT,int:DT,ordinal:Array,number:Array,time:PT};function AT(e){return e>65535?_T:RT}function ET(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function IT(e,t,n,i,r){var o=TT[n||"float"];if(r){var s=e[t],a=s&&s.length;if(a!==i){for(var l=new o(i),u=0;u<a;u++)l[u]=s[u];e[t]=l}}else e[t]=new o(i)}var kT=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=_m()}return e.prototype.initData=function(e,t,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),r=this.defaultDimValueGetter=xT[i.sourceFormat];this._dimValueGetter=n||r,this._rawExtent=[];VP(i);this._dimensions=Yf(t,(function(e){return{type:e.type,property:e.property}})),this._initDataFromProvider(0,e.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(e,t){var n=this._calcDimNameToIdx,i=this._dimensions,r=n.get(e);if(null!=r){if(i[r].type===t)return r}else r=i.length;return i[r]={type:t},n.set(e,r),this._chunks[r]=new TT[t||"float"](this._rawCount),this._rawExtent[r]=[1/0,-1/0],r},e.prototype.collectOrdinalMeta=function(e,t){var n=this._chunks[e],i=this._dimensions[e],r=this._rawExtent,o=i.ordinalOffset||0,s=n.length;0===o&&(r[e]=[1/0,-1/0]);for(var a=r[e],l=o;l<s;l++){var u=n[l]=t.parseAndCollect(n[l]);isNaN(u)||(a[0]=Math.min(u,a[0]),a[1]=Math.max(u,a[1]))}i.ordinalMeta=t,i.ordinalOffset=s,i.type="ordinal"},e.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},e.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},e.prototype.appendData=function(e){var t=this._provider,n=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},e.prototype.appendValues=function(e,t){for(var n=this._chunks,i=this._dimensions,r=i.length,o=this._rawExtent,s=this.count(),a=s+Math.max(e.length,t||0),l=0;l<r;l++){IT(n,l,(p=i[l]).type,a,!0)}for(var u=[],c=s;c<a;c++)for(var d=c-s,h=0;h<r;h++){var p=i[h],g=xT.arrayRows.call(this,e[d]||u,p.property,d,h);n[h][c]=g;var f=o[h];g<f[0]&&(f[0]=g),g>f[1]&&(f[1]=g)}return this._rawCount=this._count=a,{start:s,end:a}},e.prototype._initDataFromProvider=function(e,t,n){for(var i=this._provider,r=this._chunks,o=this._dimensions,s=o.length,a=this._rawExtent,l=Yf(o,(function(e){return e.property})),u=0;u<s;u++){var c=o[u];a[u]||(a[u]=[1/0,-1/0]),IT(r,u,c.type,t,n)}if(i.fillStorage)i.fillStorage(e,t,r,a);else for(var d=[],h=e;h<t;h++){d=i.getItem(h,d);for(var p=0;p<s;p++){var g=r[p],f=this._dimValueGetter(d,l[p],h,p);g[h]=f;var m=a[p];f<m[0]&&(m[0]=f),f>m[1]&&(m[1]=f)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(t)]:NaN},e.prototype.getValues=function(e,t){var n=[],i=[];if(null==t){t=e,e=[];for(var r=0;r<this._dimensions.length;r++)i.push(r)}else i=e;r=0;for(var o=i.length;r<o;r++)n.push(this.get(i[r],t));return n},e.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[e];return n?n[t]:NaN},e.prototype.getSum=function(e){var t=0;if(this._chunks[e])for(var n=0,i=this.count();n<i;n++){var r=this.get(e,n);isNaN(r)||(t+=r)}return t},e.prototype.getMedian=function(e){var t=[];this.each([e],(function(e){isNaN(e)||t.push(e)}));var n=t.sort((function(e,t){return e-t})),i=this.count();return 0===i?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},e.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;for(var i=0,r=this._count-1;i<=r;){var o=(i+r)/2|0;if(t[o]<e)i=o+1;else{if(!(t[o]>e))return o;r=o-1}}return-1},e.prototype.indicesOfNearest=function(e,t,n){var i=this._chunks[e],r=[];if(!i)return r;null==n&&(n=1/0);for(var o=1/0,s=-1,a=0,l=0,u=this.count();l<u;l++){var c=t-i[this.getRawIndex(l)],d=Math.abs(c);d<=n&&((d<o||d===o&&c>=0&&s<0)&&(o=d,s=c,a=0),c===s&&(r[a++]=l))}return r.length=a,r},e.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,i=this._count;if(n===Array){e=new n(i);for(var r=0;r<i;r++)e[r]=t[r]}else e=new n(t.buffer,0,i)}else{e=new(n=AT(this._rawCount))(this.count());for(r=0;r<e.length;r++)e[r]=r}return e},e.prototype.filter=function(e,t){if(!this._count)return this;for(var n=this.clone(),i=n.count(),r=new(AT(n._rawCount))(i),o=[],s=e.length,a=0,l=e[0],u=n._chunks,c=0;c<i;c++){var d=void 0,h=n.getRawIndex(c);if(0===s)d=t(c);else if(1===s){d=t(u[l][h],c)}else{for(var p=0;p<s;p++)o[p]=u[e[p]][h];o[p]=c,d=t.apply(null,o)}d&&(r[a++]=h)}return a<i&&(n._indices=r),n._count=a,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(e){var t=this.clone(),n=t._count;if(!n)return this;var i=Qf(e),r=i.length;if(!r)return this;var o=t.count(),s=new(AT(t._rawCount))(o),a=0,l=i[0],u=e[l][0],c=e[l][1],d=t._chunks,h=!1;if(!t._indices){var p=0;if(1===r){for(var g=d[i[0]],f=0;f<n;f++){((w=g[f])>=u&&w<=c||isNaN(w))&&(s[a++]=p),p++}h=!0}else if(2===r){g=d[i[0]];var m=d[i[1]],v=e[i[1]][0],y=e[i[1]][1];for(f=0;f<n;f++){var w=g[f],C=m[f];(w>=u&&w<=c||isNaN(w))&&(C>=v&&C<=y||isNaN(C))&&(s[a++]=p),p++}h=!0}}if(!h)if(1===r)for(f=0;f<o;f++){var b=t.getRawIndex(f);((w=d[i[0]][b])>=u&&w<=c||isNaN(w))&&(s[a++]=b)}else for(f=0;f<o;f++){for(var S=!0,x=(b=t.getRawIndex(f),0);x<r;x++){var M=i[x];((w=d[M][b])<e[M][0]||w>e[M][1])&&(S=!1)}S&&(s[a++]=t.getRawIndex(f))}return a<o&&(t._indices=s),t._count=a,t._extent=[],t._updateGetRawIdx(),t},e.prototype.map=function(e,t){var n=this.clone(e);return this._updateDims(n,e,t),n},e.prototype.modify=function(e,t){this._updateDims(this,e,t)},e.prototype._updateDims=function(e,t,n){for(var i=e._chunks,r=[],o=t.length,s=e.count(),a=[],l=e._rawExtent,u=0;u<t.length;u++)l[t[u]]=[1/0,-1/0];for(var c=0;c<s;c++){for(var d=e.getRawIndex(c),h=0;h<o;h++)a[h]=i[t[h]][d];a[o]=c;var p=n&&n.apply(null,a);if(null!=p){"object"!==typeof p&&(r[0]=p,p=r);for(u=0;u<p.length;u++){var g=t[u],f=p[u],m=l[g],v=i[g];v&&(v[d]=f),f<m[0]&&(m[0]=f),f>m[1]&&(m[1]=f)}}}},e.prototype.lttbDownSample=function(e,t){var n,i,r,o=this.clone([e],!0),s=o._chunks[e],a=this.count(),l=0,u=Math.floor(1/t),c=this.getRawIndex(0),d=new(AT(this._rawCount))(Math.min(2*(Math.ceil(a/u)+2),a));d[l++]=c;for(var h=1;h<a-1;h+=u){for(var p=Math.min(h+u,a-1),g=Math.min(h+2*u,a),f=(g+p)/2,m=0,v=p;v<g;v++){var y=s[_=this.getRawIndex(v)];isNaN(y)||(m+=y)}m/=g-p;var w=h,C=Math.min(h+u,a),b=h-1,S=s[c];n=-1,r=w;var x=-1,M=0;for(v=w;v<C;v++){var _;y=s[_=this.getRawIndex(v)];isNaN(y)?(M++,x<0&&(x=_)):(i=Math.abs((b-f)*(y-S)-(b-v)*(m-S)))>n&&(n=i,r=_)}M>0&&M<C-w&&(d[l++]=Math.min(x,r),r=Math.max(x,r)),d[l++]=r,c=r}return d[l++]=this.getRawIndex(a-1),o._count=l,o._indices=d,o.getRawIndex=this._getRawIdx,o},e.prototype.downSample=function(e,t,n,i){for(var r=this.clone([e],!0),o=r._chunks,s=[],a=Math.floor(1/t),l=o[e],u=this.count(),c=r._rawExtent[e]=[1/0,-1/0],d=new(AT(this._rawCount))(Math.ceil(u/a)),h=0,p=0;p<u;p+=a){a>u-p&&(a=u-p,s.length=a);for(var g=0;g<a;g++){var f=this.getRawIndex(p+g);s[g]=l[f]}var m=n(s),v=this.getRawIndex(Math.min(p+i(s,m)||0,u-1));l[v]=m,m<c[0]&&(c[0]=m),m>c[1]&&(c[1]=m),d[h++]=v}return r._count=h,r._indices=d,r._updateGetRawIdx(),r},e.prototype.each=function(e,t){if(this._count)for(var n=e.length,i=this._chunks,r=0,o=this.count();r<o;r++){var s=this.getRawIndex(r);switch(n){case 0:t(r);break;case 1:t(i[e[0]][s],r);break;case 2:t(i[e[0]][s],i[e[1]][s],r);break;default:for(var a=0,l=[];a<n;a++)l[a]=i[e[a]][s];l[a]=r,t.apply(null,l)}}},e.prototype.getDataExtent=function(e){var t=this._chunks[e],n=[1/0,-1/0];if(!t)return n;var i,r=this.count();if(!this._indices)return this._rawExtent[e].slice();if(i=this._extent[e])return i.slice();for(var o=(i=n)[0],s=i[1],a=0;a<r;a++){var l=t[this.getRawIndex(a)];l<o&&(o=l),l>s&&(s=l)}return i=[o,s],this._extent[e]=i,i},e.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],i=this._chunks,r=0;r<i.length;r++)n.push(i[r][t]);return n},e.prototype.clone=function(t,n){var i=new e,r=this._chunks,o=t&&Xf(t,(function(e,t){return e[t]=!0,e}),{});if(o)for(var s=0;s<r.length;s++)i._chunks[s]=o[s]?ET(r[s]):r[s];else i._chunks=r;return this._copyCommonProps(i),n||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},e.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Vf(this._extent),e._rawExtent=Vf(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var n=this._indices.length;t=new e(n);for(var i=0;i<n;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},e.prototype._getRawIdxIdentity=function(e){return e},e.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function e(e,t,n,i){return aT(e[i],this._dimensions[i])}xT={arrayRows:e,objectRows:function(e,t,n,i){return aT(e[t],this._dimensions[i])},keyedColumns:e,original:function(e,t,n,i){var r=e&&(null==e.value?e:e.value);return aT(r instanceof Array?r[i]:r,this._dimensions[i])},typedArray:function(e,t,n,i){return e[i]}}}(),e}();const FT=kT;var LT=function(){function e(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var e,t,n=this._sourceHost,i=this._getUpstreamSourceManagers(),r=!!i.length;if(NT(n)){var o=n,s=void 0,a=void 0,l=void 0;if(r){var u=i[0];u.prepareSource(),s=(l=u.getSource()).data,a=l.sourceFormat,t=[u._getVersionSign()]}else a=lm(s=o.get("data",!0))?RD:SD,t=[];var c=this._getSourceMetaRawOption()||{},d=l&&l.metaRawOption||{},h=pm(c.seriesLayoutBy,d.seriesLayoutBy)||null,p=pm(c.sourceHeader,d.sourceHeader),g=pm(c.dimensions,d.dimensions);e=h!==d.seriesLayoutBy||!!p!==!!d.sourceHeader||g?[LP(s,{seriesLayoutBy:h,sourceHeader:p,dimensions:g},a)]:[]}else{var f=n;if(r){var m=this._applyTransform(i);e=m.sourceList,t=m.upstreamSignList}else{e=[LP(f.get("source",!0),this._getSourceMetaRawOption(),null)],t=[]}}this._setLocalSource(e,t)},e.prototype._applyTransform=function(e){var t,n=this._sourceHost,i=n.get("transform",!0),r=n.get("fromTransformResult",!0);if(null!=r){1!==e.length&&BT("")}var o,s=[],a=[];return qf(e,(function(e){e.prepareSource();var t=e.getSource(r||0);null==r||t||BT(""),s.push(t),a.push(e._getVersionSign())})),i?t=function(e,t){var n=kb(e),i=n.length;i||sT("");for(var r=0,o=i;r<o;r++)t=bT(n[r],t),r!==o-1&&(t.length=Math.max(t.length,1));return t}(i,s,n.componentIndex):null!=r&&(t=[(o=s[0],new kP({data:o.data,sourceFormat:o.sourceFormat,seriesLayoutBy:o.seriesLayoutBy,dimensionsDefine:Vf(o.dimensionsDefine),startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount}))]),{sourceList:t,upstreamSignList:a}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var n=e[t];if(n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},e.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return t},e.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},e.prototype._innerGetDataStore=function(e,t,n){var i=this._storeList,r=i[0];r||(r=i[0]={});var o=r[n];if(!o){var s=this._getUpstreamSourceManagers()[0];NT(this._sourceHost)&&s?o=s._innerGetDataStore(e,t,n):(o=new FT).initData(new zP(t,e.length),e),r[n]=o}return o},e.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(NT(e)){var t=FD(e);return t?[t.getSourceManager()]:[]}return Yf(function(e){return e.get("transform",!0)||e.get("fromTransformResult",!0)?Zb(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},Yb).models:[]}(e),(function(e){return e.getSourceManager()}))},e.prototype._getSourceMetaRawOption=function(){var e,t,n,i=this._sourceHost;if(NT(i))e=i.get("seriesLayoutBy",!0),t=i.get("sourceHeader",!0),n=i.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var r=i;e=r.get("seriesLayoutBy",!0),t=r.get("sourceHeader",!0),n=r.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:t,dimensions:n}},e}();function OT(e){e.option.transform&&Cm(e.option.transform)}function NT(e){return"series"===e.mainType}function BT(e){throw new Error(e)}var GT="line-height:1";function VT(e,t){var n=e.color||"#6e7079",i=e.fontSize||12,r=e.fontWeight||"400",o=e.color||"#464646",s=e.fontSize||14,a=e.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+hv(i+"")+"px;color:"+hv(n)+";font-weight:"+hv(r+""),valueStyle:"font-size:"+hv(s+"")+"px;color:"+hv(o)+";font-weight:"+hv(a+"")}:{nameStyle:{fontSize:i,fill:n,fontWeight:r},valueStyle:{fontSize:s,fill:o,fontWeight:a}}}var zT=[0,10,20,30],HT=["","\n","\n\n","\n\n\n"];function WT(e,t){return t.type=e,t}function UT(e){return"section"===e.type}function jT(e){return UT(e)?KT:qT}function $T(e){if(UT(e)){var t=0,n=e.blocks.length,i=n>1||n>0&&!e.noHeader;return qf(e.blocks,(function(e){var n=$T(e);n>=t&&(t=n+ +(i&&(!n||UT(e)&&!e.noHeader)))})),t}return 0}function KT(e,t,n,i){var r,o=t.noHeader,s=(r=$T(t),{html:zT[r],richText:HT[r]}),a=[],l=t.blocks||[];vm(!l||tm(l)),l=l||[];var u=e.orderMode;if(t.sortBlocks&&u){l=l.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(Tm(c,u)){var d=new hT(c[u],null);l.sort((function(e,t){return d.evaluate(e.sortParam,t.sortParam)}))}else"seriesDesc"===u&&l.reverse()}qf(l,(function(n,r){var o=t.valueFormatter,l=jT(n)(o?Wf(Wf({},e),{valueFormatter:o}):e,n,r>0?s.html:0,i);null!=l&&a.push(l)}));var h="richText"===e.renderMode?a.join(s.richText):XT(a.join(""),o?n:s.html);if(o)return h;var p=QR(t.header,"ordinal",e.useUTC),g=VT(i,e.renderMode).nameStyle;return"richText"===e.renderMode?ZT(e,p,g)+s.richText+h:XT('<div style="'+g+";"+GT+';">'+hv(p)+"</div>"+h,n)}function qT(e,t,n,i){var r=e.renderMode,o=t.noName,s=t.noValue,a=!t.markerType,l=t.name,u=e.useUTC,c=t.valueFormatter||e.valueFormatter||function(e){return Yf(e=tm(e)?e:[e],(function(e,t){return QR(e,tm(p)?p[t]:p,u)}))};if(!o||!s){var d=a?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",r),h=o?"":QR(l,"ordinal",u),p=t.valueType,g=s?[]:c(t.value,t.dataIndex),f=!a||!o,m=!a&&o,v=VT(i,r),y=v.nameStyle,w=v.valueStyle;return"richText"===r?(a?"":d)+(o?"":ZT(e,h,y))+(s?"":function(e,t,n,i,r){var o=[r],s=i?10:20;return n&&o.push({padding:[0,0,0,s],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(tm(t)?t.join("  "):t,o)}(e,g,f,m,w)):XT((a?"":d)+(o?"":function(e,t,n){return'<span style="'+n+";"+(t?"margin-left:2px":"")+'">'+hv(e)+"</span>"}(h,!a,y))+(s?"":function(e,t,n,i){var r=n?"10px":"20px",o=t?"float:right;margin-left:"+r:"";return e=tm(e)?e:[e],'<span style="'+o+";"+i+'">'+Yf(e,(function(e){return hv(e)})).join("&nbsp;&nbsp;")+"</span>"}(g,f,m,w)),n)}}function YT(e,t,n,i,r,o){if(e)return jT(e)({useUTC:r,renderMode:n,orderMode:i,markupStyleCreator:t,valueFormatter:e.valueFormatter},e,0,o)}function XT(e,t){return'<div style="'+("margin: "+t+"px 0 0")+";"+GT+';">'+e+'<div style="clear:both"></div></div>'}function ZT(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function QT(e,t){return nD(e.getData().getItemVisual(t,"style")[e.visualDrawType])}function JT(e,t){var n=e.get("padding");return null!=n?n:"richText"===t?[8,10]:10}var eA=function(){function e(){this.richTextStyles={},this._nextStyleNameId=Db()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(e,t,n){var i="richText"===n?this._generateStyleName():null,r=function(e,t){var n=im(e)?{color:e,extraCssText:t}:e||{},i=n.color,r=n.type;t=n.extraCssText;var o=n.renderMode||"html";return i?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+hv(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+hv(i)+";"+(t||"")+'"></span>':{renderMode:o,content:"{"+(n.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}({color:t,type:e,renderMode:n,markerId:i});return im(r)?r:(this.richTextStyles[i]=r.style,r.content)},e.prototype.wrapRichTextStyle=function(e,t){var n={};tm(t)?qf(t,(function(e){return Wf(n,e)})):Wf(n,t);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+e+"}"},e}();function tA(e){var t,n,i,r,o=e.series,s=e.dataIndex,a=e.multipleSeries,l=o.getData(),u=l.mapDimensionsAll("defaultedTooltip"),c=u.length,d=o.getRawValue(s),h=tm(d),p=QT(o,s);if(c>1||h&&!c){var g=function(e,t,n,i,r){var o=t.getData(),s=Xf(e,(function(e,t,n){var i=o.getDimensionInfo(n);return e||i&&!1!==i.tooltip&&null!=i.displayName}),!1),a=[],l=[],u=[];function c(e,t){var n=o.getDimensionInfo(t);n&&!1!==n.otherDims.tooltip&&(s?u.push(WT("nameValue",{markerType:"subItem",markerColor:r,name:n.displayName,value:e,valueType:n.type})):(a.push(e),l.push(n.type)))}return i.length?qf(i,(function(e){c(QP(o,n,e),e)})):qf(e,c),{inlineValues:a,inlineValueTypes:l,blocks:u}}(d,o,s,u,p);t=g.inlineValues,n=g.inlineValueTypes,i=g.blocks,r=g.inlineValues[0]}else if(c){var f=l.getDimensionInfo(u[0]);r=t=QP(l,s,u[0]),n=f.type}else r=t=h?d[0]:d;var m=Hb(o),v=m&&o.name||"",y=l.getName(s),w=a?v:y;return WT("section",{header:v,noHeader:a||!m,sortParam:r,blocks:[WT("nameValue",{markerType:"item",markerColor:p,name:w,noName:!ym(w),value:t,valueType:n,dataIndex:s})].concat(i||[])})}var nA=jb();function iA(e,t){return e.getName(t)||e.getId(t)}var rA="__universalTransitionEnabled",oA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return vf(t,e),t.prototype.init=function(e,t,n){this.seriesIndex=this.componentIndex,this.dataTask=nT({count:aA,reset:lA}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),(nA(this).sourceManager=new LT(this)).prepareSource();var i=this.getInitialData(e,n);cA(i,this),this.dataTask.context.data=i,nA(this).dataBeforeProcessed=i,sA(this),this._initSelectedMapFromData(i)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=dD(this),i=n?pD(e):{},r=this.subType;vD.hasClass(r)&&(r+="Series"),zf(e,t.getTheme().get(this.subType)),zf(e,this.getDefaultOption()),Fb(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&hD(e,i,n)},t.prototype.mergeOption=function(e,t){e=zf(this.option,e,!0),this.fillDataTextStyle(e.data);var n=dD(this);n&&hD(this.option,e,n);var i=nA(this).sourceManager;i.dirty(),i.prepareSource();var r=this.getInitialData(e,t);cA(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,nA(this).dataBeforeProcessed=r,sA(this),this._initSelectedMapFromData(r)},t.prototype.fillDataTextStyle=function(e){if(e&&!lm(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&Fb(e[n],"label",t)},t.prototype.getInitialData=function(e,t){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var t=hA(this);if(t){var n=t.context.data;return null!=e&&n.getLinkedData?n.getLinkedData(e):n}return nA(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var t=hA(this);if(t){var n=t.context;n.outputData=e,t!==this.dataTask&&(n.data=e)}nA(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return _m(e)},t.prototype.getSourceManager=function(){return nA(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return nA(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,t,n){return tA({series:this,dataIndex:e,multipleSeries:t})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(Cf.node&&(!e||!e.ssr))return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,t,n){var i=this.ecModel,r=WD.prototype.getColorFromPalette.call(this,e,t,n);return r||(r=i.getColorFromPalette(e,t,n)),r},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,t){this._innerSelect(this.getData(t),e)},t.prototype.unselect=function(e,t){var n=this.option.selectedMap;if(n){var i=this.option.selectedMode,r=this.getData(t);if("series"===i||"all"===n)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var o=0;o<e.length;o++){var s=iA(r,e[o]);n[s]=!1,this._selectedDataIndicesMap[s]=-1}}},t.prototype.toggleSelect=function(e,t){for(var n=[],i=0;i<e.length;i++)n[0]=e[i],this.isSelected(e[i],t)?this.unselect(n,t):this.select(n,t)},t.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,t=Qf(e),n=[],i=0;i<t.length;i++){var r=e[t[i]];r>=0&&n.push(r)}return n},t.prototype.isSelected=function(e,t){var n=this.option.selectedMap;if(!n)return!1;var i=this.getData(t);return("all"===n||n[iA(i,e)])&&!i.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[rA])return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,t){var n,i,r=this.option,o=r.selectedMode,s=t.length;if(o&&s)if("series"===o)r.selectedMap="all";else if("multiple"===o){sm(r.selectedMap)||(r.selectedMap={});for(var a=r.selectedMap,l=0;l<s;l++){var u=t[l];a[d=iA(e,u)]=!0,this._selectedDataIndicesMap[d]=e.getRawIndex(u)}}else if("single"===o||!0===o){var c=t[s-1],d=iA(e,c);r.selectedMap=((n={})[d]=!0,n),this._selectedDataIndicesMap=((i={})[d]=e.getRawIndex(c),i)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var t=[];e.hasItemOption&&e.each((function(n){var i=e.getRawDataItem(n);i&&i.selected&&t.push(n)})),t.length>0&&this._innerSelect(e,t)}},t.registerClass=function(e){return vD.registerClass(e)},t.protoInitialize=function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"}(),t}(vD);function sA(e){var t=e.name;Hb(e)||(e.name=function(e){var t=e.getRawData(),n=t.mapDimensionsAll("seriesName"),i=[];return qf(n,(function(e){var n=t.getDimensionInfo(e);n.displayName&&i.push(n.displayName)})),i.join(" ")}(e)||t)}function aA(e){return e.model.getRawData().count()}function lA(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),uA}function uA(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function cA(e,t){qf(Rm(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),(function(n){e.wrapMethod(n,em(dA,t))}))}function dA(e,t){var n=hA(e);return n&&n.setOutputEnd((t||this).count()),t}function hA(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var i=n.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(e.uid))}return i}}$f(oA,eT),$f(oA,WD),sS(oA,vD);const pA=oA;var gA=function(){function e(){this.group=new eb,this.uid=uR("viewComponent")}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,i){},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,i){},e.prototype.updateLayout=function(e,t,n,i){},e.prototype.updateVisual=function(e,t,n,i){},e.prototype.toggleBlurSeries=function(e,t,n){},e.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},e}();oS(gA),cS(gA);const fA=gA;function mA(){var e=jb();return function(t){var n=e(t),i=t.pipelineContext,r=!!n.large,o=!!n.progressiveRender,s=n.large=!(!i||!i.large),a=n.progressiveRender=!(!i||!i.progressiveRender);return!(r===s&&o===a)&&"reset"}}var vA=bx.CMD,yA=[[],[],[]],wA=Math.sqrt,CA=Math.atan2;function bA(e,t){if(t){var n,i,r,o,s,a,l=e.data,u=e.len(),c=vA.M,d=vA.C,h=vA.L,p=vA.R,g=vA.A,f=vA.Q;for(r=0,o=0;r<u;){switch(n=l[r++],o=r,i=0,n){case c:case h:i=1;break;case d:i=3;break;case f:i=2;break;case g:var m=t[4],v=t[5],y=wA(t[0]*t[0]+t[1]*t[1]),w=wA(t[2]*t[2]+t[3]*t[3]),C=CA(-t[1]/w,t[0]/y);l[r]*=y,l[r++]+=m,l[r]*=w,l[r++]+=v,l[r++]*=y,l[r++]*=w,l[r++]+=C,l[r++]+=C,o=r+=2;break;case p:a[0]=l[r++],a[1]=l[r++],Ym(a,a,t),l[o++]=a[0],l[o++]=a[1],a[0]+=l[r++],a[1]+=l[r++],Ym(a,a,t),l[o++]=a[0],l[o++]=a[1]}for(s=0;s<i;s++){var b=yA[s];b[0]=l[r++],b[1]=l[r++],Ym(b,b,t),l[o++]=b[0],l[o++]=b[1]}}e.increaseVersion()}}var SA=Math.sqrt,xA=Math.sin,MA=Math.cos,_A=Math.PI;function RA(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function DA(e,t){return(e[0]*t[0]+e[1]*t[1])/(RA(e)*RA(t))}function PA(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(DA(e,t))}function TA(e,t,n,i,r,o,s,a,l,u,c){var d=l*(_A/180),h=MA(d)*(e-n)/2+xA(d)*(t-i)/2,p=-1*xA(d)*(e-n)/2+MA(d)*(t-i)/2,g=h*h/(s*s)+p*p/(a*a);g>1&&(s*=SA(g),a*=SA(g));var f=(r===o?-1:1)*SA((s*s*(a*a)-s*s*(p*p)-a*a*(h*h))/(s*s*(p*p)+a*a*(h*h)))||0,m=f*s*p/a,v=f*-a*h/s,y=(e+n)/2+MA(d)*m-xA(d)*v,w=(t+i)/2+xA(d)*m+MA(d)*v,C=PA([1,0],[(h-m)/s,(p-v)/a]),b=[(h-m)/s,(p-v)/a],S=[(-1*h-m)/s,(-1*p-v)/a],x=PA(b,S);if(DA(b,S)<=-1&&(x=_A),DA(b,S)>=1&&(x=0),x<0){var M=Math.round(x/_A*1e6)/1e6;x=2*_A+M%2*_A}c.addData(u,y,w,s,a,C,x,d,o)}var AA=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,EA=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var IA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return km(t,e),t.prototype.applyTransform=function(e){},t}(Ux);function kA(e){return null!=e.setData}function FA(e,t){var n=function(e){var t=new bx;if(!e)return t;var n,i=0,r=0,o=i,s=r,a=bx.CMD,l=e.match(AA);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],d=c.charAt(0),h=void 0,p=c.match(EA)||[],g=p.length,f=0;f<g;f++)p[f]=parseFloat(p[f]);for(var m=0;m<g;){var v=void 0,y=void 0,w=void 0,C=void 0,b=void 0,S=void 0,x=void 0,M=i,_=r,R=void 0,D=void 0;switch(d){case"l":i+=p[m++],r+=p[m++],h=a.L,t.addData(h,i,r);break;case"L":i=p[m++],r=p[m++],h=a.L,t.addData(h,i,r);break;case"m":i+=p[m++],r+=p[m++],h=a.M,t.addData(h,i,r),o=i,s=r,d="l";break;case"M":i=p[m++],r=p[m++],h=a.M,t.addData(h,i,r),o=i,s=r,d="L";break;case"h":i+=p[m++],h=a.L,t.addData(h,i,r);break;case"H":i=p[m++],h=a.L,t.addData(h,i,r);break;case"v":r+=p[m++],h=a.L,t.addData(h,i,r);break;case"V":r=p[m++],h=a.L,t.addData(h,i,r);break;case"C":h=a.C,t.addData(h,p[m++],p[m++],p[m++],p[m++],p[m++],p[m++]),i=p[m-2],r=p[m-1];break;case"c":h=a.C,t.addData(h,p[m++]+i,p[m++]+r,p[m++]+i,p[m++]+r,p[m++]+i,p[m++]+r),i+=p[m-2],r+=p[m-1];break;case"S":v=i,y=r,R=t.len(),D=t.data,n===a.C&&(v+=i-D[R-4],y+=r-D[R-3]),h=a.C,M=p[m++],_=p[m++],i=p[m++],r=p[m++],t.addData(h,v,y,M,_,i,r);break;case"s":v=i,y=r,R=t.len(),D=t.data,n===a.C&&(v+=i-D[R-4],y+=r-D[R-3]),h=a.C,M=i+p[m++],_=r+p[m++],i+=p[m++],r+=p[m++],t.addData(h,v,y,M,_,i,r);break;case"Q":M=p[m++],_=p[m++],i=p[m++],r=p[m++],h=a.Q,t.addData(h,M,_,i,r);break;case"q":M=p[m++]+i,_=p[m++]+r,i+=p[m++],r+=p[m++],h=a.Q,t.addData(h,M,_,i,r);break;case"T":v=i,y=r,R=t.len(),D=t.data,n===a.Q&&(v+=i-D[R-4],y+=r-D[R-3]),i=p[m++],r=p[m++],h=a.Q,t.addData(h,v,y,i,r);break;case"t":v=i,y=r,R=t.len(),D=t.data,n===a.Q&&(v+=i-D[R-4],y+=r-D[R-3]),i+=p[m++],r+=p[m++],h=a.Q,t.addData(h,v,y,i,r);break;case"A":w=p[m++],C=p[m++],b=p[m++],S=p[m++],x=p[m++],TA(M=i,_=r,i=p[m++],r=p[m++],S,x,w,C,b,h=a.A,t);break;case"a":w=p[m++],C=p[m++],b=p[m++],S=p[m++],x=p[m++],TA(M=i,_=r,i+=p[m++],r+=p[m++],S,x,w,C,b,h=a.A,t)}}"z"!==d&&"Z"!==d||(h=a.Z,t.addData(h),i=o,r=s),n=h}return t.toStatic(),t}(e),i=Wf({},t);return i.buildPath=function(e){if(kA(e)){e.setData(n.data),(t=e.getContext())&&e.rebuildPath(t,1)}else{var t=e;n.rebuildPath(t,1)}},i.applyTransform=function(e){bA(n,e),this.dirtyShape()},i}function LA(e,t){return new IA(FA(e,t))}function OA(e,t){t=t||{};var n=new Ux;return e.shape&&n.setShape(e.shape),n.setStyle(e.style),t.bakeTransform?bA(n.path,e.getComputedTransform()):t.toLocal?n.setLocalTransform(e.getComputedTransform()):n.copyTransform(e),n.buildPath=e.buildPath,n.applyTransform=n.applyTransform,n.z=e.z,n.z2=e.z2,n.zlevel=e.zlevel,n}var NA=function(){this.cx=0,this.cy=0,this.r=0},BA=function(e){function t(t){return e.call(this,t)||this}return km(t,e),t.prototype.getDefaultShape=function(){return new NA},t.prototype.buildPath=function(e,t){e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI)},t}(Ux);BA.prototype.type="circle";const GA=BA;var VA=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},zA=function(e){function t(t){return e.call(this,t)||this}return km(t,e),t.prototype.getDefaultShape=function(){return new VA},t.prototype.buildPath=function(e,t){var n=.5522848,i=t.cx,r=t.cy,o=t.rx,s=t.ry,a=o*n,l=s*n;e.moveTo(i-o,r),e.bezierCurveTo(i-o,r-l,i-a,r-s,i,r-s),e.bezierCurveTo(i+a,r-s,i+o,r-l,i+o,r),e.bezierCurveTo(i+o,r+l,i+a,r+s,i,r+s),e.bezierCurveTo(i-a,r+s,i-o,r+l,i-o,r),e.closePath()},t}(Ux);zA.prototype.type="ellipse";const HA=zA;var WA=Math.PI,UA=2*WA,jA=Math.sin,$A=Math.cos,KA=Math.acos,qA=Math.atan2,YA=Math.abs,XA=Math.sqrt,ZA=Math.max,QA=Math.min,JA=1e-4;function eE(e,t,n,i,r,o,s){var a=e-n,l=t-i,u=(s?o:-o)/XA(a*a+l*l),c=u*l,d=-u*a,h=e+c,p=t+d,g=n+c,f=i+d,m=(h+g)/2,v=(p+f)/2,y=g-h,w=f-p,C=y*y+w*w,b=r-o,S=h*f-g*p,x=(w<0?-1:1)*XA(ZA(0,b*b*C-S*S)),M=(S*w-y*x)/C,_=(-S*y-w*x)/C,R=(S*w+y*x)/C,D=(-S*y+w*x)/C,P=M-m,T=_-v,A=R-m,E=D-v;return P*P+T*T>A*A+E*E&&(M=R,_=D),{cx:M,cy:_,x0:-c,y0:-d,x1:M*(r/b-1),y1:_*(r/b-1)}}function tE(e,t){var n,i=ZA(t.r,0),r=ZA(t.r0||0,0),o=i>0;if(o||r>0){if(o||(i=r,r=0),r>i){var s=i;i=r,r=s}var a=t.startAngle,l=t.endAngle;if(!isNaN(a)&&!isNaN(l)){var u=t.cx,c=t.cy,d=!!t.clockwise,h=YA(l-a),p=h>UA&&h%UA;if(p>JA&&(h=p),i>JA)if(h>UA-JA)e.moveTo(u+i*$A(a),c+i*jA(a)),e.arc(u,c,i,a,l,!d),r>JA&&(e.moveTo(u+r*$A(l),c+r*jA(l)),e.arc(u,c,r,l,a,d));else{var g=void 0,f=void 0,m=void 0,v=void 0,y=void 0,w=void 0,C=void 0,b=void 0,S=void 0,x=void 0,M=void 0,_=void 0,R=void 0,D=void 0,P=void 0,T=void 0,A=i*$A(a),E=i*jA(a),I=r*$A(l),k=r*jA(l),F=h>JA;if(F){var L=t.cornerRadius;L&&(n=function(e){var t;if(tm(e)){var n=e.length;if(!n)return e;t=1===n?[e[0],e[0],0,0]:2===n?[e[0],e[0],e[1],e[1]]:3===n?e.concat(e[2]):e}else t=[e,e,e,e];return t}(L),g=n[0],f=n[1],m=n[2],v=n[3]);var O=YA(i-r)/2;if(y=QA(O,m),w=QA(O,v),C=QA(O,g),b=QA(O,f),M=S=ZA(y,w),_=x=ZA(C,b),(S>JA||x>JA)&&(R=i*$A(l),D=i*jA(l),P=r*$A(a),T=r*jA(a),h<WA)){var N=function(e,t,n,i,r,o,s,a){var l=n-e,u=i-t,c=s-r,d=a-o,h=d*l-c*u;if(!(h*h<JA))return[e+(h=(c*(t-o)-d*(e-r))/h)*l,t+h*u]}(A,E,P,T,R,D,I,k);if(N){var B=A-N[0],G=E-N[1],V=R-N[0],z=D-N[1],H=1/jA(KA((B*V+G*z)/(XA(B*B+G*G)*XA(V*V+z*z)))/2),W=XA(N[0]*N[0]+N[1]*N[1]);M=QA(S,(i-W)/(H+1)),_=QA(x,(r-W)/(H-1))}}}if(F)if(M>JA){var U=QA(m,M),j=QA(v,M),$=eE(P,T,A,E,i,U,d),K=eE(R,D,I,k,i,j,d);e.moveTo(u+$.cx+$.x0,c+$.cy+$.y0),M<S&&U===j?e.arc(u+$.cx,c+$.cy,M,qA($.y0,$.x0),qA(K.y0,K.x0),!d):(U>0&&e.arc(u+$.cx,c+$.cy,U,qA($.y0,$.x0),qA($.y1,$.x1),!d),e.arc(u,c,i,qA($.cy+$.y1,$.cx+$.x1),qA(K.cy+K.y1,K.cx+K.x1),!d),j>0&&e.arc(u+K.cx,c+K.cy,j,qA(K.y1,K.x1),qA(K.y0,K.x0),!d))}else e.moveTo(u+A,c+E),e.arc(u,c,i,a,l,!d);else e.moveTo(u+A,c+E);if(r>JA&&F)if(_>JA){U=QA(g,_),$=eE(I,k,R,D,r,-(j=QA(f,_)),d),K=eE(A,E,P,T,r,-U,d);e.lineTo(u+$.cx+$.x0,c+$.cy+$.y0),_<x&&U===j?e.arc(u+$.cx,c+$.cy,_,qA($.y0,$.x0),qA(K.y0,K.x0),!d):(j>0&&e.arc(u+$.cx,c+$.cy,j,qA($.y0,$.x0),qA($.y1,$.x1),!d),e.arc(u,c,r,qA($.cy+$.y1,$.cx+$.x1),qA(K.cy+K.y1,K.cx+K.x1),d),U>0&&e.arc(u+K.cx,c+K.cy,U,qA(K.y1,K.x1),qA(K.y0,K.x0),!d))}else e.lineTo(u+I,c+k),e.arc(u,c,r,l,a,d);else e.lineTo(u+I,c+k)}else e.moveTo(u,c);e.closePath()}}}var nE=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},iE=function(e){function t(t){return e.call(this,t)||this}return km(t,e),t.prototype.getDefaultShape=function(){return new nE},t.prototype.buildPath=function(e,t){tE(e,t)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Ux);iE.prototype.type="sector";const rE=iE;var oE=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},sE=function(e){function t(t){return e.call(this,t)||this}return km(t,e),t.prototype.getDefaultShape=function(){return new oE},t.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,r=2*Math.PI;e.moveTo(n+t.r,i),e.arc(n,i,t.r,0,r,!1),e.moveTo(n+t.r0,i),e.arc(n,i,t.r0,0,r,!0)},t}(Ux);sE.prototype.type="ring";const aE=sE;function lE(e,t,n){var i=t.smooth,r=t.points;if(r&&r.length>=2){if(i){var o=function(e,t,n,i){var r,o,s,a,l=[],u=[],c=[],d=[];if(i){s=[1/0,1/0],a=[-1/0,-1/0];for(var h=0,p=e.length;h<p;h++)Xm(s,s,e[h]),Zm(a,a,e[h]);Xm(s,s,i[0]),Zm(a,a,i[1])}for(h=0,p=e.length;h<p;h++){var g=e[h];if(n)r=e[h?h-1:p-1],o=e[(h+1)%p];else{if(0===h||h===p-1){l.push(Om(e[h]));continue}r=e[h-1],o=e[h+1]}Vm(u,o,r),Wm(u,u,t);var f=jm(g,r),m=jm(g,o),v=f+m;0!==v&&(f/=v,m/=v),Wm(c,u,-f),Wm(d,u,m);var y=Bm([],g,c),w=Bm([],g,d);i&&(Zm(y,y,s),Xm(y,y,a),Zm(w,w,s),Xm(w,w,a)),l.push(y),l.push(w)}return n&&l.push(l.shift()),l}(r,i,n,t.smoothConstraint);e.moveTo(r[0][0],r[0][1]);for(var s=r.length,a=0;a<(n?s:s-1);a++){var l=o[2*a],u=o[2*a+1],c=r[(a+1)%s];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{e.moveTo(r[0][0],r[0][1]);a=1;for(var d=r.length;a<d;a++)e.lineTo(r[a][0],r[a][1])}n&&e.closePath()}}var uE=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},cE=function(e){function t(t){return e.call(this,t)||this}return km(t,e),t.prototype.getDefaultShape=function(){return new uE},t.prototype.buildPath=function(e,t){lE(e,t,!0)},t}(Ux);cE.prototype.type="polygon";const dE=cE;var hE=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},pE=function(e){function t(t){return e.call(this,t)||this}return km(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new hE},t.prototype.buildPath=function(e,t){lE(e,t,!1)},t}(Ux);pE.prototype.type="polyline";const gE=pE;var fE={},mE=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},vE=function(e){function t(t){return e.call(this,t)||this}return km(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new mE},t.prototype.buildPath=function(e,t){var n,i,r,o;if(this.subPixelOptimize){var s=Jx(fE,t,this.style);n=s.x1,i=s.y1,r=s.x2,o=s.y2}else n=t.x1,i=t.y1,r=t.x2,o=t.y2;var a=t.percent;0!==a&&(e.moveTo(n,i),a<1&&(r=n*(1-a)+r*a,o=i*(1-a)+o*a),e.lineTo(r,o))},t.prototype.pointAt=function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]},t}(Ux);vE.prototype.type="line";const yE=vE;var wE=[],CE=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function bE(e,t,n){var i=e.cpx2,r=e.cpy2;return null!=i||null!=r?[(n?Iy:Ey)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?Iy:Ey)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?Gy:By)(e.x1,e.cpx1,e.x2,t),(n?Gy:By)(e.y1,e.cpy1,e.y2,t)]}var SE=function(e){function t(t){return e.call(this,t)||this}return km(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new CE},t.prototype.buildPath=function(e,t){var n=t.x1,i=t.y1,r=t.x2,o=t.y2,s=t.cpx1,a=t.cpy1,l=t.cpx2,u=t.cpy2,c=t.percent;0!==c&&(e.moveTo(n,i),null==l||null==u?(c<1&&(zy(n,s,r,c,wE),s=wE[1],r=wE[2],zy(i,a,o,c,wE),a=wE[1],o=wE[2]),e.quadraticCurveTo(s,a,r,o)):(c<1&&(Ly(n,s,l,r,c,wE),s=wE[1],l=wE[2],r=wE[3],Ly(i,a,u,o,c,wE),a=wE[1],u=wE[2],o=wE[3]),e.bezierCurveTo(s,a,l,u,r,o)))},t.prototype.pointAt=function(e){return bE(this.shape,e,!1)},t.prototype.tangentAt=function(e){var t=bE(this.shape,e,!0);return Um(t,t)},t}(Ux);SE.prototype.type="bezier-curve";const xE=SE;var ME=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},_E=function(e){function t(t){return e.call(this,t)||this}return km(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ME},t.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r,0),o=t.startAngle,s=t.endAngle,a=t.clockwise,l=Math.cos(o),u=Math.sin(o);e.moveTo(l*r+n,u*r+i),e.arc(n,i,r,o,s,!a)},t}(Ux);_E.prototype.type="arc";const RE=_E;var DE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="compound",t}return km(t,e),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,t=this.shapeChanged(),n=0;n<e.length;n++)t=t||e[n].shapeChanged();t&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,t){for(var n=t.paths||[],i=0;i<n.length;i++)n[i].buildPath(e,n[i].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Ux.prototype.getBoundingRect.call(this)},t}(Ux);const PE=DE;var TE=function(){function e(e){this.colorStops=e||[]}return e.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},e}();const AE=TE;const EE=function(e){function t(t,n,i,r,o,s){var a=e.call(this,o)||this;return a.x=null==t?0:t,a.y=null==n?0:n,a.x2=null==i?1:i,a.y2=null==r?0:r,a.type="linear",a.global=s||!1,a}return km(t,e),t}(AE);var IE=function(e){function t(t,n,i,r,o){var s=e.call(this,r)||this;return s.x=null==t?.5:t,s.y=null==n?.5:n,s.r=null==i?.5:i,s.type="radial",s.global=o||!1,s}return km(t,e),t}(AE);const kE=IE;var FE=[0,0],LE=[0,0],OE=new Fv,NE=new Fv,BE=function(){function e(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Fv;for(n=0;n<2;n++)this._axes[n]=new Fv;e&&this.fromBoundingRect(e,t)}return e.prototype.fromBoundingRect=function(e,t){var n=this._corners,i=this._axes,r=e.x,o=e.y,s=r+e.width,a=o+e.height;if(n[0].set(r,o),n[1].set(s,o),n[2].set(s,a),n[3].set(r,a),t)for(var l=0;l<4;l++)n[l].transform(t);Fv.sub(i[0],n[1],n[0]),Fv.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(l=0;l<2;l++)this._origin[l]=i[l].dot(n[0])},e.prototype.intersect=function(e,t){var n=!0,i=!t;return OE.set(1/0,1/0),NE.set(0,0),!this._intersectCheckOneSide(this,e,OE,NE,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(e,this,OE,NE,i,-1)&&(n=!1,i)||i||Fv.copy(t,n?OE:NE),n},e.prototype._intersectCheckOneSide=function(e,t,n,i,r,o){for(var s=!0,a=0;a<2;a++){var l=this._axes[a];if(this._getProjMinMaxOnAxis(a,e._corners,FE),this._getProjMinMaxOnAxis(a,t._corners,LE),FE[1]<LE[0]||FE[0]>LE[1]){if(s=!1,r)return s;var u=Math.abs(LE[0]-FE[1]),c=Math.abs(FE[0]-LE[1]);Math.min(u,c)>i.len()&&(u<c?Fv.scale(i,l,-u*o):Fv.scale(i,l,c*o))}else if(n){u=Math.abs(LE[0]-FE[1]),c=Math.abs(FE[0]-LE[1]);Math.min(u,c)<n.len()&&(u<c?Fv.scale(n,l,u*o):Fv.scale(n,l,-c*o))}}return s},e.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var i=this._axes[e],r=this._origin,o=t[0].dot(i)+r[e],s=o,a=o,l=1;l<t.length;l++){var u=t[l].dot(i)+r[e];s=Math.min(u,s),a=Math.max(u,a)}n[0]=s,n[1]=a},e}();const GE=BE;var VE=[],zE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return km(t,e),t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){(t=this._displayables[e]).parent=this,t.update(),t.parent=null}for(e=0;e<this._temporaryDisplayables.length;e++){var t;(t=this._temporaryDisplayables[e]).parent=this,t.update(),t.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Uv(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(VE)),e.union(i)}this._rect=e}return this._rect},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){if(this._displayables[i].contain(e,t))return!0}return!1},t}(GS);const HE=zE;var WE=Math.max,UE=Math.min,jE={};function $E(e){return Ux.extend(e)}var KE=function(e,t){var n=FA(e,t);return function(e){function t(t){var i=e.call(this,t)||this;return i.applyTransform=n.applyTransform,i.buildPath=n.buildPath,i}return km(t,e),t}(IA)};function qE(e,t){return KE(e,t)}function YE(e,t){jE[e]=t}function XE(e){if(jE.hasOwnProperty(e))return jE[e]}function ZE(e,t,n,i){var r=LA(e,t);return n&&("center"===i&&(n=JE(n,r.getBoundingRect())),tI(r,n)),r}function QE(e,t,n){var i=new Zx({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if("center"===n){var r={width:e.width,height:e.height};i.setStyle(JE(t,r))}}});return i}function JE(e,t){var n,i=t.width/t.height,r=e.height*i;return n=r<=e.width?e.height:(r=e.width)/i,{x:e.x+e.width/2-r/2,y:e.y+e.height/2-n/2,width:r,height:n}}var eI=function(e,t){for(var n=[],i=e.length,r=0;r<i;r++){var o=e[r];n.push(o.getUpdatedPathProxy(!0))}var s=new Ux(t);return s.createPathProxy(),s.buildPath=function(e){if(kA(e)){e.appendPath(n);var t=e.getContext();t&&e.rebuildPath(t,1)}},s};function tI(e,t){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(t);e.applyTransform(n)}}function nI(e,t){return Jx(e,e,{lineWidth:t}),e}function iI(e){return eM(e.shape,e.shape,e.style),e}var rI=tM;function oI(e,t){for(var n=Rv([]);e&&e!==t;)Pv(n,e.getLocalTransform(),n),e=e.parent;return n}function sI(e,t,n){return t&&!Kf(t)&&(t=IC.getLocalTransform(t)),n&&(t=Iv([],t)),Ym([],e,t)}function aI(e,t,n){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),r=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),o=["left"===e?-i:"right"===e?i:0,"top"===e?-r:"bottom"===e?r:0];return o=sI(o,t,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function lI(e){return!e.isGroup}function uI(e,t,n){if(e&&t){var i=function(e){var t={};return e.traverse((function(e){lI(e)&&e.anid&&(t[e.anid]=e)})),t}(e);t.traverse((function(e){if(lI(e)&&e.anid){var t=i[e.anid];if(t){var o=r(e);e.attr(r(t)),D_(e,o,n,SM(e).dataIndex)}}}))}function r(e){var t={x:e.x,y:e.y,rotation:e.rotation};return function(e){return null!=e.shape}(e)&&(t.shape=Wf({},e.shape)),t}}function cI(e,t){return Yf(e,(function(e){var n=e[0];n=WE(n,t.x),n=UE(n,t.x+t.width);var i=e[1];return i=WE(i,t.y),[n,i=UE(i,t.y+t.height)]}))}function dI(e,t){var n=WE(e.x,t.x),i=UE(e.x+e.width,t.x+t.width),r=WE(e.y,t.y),o=UE(e.y+e.height,t.y+t.height);if(i>=n&&o>=r)return{x:n,y:r,width:i-n,height:o-r}}function hI(e,t,n){var i=Wf({rectHover:!0},t),r=i.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(r.image=e.slice(8),Uf(r,n),new Zx(i)):ZE(e.replace("path://",""),i,n,"center")}function pI(e,t,n,i,r){for(var o=0,s=r[r.length-1];o<r.length;o++){var a=r[o];if(gI(e,t,n,i,a[0],a[1],s[0],s[1]))return!0;s=a}}function gI(e,t,n,i,r,o,s,a){var l,u=n-e,c=i-t,d=s-r,h=a-o,p=fI(d,h,u,c);if((l=p)<=1e-6&&l>=-1e-6)return!1;var g=e-r,f=t-o,m=fI(g,f,u,c)/p;if(m<0||m>1)return!1;var v=fI(g,f,d,h)/p;return!(v<0||v>1)}function fI(e,t,n,i){return e*i-n*t}function mI(e){var t=e.itemTooltipOption,n=e.componentModel,i=e.itemName,r=im(t)?{formatter:t}:t,o=n.mainType,s=n.componentIndex,a={componentType:o,name:i,$vars:["name"]};a[o+"Index"]=s;var l=e.formatterParamsExtra;l&&qf(Qf(l),(function(e){Tm(a,e)||(a[e]=l[e],a.$vars.push(e))}));var u=SM(e.el);u.componentMainType=o,u.componentIndex=s,u.tooltipConfig={name:i,option:Uf({content:i,encodeHTMLContent:!0,formatterParams:a},r)}}function vI(e,t){var n;e.isGroup&&(n=t(e)),n||e.traverse(t)}function yI(e,t){if(e)if(tm(e))for(var n=0;n<e.length;n++)vI(e[n],t);else vI(e,t)}YE("circle",GA),YE("ellipse",HA),YE("sector",rE),YE("ring",aE),YE("polygon",dE),YE("polyline",gE),YE("rect",oM),YE("line",yE),YE("bezierCurve",xE),YE("arc",RE);var wI=jb(),CI=mA(),bI=function(){function e(){this.group=new eb,this.uid=uR("viewChart"),this.renderTask=nT({plan:MI,reset:_I}),this.renderTask.context={view:this}}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,i){0},e.prototype.highlight=function(e,t,n,i){var r=e.getData(i&&i.dataType);r&&xI(r,i,"emphasis")},e.prototype.downplay=function(e,t,n,i){var r=e.getData(i&&i.dataType);r&&xI(r,i,"normal")},e.prototype.remove=function(e,t){this.group.removeAll()},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,i){this.render(e,t,n,i)},e.prototype.updateLayout=function(e,t,n,i){this.render(e,t,n,i)},e.prototype.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},e.prototype.eachRendered=function(e){yI(this.group,e)},e.markUpdateMethod=function(e,t){wI(e).updateMethod=t},e.protoInitialize=void(e.prototype.type="chart"),e}();function SI(e,t,n){e&&b_(e)&&("emphasis"===t?t_:n_)(e,n)}function xI(e,t,n){var i=Ub(e,t),r=t&&null!=t.highlightKey?function(e){var t=_M[e];return null==t&&MM<=32&&(t=_M[e]=MM++),t}(t.highlightKey):null;null!=i?qf(kb(i),(function(t){SI(e.getItemGraphicEl(t),n,r)})):e.eachItemGraphicEl((function(e){SI(e,n,r)}))}function MI(e){return CI(e.model)}function _I(e){var t=e.model,n=e.ecModel,i=e.api,r=e.payload,o=t.pipelineContext.progressiveRender,s=e.view,a=r&&wI(r).updateMethod,l=o?"incrementalPrepareRender":a&&s[a]?a:"render";return"render"!==l&&s[l](t,n,i,r),RI[l]}oS(bI),cS(bI);var RI={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};const DI=bI;var PI="\0__throttleOriginMethod",TI="\0__throttleRate",AI="\0__throttleType";function EI(e,t,n){var i,r,o,s,a,l=0,u=0,c=null;function d(){u=(new Date).getTime(),c=null,e.apply(o,s||[])}t=t||0;var h=function(){for(var e=[],h=0;h<arguments.length;h++)e[h]=arguments[h];i=(new Date).getTime(),o=this,s=e;var p=a||t,g=a||n;a=null,r=i-(g?l:u)-p,clearTimeout(c),g?c=setTimeout(d,p):r>=0?d():c=setTimeout(d,-r),l=i};return h.clear=function(){c&&(clearTimeout(c),c=null)},h.debounceNextCall=function(e){a=e},h}function II(e,t,n,i){var r=e[t];if(r){var o=r[PI]||r,s=r[AI];if(r[TI]!==n||s!==i){if(null==n||!i)return e[t]=o;(r=e[t]=EI(o,n,"debounce"===i))[PI]=o,r[AI]=i,r[TI]=n}return r}}function kI(e,t){var n=e[t];n&&n[PI]&&(n.clear&&n.clear(),e[t]=n[PI])}var FI=jb(),LI={itemStyle:dS(iR,!0),lineStyle:dS(eR,!0)},OI={lineStyle:"stroke",itemStyle:"fill"};function NI(e,t){var n=e.visualStyleMapper||LI[t];return n||(console.warn("Unknown style type '"+t+"'."),LI.itemStyle)}function BI(e,t){var n=e.visualDrawType||OI[t];return n||(console.warn("Unknown style type '"+t+"'."),"fill")}var GI={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=e.visualStyleAccessPath||"itemStyle",r=e.getModel(i),o=NI(e,i)(r),s=r.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var a=BI(e,i),l=o[a],u=nm(l)?l:null,c="auto"===o.fill||"auto"===o.stroke;if(!o[a]||u||c){var d=e.getColorFromPalette(e.name,null,t.getSeriesCount());o[a]||(o[a]=d,n.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||nm(o.fill)?d:o.fill,o.stroke="auto"===o.stroke||nm(o.stroke)?d:o.stroke}if(n.setVisual("style",o),n.setVisual("drawType",a),!t.isSeriesFiltered(e)&&u)return n.setVisual("colorFromPalette",!1),{dataEach:function(t,n){var i=e.getDataParams(n),r=Wf({},o);r[a]=u(i),t.setItemVisual(n,"style",r)}}}},VI=new aR,zI={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.ignoreStyleOnData&&!t.isSeriesFiltered(e)){var n=e.getData(),i=e.visualStyleAccessPath||"itemStyle",r=NI(e,i),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(e,t){var n=e.getRawDataItem(t);if(n&&n[i]){VI.option=n[i];var s=r(VI);Wf(e.ensureUniqueItemVisual(t,"style"),s),VI.option.decal&&(e.setItemVisual(t,"decal",VI.option.decal),VI.option.decal.dirty=!0),o in s&&e.setItemVisual(t,"colorFromPalette",!1)}}:null}}}},HI={performRawSeries:!0,overallReset:function(e){var t=_m();e.eachSeries((function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var i=e.type+"-"+n,r=t.get(i);r||(r={},t.set(i,r)),FI(e).scope=r}})),e.eachSeries((function(t){if(!t.isColorBySeries()&&!e.isSeriesFiltered(t)){var n=t.getRawData(),i={},r=t.getData(),o=FI(t).scope,s=t.visualStyleAccessPath||"itemStyle",a=BI(t,s);r.each((function(e){var t=r.getRawIndex(e);i[t]=e})),n.each((function(e){var s=i[e];if(r.getItemVisual(s,"colorFromPalette")){var l=r.ensureUniqueItemVisual(s,"style"),u=n.getName(e)||e+"",c=n.count();l[a]=t.getColorFromPalette(u,o,c)}}))}}))}},WI=Math.PI;var UI=function(){function e(e,t,n,i){this._stageTaskMap=_m(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return e.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each((function(e){var t=e.overallTask;t&&t.dirty()}))},e.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,r=!t&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex?n.step:null,o=i&&i.modDataCount;return{step:r,modBy:null!=o?Math.ceil(o/r):null,modDataCount:o}}},e.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},e.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData().count(),r=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,o=e.get("large")&&i>=e.get("largeThreshold"),s="mod"===e.get("progressiveChunkMode")?i:null;e.pipelineContext=n.context={progressiveRender:r,modDataCount:s,large:o}},e.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=_m();e.eachSeries((function(e){var i=e.getProgressive(),r=e.uid;n.set(r,{id:r,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:i&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),t._pipe(e,e.dataTask)}))},e.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;qf(this._allHandlers,(function(i){var r=e.get(i.uid)||e.set(i.uid,{});vm(!(i.reset&&i.overallReset),""),i.reset&&this._createSeriesStageTask(i,r,t,n),i.overallReset&&this._createOverallStageTask(i,r,t,n)}),this)},e.prototype.prepareView=function(e,t,n,i){var r=e.renderTask,o=r.context;o.model=t,o.ecModel=n,o.api=i,r.__block=!e.incrementalPrepareRender,this._pipe(t,r)},e.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},e.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},e.prototype._performStageTasks=function(e,t,n,i){i=i||{};var r=!1,o=this;function s(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}qf(e,(function(e,a){if(!i.visualType||i.visualType===e.visualType){var l=o._stageTaskMap.get(e.uid),u=l.seriesTaskMap,c=l.overallTask;if(c){var d,h=c.agentStubMap;h.each((function(e){s(i,e)&&(e.dirty(),d=!0)})),d&&c.dirty(),o.updatePayload(c,n);var p=o.getPerformArgs(c,i.block);h.each((function(e){e.perform(p)})),c.perform(p)&&(r=!0)}else u&&u.each((function(a,l){s(i,a)&&a.dirty();var u=o.getPerformArgs(a,i.block);u.skip=!e.performRawSeries&&t.isSeriesFiltered(a.context.model),o.updatePayload(a,n),a.perform(u)&&(r=!0)}))}})),this.unfinished=r||this.unfinished},e.prototype.performSeriesTasks=function(e){var t;e.eachSeries((function(e){t=e.dataTask.perform()||t})),this.unfinished=t||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each((function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)}))},e.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},e.prototype._createSeriesStageTask=function(e,t,n,i){var r=this,o=t.seriesTaskMap,s=t.seriesTaskMap=_m(),a=e.seriesType,l=e.getTargetSeries;function u(t){var a=t.uid,l=s.set(a,o&&o.get(a)||nT({plan:YI,reset:XI,count:JI}));l.context={model:t,ecModel:n,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:r},r._pipe(t,l)}e.createOnAllSeries?n.eachRawSeries(u):a?n.eachRawSeriesByType(a,u):l&&l(n,i).each(u)},e.prototype._createOverallStageTask=function(e,t,n,i){var r=this,o=t.overallTask=t.overallTask||nT({reset:jI});o.context={ecModel:n,api:i,overallReset:e.overallReset,scheduler:r};var s=o.agentStubMap,a=o.agentStubMap=_m(),l=e.seriesType,u=e.getTargetSeries,c=!0,d=!1;function h(e){var t=e.uid,n=a.set(t,s&&s.get(t)||(d=!0,nT({reset:$I,onDirty:qI})));n.context={model:e,overallProgress:c},n.agent=o,n.__block=c,r._pipe(e,n)}vm(!e.createOnAllSeries,""),l?n.eachRawSeriesByType(l,h):u?u(n,i).each(h):(c=!1,qf(n.getSeries(),h)),d&&o.dirty()},e.prototype._pipe=function(e,t){var n=e.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},e.wrapStageHandler=function(e,t){return nm(e)&&(e={overallReset:e,seriesType:ek(e)}),e.uid=uR("stageHandler"),t&&(e.visualType=t),e},e}();function jI(e){e.overallReset(e.ecModel,e.api,e.payload)}function $I(e){return e.overallProgress&&KI}function KI(){this.agent.dirty(),this.getDownstream().dirty()}function qI(){this.agent&&this.agent.dirty()}function YI(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function XI(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=kb(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?Yf(t,(function(e,t){return QI(t)})):ZI}var ZI=QI(0);function QI(e){return function(t,n){var i=n.data,r=n.resetDefines[e];if(r&&r.dataEach)for(var o=t.start;o<t.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(t,i)}}function JI(e){return e.data.count()}function ek(e){tk=null;try{e(nk,ik)}catch(JA){}return tk}var tk,nk={},ik={};function rk(e,t){for(var n in t.prototype)e[n]=Am}rk(nk,ZD),rk(ik,JD),nk.eachSeriesByType=nk.eachRawSeriesByType=function(e){tk=e},nk.eachComponent=function(e){"series"===e.mainType&&e.subType&&(tk=e.subType)};const ok=UI;var sk=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const ak={color:sk,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],sk]};var lk="#B9B8CE",uk="#100C2A",ck=function(){return{axisLine:{lineStyle:{color:lk}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},dk=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],hk={darkMode:!0,color:dk,backgroundColor:uk,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:lk}},textStyle:{color:lk},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:lk}},dataZoom:{borderColor:"#71708A",textStyle:{color:lk},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:lk}},timeline:{lineStyle:{color:lk},label:{color:lk},controlStyle:{color:lk,borderColor:lk}},calendar:{itemStyle:{color:uk},dayLabel:{color:lk},monthLabel:{color:lk},yearLabel:{color:lk}},timeAxis:ck(),logAxis:ck(),valueAxis:ck(),categoryAxis:ck(),line:{symbol:"circle"},graph:{color:dk},gauge:{title:{color:lk},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:lk},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};hk.categoryAxis.splitLine.show=!1;const pk=hk;var gk=function(){function e(){}return e.prototype.normalizeQuery=function(e){var t={},n={},i={};if(im(e)){var r=rS(e);t.mainType=r.main||null,t.subType=r.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};qf(e,(function(e,r){for(var a=!1,l=0;l<o.length;l++){var u=o[l],c=r.lastIndexOf(u);if(c>0&&c===r.length-u.length){var d=r.slice(0,c);"data"!==d&&(t.mainType=d,t[u.toLowerCase()]=e,a=!0)}}s.hasOwnProperty(r)&&(n[r]=e,a=!0),a||(i[r]=e)}))}return{cptQuery:t,dataQuery:n,otherQuery:i}},e.prototype.filter=function(e,t){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,r=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var a=t.cptQuery,l=t.dataQuery;return u(a,o,"mainType")&&u(a,o,"subType")&&u(a,o,"index","componentIndex")&&u(a,o,"name")&&u(a,o,"id")&&u(l,r,"name")&&u(l,r,"dataIndex")&&u(l,r,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,t.otherQuery,i,r));function u(e,t,n,i){return null==e[n]||t[i||n]===e[n]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),fk=["symbol","symbolSize","symbolRotate","symbolOffset"],mk=fk.concat(["symbolKeepAspect"]),vk={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendIcon&&n.setVisual("legendIcon",e.legendIcon),e.hasSymbolVisual){for(var i={},r={},o=!1,s=0;s<fk.length;s++){var a=fk[s],l=e.get(a);nm(l)?(o=!0,r[a]=l):i[a]=l}if(i.symbol=i.symbol||e.defaultSymbol,n.setVisual(Wf({legendIcon:e.legendIcon||i.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},i)),!t.isSeriesFiltered(e)){var u=Qf(r);return{dataEach:o?function(t,n){for(var i=e.getRawValue(n),o=e.getDataParams(n),s=0;s<u.length;s++){var a=u[s];t.setItemVisual(n,a,r[a](i,o))}}:null}}}}},yk={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(e.hasSymbolVisual&&!t.isSeriesFiltered(e))return{dataEach:e.getData().hasItemOption?function(e,t){for(var n=e.getItemModel(t),i=0;i<mk.length;i++){var r=mk[i],o=n.getShallow(r,!0);null!=o&&e.setItemVisual(t,r,o)}}:null}}};function wk(e,t,n){switch(n){case"color":return e.getItemVisual(t,"style")[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n)}}function Ck(e,t){switch(t){case"color":return e.getVisual("style")[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function bk(e,t,n,i){switch(n){case"color":e.ensureUniqueItemVisual(t,"style")[e.getVisual("drawType")]=i,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,n,i)}}function Sk(e,t){function n(t,n){var i=[];return t.eachComponent({mainType:"series",subType:e,query:n},(function(e){i.push(e.seriesIndex)})),i}qf([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],(function(e){t(e[0],(function(t,i,r){t=Wf({},t),r.dispatchAction(Wf(t,{type:e[1],seriesIndex:n(i,t)}))}))}))}function xk(e,t,n,i,r){var o=e+t;n.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},(function(e){for(var t=e.seriesIndex,i=e.option.selectedMap,s=r.selected,a=0;a<s.length;a++)if(s[a].seriesIndex===t){var l=e.getData(),u=Ub(l,r.fromActionPayload);n.trigger(o,{type:o,seriesId:e.id,name:tm(u)?l.getName(u[0]):l.getName(u),selected:im(i)?i:Wf({},i)})}}))}function Mk(e,t,n){for(var i;e&&(!t(e)||(i=e,!n));)e=e.__hostTarget||e.parent;return i}var _k=Math.round(9*Math.random()),Rk="function"===typeof Object.defineProperty;const Dk=function(){function e(){this._id="__ec_inner_"+_k++}return e.prototype.get=function(e){return this._guard(e)[this._id]},e.prototype.set=function(e,t){var n=this._guard(e);return Rk?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},e.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},e.prototype.has=function(e){return!!this._guard(e)[this._id]},e.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},e}();var Pk=Ux.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2,o=t.height/2;e.moveTo(n,i-o),e.lineTo(n+r,i+o),e.lineTo(n-r,i+o),e.closePath()}}),Tk=Ux.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2,o=t.height/2;e.moveTo(n,i-o),e.lineTo(n+r,i),e.lineTo(n,i+o),e.lineTo(n-r,i),e.closePath()}}),Ak=Ux.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,r=t.width/5*3,o=Math.max(r,t.height),s=r/2,a=s*s/(o-s),l=i-o+s+a,u=Math.asin(a/s),c=Math.cos(u)*s,d=Math.sin(u),h=Math.cos(u),p=.6*s,g=.7*s;e.moveTo(n-c,l+a),e.arc(n,l,s,Math.PI-u,2*Math.PI+u),e.bezierCurveTo(n+c-d*p,l+a+h*p,n,i-g,n,i),e.bezierCurveTo(n,i-g,n-c+d*p,l+a+h*p,n-c,l+a),e.closePath()}}),Ek=Ux.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,i=t.width,r=t.x,o=t.y,s=i/3*2;e.moveTo(r,o),e.lineTo(r+s,o+n),e.lineTo(r,o+n/4*3),e.lineTo(r-s,o+n),e.lineTo(r,o),e.closePath()}}),Ik={line:function(e,t,n,i,r){r.x1=e,r.y1=t+i/2,r.x2=e+n,r.y2=t+i/2},rect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r.height=i},roundRect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(e,t,n,i,r){var o=Math.min(n,i);r.x=e,r.y=t,r.width=o,r.height=o},circle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.r=Math.min(n,i)/2},diamond:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r.height=i},pin:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r.height=i},arrow:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r.height=i},triangle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r.height=i}},kk={};qf({line:yE,rect:oM,roundRect:oM,square:oM,circle:GA,diamond:Tk,pin:Ak,arrow:Ek,triangle:Pk},(function(e,t){kk[t]=new e}));var Fk=Ux.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var i=zC(e,t,n),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===t.position&&(i.y=n.y+.4*n.height),i},buildPath:function(e,t,n){var i=t.symbolType;if("none"!==i){var r=kk[i];r||(r=kk[i="rect"]),Ik[i](t.x,t.y,t.width,t.height,r.shape),r.buildPath(e,r.shape,n)}}});function Lk(e,t){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",n.lineWidth=2):"line"===this.shape.symbolType?n.stroke=e:n.fill=e,this.markRedraw()}}function Ok(e,t,n,i,r,o,s){var a,l=0===e.indexOf("empty");return l&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(a=0===e.indexOf("image://")?QE(e.slice(8),new Uv(t,n,i,r),s?"center":"cover"):0===e.indexOf("path://")?ZE(e.slice(7),{},new Uv(t,n,i,r),s?"center":"cover"):new Fk({shape:{symbolType:e,x:t,y:n,width:i,height:r}})).__isEmptyBrush=l,a.setColor=Lk,o&&a.setColor(o),a}function Nk(e){return tm(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function Bk(e,t){if(null!=e)return tm(e)||(e=[e,e]),[ub(e[0],t[0])||0,ub(pm(e[1],e[0]),t[1])||0]}function Gk(e){return isFinite(e)}function Vk(e,t,n){for(var i="radial"===t.type?function(e,t,n){var i=n.width,r=n.height,o=Math.min(i,r),s=null==t.x?.5:t.x,a=null==t.y?.5:t.y,l=null==t.r?.5:t.r;return t.global||(s=s*i+n.x,a=a*r+n.y,l*=o),s=Gk(s)?s:.5,a=Gk(a)?a:.5,l=l>=0&&Gk(l)?l:.5,e.createRadialGradient(s,a,0,s,a,l)}(e,t,n):function(e,t,n){var i=null==t.x?0:t.x,r=null==t.x2?1:t.x2,o=null==t.y?0:t.y,s=null==t.y2?0:t.y2;return t.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,s=s*n.height+n.y),i=Gk(i)?i:0,r=Gk(r)?r:1,o=Gk(o)?o:0,s=Gk(s)?s:0,e.createLinearGradient(i,o,r,s)}(e,t,n),r=t.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function zk(e){return parseInt(e,10)}function Hk(e,t,n){var i=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(null!=n[i]&&"auto"!==n[i])return parseFloat(n[i]);var a=document.defaultView.getComputedStyle(e);return(e[r]||zk(a[i])||zk(e.style[i]))-(zk(a[o])||0)-(zk(a[s])||0)|0}function Wk(e){var t,n,i=e.style,r=i.lineDash&&i.lineWidth>0&&(t=i.lineDash,n=i.lineWidth,t&&"solid"!==t&&n>0?"dashed"===t?[4*n,2*n]:"dotted"===t?[n]:om(t)?[t]:tm(t)?t:null:null),o=i.lineDashOffset;if(r){var s=i.strokeNoScale&&e.getLineScale?e.getLineScale():1;s&&1!==s&&(r=Yf(r,(function(e){return e/s})),o/=s)}return[r,o]}var Uk=new bx(!0);function jk(e){var t=e.stroke;return!(null==t||"none"===t||!(e.lineWidth>0))}function $k(e){return"string"===typeof e&&"none"!==e}function Kk(e){var t=e.fill;return null!=t&&"none"!==t}function qk(e,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function Yk(e,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function Xk(e,t,n){var i=mS(t.image,t.__image,n);if(yS(i)){var r=e.createPattern(i,t.repeat||"repeat");if("function"===typeof DOMMatrix&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*Em),o.scaleSelf(t.scaleX||1,t.scaleY||1),r.setTransform(o)}return r}}var Zk=["shadowBlur","shadowOffsetX","shadowOffsetY"],Qk=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Jk(e,t,n,i,r){var o=!1;if(!i&&t===(n=n||{}))return!1;if(i||t.opacity!==n.opacity){sF(e,r),o=!0;var s=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(s)?IS.opacity:s}(i||t.blend!==n.blend)&&(o||(sF(e,r),o=!0),e.globalCompositeOperation=t.blend||IS.blend);for(var a=0;a<Zk.length;a++){var l=Zk[a];(i||t[l]!==n[l])&&(o||(sF(e,r),o=!0),e[l]=e.dpr*(t[l]||0))}return(i||t.shadowColor!==n.shadowColor)&&(o||(sF(e,r),o=!0),e.shadowColor=t.shadowColor||IS.shadowColor),o}function eF(e,t,n,i,r){var o=aF(t,r.inHover),s=i?null:n&&aF(n,r.inHover)||{};if(o===s)return!1;var a=Jk(e,o,s,i,r);if((i||o.fill!==s.fill)&&(a||(sF(e,r),a=!0),$k(o.fill)&&(e.fillStyle=o.fill)),(i||o.stroke!==s.stroke)&&(a||(sF(e,r),a=!0),$k(o.stroke)&&(e.strokeStyle=o.stroke)),(i||o.opacity!==s.opacity)&&(a||(sF(e,r),a=!0),e.globalAlpha=null==o.opacity?1:o.opacity),t.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==l&&(a||(sF(e,r),a=!0),e.lineWidth=l)}for(var u=0;u<Qk.length;u++){var c=Qk[u],d=c[0];(i||o[d]!==s[d])&&(a||(sF(e,r),a=!0),e[d]=o[d]||c[1])}return a}function tF(e,t){var n=t.transform,i=e.dpr||1;n?e.setTransform(i*n[0],i*n[1],i*n[2],i*n[3],i*n[4],i*n[5]):e.setTransform(i,0,0,i,0,0)}var nF=1,iF=2,rF=3,oF=4;function sF(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function aF(e,t){return t&&e.__hoverStyle||e.style}function lF(e,t){uF(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function uF(e,t,n,i){var r=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return t.__dirty&=~cy,void(t.__isRendered=!1);var o=t.__clipPaths,s=n.prevElClipPaths,a=!1,l=!1;if(s&&!function(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}(o,s)||(s&&s.length&&(sF(e,n),e.restore(),l=a=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(sF(e,n),e.save(),function(e,t,n){for(var i=!1,r=0;r<e.length;r++){var o=e[r];i=i||o.isZeroArea(),tF(t,o),t.beginPath(),o.buildPath(t,o.shape),t.clip()}n.allClipped=i}(o,e,n),a=!0),n.prevElClipPaths=o),n.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=n.prevEl;u||(l=a=!0);var c,d,h=t instanceof Ux&&t.autoBatch&&function(e){var t=Kk(e),n=jk(e);return!(e.lineDash||!(+t^+n)||t&&"string"!==typeof e.fill||n&&"string"!==typeof e.stroke||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}(t.style);a||(c=r,d=u.transform,c&&d?c[0]!==d[0]||c[1]!==d[1]||c[2]!==d[2]||c[3]!==d[3]||c[4]!==d[4]||c[5]!==d[5]:c||d)?(sF(e,n),tF(e,t)):h||sF(e,n);var p=aF(t,n.inHover);t instanceof Ux?(n.lastDrawType!==nF&&(l=!0,n.lastDrawType=nF),eF(e,t,u,l,n),h&&(n.batchFill||n.batchStroke)||e.beginPath(),function(e,t,n,i){var r,o=jk(n),s=Kk(n),a=n.strokePercent,l=a<1,u=!t.path;t.silent&&!l||!u||t.createPathProxy();var c=t.path||Uk,d=t.__dirty;if(!i){var h=n.fill,p=n.stroke,g=s&&!!h.colorStops,f=o&&!!p.colorStops,m=s&&!!h.image,v=o&&!!p.image,y=void 0,w=void 0,C=void 0,b=void 0,S=void 0;(g||f)&&(S=t.getBoundingRect()),g&&(y=d?Vk(e,h,S):t.__canvasFillGradient,t.__canvasFillGradient=y),f&&(w=d?Vk(e,p,S):t.__canvasStrokeGradient,t.__canvasStrokeGradient=w),m&&(C=d||!t.__canvasFillPattern?Xk(e,h,t):t.__canvasFillPattern,t.__canvasFillPattern=C),v&&(b=d||!t.__canvasStrokePattern?Xk(e,p,t):t.__canvasStrokePattern,t.__canvasStrokePattern=C),g?e.fillStyle=y:m&&(C?e.fillStyle=C:s=!1),f?e.strokeStyle=w:v&&(b?e.strokeStyle=b:o=!1)}var x,M,_=t.getGlobalScale();c.setScale(_[0],_[1],t.segmentIgnoreThreshold),e.setLineDash&&n.lineDash&&(x=(r=Wk(t))[0],M=r[1]);var R=!0;(u||d&dy)&&(c.setDPR(e.dpr),l?c.setContext(null):(c.setContext(e),R=!1),c.reset(),t.buildPath(c,t.shape,i),c.toStatic(),t.pathUpdated()),R&&c.rebuildPath(e,l?a:1),x&&(e.setLineDash(x),e.lineDashOffset=M),i||(n.strokeFirst?(o&&Yk(e,n),s&&qk(e,n)):(s&&qk(e,n),o&&Yk(e,n))),x&&e.setLineDash([])}(e,t,p,h),h&&(n.batchFill=p.fill||"",n.batchStroke=p.stroke||"")):t instanceof Kx?(n.lastDrawType!==rF&&(l=!0,n.lastDrawType=rF),eF(e,t,u,l,n),function(e,t,n){var i,r=n.text;if(null!=r&&(r+=""),r){e.font=n.font||xf,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline;var o=void 0,s=void 0;e.setLineDash&&n.lineDash&&(o=(i=Wk(t))[0],s=i[1]),o&&(e.setLineDash(o),e.lineDashOffset=s),n.strokeFirst?(jk(n)&&e.strokeText(r,n.x,n.y),Kk(n)&&e.fillText(r,n.x,n.y)):(Kk(n)&&e.fillText(r,n.x,n.y),jk(n)&&e.strokeText(r,n.x,n.y)),o&&e.setLineDash([])}}(e,t,p)):t instanceof Zx?(n.lastDrawType!==iF&&(l=!0,n.lastDrawType=iF),function(e,t,n,i,r){Jk(e,aF(t,r.inHover),n&&aF(n,r.inHover),i,r)}(e,t,u,l,n),function(e,t,n){var i=t.__image=mS(n.image,t.__image,t,t.onload);if(i&&yS(i)){var r=n.x||0,o=n.y||0,s=t.getWidth(),a=t.getHeight(),l=i.width/i.height;if(null==s&&null!=a?s=a*l:null==a&&null!=s?a=s/l:null==s&&null==a&&(s=i.width,a=i.height),n.sWidth&&n.sHeight){var u=n.sx||0,c=n.sy||0;e.drawImage(i,u,c,n.sWidth,n.sHeight,r,o,s,a)}else if(n.sx&&n.sy){var d=s-(u=n.sx),h=a-(c=n.sy);e.drawImage(i,u,c,d,h,r,o,s,a)}else e.drawImage(i,r,o,s,a)}}(e,t,p)):t.getTemporalDisplayables&&(n.lastDrawType!==oF&&(l=!0,n.lastDrawType=oF),function(e,t,n){var i=t.getDisplayables(),r=t.getTemporalDisplayables();e.save();var o,s,a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(o=t.getCursor(),s=i.length;o<s;o++){(c=i[o]).beforeBrush&&c.beforeBrush(),c.innerBeforeBrush(),uF(e,c,a,o===s-1),c.innerAfterBrush(),c.afterBrush&&c.afterBrush(),a.prevEl=c}for(var l=0,u=r.length;l<u;l++){var c;(c=r[l]).beforeBrush&&c.beforeBrush(),c.innerBeforeBrush(),uF(e,c,a,l===u-1),c.innerAfterBrush(),c.afterBrush&&c.afterBrush(),a.prevEl=c}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}(e,t,n)),h&&i&&sF(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var cF=new Dk,dF=new Zy(100),hF=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function pF(e,t){if("none"===e)return null;var n=t.getDevicePixelRatio(),i=t.getZr(),r="svg"===i.painter.type;e.dirty&&cF.delete(e);var o=cF.get(e);if(o)return o;var s=Uf(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===s.backgroundColor&&(s.backgroundColor=null);var a={repeat:"repeat"};return function(e){for(var t,o=[n],a=!0,l=0;l<hF.length;++l){var u=s[hF[l]];if(null!=u&&!tm(u)&&!im(u)&&!om(u)&&"boolean"!==typeof u){a=!1;break}o.push(u)}if(a){t=o.join(",")+(r?"-svg":"");var c=dF.get(t);c&&(r?e.svgElement=c:e.image=c)}var d,h=fF(s.dashArrayX),p=function(e){if(!e||"object"===typeof e&&0===e.length)return[0,0];if(om(e)){var t=Math.ceil(e);return[t,t]}var n=Yf(e,(function(e){return Math.ceil(e)}));return e.length%2?n.concat(n):n}(s.dashArrayY),g=gF(s.symbol),f=(C=h,Yf(C,(function(e){return mF(e)}))),m=mF(p),v=!r&&_f.createCanvas(),y=r&&{tag:"g",attrs:{},key:"dcl",children:[]},w=function(){for(var e=1,t=0,n=f.length;t<n;++t)e=Tb(e,f[t]);var i=1;for(t=0,n=g.length;t<n;++t)i=Tb(i,g[t].length);e*=i;var r=m*f.length*g.length;0;return{width:Math.max(1,Math.min(e,s.maxTileWidth)),height:Math.max(1,Math.min(r,s.maxTileHeight))}}();var C;v&&(v.width=w.width*n,v.height=w.height*n,d=v.getContext("2d"));(function(){d&&(d.clearRect(0,0,v.width,v.height),s.backgroundColor&&(d.fillStyle=s.backgroundColor,d.fillRect(0,0,v.width,v.height)));for(var e=0,t=0;t<p.length;++t)e+=p[t];if(e<=0)return;var o=-m,a=0,l=0,u=0;for(;o<w.height;){if(a%2===0){for(var c=l/2%g.length,f=0,C=0,b=0;f<2*w.width;){var S=0;for(t=0;t<h[u].length;++t)S+=h[u][t];if(S<=0)break;if(C%2===0){var x=.5*(1-s.symbolSize),M=f+h[u][C]*x,_=o+p[a]*x,R=h[u][C]*s.symbolSize,D=p[a]*s.symbolSize,P=b/2%g[c].length;T(M,_,R,D,g[c][P])}f+=h[u][C],++b,++C===h[u].length&&(C=0)}++u===h.length&&(u=0)}o+=p[a],++l,++a===p.length&&(a=0)}function T(e,t,o,a,l){var u=r?1:n,c=Ok(l,e*u,t*u,o*u,a*u,s.color,s.symbolKeepAspect);if(r){var h=i.painter.renderOneToVNode(c);h&&y.children.push(h)}else lF(d,c)}})(),a&&dF.put(t,v||y);e.image=v,e.svgElement=y,e.svgWidth=w.width,e.svgHeight=w.height}(a),a.rotation=s.rotation,a.scaleX=a.scaleY=r?1:1/n,cF.set(e,a),e.dirty=!1,a}function gF(e){if(!e||0===e.length)return[["rect"]];if(im(e))return[[e]];for(var t=!0,n=0;n<e.length;++n)if(!im(e[n])){t=!1;break}if(t)return gF([e]);var i=[];for(n=0;n<e.length;++n)im(e[n])?i.push([e[n]]):i.push(e[n]);return i}function fF(e){if(!e||0===e.length)return[[0,0]];if(om(e))return[[r=Math.ceil(e),r]];for(var t=!0,n=0;n<e.length;++n)if(!om(e[n])){t=!1;break}if(t)return fF([e]);var i=[];for(n=0;n<e.length;++n)if(om(e[n])){var r=Math.ceil(e[n]);i.push([r,r])}else{(r=Yf(e[n],(function(e){return Math.ceil(e)}))).length%2===1?i.push(r.concat(r)):i.push(r)}return i}function mF(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2===1?2*t:t}const vF=new nv;var yF={};var wF=2e3,CF=4500,bF={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:wF,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:CF,ARIA:6e3,DECAL:7e3}},SF="__flagInMainProcess",xF="__pendingUpdate",MF="__needsUpdateStatus",_F=/^[a-zA-Z0-9_]+$/,RF="__connectUpdateStatus";function DF(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!this.isDisposed())return TF(this,e,t);JF(this.id)}}function PF(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return TF(this,e,t)}}function TF(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),nv.prototype[t].apply(e,n)}var AF,EF,IF,kF,FF,LF,OF,NF,BF,GF,VF,zF,HF,WF,UF,jF,$F,KF,qF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t}(nv),YF=qF.prototype;YF.on=PF("on"),YF.off=PF("off");var XF=function(e){function t(t,n,i){var r=e.call(this,new gk)||this;r._chartsViews=[],r._chartsMap={},r._componentsViews=[],r._componentsMap={},r._pendingActions=[],i=i||{},im(n)&&(n=oL[n]),r._dom=t;i.ssr&&(ib=function(e){var t=SM(e),n=t.dataIndex;if(null!=n){var i=_m();return i.set("series_index",t.seriesIndex),i.set("data_index",n),t.ssrType&&i.set("ssr_type",t.ssrType),i}});var o=r._zr=ob(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:pm(i.useDirtyRect,!1),useCoarsePointer:pm(i.useCoarsePointer,"auto"),pointerSize:i.pointerSize});r._ssr=i.ssr,r._throttledZrFlush=EI(Jf(o.flush,o),17),(n=Vf(n))&&RP(n,!0),r._theme=n,r._locale=function(e){if(im(e)){var t=gR[e.toUpperCase()]||{};return e===dR||e===hR?Vf(t):zf(Vf(t),Vf(gR[pR]),!1)}return zf(Vf(e),Vf(gR[pR]),!1)}(i.locale||mR),r._coordSysMgr=new nP;var s=r._api=UF(r);function a(e,t){return e.__prio-t.__prio}return uy(rL,a),uy(nL,a),r._scheduler=new ok(r,s,nL,rL),r._messageCenter=new qF,r._initEvents(),r.resize=Jf(r.resize,r),o.animation.on("frame",r._onframe,r),GF(o,r),VF(o,r),Cm(r),r}return vf(t,e),t.prototype._onframe=function(){if(!this._disposed){KF(this);var e=this._scheduler;if(this[xF]){var t=this[xF].silent;this[SF]=!0;try{AF(this),kF.update.call(this,null,this[xF].updateParams)}catch(JA){throw this[SF]=!1,this[xF]=null,JA}this._zr.flush(),this[SF]=!1,this[xF]=null,NF.call(this,t),BF.call(this,t)}else if(e.unfinished){var n=1,i=this._model,r=this._api;e.unfinished=!1;do{var o=+new Date;e.performSeriesTasks(i),e.performDataProcessorTasks(i),LF(this,i),e.performVisualTasks(i),WF(this,this._model,r,"remain",{}),n-=+new Date-o}while(n>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,t,n){if(!this[SF])if(this._disposed)JF(this.id);else{var i,r,o;if(sm(t)&&(n=t.lazyUpdate,i=t.silent,r=t.replaceMerge,o=t.transition,t=t.notMerge),this[SF]=!0,!this._model||t){var s=new sP(this._api),a=this._theme,l=this._model=new ZD;l.scheduler=this._scheduler,l.ssr=this._ssr,l.init(null,null,null,a,this._locale,s)}this._model.setOption(e,{replaceMerge:r},iL);var u={seriesTransition:o,optionChanged:!0};if(n)this[xF]={silent:i,updateParams:u},this[SF]=!1,this.getZr().wakeUp();else{try{AF(this),kF.update.call(this,null,u)}catch(JA){throw this[xF]=null,this[SF]=!1,JA}this._ssr||this._zr.flush(),this[xF]=null,this[SF]=!1,NF.call(this,i),BF.call(this,i)}}},t.prototype.setTheme=function(){oT()},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Cf.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return e=e||{},this._zr.painter.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return e=e||{},this._zr.painter.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){if(Cf.svgSupported){var e=this._zr;return qf(e.storage.getDisplayList(),(function(e){e.stopAnimation(null,!0)})),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var t=(e=e||{}).excludeComponents,n=this._model,i=[],r=this;qf(t,(function(e){n.eachComponent({mainType:e},(function(e){var t=r._componentsMap[e.__viewId];t.group.ignore||(i.push(t),t.group.ignore=!0)}))}));var o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return qf(i,(function(e){e.group.ignore=!1})),o}JF(this.id)},t.prototype.getConnectedDataURL=function(e){if(!this._disposed){var t="svg"===e.type,n=this.group,i=Math.min,r=Math.max,o=1/0;if(lL[n]){var s=o,a=o,l=-1/0,u=-1/0,c=[],d=e&&e.pixelRatio||this.getDevicePixelRatio();qf(aL,(function(o,d){if(o.group===n){var h=t?o.getZr().painter.getSvgDom().innerHTML:o.renderToCanvas(Vf(e)),p=o.getDom().getBoundingClientRect();s=i(p.left,s),a=i(p.top,a),l=r(p.right,l),u=r(p.bottom,u),c.push({dom:h,left:p.left,top:p.top})}}));var h=(l*=d)-(s*=d),p=(u*=d)-(a*=d),g=_f.createCanvas(),f=ob(g,{renderer:t?"svg":"canvas"});if(f.resize({width:h,height:p}),t){var m="";return qf(c,(function(e){var t=e.left-s,n=e.top-a;m+='<g transform="translate('+t+","+n+')">'+e.dom+"</g>"})),f.painter.getSvgRoot().innerHTML=m,e.connectedBackgroundColor&&f.painter.setBackgroundColor(e.connectedBackgroundColor),f.refreshImmediately(),f.painter.toDataURL()}return e.connectedBackgroundColor&&f.add(new oM({shape:{x:0,y:0,width:h,height:p},style:{fill:e.connectedBackgroundColor}})),qf(c,(function(e){var t=new Zx({style:{x:e.left*d-s,y:e.top*d-a,image:e.dom}});f.add(t)})),f.refreshImmediately(),g.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}JF(this.id)},t.prototype.convertToPixel=function(e,t){return FF(this,"convertToPixel",e,t)},t.prototype.convertFromPixel=function(e,t){return FF(this,"convertFromPixel",e,t)},t.prototype.containPixel=function(e,t){var n;if(!this._disposed)return qf(Kb(this._model,e),(function(e,i){i.indexOf("Models")>=0&&qf(e,(function(e){var r=e.coordinateSystem;if(r&&r.containPoint)n=n||!!r.containPoint(t);else if("seriesModels"===i){var o=this._chartsMap[e.__viewId];o&&o.containPoint&&(n=n||o.containPoint(t,e))}else 0}),this)}),this),!!n;JF(this.id)},t.prototype.getVisual=function(e,t){var n=Kb(this._model,e,{defaultMainType:"series"});var i=n.seriesModel.getData(),r=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?i.indexOfRawIndex(n.dataIndex):null;return null!=r?wk(i,r,t):Ck(i,t)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;qf(QF,(function(t){var n=function(n){var i,r=e.getModel(),o=n.target;if("globalout"===t?i={}:o&&Mk(o,(function(e){var t=SM(e);if(t&&null!=t.dataIndex){var n=t.dataModel||r.getSeriesByIndex(t.seriesIndex);return i=n&&n.getDataParams(t.dataIndex,t.dataType,o)||{},!0}if(t.eventData)return i=Wf({},t.eventData),!0}),!0),i){var s=i.componentType,a=i.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",a=i.seriesIndex);var l=s&&null!=a&&r.getComponent(s,a),u=l&&e["series"===l.mainType?"_chartsMap":"_componentsMap"][l.__viewId];0,i.event=n,i.type=t,e._$eventProcessor.eventInfo={targetEl:o,packedEvent:i,model:l,view:u},e.trigger(t,i)}};n.zrEventfulCallAtLast=!0,e._zr.on(t,n,e)})),qf(tL,(function(t,n){e._messageCenter.on(n,(function(e){this.trigger(n,e)}),e)})),qf(["selectchanged"],(function(t){e._messageCenter.on(t,(function(e){this.trigger(t,e)}),e)})),function(e,t,n){e.on("selectchanged",(function(e){var i=n.getModel();e.isFromClick?(xk("map","selectchanged",t,i,e),xk("pie","selectchanged",t,i,e)):"select"===e.fromAction?(xk("map","selected",t,i,e),xk("pie","selected",t,i,e)):"unselect"===e.fromAction&&(xk("map","unselected",t,i,e),xk("pie","unselected",t,i,e))}))}(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed?JF(this.id):this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed)JF(this.id);else{this._disposed=!0,this.getDom()&&Qb(this.getDom(),cL,"");var e=this,t=e._api,n=e._model;qf(e._componentsViews,(function(e){e.dispose(n,t)})),qf(e._chartsViews,(function(e){e.dispose(n,t)})),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete aL[e.id]}},t.prototype.resize=function(e){if(!this[SF])if(this._disposed)JF(this.id);else{this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption("media"),i=e&&e.silent;this[xF]&&(null==i&&(i=this[xF].silent),n=!0,this[xF]=null),this[SF]=!0;try{n&&AF(this),kF.update.call(this,{type:"resize",animation:Wf({duration:0},e&&e.animation)})}catch(JA){throw this[SF]=!1,JA}this[SF]=!1,NF.call(this,i),BF.call(this,i)}}},t.prototype.showLoading=function(e,t){if(this._disposed)JF(this.id);else if(sm(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),sL[e]){var n=sL[e](this._api,t),i=this._zr;this._loadingFX=n,i.add(n)}},t.prototype.hideLoading=function(){this._disposed?JF(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var t=Wf({},e);return t.type=tL[e.type],t},t.prototype.dispatchAction=function(e,t){if(this._disposed)JF(this.id);else if(sm(t)||(t={silent:!!t}),eL[e.type]&&this._model)if(this[SF])this._pendingActions.push(e);else{var n=t.silent;OF.call(this,e,n);var i=t.flush;i?this._zr.flush():!1!==i&&Cf.browser.weChat&&this._throttledZrFlush(),NF.call(this,n),BF.call(this,n)}},t.prototype.updateLabelLayout=function(){vF.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed)JF(this.id);else{var t=e.seriesIndex;0,this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(e){e.clearColorPalette(),e.eachSeries((function(e){e.clearColorPalette()}))}function t(e){for(var t=[],n=e.currentStates,i=0;i<n.length;i++){var r=n[i];"emphasis"!==r&&"blur"!==r&&"select"!==r&&t.push(r)}e.selected&&e.states.select&&t.push("select"),e.hoverState===AM&&e.states.emphasis?t.push("emphasis"):e.hoverState===TM&&e.states.blur&&t.push("blur"),e.useStates(t)}function n(e,t){if(!e.preventAutoZ){var n=e.get("z")||0,r=e.get("zlevel")||0;t.eachRendered((function(e){return i(e,n,r,-1/0),!0}))}}function i(e,t,n,r){var o=e.getTextContent(),s=e.getTextGuideLine();if(e.isGroup)for(var a=e.childrenRef(),l=0;l<a.length;l++)r=Math.max(i(a[l],t,n,r),r);else e.z=t,e.zlevel=n,r=Math.max(e.z2,r);if(o&&(o.z=t,o.zlevel=n,isFinite(r)&&(o.z2=r+2)),s){var u=e.textGuideLineConfig;s.z=t,s.zlevel=n,isFinite(r)&&(s.z2=r+(u&&u.showAbove?1:-1))}return r}function r(e,t){t.eachRendered((function(e){if(!T_(e)){var t=e.getTextContent(),n=e.getTextGuideLine();e.stateTransition&&(e.stateTransition=null),t&&t.stateTransition&&(t.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),e.hasState()?(e.prevStates=e.currentStates,e.clearStates()):e.prevStates&&(e.prevStates=null)}}))}function o(e,n){var i=e.getModel("stateAnimation"),r=e.isAnimationEnabled(),o=i.get("duration"),s=o>0?{duration:o,delay:i.get("delay"),easing:i.get("easing")}:null;n.eachRendered((function(e){if(e.states&&e.states.emphasis){if(T_(e))return;if(e instanceof Ux&&function(e){var t=RM(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}(e),e.__dirty){var n=e.prevStates;n&&e.useStates(n)}if(r){e.stateTransition=s;var i=e.getTextContent(),o=e.getTextGuideLine();i&&(i.stateTransition=s),o&&(o.stateTransition=s)}e.__dirty&&t(e)}}))}AF=function(e){var t=e._scheduler;t.restorePipelines(e._model),t.prepareStageTasks(),EF(e,!0),EF(e,!1),t.plan()},EF=function(e,t){for(var n=e._model,i=e._scheduler,r=t?e._componentsViews:e._chartsViews,o=t?e._componentsMap:e._chartsMap,s=e._zr,a=e._api,l=0;l<r.length;l++)r[l].__alive=!1;function u(e){var l=e.__requireNewView;e.__requireNewView=!1;var u="_ec_"+e.id+"_"+e.type,c=!l&&o[u];if(!c){var d=rS(e.type);0,(c=new(t?fA.getClass(d.main,d.sub):DI.getClass(d.sub))).init(n,a),o[u]=c,r.push(c),s.add(c.group)}e.__viewId=c.__id=u,c.__alive=!0,c.__model=e,c.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!t&&i.prepareView(c,e,n,a)}t?n.eachComponent((function(e,t){"series"!==e&&u(t)})):n.eachSeries(u);for(l=0;l<r.length;){var c=r[l];c.__alive?l++:(!t&&c.renderTask.dispose(),s.remove(c.group),c.dispose(n,a),r.splice(l,1),o[c.__id]===c&&delete o[c.__id],c.__id=c.group.__ecComponentInfo=null)}},IF=function(e,t,n,i,r){var o=e._model;if(o.setUpdatePayload(n),i){var s={};s[i+"Id"]=n[i+"Id"],s[i+"Index"]=n[i+"Index"],s[i+"Name"]=n[i+"Name"];var a={mainType:i,query:s};r&&(a.subType=r);var l,u=n.excludeSeriesId;null!=u&&(l=_m(),qf(kb(u),(function(e){var t=zb(e,null);null!=t&&l.set(t,!0)}))),o&&o.eachComponent(a,(function(t){if(!(l&&null!=l.get(t.id)))if(x_(n))if(t instanceof pA)n.type!==LM||n.notBlur||t.get(["emphasis","disabled"])||function(e,t,n){var i=e.seriesIndex,r=e.getData(t.dataType);if(r){var o=Ub(r,t);o=(tm(o)?o[0]:o)||0;var s=r.getItemGraphicEl(o);if(!s)for(var a=r.count(),l=0;!s&&l<a;)s=r.getItemGraphicEl(l++);if(s){var u=SM(s);u_(i,u.focus,u.blurScope,n)}else{var c=e.get(["emphasis","focus"]),d=e.get(["emphasis","blurScope"]);null!=c&&u_(i,c,d,n)}}}(t,n,e._api);else{var i=d_(t.mainType,t.componentIndex,n.name,e._api),r=i.focusSelf,o=i.dispatchers;n.type===LM&&r&&!n.notBlur&&c_(t.mainType,t.componentIndex,e._api),o&&qf(o,(function(e){n.type===LM?t_(e):n_(e)}))}else S_(n)&&t instanceof pA&&(!function(e,t){if(S_(t)){var n=t.dataType,i=Ub(e.getData(n),t);tm(i)||(i=[i]),e[t.type===GM?"toggleSelect":t.type===NM?"select":"unselect"](i,n)}}(t,n,e._api),h_(t),$F(e))}),e),o&&o.eachComponent(a,(function(t){l&&null!=l.get(t.id)||c(e["series"===i?"_chartsMap":"_componentsMap"][t.__viewId])}),e)}else qf([].concat(e._componentsViews).concat(e._chartsViews),c);function c(i){i&&i.__alive&&i[t]&&i[t](i.__model,o,e._api,n)}},kF={prepareAndUpdate:function(e){AF(this),kF.update.call(this,e,{optionChanged:null!=e.newOption})},update:function(t,n){var i=this._model,r=this._api,o=this._zr,s=this._coordSysMgr,a=this._scheduler;if(i){i.setUpdatePayload(t),a.restoreData(i,t),a.performSeriesTasks(i),s.create(i,r),a.performDataProcessorTasks(i,t),LF(this,i),s.update(i,r),e(i),a.performVisualTasks(i,t),zF(this,i,r,t,n);var l=i.get("backgroundColor")||"transparent",u=i.get("darkMode");o.setBackgroundColor(l),null!=u&&"auto"!==u&&o.setDarkMode(u),vF.trigger("afterupdate",i,r)}},updateTransform:function(t){var n=this,i=this._model,r=this._api;if(i){i.setUpdatePayload(t);var o=[];i.eachComponent((function(e,s){if("series"!==e){var a=n.getViewOfComponentModel(s);if(a&&a.__alive)if(a.updateTransform){var l=a.updateTransform(s,i,r,t);l&&l.update&&o.push(a)}else o.push(a)}}));var s=_m();i.eachSeries((function(e){var o=n._chartsMap[e.__viewId];if(o.updateTransform){var a=o.updateTransform(e,i,r,t);a&&a.update&&s.set(e.uid,1)}else s.set(e.uid,1)})),e(i),this._scheduler.performVisualTasks(i,t,{setDirty:!0,dirtyMap:s}),WF(this,i,r,t,{},s),vF.trigger("afterupdate",i,r)}},updateView:function(t){var n=this._model;n&&(n.setUpdatePayload(t),DI.markUpdateMethod(t,"updateView"),e(n),this._scheduler.performVisualTasks(n,t,{setDirty:!0}),zF(this,n,this._api,t,{}),vF.trigger("afterupdate",n,this._api))},updateVisual:function(t){var n=this,i=this._model;i&&(i.setUpdatePayload(t),i.eachSeries((function(e){e.getData().clearAllVisual()})),DI.markUpdateMethod(t,"updateVisual"),e(i),this._scheduler.performVisualTasks(i,t,{visualType:"visual",setDirty:!0}),i.eachComponent((function(e,r){if("series"!==e){var o=n.getViewOfComponentModel(r);o&&o.__alive&&o.updateVisual(r,i,n._api,t)}})),i.eachSeries((function(e){n._chartsMap[e.__viewId].updateVisual(e,i,n._api,t)})),vF.trigger("afterupdate",i,this._api))},updateLayout:function(e){kF.update.call(this,e)}},FF=function(e,t,n,i){if(e._disposed)JF(e.id);else{for(var r,o=e._model,s=e._coordSysMgr.getCoordinateSystems(),a=Kb(o,n),l=0;l<s.length;l++){var u=s[l];if(u[t]&&null!=(r=u[t](o,a,i)))return r}0}},LF=function(e,t){var n=e._chartsMap,i=e._scheduler;t.eachSeries((function(e){i.updateStreamModes(e,n[e.__viewId])}))},OF=function(e,t){var n=this,i=this.getModel(),r=e.type,o=e.escapeConnect,s=eL[r],a=s.actionInfo,l=(a.update||"update").split(":"),u=l.pop(),c=null!=l[0]&&rS(l[0]);this[SF]=!0;var d=[e],h=!1;e.batch&&(h=!0,d=Yf(e.batch,(function(t){return(t=Uf(Wf({},t),e)).batch=null,t})));var p,g=[],f=S_(e),m=x_(e);if(m&&l_(this._api),qf(d,(function(t){if((p=(p=s.action(t,n._model,n._api))||Wf({},t)).type=a.event||p.type,g.push(p),m){var i=qb(e),r=i.queryOptionMap,o=i.mainTypeSpecified?r.keys()[0]:"series";IF(n,u,t,o),$F(n)}else f?(IF(n,u,t,"series"),$F(n)):c&&IF(n,u,t,c.main,c.sub)})),"none"!==u&&!m&&!f&&!c)try{this[xF]?(AF(this),kF.update.call(this,e),this[xF]=null):kF[u].call(this,e)}catch(JA){throw this[SF]=!1,JA}if(p=h?{type:a.event||r,escapeConnect:o,batch:g}:g[0],this[SF]=!1,!t){var v=this._messageCenter;if(v.trigger(p.type,p),f){var y={type:"selectchanged",escapeConnect:o,selected:p_(i),isFromClick:e.isFromClick||!1,fromAction:e.type,fromActionPayload:e};v.trigger(y.type,y)}}},NF=function(e){for(var t=this._pendingActions;t.length;){var n=t.shift();OF.call(this,n,e)}},BF=function(e){!e&&this.trigger("updated")},GF=function(e,t){e.on("rendered",(function(n){t.trigger("rendered",n),!e.animation.isFinished()||t[xF]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")}))},VF=function(e,t){e.on("mouseover",(function(e){var n=Mk(e.target,b_);n&&(!function(e,t,n){var i=SM(e),r=d_(i.componentMainType,i.componentIndex,i.componentHighDownName,n),o=r.dispatchers,s=r.focusSelf;o?(s&&c_(i.componentMainType,i.componentIndex,n),qf(o,(function(e){return JM(e,t)}))):(u_(i.seriesIndex,i.focus,i.blurScope,n),"self"===i.focus&&c_(i.componentMainType,i.componentIndex,n),JM(e,t))}(n,e,t._api),$F(t))})).on("mouseout",(function(e){var n=Mk(e.target,b_);n&&(!function(e,t,n){l_(n);var i=SM(e),r=d_(i.componentMainType,i.componentIndex,i.componentHighDownName,n).dispatchers;r?qf(r,(function(e){return e_(e,t)})):e_(e,t)}(n,e,t._api),$F(t))})).on("click",(function(e){var n=Mk(e.target,(function(e){return null!=SM(e).dataIndex}),!0);if(n){var i=n.selected?"unselect":"select",r=SM(n);t._api.dispatchAction({type:i,dataType:r.dataType,dataIndexInside:r.dataIndex,seriesIndex:r.seriesIndex,isFromClick:!0})}}))},zF=function(e,t,n,i,r){!function(e){var t=[],n=[],i=!1;if(e.eachComponent((function(e,r){var o=r.get("zlevel")||0,s=r.get("z")||0,a=r.getZLevelKey();i=i||!!a,("series"===e?n:t).push({zlevel:o,z:s,idx:r.componentIndex,type:e,key:a})})),i){var r,o,s=t.concat(n);uy(s,(function(e,t){return e.zlevel===t.zlevel?e.z-t.z:e.zlevel-t.zlevel})),qf(s,(function(t){var n=e.getComponent(t.type,t.idx),i=t.zlevel,s=t.key;null!=r&&(i=Math.max(r,i)),s?(i===r&&s!==o&&i++,o=s):o&&(i===r&&i++,o=""),r=i,n.setZLevel(i)}))}}(t),HF(e,t,n,i,r),qf(e._chartsViews,(function(e){e.__alive=!1})),WF(e,t,n,i,r),qf(e._chartsViews,(function(e){e.__alive||e.remove(t,n)}))},HF=function(e,t,i,s,a,l){qf(l||e._componentsViews,(function(e){var a=e.__model;r(a,e),e.render(a,t,i,s),n(a,e),o(a,e)}))},WF=function(e,t,i,s,a,l){var u=e._scheduler;a=Wf(a||{},{updatedSeries:t.getSeries()}),vF.trigger("series:beforeupdate",t,i,a);var c=!1;t.eachSeries((function(t){var n=e._chartsMap[t.__viewId];n.__alive=!0;var i=n.renderTask;u.updatePayload(i,s),r(t,n),l&&l.get(t.uid)&&i.dirty(),i.perform(u.getPerformArgs(i))&&(c=!0),n.group.silent=!!t.get("silent"),function(e,t){var n=e.get("blendMode")||null;t.eachRendered((function(e){e.isGroup||(e.style.blend=n)}))}(t,n),h_(t)})),u.unfinished=c||u.unfinished,vF.trigger("series:layoutlabels",t,i,a),vF.trigger("series:transition",t,i,a),t.eachSeries((function(t){var i=e._chartsMap[t.__viewId];n(t,i),o(t,i)})),function(e,t){var n=e._zr,i=n.storage,r=0;i.traverse((function(e){e.isGroup||r++})),r>t.get("hoverLayerThreshold")&&!Cf.node&&!Cf.worker&&t.eachSeries((function(t){if(!t.preventUsingHoverLayer){var n=e._chartsMap[t.__viewId];n.__alive&&n.eachRendered((function(e){e.states.emphasis&&(e.states.emphasis.hoverLayer=!0)}))}}))}(e,t),vF.trigger("series:afterupdate",t,i,a)},$F=function(e){e[MF]=!0,e.getZr().wakeUp()},KF=function(e){e[MF]&&(e.getZr().storage.traverse((function(e){T_(e)||t(e)})),e[MF]=!1)},UF=function(e){return new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return vf(n,t),n.prototype.getCoordinateSystems=function(){return e._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(t){for(;t;){var n=t.__ecComponentInfo;if(null!=n)return e._model.getComponent(n.mainType,n.index);t=t.parent}},n.prototype.enterEmphasis=function(t,n){t_(t,n),$F(e)},n.prototype.leaveEmphasis=function(t,n){n_(t,n),$F(e)},n.prototype.enterBlur=function(t){i_(t),$F(e)},n.prototype.leaveBlur=function(t){r_(t),$F(e)},n.prototype.enterSelect=function(t){o_(t),$F(e)},n.prototype.leaveSelect=function(t){s_(t),$F(e)},n.prototype.getModel=function(){return e.getModel()},n.prototype.getViewOfComponentModel=function(t){return e.getViewOfComponentModel(t)},n.prototype.getViewOfSeriesModel=function(t){return e.getViewOfSeriesModel(t)},n}(JD))(e)},jF=function(e){function t(e,t){for(var n=0;n<e.length;n++){e[n][RF]=t}}qf(tL,(function(n,i){e._messageCenter.on(i,(function(n){if(lL[e.group]&&0!==e[RF]){if(n&&n.escapeConnect)return;var i=e.makeActionFromEvent(n),r=[];qf(aL,(function(t){t!==e&&t.group===e.group&&r.push(t)})),t(r,0),qf(r,(function(e){1!==e[RF]&&e.dispatchAction(i)})),t(r,2)}}))}))}}(),t}(nv),ZF=XF.prototype;ZF.on=DF("on"),ZF.off=DF("off"),ZF.one=function(e,t,n){var i=this;oT(),this.on.call(this,e,(function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t&&t.apply&&t.apply(this,r),i.off(e,n)}),n)};var QF=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function JF(e){0}var eL={},tL={},nL=[],iL=[],rL=[],oL={},sL={},aL={},lL={},uL=+new Date-0,cL=(new Date,"_echarts_instance_");function dL(e){return aL[function(e,t){return e.getAttribute?e.getAttribute(t):e[t]}(e,cL)]}function hL(e,t){oL[e]=t}function pL(e){jf(iL,e)<0&&iL.push(e)}function gL(e,t){wL(nL,e,t,2e3)}function fL(e,t){vF.on(e,t)}function mL(e,t,n){nm(t)&&(n=t,t="");var i=sm(e)?e.type:[e,e={event:t}][0];e.event=(e.event||i).toLowerCase(),t=e.event,tL[t]||(vm(_F.test(i)&&_F.test(t)),eL[i]||(eL[i]={action:n,actionInfo:e}),tL[t]=i)}function vL(e,t){wL(rL,e,t,3e3,"visual")}var yL=[];function wL(e,t,n,i,r){if((nm(t)||sm(t))&&(n=t,t=i),!(jf(yL,n)>=0)){yL.push(n);var o=ok.wrapStageHandler(n,r);o.__prio=t,o.__raw=n,e.push(o)}}function CL(e,t){sL[e]=t}var bL=function(e){var t=(e=Vf(e)).type;t||sT("");var n=t.split(":");2!==n.length&&sT("");var i=!1;"echarts"===n[0]&&(t=n[1],i=!0),e.__isBuiltIn=i,CT.set(t,e)};vL(wF,GI),vL(CF,zI),vL(CF,HI),vL(wF,vk),vL(CF,yk),vL(7e3,(function(e,t){e.eachRawSeries((function(n){if(!e.isSeriesFiltered(n)){var i=n.getData();i.hasItemVisual()&&i.each((function(e){var n=i.getItemVisual(e,"decal");n&&(i.ensureUniqueItemVisual(e,"style").decal=pF(n,t))}));var r=i.getVisual("decal");if(r)i.getVisual("style").decal=pF(r,t)}}))})),pL(RP),gL(900,(function(e){var t=_m();e.eachSeries((function(e){var n=e.get("stack");if(n){var i=t.get(n)||t.set(n,[]),r=e.getData(),o={stackResultDimension:r.getCalculationInfo("stackResultDimension"),stackedOverDimension:r.getCalculationInfo("stackedOverDimension"),stackedDimension:r.getCalculationInfo("stackedDimension"),stackedByDimension:r.getCalculationInfo("stackedByDimension"),isStackedByIndex:r.getCalculationInfo("isStackedByIndex"),data:r,seriesModel:e};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;i.length&&r.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}})),t.each(DP)})),CL("default",(function(e,t){Uf(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new eb,i=new oM({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(i);var r,o=new bM({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),s=new oM({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return n.add(s),t.showSpinner&&((r=new RE({shape:{startAngle:-WI/2,endAngle:-WI/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*WI/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*WI/2}).delay(300).start("circularInOut"),n.add(r)),n.resize=function(){var n=o.getBoundingRect().width,a=t.showSpinner?t.spinnerRadius:0,l=(e.getWidth()-2*a-(t.showSpinner&&n?10:0)-n)/2-(t.showSpinner&&n?0:5+n/2)+(t.showSpinner?0:n/2)+(n?0:a),u=e.getHeight()/2;t.showSpinner&&r.setShape({cx:l,cy:u}),s.setShape({x:l-a,y:u-a,width:2*a,height:2*a}),i.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n})),mL({type:LM,event:LM,update:LM},Am),mL({type:OM,event:OM,update:OM},Am),mL({type:NM,event:NM,update:NM},Am),mL({type:BM,event:BM,update:BM},Am),mL({type:GM,event:GM,update:GM},Am),hL("light",ak),hL("dark",pk);var SL=[],xL={registerPreprocessor:pL,registerProcessor:gL,registerPostInit:function(e){fL("afterinit",e)},registerPostUpdate:function(e){fL("afterupdate",e)},registerUpdateLifecycle:fL,registerAction:mL,registerCoordinateSystem:function(e,t){nP.register(e,t)},registerLayout:function(e,t){wL(rL,e,t,1e3,"layout")},registerVisual:vL,registerTransform:bL,registerLoading:CL,registerMap:function(e,t,n){var i=yF["registerMap"];i&&i(e,t,n)},registerImpl:function(e,t){yF[e]=t},PRIORITY:bF,ComponentModel:vD,ComponentView:fA,SeriesModel:pA,ChartView:DI,registerComponentModel:function(e){vD.registerClass(e)},registerComponentView:function(e){fA.registerClass(e)},registerSeriesModel:function(e){pA.registerClass(e)},registerChartView:function(e){DI.registerClass(e)},registerSubTypeDefaulter:function(e,t){vD.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){var n;n=t,tb[e]=n}};function ML(e){tm(e)?qf(e,(function(e){ML(e)})):jf(SL,e)>=0||(SL.push(e),nm(e)&&(e={install:e}),e.install(xL))}var _L=2*Math.PI,RL=bx.CMD,DL=["top","right","bottom","left"];function PL(e,t,n,i,r){var o=n.width,s=n.height;switch(e){case"top":i.set(n.x+o/2,n.y-t),r.set(0,-1);break;case"bottom":i.set(n.x+o/2,n.y+s+t),r.set(0,1);break;case"left":i.set(n.x-t,n.y+s/2),r.set(-1,0);break;case"right":i.set(n.x+o+t,n.y+s/2),r.set(1,0)}}function TL(e,t,n,i,r,o,s,a,l){s-=e,a-=t;var u=Math.sqrt(s*s+a*a),c=(s/=u)*n+e,d=(a/=u)*n+t;if(Math.abs(i-r)%_L<1e-4)return l[0]=c,l[1]=d,u-n;if(o){var h=i;i=Rx(r),r=Rx(h)}else i=Rx(i),r=Rx(r);i>r&&(r+=_L);var p=Math.atan2(a,s);if(p<0&&(p+=_L),p>=i&&p<=r||p+_L>=i&&p+_L<=r)return l[0]=c,l[1]=d,u-n;var g=n*Math.cos(i)+e,f=n*Math.sin(i)+t,m=n*Math.cos(r)+e,v=n*Math.sin(r)+t,y=(g-s)*(g-s)+(f-a)*(f-a),w=(m-s)*(m-s)+(v-a)*(v-a);return y<w?(l[0]=g,l[1]=f,Math.sqrt(y)):(l[0]=m,l[1]=v,Math.sqrt(w))}function AL(e,t,n,i,r,o,s,a){var l=r-e,u=o-t,c=n-e,d=i-t,h=Math.sqrt(c*c+d*d),p=(l*(c/=h)+u*(d/=h))/h;a&&(p=Math.min(Math.max(p,0),1)),p*=h;var g=s[0]=e+p*c,f=s[1]=t+p*d;return Math.sqrt((g-r)*(g-r)+(f-o)*(f-o))}function EL(e,t,n,i,r,o,s){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i);var a=e+n,l=t+i,u=s[0]=Math.min(Math.max(r,e),a),c=s[1]=Math.min(Math.max(o,t),l);return Math.sqrt((u-r)*(u-r)+(c-o)*(c-o))}var IL=[];function kL(e,t,n){var i=EL(t.x,t.y,t.width,t.height,e.x,e.y,IL);return n.set(IL[0],IL[1]),i}function FL(e,t,n){for(var i,r,o=0,s=0,a=0,l=0,u=1/0,c=t.data,d=e.x,h=e.y,p=0;p<c.length;){var g=c[p++];1===p&&(a=o=c[p],l=s=c[p+1]);var f=u;switch(g){case RL.M:o=a=c[p++],s=l=c[p++];break;case RL.L:f=AL(o,s,c[p],c[p+1],d,h,IL,!0),o=c[p++],s=c[p++];break;case RL.C:f=Oy(o,s,c[p++],c[p++],c[p++],c[p++],c[p],c[p+1],d,h,IL),o=c[p++],s=c[p++];break;case RL.Q:f=Hy(o,s,c[p++],c[p++],c[p],c[p+1],d,h,IL),o=c[p++],s=c[p++];break;case RL.A:var m=c[p++],v=c[p++],y=c[p++],w=c[p++],C=c[p++],b=c[p++];p+=1;var S=!!(1-c[p++]);i=Math.cos(C)*y+m,r=Math.sin(C)*w+v,p<=1&&(a=i,l=r),f=TL(m,v,w,C,C+b,S,(d-m)*w/y+m,h,IL),o=Math.cos(C+b)*y+m,s=Math.sin(C+b)*w+v;break;case RL.R:f=EL(a=o=c[p++],l=s=c[p++],c[p++],c[p++],d,h,IL);break;case RL.Z:f=AL(o,s,a,l,d,h,IL,!0),o=a,s=l}f<u&&(u=f,n.set(IL[0],IL[1]))}return u}var LL=new Fv,OL=new Fv,NL=new Fv,BL=new Fv,GL=new Fv;function VL(e,t){if(e){var n=e.getTextGuideLine(),i=e.getTextContent();if(i&&n){var r=e.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],s=r.candidates||DL,a=i.getBoundingRect().clone();a.applyTransform(i.getComputedTransform());var l=1/0,u=r.anchor,c=e.getComputedTransform(),d=c&&Iv([],c),h=t.get("length2")||0;u&&NL.copy(u);for(var p=0;p<s.length;p++){PL(s[p],0,a,LL,BL),Fv.scaleAndAdd(OL,LL,BL,h),OL.transform(d);var g=e.getBoundingRect(),f=u?u.distance(OL):e instanceof Ux?FL(OL,e.path,NL):kL(OL,g,NL);f<l&&(l=f,OL.transform(c),NL.transform(c),NL.toArray(o[0]),OL.toArray(o[1]),LL.toArray(o[2]))}WL(o,t.get("minTurnAngle")),n.setShape({points:o})}}}var zL=[],HL=new Fv;function WL(e,t){if(t<=180&&t>0){t=t/180*Math.PI,LL.fromArray(e[0]),OL.fromArray(e[1]),NL.fromArray(e[2]),Fv.sub(BL,LL,OL),Fv.sub(GL,NL,OL);var n=BL.len(),i=GL.len();if(!(n<.001||i<.001)){BL.scale(1/n),GL.scale(1/i);var r=BL.dot(GL);if(Math.cos(t)<r){var o=AL(OL.x,OL.y,NL.x,NL.y,LL.x,LL.y,zL,!1);HL.fromArray(zL),HL.scaleAndAdd(GL,o/Math.tan(Math.PI-t));var s=NL.x!==OL.x?(HL.x-OL.x)/(NL.x-OL.x):(HL.y-OL.y)/(NL.y-OL.y);if(isNaN(s))return;s<0?Fv.copy(HL,OL):s>1&&Fv.copy(HL,NL),HL.toArray(e[1])}}}}function UL(e,t,n){if(n<=180&&n>0){n=n/180*Math.PI,LL.fromArray(e[0]),OL.fromArray(e[1]),NL.fromArray(e[2]),Fv.sub(BL,OL,LL),Fv.sub(GL,NL,OL);var i=BL.len(),r=GL.len();if(!(i<.001||r<.001))if(BL.scale(1/i),GL.scale(1/r),BL.dot(t)<Math.cos(n)){var o=AL(OL.x,OL.y,NL.x,NL.y,LL.x,LL.y,zL,!1);HL.fromArray(zL);var s=Math.PI/2,a=s+Math.acos(GL.dot(t))-n;if(a>=s)Fv.copy(HL,NL);else{HL.scaleAndAdd(GL,o/Math.tan(Math.PI/2-a));var l=NL.x!==OL.x?(HL.x-OL.x)/(NL.x-OL.x):(HL.y-OL.y)/(NL.y-OL.y);if(isNaN(l))return;l<0?Fv.copy(HL,OL):l>1&&Fv.copy(HL,NL)}HL.toArray(e[1])}}}function jL(e,t,n,i){var r="normal"===n,o=r?e:e.ensureState(n);o.ignore=t;var s=i.get("smooth");s&&!0===s&&(s=.3),o.shape=o.shape||{},s>0&&(o.shape.smooth=s);var a=i.getModel("lineStyle").getLineStyle();r?e.useStyle(a):o.style=a}function $L(e,t){var n=t.smooth,i=t.points;if(i)if(e.moveTo(i[0][0],i[0][1]),n>0&&i.length>=3){var r=$m(i[0],i[1]),o=$m(i[1],i[2]);if(!r||!o)return e.lineTo(i[1][0],i[1][1]),void e.lineTo(i[2][0],i[2][1]);var s=Math.min(r,o)*n,a=qm([],i[1],i[0],s/r),l=qm([],i[1],i[2],s/o),u=qm([],a,l,.5);e.bezierCurveTo(a[0],a[1],a[0],a[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var c=1;c<i.length;c++)e.lineTo(i[c][0],i[c][1])}function KL(e,t,n){var i=e.getTextGuideLine(),r=e.getTextContent();if(r){for(var o=t.normal,s=o.get("show"),a=r.ignore,l=0;l<IM.length;l++){var u=IM[l],c=t[u],d="normal"===u;if(c){var h=c.get("show");if((d?a:pm(r.states[u]&&r.states[u].ignore,a))||!pm(h,s)){var p=d?i:i&&i.states[u];p&&(p.ignore=!0),i&&jL(i,!0,u,c);continue}i||(i=new gE,e.setTextGuideLine(i),d||!a&&s||jL(i,!0,"normal",t.normal),e.stateProxy&&(i.stateProxy=e.stateProxy)),jL(i,!1,u,c)}}if(i){Uf(i.style,n),i.style.fill=null;var g=o.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=g||!1,i.buildPath=$L}}else i&&e.removeTextGuideLine()}function qL(e,t){t=t||"labelLine";for(var n={normal:e.getModel(t)},i=0;i<EM.length;i++){var r=EM[i];n[r]=e.getModel([r,t])}return n}function YL(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),s=r.getBoundingRect(),a=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,u=s.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=a?new GE(s,o):null;t.push({label:r,labelLine:i.labelLine,rect:u,localRect:s,obb:c,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:a,transform:o})}}return t}function XL(e,t,n,i,r,o){var s=e.length;if(!(s<2)){e.sort((function(e,n){return e.rect[t]-n.rect[t]}));for(var a,l=0,u=!1,c=[],d=0,h=0;h<s;h++){var p=e[h],g=p.rect;(a=g[t]-l)<0&&(g[t]-=a,p.label[t]-=a,u=!0);var f=Math.max(-a,0);c.push(f),d+=f,l=g[t]+g[n]}d>0&&o&&S(-d/s,0,s);var m,v,y=e[0],w=e[s-1];return C(),m<0&&x(-m,.8),v<0&&x(v,.8),C(),b(m,v,1),b(v,m,-1),C(),m<0&&M(-m),v<0&&M(v),u}function C(){m=y.rect[t]-i,v=r-w.rect[t]-w.rect[n]}function b(e,t,n){if(e<0){var i=Math.min(t,-e);if(i>0){S(i*n,0,s);var r=i+e;r<0&&x(-r*n,1)}else x(-e*n,1)}}function S(n,i,r){0!==n&&(u=!0);for(var o=i;o<r;o++){var s=e[o];s.rect[t]+=n,s.label[t]+=n}}function x(i,r){for(var o=[],a=0,l=1;l<s;l++){var u=e[l-1].rect,c=Math.max(e[l].rect[t]-u[t]-u[n],0);o.push(c),a+=c}if(a){var d=Math.min(Math.abs(i)/a,r);if(i>0)for(l=0;l<s-1;l++){S(o[l]*d,0,l+1)}else for(l=s-1;l>0;l--){S(-(o[l-1]*d),l,s)}}}function M(e){var t=e<0?-1:1;e=Math.abs(e);for(var n=Math.ceil(e/(s-1)),i=0;i<s-1;i++)if(t>0?S(n,0,i+1):S(-n,s-i-1,s),(e-=n)<=0)return}}function ZL(e,t,n,i){return XL(e,"y","height",t,n,i)}function QL(e){var t=[];e.sort((function(e,t){return t.priority-e.priority}));var n=new Uv(0,0,0,0);function i(e){if(!e.ignore){var t=e.ensureState("emphasis");null==t.ignore&&(t.ignore=!1)}e.ignore=!0}for(var r=0;r<e.length;r++){var o=e[r],s=o.axisAligned,a=o.localRect,l=o.transform,u=o.label,c=o.labelLine;n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var d=o.obb,h=!1,p=0;p<t.length;p++){var g=t[p];if(n.intersect(g.rect)){if(s&&g.axisAligned){h=!0;break}if(g.obb||(g.obb=new GE(g.localRect,g.transform)),d||(d=new GE(a,l)),d.intersect(g.obb)){h=!0;break}}}h?(i(u),c&&i(c)):(u.attr("ignore",o.defaultAttr.ignore),c&&c.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}function JL(e){if(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].slice());return t}}function eO(e,t){var n=e.label,i=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:JL(i&&i.shape.points)}}var tO=["align","verticalAlign","width","height","fontSize"],nO=new IC,iO=jb(),rO=jb();function oO(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];null!=t[r]&&(e[r]=t[r])}}var sO=["x","y","rotation"],aO=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(e,t,n,i,r){var o=i.style,s=i.__hostTarget.textConfig||{},a=i.getComputedTransform(),l=i.getBoundingRect().plain();Uv.applyTransform(l,l,a),a?nO.setLocalTransform(a):(nO.x=nO.y=nO.rotation=nO.originX=nO.originY=0,nO.scaleX=nO.scaleY=1),nO.rotation=Rx(nO.rotation);var u,c=i.__hostTarget;if(c){u=c.getBoundingRect().plain();var d=c.getComputedTransform();Uv.applyTransform(u,u,d)}var h=u&&c.getTextGuideLine();this._labelList.push({label:i,labelLine:h,seriesModel:n,dataIndex:e,dataType:t,layoutOption:r,computedLayoutOption:null,rect:l,hostRect:u,priority:u?u.width*u.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:h&&h.ignore,x:nO.x,y:nO.y,scaleX:nO.scaleX,scaleY:nO.scaleY,rotation:nO.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:s.position,attachedRot:s.rotation}})},e.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var n=e.__model,i=n.get("labelLayout");(nm(i)||Qf(i).length)&&e.group.traverse((function(e){if(e.ignore)return!0;var r=e.getTextContent(),o=SM(e);r&&!r.disableLabelLayout&&t._addLabel(o.dataIndex,o.dataType,n,r,i)}))},e.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),n=e.getHeight();function i(e,t){return function(){VL(e,t)}}for(var r=0;r<this._labelList.length;r++){var o=this._labelList[r],s=o.label,a=s.__hostTarget,l=o.defaultAttr,u=void 0;u=(u=nm(o.layoutOption)?o.layoutOption(eO(o,a)):o.layoutOption)||{},o.computedLayoutOption=u;var c=Math.PI/180;a&&a.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:l.attachedPos,rotation:null!=u.rotate?u.rotate*c:l.attachedRot,offset:[u.dx||0,u.dy||0]});var d=!1;if(null!=u.x?(s.x=ub(u.x,t),s.setStyle("x",0),d=!0):(s.x=l.x,s.setStyle("x",l.style.x)),null!=u.y?(s.y=ub(u.y,n),s.setStyle("y",0),d=!0):(s.y=l.y,s.setStyle("y",l.style.y)),u.labelLinePoints){var h=a.getTextGuideLine();h&&(h.setShape({points:u.labelLinePoints}),d=!1)}iO(s).needsUpdateLabelLine=d,s.rotation=null!=u.rotate?u.rotate*c:l.rotation,s.scaleX=l.scaleX,s.scaleY=l.scaleY;for(var p=0;p<tO.length;p++){var g=tO[p];s.setStyle(g,null!=u[g]?u[g]:l.style[g])}if(u.draggable){if(s.draggable=!0,s.cursor="move",a){var f=o.seriesModel;if(null!=o.dataIndex)f=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex);s.on("drag",i(a,f.getModel("labelLine")))}}else s.off("drag"),s.cursor=l.cursor}},e.prototype.layout=function(e){var t,n=e.getWidth(),i=e.getHeight(),r=YL(this._labelList),o=Zf(r,(function(e){return"shiftX"===e.layoutOption.moveOverlap})),s=Zf(r,(function(e){return"shiftY"===e.layoutOption.moveOverlap}));XL(o,"x","width",0,n,t),ZL(s,0,i),QL(Zf(r,(function(e){return e.layoutOption.hideOverlap})))},e.prototype.processLabelsOverall=function(){var e=this;qf(this._chartViewList,(function(t){var n=t.__model,i=t.ignoreLabelLineUpdate,r=n.isAnimationEnabled();t.group.traverse((function(t){if(t.ignore&&!t.forceLabelAnimation)return!0;var o=!i,s=t.getTextContent();!o&&s&&(o=iO(s).needsUpdateLabelLine),o&&e._updateLabelLine(t,n),r&&e._animateLabels(t,n)}))}))},e.prototype._updateLabelLine=function(e,t){var n=e.getTextContent(),i=SM(e),r=i.dataIndex;if(n&&null!=r){var o=t.getData(i.dataType),s=o.getItemModel(r),a={},l=o.getItemVisual(r,"style");if(l){var u=o.getVisual("drawType");a.stroke=l[u]}var c=s.getModel("labelLine");KL(e,qL(s),a),VL(e,c)}},e.prototype._animateLabels=function(e,t){var n=e.getTextContent(),i=e.getTextGuideLine();if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!T_(e))){var r=(p=iO(n)).oldLayout,o=SM(e),s=o.dataIndex,a={x:n.x,y:n.y,rotation:n.rotation},l=t.getData(o.dataType);if(r){n.attr(r);var u=e.prevStates;u&&(jf(u,"select")>=0&&n.attr(p.oldLayoutSelect),jf(u,"emphasis")>=0&&n.attr(p.oldLayoutEmphasis)),D_(n,a,t,s)}else if(n.attr(a),!$_(n).valueAnimation){var c=pm(n.style.opacity,1);n.style.opacity=0,P_(n,{style:{opacity:c}},t,s)}if(p.oldLayout=a,n.states.select){var d=p.oldLayoutSelect={};oO(d,a,sO),oO(d,n.states.select,sO)}if(n.states.emphasis){var h=p.oldLayoutEmphasis={};oO(h,a,sO),oO(h,n.states.emphasis,sO)}q_(n,s,l,t,t)}if(i&&!i.ignore&&!i.invisible){r=(p=rO(i)).oldLayout;var p,g={points:i.shape.points};r?(i.attr({shape:r}),D_(i,{shape:g},t)):(i.setShape(g),i.style.strokePercent=0,P_(i,{style:{strokePercent:1}},t)),p.oldLayout=g}},e}();const lO=aO;var uO=jb();function cO(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,n){var i=uO(t).labelManager;i||(i=uO(t).labelManager=new lO),i.clearLabels()})),e.registerUpdateLifecycle("series:layoutlabels",(function(e,t,n){var i=uO(t).labelManager;n.updatedSeries.forEach((function(e){i.addLabelsOfSeries(t.getViewOfSeriesModel(e))})),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()}))}function dO(e,t,n){var i=_f.createCanvas(),r=t.getWidth(),o=t.getHeight(),s=i.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=r+"px",s.height=o+"px",i.setAttribute("data-zr-dom-id",e)),i.width=r*n,i.height=o*n,i}ML(cO);var hO=function(e){function t(t,n,i){var r,o=e.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,i=i||wC,"string"===typeof t?r=dO(t,n,i):sm(t)&&(t=(r=t).id),o.id=t,o.dom=r;var s=r.style;return s&&(Pm(r),r.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),o.painter=n,o.dpr=i,o}return km(t,e),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=dO("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,t,n,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var r,o=[],s=this.maxRepaintRectCount,a=!1,l=new Uv(0,0,0,0);function u(e){if(e.isFinite()&&!e.isZero())if(0===o.length){(t=new Uv(0,0,0,0)).copy(e),o.push(t)}else{for(var t,n=!1,i=1/0,r=0,u=0;u<o.length;++u){var c=o[u];if(c.intersect(e)){var d=new Uv(0,0,0,0);d.copy(c),d.union(e),o[u]=d,n=!0;break}if(a){l.copy(e),l.union(c);var h=e.width*e.height,p=c.width*c.height,g=l.width*l.height-h-p;g<i&&(i=g,r=u)}}if(a&&(o[r].union(e),n=!0),!n)(t=new Uv(0,0,0,0)).copy(e),o.push(t);a||(a=o.length>=s)}}for(var c=this.__startIndex;c<this.__endIndex;++c){if(p=e[c]){var d=p.shouldBePainted(n,i,!0,!0);(g=p.__isRendered&&(p.__dirty&cy||!d)?p.getPrevPaintRect():null)&&u(g);var h=d&&(p.__dirty&cy||!p.__isRendered)?p.getPaintRect():null;h&&u(h)}}for(c=this.__prevStartIndex;c<this.__prevEndIndex;++c){var p,g;d=(p=t[c])&&p.shouldBePainted(n,i,!0,!0);if(p&&(!d||!p.__zr)&&p.__isRendered)(g=p.getPrevPaintRect())&&u(g)}do{r=!1;for(c=0;c<o.length;)if(o[c].isZero())o.splice(c,1);else{for(var f=c+1;f<o.length;)o[c].intersect(o[f])?(r=!0,o[c].union(o[f]),o.splice(f,1)):f++;c++}}while(r);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,t){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r&&(r.width=e+"px",r.height=t+"px"),i.width=e*n,i.height=t*n,o&&(o.width=e*n,o.height=t*n,1!==n&&this.ctxBack.scale(n,n))},t.prototype.clear=function(e,t,n){var i=this.dom,r=this.ctx,o=i.width,s=i.height;t=t||this.clearColor;var a=this.motionBlur&&!e,l=this.lastFrameAlpha,u=this.dpr,c=this;a&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/u,s/u));var d=this.domBack;function h(e,n,i,o){if(r.clearRect(e,n,i,o),t&&"transparent"!==t){var s=void 0;if(cm(t))s=(t.global||t.__width===i&&t.__height===o)&&t.__canvasGradient||Vk(r,t,{x:0,y:0,width:i,height:o}),t.__canvasGradient=s,t.__width=i,t.__height=o;else null!=t.image&&(t.scaleX=t.scaleX||u,t.scaleY=t.scaleY||u,s=Xk(r,t,{dirty:function(){c.setUnpainted(),c.painter.refresh()}}));r.save(),r.fillStyle=s||t,r.fillRect(e,n,i,o),r.restore()}a&&(r.save(),r.globalAlpha=l,r.drawImage(d,e,n,i,o),r.restore())}!n||a?h(0,0,o,s):n.length&&qf(n,(function(e){h(e.x*u,e.y*u,e.width*u,e.height*u)}))},t}(nv);const pO=hO;var gO=1e5,fO=314159,mO=.01;var vO=function(){function e(e,t,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var r=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=Wf({},n||{}),this.dpr=n.devicePixelRatio||wC,this._singleCanvas=r,this.root=e,e.style&&(Pm(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(r){var a=e,l=a.width,u=a.height;null!=n.width&&(l=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,a.width=l*this.dpr,a.height=u*this.dpr,this._width=l,this._height=u;var c=new pO(a,this,this.dpr);c.__builtin__=!0,c.initContext(),s[314159]=c,c.zlevel=fO,o.push(fO),this._domRoot=e}else{this._width=Hk(e,0,n),this._height=Hk(e,1,n);var d=this._domRoot=function(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);e.appendChild(d)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var r=0;r<i.length;r++){var o=i[r],s=this._layers[o];if(!s.__builtin__&&s.refresh){var a=0===r?this._backgroundColor:null;s.refresh(a)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){for(var i,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<t;o++){var s=e[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(gO)),i||(i=n.ctx).save(),uF(i,s,r,o===t-1))}i&&i.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(gO)},e.prototype.paintOne=function(e,t){lF(e,t)},e.prototype._paintList=function(e,t,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(e);var r=this._doPaintList(e,t,n),o=r.finished,s=r.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer((function(e){e.afterBrush&&e.afterBrush()}));else{var a=this;vy((function(){a._paintList(e,t,n,i)}))}}},e.prototype._compositeManually=function(){var e=this.getLayer(fO).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer((function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)}))},e.prototype._doPaintList=function(e,t,n){for(var i=this,r=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var a=this._zlevelList[s],l=this._layers[a];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||n)&&r.push(l)}for(var u=!0,c=!1,d=function(s){var a,l=r[s],d=l.ctx,p=o&&l.createRepaintRects(e,t,h._width,h._height),g=n?l.__startIndex:l.__drawIndex,f=!n&&l.incremental&&Date.now,m=f&&Date.now(),v=l.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,v,p);else if(g===l.__startIndex){var y=e[g];y.incremental&&y.notClear&&!n||l.clear(!1,v,p)}-1===g&&(console.error("For some unknown reason. drawIndex is -1"),g=l.__startIndex);var w=function(t){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(a=g;a<l.__endIndex;a++){var r=e[a];if(r.__inHover&&(c=!0),i._doPaintEl(r,l,o,t,n,a===l.__endIndex-1),f)if(Date.now()-m>15)break}n.prevElClipPaths&&d.restore()};if(p)if(0===p.length)a=l.__endIndex;else for(var C=h.dpr,b=0;b<p.length;++b){var S=p[b];d.save(),d.beginPath(),d.rect(S.x*C,S.y*C,S.width*C,S.height*C),d.clip(),w(S),d.restore()}else d.save(),w(),d.restore();l.__drawIndex=a,l.__drawIndex<l.__endIndex&&(u=!1)},h=this,p=0;p<r.length;p++)d(p);return Cf.wxa&&qf(this._layers,(function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()})),{finished:u,needsRefreshHover:c}},e.prototype._doPaintEl=function(e,t,n,i,r,o){var s=t.ctx;if(n){var a=e.getPaintRect();(!i||a&&a.intersect(i))&&(uF(s,e,r,o),e.setPrevPaintRect(a))}else uF(s,e,r,o)},e.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=fO);var n=this._layers[e];return n||((n=new pO("zr_"+e,this,this.dpr)).zlevel=e,n.__builtin__=!0,this._layerConfig[e]?zf(n,this._layerConfig[e],!0):this._layerConfig[e-mO]&&zf(n,this._layerConfig[e-mO],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},e.prototype.insertLayer=function(e,t){var n=this._layers,i=this._zlevelList,r=i.length,o=this._domRoot,s=null,a=-1;if(!n[e]&&function(e){return!!e&&(!!e.__builtin__||"function"===typeof e.resize&&"function"===typeof e.refresh)}(t)){if(r>0&&e>i[0]){for(a=0;a<r-1&&!(i[a]<e&&i[a+1]>e);a++);s=n[i[a]]}if(i.splice(a+1,0,e),n[e]=t,!t.virtual)if(s){var l=s.dom;l.nextSibling?o.insertBefore(t.dom,l.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.painter||(t.painter=this)}},e.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i];e.call(t,this._layers[r],r)}},e.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i],o=this._layers[r];o.__builtin__&&e.call(t,o,r)}},e.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i],o=this._layers[r];o.__builtin__||e.call(t,o,r)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(e){function t(e){o&&(o.__endIndex!==e&&(o.__dirty=!0),o.__endIndex=e)}if(this.eachBuiltinLayer((function(e,t){e.__dirty=e.__used=!1})),this._singleCanvas)for(var n=1;n<e.length;n++){if((a=e[n]).zlevel!==e[n-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var i,r,o=null,s=0;for(r=0;r<e.length;r++){var a,l=(a=e[r]).zlevel,u=void 0;i!==l&&(i=l,s=0),a.incremental?((u=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,s=1):u=this.getLayer(l+(s>0?mO:0),this._needsManuallyCompositing),u.__builtin__||Gf("ZLevel "+l+" has been used by unkown layer "+u.id),u!==o&&(u.__used=!0,u.__startIndex!==r&&(u.__dirty=!0),u.__startIndex=r,u.incremental?u.__drawIndex=-1:u.__drawIndex=r,t(r),o=u),a.__dirty&cy&&!a.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=r))}t(r),this.eachBuiltinLayer((function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)}))},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(e){e.clear()},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e,qf(this._layers,(function(e){e.setUnpainted()}))},e.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?zf(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];if(r===e||r===e+mO)zf(this._layers[r],n[e],!0)}}},e.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(jf(n,e),1))},e.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,r=this.root;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=Hk(r,0,i),t=Hk(r,1,i),n.style.display="",this._width!==e||t!==this._height){for(var o in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(fO).resize(e,t)}return this},e.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var t=new pO("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var n=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,r=t.dom.height;this.eachLayer((function(e){e.__builtin__?n.drawImage(e.dom,0,0,i,r):e.renderToCanvas&&(n.save(),e.renderToCanvas(n),n.restore())}))}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),a=0,l=s.length;a<l;a++){var u=s[a];uF(n,u,o,a===l-1)}return t.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();const yO=vO;var wO=Math.sin,CO=Math.cos,bO=Math.PI,SO=2*Math.PI,xO=180/bO,MO=function(){function e(){}return e.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},e.prototype.moveTo=function(e,t){this._add("M",e,t)},e.prototype.lineTo=function(e,t){this._add("L",e,t)},e.prototype.bezierCurveTo=function(e,t,n,i,r,o){this._add("C",e,t,n,i,r,o)},e.prototype.quadraticCurveTo=function(e,t,n,i){this._add("Q",e,t,n,i)},e.prototype.arc=function(e,t,n,i,r,o){this.ellipse(e,t,n,n,0,i,r,o)},e.prototype.ellipse=function(e,t,n,i,r,o,s,a){var l=s-o,u=!a,c=Math.abs(l),d=Mw(c-SO)||(u?l>=SO:-l>=SO),h=l>0?l%SO:l%SO+SO,p=!1;p=!!d||!Mw(c)&&h>=bO===!!u;var g=e+n*CO(o),f=t+i*wO(o);this._start&&this._add("M",g,f);var m=Math.round(r*xO);if(d){var v=1/this._p,y=(u?1:-1)*(SO-v);this._add("A",n,i,m,1,+u,e+n*CO(o+y),t+i*wO(o+y)),v>.01&&this._add("A",n,i,m,0,+u,g,f)}else{var w=e+n*CO(s),C=t+i*wO(s);this._add("A",n,i,m,+p,+u,w,C)}},e.prototype.rect=function(e,t,n,i){this._add("M",e,t),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(e,t,n,i,r,o,s,a,l){for(var u=[],c=this._p,d=1;d<arguments.length;d++){var h=arguments[d];if(isNaN(h))return void(this._invalid=!0);u.push(Math.round(h*c)/c)}this._d.push(e+u.join(" ")),this._start="Z"===e},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}();const _O=MO;var RO="none",DO=Math.round;var PO=["lineCap","miterLimit","lineJoin"],TO=Yf(PO,(function(e){return"stroke-"+e.toLowerCase()}));function AO(e,t,n,i){var r=null==t.opacity?1:t.opacity;if(n instanceof Zx)e("opacity",r);else{if(function(e){var t=e.fill;return null!=t&&t!==RO}(t)){var o=Sw(t.fill);e("fill",o.color);var s=null!=t.fillOpacity?t.fillOpacity*o.opacity*r:o.opacity*r;(i||s<1)&&e("fill-opacity",s)}else e("fill",RO);if(function(e){var t=e.stroke;return null!=t&&t!==RO}(t)){var a=Sw(t.stroke);e("stroke",a.color);var l=t.strokeNoScale?n.getLineScale():1,u=l?(t.lineWidth||0)/l:0,c=null!=t.strokeOpacity?t.strokeOpacity*a.opacity*r:a.opacity*r,d=t.strokeFirst;if((i||1!==u)&&e("stroke-width",u),(i||d)&&e("paint-order",d?"stroke":"fill"),(i||c<1)&&e("stroke-opacity",c),t.lineDash){var h=Wk(n),p=h[0],g=h[1];p&&(g=DO(g||0),e("stroke-dasharray",p.join(",")),(g||i)&&e("stroke-dashoffset",g))}else i&&e("stroke-dasharray",RO);for(var f=0;f<PO.length;f++){var m=PO[f];if(i||t[m]!==Vx[m]){var v=t[m]||Vx[m];v&&e(TO[f],v)}}}else i&&e("stroke",RO)}}var EO="http://www.w3.org/2000/svg",IO="http://www.w3.org/1999/xlink",kO="http://www.w3.org/2000/xmlns/",FO="http://www.w3.org/XML/1998/namespace",LO="ecmeta_";function OO(e){return document.createElementNS(EO,e)}function NO(e,t,n,i,r){return{tag:e,attrs:n||{},children:i,text:r,key:t}}function BO(e,t){var n=(t=t||{}).newline?"\n":"";return function e(t){var i=t.children,r=t.tag,o=t.attrs,s=t.text;return function(e,t){var n=[];if(t)for(var i in t){var r=t[i],o=i;!1!==r&&(!0!==r&&null!=r&&(o+='="'+r+'"'),n.push(o))}return"<"+e+" "+n.join(" ")+">"}(r,o)+("style"!==r?hv(s):s||"")+(i?""+n+Yf(i,(function(t){return e(t)})).join(n)+n:"")+("</"+r+">")}(e)}function GO(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function VO(e,t,n,i){return NO("svg","root",{width:e,height:t,xmlns:EO,"xmlns:xlink":IO,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+e+" "+t},n)}var zO=0;function HO(){return zO++}var WO={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},UO="transform-origin";function jO(e,t,n){var i=Wf({},e.shape);Wf(i,t),e.buildPath(n,i);var r=new _O;return r.reset(Fw(e)),n.rebuildPath(r,1),r.generateStr(),r.getStr()}function $O(e,t){var n=t.originX,i=t.originY;(n||i)&&(e[UO]=n+"px "+i+"px")}var KO={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function qO(e,t){var n=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[n]=e,n}function YO(e){return im(e)?WO[e]?"cubic-bezier("+WO[e]+")":jy(e)?e:"":""}function XO(e,t,n,i){var r=e.animators,o=r.length,s=[];if(e instanceof PE){var a=function(e,t,n){var i,r,o=e.shape.paths,s={};if(qf(o,(function(e){var t=GO(n.zrId);t.animation=!0,XO(e,{},t,!0);var o=t.cssAnims,a=t.cssNodes,l=Qf(o),u=l.length;if(u){var c=o[r=l[u-1]];for(var d in c){var h=c[d];s[d]=s[d]||{d:""},s[d].d+=h.d||""}for(var p in a){var g=a[p].animation;g.indexOf(r)>=0&&(i=g)}}})),i){t.d=!1;var a=qO(s,n);return i.replace(r,a)}}(e,t,n);if(a)s.push(a);else if(!o)return}else if(!o)return;for(var l={},u=0;u<o;u++){var c=r[u],d=[c.getMaxTime()/1e3+"s"],h=YO(c.getClip().easing),p=c.getDelay();h?d.push(h):d.push("linear"),p&&d.push(p/1e3+"s"),c.getLoop()&&d.push("infinite");var g=d.join(" ");l[g]=l[g]||[g,[]],l[g][1].push(c)}function f(r){var o,s=r[1],a=s.length,l={},u={},c={},d="animation-timing-function";function h(e,t,n){for(var i=e.getTracks(),r=e.getMaxTime(),o=0;o<i.length;o++){var s=i[o];if(s.needsAnimate()){var a=s.keyframes,l=s.propName;if(n&&(l=n(l)),l)for(var u=0;u<a.length;u++){var c=a[u],h=Math.round(c.time/r*100)+"%",p=YO(c.easing),g=c.rawValue;(im(g)||om(g))&&(t[h]=t[h]||{},t[h][l]=c.rawValue,p&&(t[h][d]=p))}}}}for(var p=0;p<a;p++){(x=(S=s[p]).targetName)?"shape"===x&&h(S,u):!i&&h(S,l)}for(var g in l){var f={};EC(f,e),Wf(f,l[g]);var m=Lw(f),v=l[g][d];c[g]=m?{transform:m}:{},$O(c[g],f),v&&(c[g][d]=v)}var y=!0;for(var g in u){c[g]=c[g]||{};var w=!o;v=u[g][d];w&&(o=new bx);var C=o.len();o.reset(),c[g].d=jO(e,u[g],o);var b=o.len();if(!w&&C!==b){y=!1;break}v&&(c[g][d]=v)}if(!y)for(var g in c)delete c[g].d;if(!i)for(p=0;p<a;p++){var S,x;"style"===(x=(S=s[p]).targetName)&&h(S,c,(function(e){return KO[e]}))}var M,_=Qf(c),R=!0;for(p=1;p<_.length;p++){var D=_[p-1],P=_[p];if(c[D][UO]!==c[P][UO]){R=!1;break}M=c[D][UO]}if(R&&M){for(var g in c)c[g][UO]&&delete c[g][UO];t[UO]=M}if(Zf(_,(function(e){return Qf(c[e]).length>0})).length)return qO(c,n)+" "+r[0]+" both"}for(var m in l){(a=f(l[m]))&&s.push(a)}if(s.length){var v=n.zrId+"-cls-"+HO();n.cssNodes["."+v]={animation:s.join(",")},t.class=v}}function ZO(e,t,n,i){var r=JSON.stringify(e),o=n.cssStyleCache[r];o||(o=n.zrId+"-cls-"+HO(),n.cssStyleCache[r]=o,n.cssNodes["."+o+(i?":hover":"")]=e),t.class=t.class?t.class+" "+o:o}var QO=Math.round;function JO(e){return e&&im(e.src)}function eN(e){return e&&nm(e.toDataURL)}function tN(e,t,n,i){AO((function(r,o){var s="fill"===r||"stroke"===r;s&&Iw(o)?cN(t,e,r,i):s&&Tw(o)?dN(n,e,r,i):e[r]=s&&"none"===o?"transparent":o}),t,n,!1),function(e,t,n){var i=e.style;if(function(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}(i)){var r=function(e){var t=e.style,n=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}(e),o=n.shadowCache,s=o[r];if(!s){var a=e.getGlobalScale(),l=a[0],u=a[1];if(!l||!u)return;var c=i.shadowOffsetX||0,d=i.shadowOffsetY||0,h=i.shadowBlur,p=Sw(i.shadowColor),g=p.opacity,f=p.color,m=h/2/l+" "+h/2/u;s=n.zrId+"-s"+n.shadowIdx++,n.defs[s]=NO("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[NO("feDropShadow","",{dx:c/l,dy:d/u,stdDeviation:m,"flood-color":f,"flood-opacity":g})]),o[r]=s}t.filter=kw(s)}}(n,e,i)}function nN(e,t){var n=function(e){if("function"===typeof ib)return ib(e)}(t);n&&(n.each((function(t,n){null!=t&&(e[(LO+n).toLowerCase()]=t+"")})),t.isSilent()&&(e[LO+"silent"]="true"))}function iN(e){return Mw(e[0]-1)&&Mw(e[1])&&Mw(e[2])&&Mw(e[3]-1)}function rN(e,t,n){if(t&&(!function(e){return Mw(e[4])&&Mw(e[5])}(t)||!iN(t))){var i=n?10:1e4;e.transform=iN(t)?"translate("+QO(t[4]*i)/i+" "+QO(t[5]*i)/i+")":function(e){return"matrix("+_w(e[0])+","+_w(e[1])+","+_w(e[2])+","+_w(e[3])+","+Rw(e[4])+","+Rw(e[5])+")"}(t)}}function oN(e,t,n){for(var i=e.points,r=[],o=0;o<i.length;o++)r.push(QO(i[o][0]*n)/n),r.push(QO(i[o][1]*n)/n);t.points=r.join(" ")}function sN(e){return!e.smooth}var aN={circle:[function(e){var t=Yf(e,(function(e){return"string"===typeof e?[e,e]:e}));return function(e,n,i){for(var r=0;r<t.length;r++){var o=t[r],s=e[o[0]];null!=s&&(n[o[1]]=QO(s*i)/i)}}}(["cx","cy","r"])],polyline:[oN,sN],polygon:[oN,sN]};function lN(e,t){var n=e.style,i=e.shape,r=aN[e.type],o={},s=t.animation,a="path",l=e.style.strokePercent,u=t.compress&&Fw(e)||4;if(!r||t.willUpdate||r[1]&&!r[1](i)||s&&function(e){for(var t=e.animators,n=0;n<t.length;n++)if("shape"===t[n].targetName)return!0;return!1}(e)||l<1){var c=!e.path||e.shapeChanged();e.path||e.createPathProxy();var d=e.path;c&&(d.beginPath(),e.buildPath(d,e.shape),e.pathUpdated());var h=d.getVersion(),p=e,g=p.__svgPathBuilder;p.__svgPathVersion===h&&g&&l===p.__svgPathStrokePercent||(g||(g=p.__svgPathBuilder=new _O),g.reset(u),d.rebuildPath(g,l),g.generateStr(),p.__svgPathVersion=h,p.__svgPathStrokePercent=l),o.d=g.getStr()}else{a=e.type;var f=Math.pow(10,u);r[0](i,o,f)}return rN(o,e.transform),tN(o,n,e,t),nN(o,e),t.animation&&XO(e,o,t),t.emphasis&&function(e,t,n){if(!e.ignore)if(e.isSilent())ZO(u={"pointer-events":"none"},t,n,!0);else{var i=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},r=i.fill;if(!r){var o=e.style&&e.style.fill,s=e.states.select&&e.states.select.style&&e.states.select.style.fill,a=e.currentStates.indexOf("select")>=0&&s||o;a&&(r=Cw(a))}var l=i.lineWidth;l&&(l/=!i.strokeNoScale&&e.transform?e.transform[0]:1);var u={cursor:"pointer"};r&&(u.fill=r),i.stroke&&(u.stroke=i.stroke),l&&(u["stroke-width"]=l),ZO(u,t,n,!0)}}(e,o,t),NO(a,e.id+"",o)}function uN(e,t){return e instanceof Ux?lN(e,t):e instanceof Zx?function(e,t){var n=e.style,i=n.image;if(i&&!im(i)&&(JO(i)?i=i.src:eN(i)&&(i=i.toDataURL())),i){var r=n.x||0,o=n.y||0,s={href:i,width:n.width,height:n.height};return r&&(s.x=r),o&&(s.y=o),rN(s,e.transform),tN(s,n,e,t),nN(s,e),t.animation&&XO(e,s,t),NO("image",e.id+"",s)}}(e,t):e instanceof Kx?function(e,t){var n=e.style,i=n.text;if(null!=i&&(i+=""),i&&!isNaN(n.x)&&!isNaN(n.y)){var r=n.font||xf,o=n.x||0,s=function(e,t,n){return"top"===n?e+=t/2:"bottom"===n&&(e-=t/2),e}(n.y||0,GC(r),n.textBaseline),a={"dominant-baseline":"central","text-anchor":Dw[n.textAlign]||n.textAlign};if(gM(n)){var l="",u=n.fontStyle,c=hM(n.fontSize);if(!parseFloat(c))return;var d=n.fontFamily||Sf,h=n.fontWeight;l+="font-size:"+c+";font-family:"+d+";",u&&"normal"!==u&&(l+="font-style:"+u+";"),h&&"normal"!==h&&(l+="font-weight:"+h+";"),a.style=l}else a.style="font: "+r;return i.match(/\s/)&&(a["xml:space"]="preserve"),o&&(a.x=o),s&&(a.y=s),rN(a,e.transform),tN(a,n,e,t),nN(a,e),t.animation&&XO(e,a,t),NO("text",e.id+"",a,void 0,i)}}(e,t):void 0}function cN(e,t,n,i){var r,o=e[n],s={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if(Aw(o))r="linearGradient",s.x1=o.x,s.y1=o.y,s.x2=o.x2,s.y2=o.y2;else{if(!Ew(o))return void 0;r="radialGradient",s.cx=pm(o.x,.5),s.cy=pm(o.y,.5),s.r=pm(o.r,.5)}for(var a=o.colorStops,l=[],u=0,c=a.length;u<c;++u){var d=100*Rw(a[u].offset)+"%",h=Sw(a[u].color),p=h.color,g=h.opacity,f={offset:d};f["stop-color"]=p,g<1&&(f["stop-opacity"]=g),l.push(NO("stop",u+"",f))}var m=BO(NO(r,"",s,l)),v=i.gradientCache,y=v[m];y||(y=i.zrId+"-g"+i.gradientIdx++,v[m]=y,s.id=y,i.defs[y]=NO(r,y,s,l)),t[n]=kw(y)}function dN(e,t,n,i){var r,o=e.style[n],s=e.getBoundingRect(),a={},l=o.repeat,u="no-repeat"===l,c="repeat-x"===l,d="repeat-y"===l;if(Pw(o)){var h=o.imageWidth,p=o.imageHeight,g=void 0,f=o.image;if(im(f)?g=f:JO(f)?g=f.src:eN(f)&&(g=f.toDataURL()),"undefined"===typeof Image){var m="Image width/height must been given explictly in svg-ssr renderer.";vm(h,m),vm(p,m)}else if(null==h||null==p){var v=function(e,t){if(e){var n=e.elm,i=h||t.width,r=p||t.height;"pattern"===e.tag&&(c?(r=1,i/=s.width):d&&(i=1,r/=s.height)),e.attrs.width=i,e.attrs.height=r,n&&(n.setAttribute("width",i),n.setAttribute("height",r))}},y=mS(g,null,e,(function(e){u||v(S,e),v(r,e)}));y&&y.width&&y.height&&(h=h||y.width,p=p||y.height)}r=NO("image","img",{href:g,width:h,height:p}),a.width=h,a.height=p}else o.svgElement&&(r=Vf(o.svgElement),a.width=o.svgWidth,a.height=o.svgHeight);if(r){var w,C;u?w=C=1:c?(C=1,w=a.width/s.width):d?(w=1,C=a.height/s.height):a.patternUnits="userSpaceOnUse",null==w||isNaN(w)||(a.width=w),null==C||isNaN(C)||(a.height=C);var b=Lw(o);b&&(a.patternTransform=b);var S=NO("pattern","",a,[r]),x=BO(S),M=i.patternCache,_=M[x];_||(_=i.zrId+"-p"+i.patternIdx++,M[x]=_,a.id=_,S=i.defs[_]=NO("pattern",_,a,[r])),t[n]=kw(_)}}function hN(e,t,n){var i=n.clipPathCache,r=n.defs,o=i[e.id];if(!o){var s={id:o=n.zrId+"-c"+n.clipPathIdx++};i[e.id]=o,r[o]=NO("clipPath",o,s,[lN(e,n)])}t["clip-path"]=kw(o)}function pN(e){return document.createTextNode(e)}function gN(e,t,n){e.insertBefore(t,n)}function fN(e,t){e.removeChild(t)}function mN(e,t){e.appendChild(t)}function vN(e){return e.parentNode}function yN(e){return e.nextSibling}function wN(e,t){e.textContent=t}var CN=58,bN=120,SN=NO("","");function xN(e){return void 0===e}function MN(e){return void 0!==e}function _N(e,t,n){for(var i={},r=t;r<=n;++r){var o=e[r].key;void 0!==o&&(i[o]=r)}return i}function RN(e,t){var n=e.key===t.key;return e.tag===t.tag&&n}function DN(e){var t,n=e.children,i=e.tag;if(MN(i)){var r=e.elm=OO(i);if(AN(SN,e),tm(n))for(t=0;t<n.length;++t){var o=n[t];null!=o&&mN(r,DN(o))}else MN(e.text)&&!sm(e.text)&&mN(r,pN(e.text))}else e.elm=pN(e.text);return e.elm}function PN(e,t,n,i,r){for(;i<=r;++i){var o=n[i];null!=o&&gN(e,DN(o),t)}}function TN(e,t,n,i){for(;n<=i;++n){var r=t[n];if(null!=r)if(MN(r.tag))fN(vN(r.elm),r.elm);else fN(e,r.elm)}}function AN(e,t){var n,i=t.elm,r=e&&e.attrs||{},o=t.attrs||{};if(r!==o){for(n in o){var s=o[n];r[n]!==s&&(!0===s?i.setAttribute(n,""):!1===s?i.removeAttribute(n):"style"===n?i.style.cssText=s:n.charCodeAt(0)!==bN?i.setAttribute(n,s):"xmlns:xlink"===n||"xmlns"===n?i.setAttributeNS(kO,n,s):n.charCodeAt(3)===CN?i.setAttributeNS(FO,n,s):n.charCodeAt(5)===CN?i.setAttributeNS(IO,n,s):i.setAttribute(n,s))}for(n in r)n in o||i.removeAttribute(n)}}function EN(e,t){var n=t.elm=e.elm,i=e.children,r=t.children;e!==t&&(AN(e,t),xN(t.text)?MN(i)&&MN(r)?i!==r&&function(e,t,n){for(var i,r,o,s=0,a=0,l=t.length-1,u=t[0],c=t[l],d=n.length-1,h=n[0],p=n[d];s<=l&&a<=d;)null==u?u=t[++s]:null==c?c=t[--l]:null==h?h=n[++a]:null==p?p=n[--d]:RN(u,h)?(EN(u,h),u=t[++s],h=n[++a]):RN(c,p)?(EN(c,p),c=t[--l],p=n[--d]):RN(u,p)?(EN(u,p),gN(e,u.elm,yN(c.elm)),u=t[++s],p=n[--d]):RN(c,h)?(EN(c,h),gN(e,c.elm,u.elm),c=t[--l],h=n[++a]):(xN(i)&&(i=_N(t,s,l)),xN(r=i[h.key])||(o=t[r]).tag!==h.tag?gN(e,DN(h),u.elm):(EN(o,h),t[r]=void 0,gN(e,o.elm,u.elm)),h=n[++a]);(s<=l||a<=d)&&(s>l?PN(e,null==n[d+1]?null:n[d+1].elm,n,a,d):TN(e,t,s,l))}(n,i,r):MN(r)?(MN(e.text)&&wN(n,""),PN(n,null,r,0,r.length-1)):MN(i)?TN(n,i,0,i.length-1):MN(e.text)&&wN(n,""):e.text!==t.text&&(MN(i)&&TN(n,i,0,i.length-1),wN(n,t.text)))}var IN=0,kN=function(){function e(e,t,n){if(this.type="svg",this.refreshHover=function(){0},this.configLayer=function(){0},this.storage=t,this._opts=n=Wf({},n),this.root=e,this._id="zr"+IN++,this._oldVNode=VO(n.width,n.height),e&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var r=this._svgDom=this._oldVNode.elm=OO("svg");AN(null,this._oldVNode),i.appendChild(r),e.appendChild(i)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",function(e,t){if(RN(e,t))EN(e,t);else{var n=e.elm,i=vN(n);DN(t),null!==i&&(gN(i,t.elm,yN(n)),TN(i,[e],0,0))}}(this._oldVNode,e),this._oldVNode=e}},e.prototype.renderOneToVNode=function(e){return uN(e,GO(this._id))},e.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),n=this._width,i=this._height,r=GO(this._id);r.animation=e.animation,r.willUpdate=e.willUpdate,r.compress=e.compress,r.emphasis=e.emphasis;var o=[],s=this._bgVNode=function(e,t,n,i){var r;if(n&&"none"!==n)if(r=NO("rect","bg",{width:e,height:t,x:"0",y:"0"}),Iw(n))cN({fill:n},r.attrs,"fill",i);else if(Tw(n))dN({style:{fill:n},dirty:Am,getBoundingRect:function(){return{width:e,height:t}}},r.attrs,"fill",i);else{var o=Sw(n),s=o.color,a=o.opacity;r.attrs.fill=s,a<1&&(r.attrs["fill-opacity"]=a)}return r}(n,i,this._backgroundColor,r);s&&o.push(s);var a=e.compress?null:this._mainVNode=NO("g","main",{},[]);this._paintList(t,r,a?a.children:o),a&&o.push(a);var l=Yf(Qf(r.defs),(function(e){return r.defs[e]}));if(l.length&&o.push(NO("defs","defs",{},l)),e.animation){var u=function(e,t,n){var i=(n=n||{}).newline?"\n":"",r=" {"+i,o=i+"}",s=Yf(Qf(e),(function(t){return t+r+Yf(Qf(e[t]),(function(n){return n+":"+e[t][n]+";"})).join(i)+o})).join(i),a=Yf(Qf(t),(function(e){return"@keyframes "+e+r+Yf(Qf(t[e]),(function(n){return n+r+Yf(Qf(t[e][n]),(function(i){var r=t[e][n][i];return"d"===i&&(r='path("'+r+'")'),i+":"+r+";"})).join(i)+o})).join(i)+o})).join(i);return s||a?["<![CDATA[",s,a,"]]>"].join(i):""}(r.cssNodes,r.cssAnims,{newline:!0});if(u){var c=NO("style","stl",{},[],u);o.push(c)}}return VO(n,i,o,e.useViewBox)},e.prototype.renderToString=function(e){return e=e||{},BO(this.renderToVNode({animation:pm(e.cssAnimation,!0),emphasis:pm(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:pm(e.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(e,t,n){for(var i,r,o=e.length,s=[],a=0,l=0,u=0;u<o;u++){var c=e[u];if(!c.invisible){var d=c.__clipPaths,h=d&&d.length||0,p=r&&r.length||0,g=void 0;for(g=Math.max(h-1,p-1);g>=0&&(!d||!r||d[g]!==r[g]);g--);for(var f=p-1;f>g;f--)i=s[--a-1];for(var m=g+1;m<h;m++){var v={};hN(d[m],v,t);var y=NO("g","clip-g-"+l++,v,[]);(i?i.children:n).push(y),s[a++]=y,i=y}r=d;var w=uN(c,t);w&&(i?i.children:n).push(w)}}},e.prototype.resize=function(e,t){var n=this._opts,i=this.root,r=this._viewport;if(null!=e&&(n.width=e),null!=t&&(n.height=t),i&&r&&(r.style.display="none",e=Hk(i,0,n),t=Hk(i,1,n),r.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,r){var o=r.style;o.width=e+"px",o.height=t+"px"}if(Tw(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",t));var a=this._bgVNode&&this._bgVNode.elm;a&&(a.setAttribute("width",e),a.setAttribute("height",t))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(e){var t=this.renderToString(),n="data:image/svg+xml;";return e?(t=Ow(t))&&n+"base64,"+t:n+"charset=UTF-8,"+encodeURIComponent(t)},e}();const FN=kN;function LN(e){return null==e?0:e.length||1}function ON(e){return e}var NN=function(){function e(e,t,n,i,r,o){this._old=e,this._new=t,this._oldKeyGetter=n||ON,this._newKeyGetter=i||ON,this.context=r,this._diffModeMultiple="multiple"===o}return e.prototype.add=function(e){return this._add=e,this},e.prototype.update=function(e){return this._update=e,this},e.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},e.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},e.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},e.prototype.remove=function(e){return this._remove=e,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},i=new Array(e.length),r=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,n,r,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=i[o],a=n[s],l=LN(a);if(l>1){var u=a.shift();1===a.length&&(n[s]=a[0]),this._update&&this._update(u,o)}else 1===l?(n[s]=null,this._update&&this._update(a,o)):this._remove&&this._remove(o)}this._performRestAdd(r,n)},e.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},i={},r=[],o=[];this._initIndexMap(e,n,r,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var s=0;s<r.length;s++){var a=r[s],l=n[a],u=i[a],c=LN(l),d=LN(u);if(c>1&&1===d)this._updateManyToOne&&this._updateManyToOne(u,l),i[a]=null;else if(1===c&&d>1)this._updateOneToMany&&this._updateOneToMany(u,l),i[a]=null;else if(1===c&&1===d)this._update&&this._update(u,l),i[a]=null;else if(c>1&&d>1)this._updateManyToMany&&this._updateManyToMany(u,l),i[a]=null;else if(c>1)for(var h=0;h<c;h++)this._remove&&this._remove(l[h]);else this._remove&&this._remove(l)}this._performRestAdd(o,i)},e.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=t[i],o=LN(r);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(r[s]);else 1===o&&this._add&&this._add(r);t[i]=null}},e.prototype._initIndexMap=function(e,t,n,i){for(var r=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[i](e[o],o);if(r||(n[o]=s),t){var a=t[s],l=LN(a);0===l?(t[s]=o,r&&n.push(s)):1===l?t[s]=[a,o]:a.push(o)}}},e}();const BN=NN;var GN=function(){function e(e,t){this._encode=e,this._schema=t}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function VN(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function zN(e){return"category"===e?"ordinal":"time"===e?"time":"float"}const HN=function(e){this.otherDims={},null!=e&&Wf(this,e)};var WN=jb(),UN={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},jN=function(){function e(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=qN(this.source)))},e.prototype.getSourceDimensionIndex=function(e){return pm(this._dimNameMap.get(e),-1)},e.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},e.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=VP(this.source),n=!YN(e),i="",r=[],o=0,s=0;o<e;o++){var a=void 0,l=void 0,u=void 0,c=this.dimensions[s];if(c&&c.storeDimIndex===o)a=t?c.name:null,l=c.type,u=c.ordinalMeta,s++;else{var d=this.getSourceDimension(o);d&&(a=t?d.name:null,l=d.type)}r.push({property:a,type:l,ordinalMeta:u}),!t||null==a||c&&c.isCalculationCoord||(i+=n?a.replace(/\`/g,"`1").replace(/\$/g,"`2"):a),i+="$",i+=UN[l]||"f",u&&(i+=u.uid),i+="$"}var h=this.source;return{dimensions:r,hash:[h.seriesLayoutBy,h.startIndex,i].join("$$")}},e.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,n=0;t<this._fullDimCount;t++){var i=void 0,r=this.dimensions[n];if(r&&r.storeDimIndex===t)r.isCalculationCoord||(i=r.name),n++;else{var o=this.getSourceDimension(t);o&&(i=o.name)}e.push(i)}return e},e.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function $N(e){return e instanceof jN}function KN(e){for(var t=_m(),n=0;n<(e||[]).length;n++){var i=e[n],r=sm(i)?i.name:i;null!=r&&null==t.get(r)&&t.set(r,n)}return t}function qN(e){var t=WN(e);return t.dimNameMap||(t.dimNameMap=KN(e.dimensionsDefine))}function YN(e){return e>30}var XN,ZN,QN,JN,eB,tB,nB,iB=sm,rB=Yf,oB="undefined"===typeof Int32Array?Array:Int32Array,sB=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],aB=["_approximateExtent"],lB=function(){function e(e,t){var n;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i=!1;$N(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,n=e),n=n||["x","y"];for(var r={},o=[],s={},a=!1,l={},u=0;u<n.length;u++){var c=n[u],d=im(c)?new HN({name:c}):c instanceof HN?c:new HN(c),h=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=h,d.coordDimIndex=0);var p=d.otherDims=d.otherDims||{};o.push(h),r[h]=d,null!=l[h]&&(a=!0),d.createInvertedIndices&&(s[h]=[]),0===p.itemName&&(this._nameDimIdx=u),0===p.itemId&&(this._idDimIdx=u),i&&(d.storeDimIndex=u)}if(this.dimensions=o,this._dimInfos=r,this._initGetDimensionInfo(a),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=_m();qf(o,(function(e){g.set(r[e].storeDimIndex,e)}))}}return e.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(null==t)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var n=this._dimIdxToName.get(t);if(null!=n)return n;var i=this._schema.getSourceDimension(t);return i?i.name:void 0},e.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(null!=t)return t;if(null==e)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},e.prototype._recognizeDimIndex=function(e){if(om(e)||null!=e&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},e.prototype._getStoreDimIndex=function(e){return this.getDimensionIndex(e)},e.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},e.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(e){return t.hasOwnProperty(e)?t[e]:void 0}:function(e){return t[e]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(e,t){var n=this._dimSummary;if(null==t)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return i?i[t]:null},e.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(e,t,n){var i,r=this;if(e instanceof FT&&(i=e),!i){var o=this.dimensions,s=FP(e)||Kf(e)?new zP(e,o.length):e;i=new FT;var a=rB(o,(function(e){return{type:r._dimInfos[e].type,property:e}}));i.initData(s,a,n)}this._store=i,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=function(e,t){var n={},i=n.encode={},r=_m(),o=[],s=[],a={};qf(e.dimensions,(function(t){var n,l=e.getDimensionInfo(t),u=l.coordDim;if(u){var c=l.coordDimIndex;VN(i,u)[c]=t,l.isExtraCoord||(r.set(u,1),"ordinal"!==(n=l.type)&&"time"!==n&&(o[0]=t),VN(a,u)[c]=e.getDimensionIndex(l.name)),l.defaultTooltip&&s.push(t)}bD.each((function(e,t){var n=VN(i,t),r=l.otherDims[t];null!=r&&!1!==r&&(n[r]=l.name)}))}));var l=[],u={};r.each((function(e,t){var n=i[t];u[t]=n[0],l=l.concat(n)})),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=Yf(l,(function(t){return e.getDimensionInfo(t).storeDimIndex})),n.encodeFirstDimNotExtra=u;var c=i.label;c&&c.length&&(o=c.slice());var d=i.tooltip;return d&&d.length?s=d.slice():s.length||(s=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=s,n.userOutput=new GN(a,t),n}(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},e.prototype.appendValues=function(e,t){var n=this._store.appendValues(e,t.length),i=n.start,r=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=i;s<r;s++){var a=s-i;this._nameList[s]=t[a],o&&nB(this,s)}},e.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,n=0;n<t.length;n++){var i=this._dimInfos[t[n]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return null==this._idDimIdx&&e.getSource().sourceFormat!==RD&&!e.fillStorage},e.prototype._doInit=function(e,t){if(!(e>=t)){var n=this._store.getProvider();this._updateOrdinalMeta();var i=this._nameList,r=this._idList;if(n.getSource().sourceFormat===SD&&!n.pure)for(var o=[],s=e;s<t;s++){var a=n.getItem(s,o);if(!this.hasItemOption&&Nb(a)&&(this.hasItemOption=!0),a){var l=a.name;null==i[s]&&null!=l&&(i[s]=zb(l,null));var u=a.id;null==r[s]&&null!=u&&(r[s]=zb(u,null))}}if(this._shouldMakeIdFromName())for(s=e;s<t;s++)nB(this,s);XN(this)}},e.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},e.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},e.prototype.setCalculationInfo=function(e,t){iB(e)?Wf(this._calculationInfo,e):this._calculationInfo[e]=t},e.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return null==n&&null!=this._nameDimIdx&&(n=QN(this,this._nameDimIdx,t)),null==n&&(n=""),n},e.prototype._getCategory=function(e,t){var n=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[n]:n},e.prototype.getId=function(e){return ZN(this,this.getRawIndex(e))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(e,t){var n=this._store,i=this._dimInfos[e];if(i)return n.get(i.storeDimIndex,t)},e.prototype.getByRawIndex=function(e,t){var n=this._store,i=this._dimInfos[e];if(i)return n.getByRawIndex(i.storeDimIndex,t)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},e.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},e.prototype.getValues=function(e,t){var n=this,i=this._store;return tm(e)?i.getValues(rB(e,(function(e){return n._getStoreDimIndex(e)})),t):i.getValues(e)},e.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,i=t.length;n<i;n++)if(isNaN(this._store.get(t[n],e)))return!1;return!0},e.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},e.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},e.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},e.prototype.rawIndexOf=function(e,t){var n=(e&&this._invertedIndicesMap[e])[t];return null==n||isNaN(n)?-1:n},e.prototype.indicesOfNearest=function(e,t,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,n)},e.prototype.each=function(e,t,n){nm(e)&&(n=t,t=e,e=[]);var i=n||this,r=rB(JN(e),this._getStoreDimIndex,this);this._store.each(r,i?Jf(t,i):t)},e.prototype.filterSelf=function(e,t,n){nm(e)&&(n=t,t=e,e=[]);var i=n||this,r=rB(JN(e),this._getStoreDimIndex,this);return this._store=this._store.filter(r,i?Jf(t,i):t),this},e.prototype.selectRange=function(e){var t=this,n={},i=Qf(e),r=[];return qf(i,(function(i){var o=t._getStoreDimIndex(i);n[o]=e[i],r.push(o)})),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(e,t,n){nm(e)&&(n=t,t=e,e=[]),n=n||this;var i=[];return this.each(e,(function(){i.push(t&&t.apply(this,arguments))}),n),i},e.prototype.map=function(e,t,n,i){var r=n||i||this,o=rB(JN(e),this._getStoreDimIndex,this),s=tB(this);return s._store=this._store.map(o,r?Jf(t,r):t),s},e.prototype.modify=function(e,t,n,i){var r=n||i||this;var o=rB(JN(e),this._getStoreDimIndex,this);this._store.modify(o,r?Jf(t,r):t)},e.prototype.downSample=function(e,t,n,i){var r=tB(this);return r._store=this._store.downSample(this._getStoreDimIndex(e),t,n,i),r},e.prototype.lttbDownSample=function(e,t){var n=tB(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},e.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},e.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new aR(n,t,t&&t.ecModel)},e.prototype.diff=function(e){var t=this;return new BN(e?e.getStore().getIndices():[],this.getStore().getIndices(),(function(t){return ZN(e,t)}),(function(e){return ZN(t,e)}))},e.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},e.prototype.setVisual=function(e,t){this._visual=this._visual||{},iB(e)?Wf(this._visual,e):this._visual[e]=t},e.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],i=n&&n[t];return null==i?this.getVisual(t):i},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,i=n[e];i||(i=n[e]={});var r=i[t];return null==r&&(tm(r=this.getVisual(t))?r=r.slice():iB(r)&&(r=Wf({},r)),i[t]=r),r},e.prototype.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,iB(t)?Wf(i,t):i[t]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(e,t){iB(e)?Wf(this._layout,e):this._layout[e]=t},e.prototype.getLayout=function(e){return this._layout[e]},e.prototype.getItemLayout=function(e){return this._itemLayouts[e]},e.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?Wf(this._itemLayouts[e]||{},t):t},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel&&this.hostModel.seriesIndex;xM(n,this.dataType,e,t),this._graphicEls[e]=t},e.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},e.prototype.eachItemGraphicEl=function(e,t){qf(this._graphicEls,(function(n,i){n&&e&&e.call(t,n,i)}))},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:rB(this.dimensions,this._getDimInfo,this),this.hostModel)),eB(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(e,t){var n=this[e];nm(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(fm(arguments)))})},e.internalField=(XN=function(e){var t=e._invertedIndicesMap;qf(t,(function(n,i){var r=e._dimInfos[i],o=r.ordinalMeta,s=e._store;if(o){n=t[i]=new oB(o.categories.length);for(var a=0;a<n.length;a++)n[a]=-1;for(a=0;a<s.count();a++)n[s.get(r.storeDimIndex,a)]=a}}))},QN=function(e,t,n){return zb(e._getCategory(t,n),null)},ZN=function(e,t){var n=e._idList[t];return null==n&&null!=e._idDimIdx&&(n=QN(e,e._idDimIdx,t)),null==n&&(n="e\0\0"+t),n},JN=function(e){return tm(e)||(e=null!=e?[e]:[]),e},tB=function(t){var n=new e(t._schema?t._schema:rB(t.dimensions,t._getDimInfo,t),t.hostModel);return eB(n,t),n},eB=function(e,t){qf(sB.concat(t.__wrappedMethods||[]),(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e.__wrappedMethods=t.__wrappedMethods,qf(aB,(function(n){e[n]=Vf(t[n])})),e._calculationInfo=Wf({},t._calculationInfo)},void(nB=function(e,t){var n=e._nameList,i=e._idList,r=e._nameDimIdx,o=e._idDimIdx,s=n[t],a=i[t];if(null==s&&null!=r&&(n[t]=s=QN(e,r,t)),null==a&&null!=o&&(i[t]=a=QN(e,o,t)),null==a&&null!=s){var l=e._nameRepeatCount,u=l[s]=(l[s]||0)+1;a=s,u>1&&(a+="__ec__"+u),i[t]=a}})),e}();const uB=lB;function cB(e,t){FP(e)||(e=OP(e));var n=(t=t||{}).coordDimensions||[],i=t.dimensionsDefine||e.dimensionsDefine||[],r=_m(),o=[],s=function(e,t,n,i){var r=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,i||0);return qf(t,(function(e){var t;sm(e)&&(t=e.dimsDef)&&(r=Math.max(r,t.length))})),r}(e,n,i,t.dimensionsCount),a=t.canOmitUnusedDimensions&&YN(s),l=i===e.dimensionsDefine,u=l?qN(e):KN(i),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(e,s));for(var d=_m(c),h=new DT(s),p=0;p<h.length;p++)h[p]=-1;function g(e){var t=h[e];if(t<0){var n=i[e],r=sm(n)?n:{name:n},s=new HN,a=r.name;null!=a&&null!=u.get(a)&&(s.name=s.displayName=a),null!=r.type&&(s.type=r.type),null!=r.displayName&&(s.displayName=r.displayName);var l=o.length;return h[e]=l,s.storeDimIndex=e,o.push(s),s}return o[t]}if(!a)for(p=0;p<s;p++)g(p);d.each((function(e,t){var n=kb(e).slice();if(1===n.length&&!im(n[0])&&n[0]<0)d.set(t,!1);else{var i=d.set(t,[]);qf(n,(function(e,n){var r=im(e)?u.get(e):e;null!=r&&r<s&&(i[n]=r,m(g(r),t,n))}))}}));var f=0;function m(e,t,n){null!=bD.get(t)?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,r.set(t,!0))}qf(n,(function(e){var t,n,i,r;if(im(e))t=e,r={};else{t=(r=e).name;var o=r.ordinalMeta;r.ordinalMeta=null,(r=Wf({},r)).ordinalMeta=o,n=r.dimsDef,i=r.otherDims,r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null}var a=d.get(t);if(!1!==a){if(!(a=kb(a)).length)for(var u=0;u<(n&&n.length||1);u++){for(;f<s&&null!=g(f).coordDim;)f++;f<s&&a.push(f++)}qf(a,(function(e,o){var s=g(e);if(l&&null!=r.type&&(s.type=r.type),m(Uf(s,r),t,o),null==s.name&&n){var a=n[o];!sm(a)&&(a={name:a}),s.name=s.displayName=a.name,s.defaultTooltip=a.defaultTooltip}i&&Uf(s.otherDims,i)}))}}));var v=t.generateCoord,y=t.generateCoordCount,w=null!=y;y=v?y||1:0;var C=v||"value";function b(e){null==e.name&&(e.name=e.coordDim)}if(a)qf(o,(function(e){b(e)})),o.sort((function(e,t){return e.storeDimIndex-t.storeDimIndex}));else for(var S=0;S<s;S++){var x=g(S);null==x.coordDim&&(x.coordDim=dB(C,r,w),x.coordDimIndex=0,(!v||y<=0)&&(x.isExtraCoord=!0),y--),b(x),null!=x.type||LD(e,S)!==AD.Must&&(!x.isExtraCoord||null==x.otherDims.itemName&&null==x.otherDims.seriesName)||(x.type="ordinal")}return function(e){for(var t=_m(),n=0;n<e.length;n++){var i=e[n],r=i.name,o=t.get(r)||0;o>0&&(i.name=r+(o-1)),o++,t.set(r,o)}}(o),new jN({source:e,dimensions:o,fullDimensionCount:s,dimensionOmitted:a})}function dB(e,t,n){if(n||t.hasKey(e)){for(var i=0;t.hasKey(e+i);)i++;e+=i}return t.set(e,!0),e}var hB=function(e){this.coordSysDims=[],this.axisMap=_m(),this.categoryAxisMap=_m(),this.coordSysName=e};var pB={cartesian2d:function(e,t,n,i){var r=e.getReferringComponents("xAxis",Yb).models[0],o=e.getReferringComponents("yAxis",Yb).models[0];t.coordSysDims=["x","y"],n.set("x",r),n.set("y",o),gB(r)&&(i.set("x",r),t.firstCategoryDimIndex=0),gB(o)&&(i.set("y",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,i){var r=e.getReferringComponents("singleAxis",Yb).models[0];t.coordSysDims=["single"],n.set("single",r),gB(r)&&(i.set("single",r),t.firstCategoryDimIndex=0)},polar:function(e,t,n,i){var r=e.getReferringComponents("polar",Yb).models[0],o=r.findAxisModel("radiusAxis"),s=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",s),gB(o)&&(i.set("radius",o),t.firstCategoryDimIndex=0),gB(s)&&(i.set("angle",s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,i){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,i){var r=e.ecModel,o=r.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=o.dimensions.slice();qf(o.parallelAxisIndex,(function(e,o){var a=r.getComponent("parallelAxis",e),l=s[o];n.set(l,a),gB(a)&&(i.set(l,a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=o))}))}};function gB(e){return"category"===e.get("type")}function fB(e,t,n){var i,r,o,s=(n=n||{}).byIndex,a=n.stackedCoordDimension;!function(e){return!$N(e.schema)}(t)?(r=t.schema,i=r.dimensions,o=t.store):i=t;var l,u,c,d,h=!(!e||!e.get("stack"));if(qf(i,(function(e,t){im(e)&&(i[t]=e={name:e}),h&&!e.isExtraCoord&&(s||l||!e.ordinalMeta||(l=e),u||"ordinal"===e.type||"time"===e.type||a&&a!==e.coordDim||(u=e))})),!u||s||l||(s=!0),u){c="__\0ecstackresult_"+e.id,d="__\0ecstackedover_"+e.id,l&&(l.createInvertedIndices=!0);var p=u.coordDim,g=u.type,f=0;qf(i,(function(e){e.coordDim===p&&f++}));var m={name:c,coordDim:p,coordDimIndex:f,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},v={name:d,coordDim:d,coordDimIndex:f+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};r?(o&&(m.storeDimIndex=o.ensureCalculationDimension(d,g),v.storeDimIndex=o.ensureCalculationDimension(c,g)),r.appendCalculationDimension(m),r.appendCalculationDimension(v)):(i.push(m),i.push(v))}return{stackedDimension:u&&u.name,stackedByDimension:l&&l.name,isStackedByIndex:s,stackedOverDimension:d,stackResultDimension:c}}function mB(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function vB(e,t){return mB(e,t)?e.getCalculationInfo("stackResultDimension"):t}const yB=function(e,t,n){n=n||{};var i,r=t.getSourceManager(),o=!1;e?(o=!0,i=OP(e)):o=(i=r.getSource()).sourceFormat===SD;var s=function(e){var t=e.get("coordinateSystem"),n=new hB(t),i=pB[t];if(i)return i(e,n,n.axisMap,n.categoryAxisMap),n}(t),a=function(e,t){var n,i=e.get("coordinateSystem"),r=nP.get(i);return t&&t.coordSysDims&&(n=Yf(t.coordSysDims,(function(e){var n={name:e},i=t.axisMap.get(e);if(i){var r=i.get("type");n.type=zN(r)}return n}))),n||(n=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),n}(t,s),l=n.useEncodeDefaulter,u=nm(l)?l:l?em(ID,a,t):null,c=cB(i,{coordDimensions:a,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!o}),d=function(e,t,n){var i,r;return n&&qf(e,(function(e,o){var s=e.coordDim,a=n.categoryAxisMap.get(s);a&&(null==i&&(i=o),e.ordinalMeta=a.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(r=!0)})),r||null==i||(e[i].otherDims.itemName=0),i}(c.dimensions,n.createInvertedIndices,s),h=o?null:r.getSharedDataStore(c),p=fB(t,{schema:c,store:h}),g=new uB(c,t);g.setCalculationInfo(p);var f=null!=d&&function(e){if(e.sourceFormat===SD){var t=function(e){var t=0;for(;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[]);return!tm(Ob(t))}}(i)?function(e,t,n,i){return i===d?n:this.defaultDimValueGetter(e,t,n,i)}:null;return g.hasItemOption=!1,g.initData(o?i:h,null,f),g};const wB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return vf(t,e),t.prototype.getInitialData=function(e){return yB(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var t=new eb,n=Ok("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);t.add(n),n.setStyle(e.lineStyle);var i=this.getData().getVisual("symbol"),r=this.getData().getVisual("symbolRotate"),o="none"===i?"circle":i,s=.8*e.itemHeight,a=Ok(o,(e.itemWidth-s)/2,(e.itemHeight-s)/2,s,s,e.itemStyle.fill);t.add(a),a.setStyle(e.itemStyle);var l="inherit"===e.iconRotate?r:e.iconRotate||0;return a.rotation=l*Math.PI/180,a.setOrigin([e.itemWidth/2,e.itemHeight/2]),o.indexOf("empty")>-1&&(a.style.stroke=a.style.fill,a.style.fill="#fff",a.style.lineWidth=2),t},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(pA);function CB(e,t){var n=e.mapDimensionsAll("defaultedLabel"),i=n.length;if(1===i){var r=QP(e,t,n[0]);return null!=r?r+"":null}if(i){for(var o=[],s=0;s<n.length;s++)o.push(QP(e,t,n[s]));return o.join(" ")}}function bB(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!tm(t))return t+"";for(var i=[],r=0;r<n.length;r++){var o=e.getDimensionIndex(n[r]);o>=0&&i.push(t[o])}return i.join(" ")}var SB=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.updateData(t,n,i,r),o}return vf(t,e),t.prototype._createSymbol=function(e,t,n,i,r){this.removeAll();var o=Ok(e,-1,-1,2,2,null,r);o.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),o.drift=xB,this._symbolType=e,this.add(o)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){t_(this.childAt(0))},t.prototype.downplay=function(){n_(this.childAt(0))},t.prototype.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},t.prototype.setDraggable=function(e,t){var n=this.childAt(0);n.draggable=e,n.cursor=!t&&e?"move":n.cursor},t.prototype.updateData=function(e,n,i,r){this.silent=!1;var o=e.getItemVisual(n,"symbol")||"circle",s=e.hostModel,a=t.getSymbolSize(e,n),l=o!==this._symbolType,u=r&&r.disableAnimation;if(l){var c=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,e,n,a,c)}else{(h=this.childAt(0)).silent=!1;var d={scaleX:a[0]/2,scaleY:a[1]/2};u?h.attr(d):D_(h,d,s,n),k_(h)}if(this._updateCommon(e,n,a,i,r),l){var h=this.childAt(0);if(!u){d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,P_(h,d,s,n)}}u&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,t,n,i,r){var o,s,a,l,u,c,d,h,p,g=this.childAt(0),f=e.hostModel;if(i&&(o=i.emphasisItemStyle,s=i.blurItemStyle,a=i.selectItemStyle,l=i.focus,u=i.blurScope,d=i.labelStatesModels,h=i.hoverScale,p=i.cursorStyle,c=i.emphasisDisabled),!i||e.hasItemOption){var m=i&&i.itemModel?i.itemModel:e.getItemModel(t),v=m.getModel("emphasis");o=v.getModel("itemStyle").getItemStyle(),a=m.getModel(["select","itemStyle"]).getItemStyle(),s=m.getModel(["blur","itemStyle"]).getItemStyle(),l=v.get("focus"),u=v.get("blurScope"),c=v.get("disabled"),d=B_(m),h=v.getShallow("scale"),p=m.getShallow("cursor")}var y=e.getItemVisual(t,"symbolRotate");g.attr("rotation",(y||0)*Math.PI/180||0);var w=Bk(e.getItemVisual(t,"symbolOffset"),n);w&&(g.x=w[0],g.y=w[1]),p&&g.attr("cursor",p);var C=e.getItemVisual(t,"style"),b=C.fill;if(g instanceof Zx){var S=g.style;g.useStyle(Wf({image:S.image,x:S.x,y:S.y,width:S.width,height:S.height},C))}else g.__isEmptyBrush?g.useStyle(Wf({},C)):g.useStyle(C),g.style.decal=null,g.setColor(b,r&&r.symbolInnerColor),g.style.strokeNoScale=!0;var x=e.getItemVisual(t,"liftZ"),M=this._z2;null!=x?null==M&&(this._z2=g.z2,g.z2+=x):null!=M&&(g.z2=M,this._z2=null);var _=r&&r.useNameLabel;N_(g,d,{labelFetcher:f,labelDataIndex:t,defaultText:function(t){return _?e.getName(t):CB(e,t)},inheritColor:b,defaultOpacity:C.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var R=g.ensureState("emphasis");R.style=o,g.ensureState("select").style=a,g.ensureState("blur").style=s;var D=null==h||!0===h?Math.max(1.1,3/this._sizeY):isFinite(h)&&h>0?+h:1;R.scaleX=this._sizeX*D,R.scaleY=this._sizeY*D,this.setSymbolScale(1),f_(this,l,u,c)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,t,n){var i=this.childAt(0),r=SM(this).dataIndex,o=n&&n.animation;if(this.silent=i.silent=!0,n&&n.fadeLabel){var s=i.getTextContent();s&&A_(s,{style:{opacity:0}},t,{dataIndex:r,removeOpt:o,cb:function(){i.removeTextContent()}})}else i.removeTextContent();A_(i,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:r,cb:e,removeOpt:o})},t.getSymbolSize=function(e,t){return Nk(e.getItemVisual(t,"symbolSize"))},t}(eb);function xB(e,t){this.parent.drift(e,t)}const MB=SB;function _B(e,t,n,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(n,"symbol")}function RB(e){return null==e||sm(e)||(e={isIgnore:e}),e||{}}function DB(e){var t=e.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:B_(t),cursorStyle:t.get("cursor")}}var PB=function(){function e(e){this.group=new eb,this._SymbolCtor=e||MB}return e.prototype.updateData=function(e,t){this._progressiveEls=null,t=RB(t);var n=this.group,i=e.hostModel,r=this._data,o=this._SymbolCtor,s=t.disableAnimation,a=DB(e),l={disableAnimation:s},u=t.getSymbolPoint||function(t){return e.getItemLayout(t)};r||n.removeAll(),e.diff(r).add((function(i){var r=u(i);if(_B(e,r,i,t)){var s=new o(e,i,a,l);s.setPosition(r),e.setItemGraphicEl(i,s),n.add(s)}})).update((function(c,d){var h=r.getItemGraphicEl(d),p=u(c);if(_B(e,p,c,t)){var g=e.getItemVisual(c,"symbol")||"circle",f=h&&h.getSymbolType&&h.getSymbolType();if(!h||f&&f!==g)n.remove(h),(h=new o(e,c,a,l)).setPosition(p);else{h.updateData(e,c,a,l);var m={x:p[0],y:p[1]};s?h.attr(m):D_(h,m,i)}n.add(h),e.setItemGraphicEl(c,h)}else n.remove(h)})).remove((function(e){var t=r.getItemGraphicEl(e);t&&t.fadeOut((function(){n.remove(t)}),i)})).execute(),this._getSymbolPoint=u,this._data=e},e.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl((function(t,n){var i=e._getSymbolPoint(n);t.setPosition(i),t.markRedraw()}))},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=DB(e),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t,n){function i(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=RB(n);for(var r=e.start;r<e.end;r++){var o=t.getItemLayout(r);if(_B(t,o,r,n)){var s=new this._SymbolCtor(t,r,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(r,s),this._progressiveEls.push(s)}}},e.prototype.eachRendered=function(e){yI(this._progressiveEls||this.group,e)},e.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}),n.hostModel)})):t.removeAll()},e}();const TB=PB;function AB(e,t,n){var i=e.getBaseAxis(),r=e.getOtherAxis(i),o=function(e,t){var n=0,i=e.scale.getExtent();"start"===t?n=i[0]:"end"===t?n=i[1]:om(t)&&!isNaN(t)?n=t:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]);return n}(r,n),s=i.dim,a=r.dim,l=t.mapDimension(a),u=t.mapDimension(s),c="x"===a||"radius"===a?1:0,d=Yf(e.dimensions,(function(e){return t.mapDimension(e)})),h=!1,p=t.getCalculationInfo("stackResultDimension");return mB(t,d[0])&&(h=!0,d[0]=p),mB(t,d[1])&&(h=!0,d[1]=p),{dataDimsForPoint:d,valueStart:o,valueAxisDim:a,baseAxisDim:s,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function EB(e,t,n,i){var r=NaN;e.stacked&&(r=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=e.valueStart);var o=e.baseDataOffset,s=[];return s[o]=n.get(e.baseDim,i),s[1-o]=r,t.dataToPoint(s)}var IB="undefined"!==typeof Float32Array,kB=IB?Float32Array:Array;function FB(e){return tm(e)?IB?new Float32Array(e):e:new kB(e)}var LB=Math.min,OB=Math.max;function NB(e,t){return isNaN(e)||isNaN(t)}function BB(e,t,n,i,r,o,s,a,l){for(var u,c,d,h,p,g,f=n,m=0;m<i;m++){var v=t[2*f],y=t[2*f+1];if(f>=r||f<0)break;if(NB(v,y)){if(l){f+=o;continue}break}if(f===n)e[o>0?"moveTo":"lineTo"](v,y),d=v,h=y;else{var w=v-u,C=y-c;if(w*w+C*C<.5){f+=o;continue}if(s>0){for(var b=f+o,S=t[2*b],x=t[2*b+1];S===v&&x===y&&m<i;)m++,f+=o,S=t[2*(b+=o)],x=t[2*b+1],w=(v=t[2*f])-u,C=(y=t[2*f+1])-c;var M=m+1;if(l)for(;NB(S,x)&&M<i;)M++,S=t[2*(b+=o)],x=t[2*b+1];var _=.5,R=0,D=0,P=void 0,T=void 0;if(M>=i||NB(S,x))p=v,g=y;else{R=S-u,D=x-c;var A=v-u,E=S-v,I=y-c,k=x-y,F=void 0,L=void 0;if("x"===a){var O=R>0?1:-1;p=v-O*(F=Math.abs(A))*s,g=y,P=v+O*(L=Math.abs(E))*s,T=y}else if("y"===a){var N=D>0?1:-1;p=v,g=y-N*(F=Math.abs(I))*s,P=v,T=y+N*(L=Math.abs(k))*s}else F=Math.sqrt(A*A+I*I),p=v-R*s*(1-(_=(L=Math.sqrt(E*E+k*k))/(L+F))),g=y-D*s*(1-_),T=y+D*s*_,P=LB(P=v+R*s*_,OB(S,v)),T=LB(T,OB(x,y)),P=OB(P,LB(S,v)),g=y-(D=(T=OB(T,LB(x,y)))-y)*F/L,p=LB(p=v-(R=P-v)*F/L,OB(u,v)),g=LB(g,OB(c,y)),P=v+(R=v-(p=OB(p,LB(u,v))))*L/F,T=y+(D=y-(g=OB(g,LB(c,y))))*L/F}e.bezierCurveTo(d,h,p,g,v,y),d=P,h=T}else e.lineTo(v,y)}u=v,c=y,f+=o}return m}var GB=function(){this.smooth=0,this.smoothConstraint=!0},VB=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polyline",n}return vf(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new GB},t.prototype.buildPath=function(e,t){var n=t.points,i=0,r=n.length/2;if(t.connectNulls){for(;r>0&&NB(n[2*r-2],n[2*r-1]);r--);for(;i<r&&NB(n[2*i],n[2*i+1]);i++);}for(;i<r;)i+=BB(e,n,i,r,r,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,i,r=this.path.data,o=bx.CMD,s="x"===t,a=[],l=0;l<r.length;){var u=void 0,c=void 0,d=void 0,h=void 0,p=void 0,g=void 0,f=void 0;switch(r[l++]){case o.M:n=r[l++],i=r[l++];break;case o.L:if(u=r[l++],c=r[l++],(f=s?(e-n)/(u-n):(e-i)/(c-i))<=1&&f>=0){var m=s?(c-i)*f+i:(u-n)*f+n;return s?[e,m]:[m,e]}n=u,i=c;break;case o.C:u=r[l++],c=r[l++],d=r[l++],h=r[l++],p=r[l++],g=r[l++];var v=s?ky(n,u,d,p,e,a):ky(i,c,h,g,e,a);if(v>0)for(var y=0;y<v;y++){var w=a[y];if(w<=1&&w>=0){m=s?Ey(i,c,h,g,w):Ey(n,u,d,p,w);return s?[e,m]:[m,e]}}n=p,i=g}}},t}(Ux),zB=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t}(GB),HB=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polygon",n}return vf(t,e),t.prototype.getDefaultShape=function(){return new zB},t.prototype.buildPath=function(e,t){var n=t.points,i=t.stackedOnPoints,r=0,o=n.length/2,s=t.smoothMonotone;if(t.connectNulls){for(;o>0&&NB(n[2*o-2],n[2*o-1]);o--);for(;r<o&&NB(n[2*r],n[2*r+1]);r++);}for(;r<o;){var a=BB(e,n,r,o,o,1,t.smooth,s,t.connectNulls);BB(e,i,r+a-1,a,o,-1,t.stackedOnSmooth,s,t.connectNulls),r+=a+1,e.closePath()}},t}(Ux);function WB(e,t,n,i,r){var o=e.getArea(),s=o.x,a=o.y,l=o.width,u=o.height,c=n.get(["lineStyle","width"])||2;s-=c/2,a-=c/2,l+=c,u+=c,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var d=new oM({shape:{x:s,y:a,width:l,height:u}});if(t){var h=e.getBaseAxis(),p=h.isHorizontal(),g=h.inverse;p?(g&&(d.shape.x+=l),d.shape.width=0):(g||(d.shape.y+=u),d.shape.height=0);var f=nm(r)?function(e){r(e,d)}:null;P_(d,{shape:{width:l,height:u,x:s,y:a}},n,null,i,f)}return d}function UB(e,t,n){var i=e.getArea(),r=cb(i.r0,1),o=cb(i.r,1),s=new rE({shape:{cx:cb(e.cx,1),cy:cb(e.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});t&&("angle"===e.getBaseAxis().dim?s.shape.endAngle=i.startAngle:s.shape.r=r,P_(s,{shape:{endAngle:i.endAngle,r:o}},n));return s}function jB(e,t,n,i,r){return e?"polar"===e.type?UB(e,t,n):"cartesian2d"===e.type?WB(e,t,n,i,r):null:null}function $B(e,t){return e.type===t}function KB(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function qB(e){for(var t=1/0,n=1/0,i=-1/0,r=-1/0,o=0;o<e.length;){var s=e[o++],a=e[o++];isNaN(s)||(t=Math.min(s,t),i=Math.max(s,i)),isNaN(a)||(n=Math.min(a,n),r=Math.max(a,r))}return[[t,n],[i,r]]}function YB(e,t){var n=qB(e),i=n[0],r=n[1],o=qB(t),s=o[0],a=o[1];return Math.max(Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]),Math.abs(r[0]-a[0]),Math.abs(r[1]-a[1]))}function XB(e){return om(e)?e:e?.5:0}function ZB(e,t,n,i){var r=t.getBaseAxis(),o="x"===r.dim||"radius"===r.dim?0:1,s=[],a=0,l=[],u=[],c=[],d=[];if(i){for(a=0;a<e.length;a+=2)isNaN(e[a])||isNaN(e[a+1])||d.push(e[a],e[a+1]);e=d}for(a=0;a<e.length-2;a+=2)switch(c[0]=e[a+2],c[1]=e[a+3],u[0]=e[a],u[1]=e[a+1],s.push(u[0],u[1]),n){case"end":l[o]=c[o],l[1-o]=u[1-o],s.push(l[0],l[1]);break;case"middle":var h=(u[o]+c[o])/2,p=[];l[o]=p[o]=h,l[1-o]=u[1-o],p[1-o]=c[1-o],s.push(l[0],l[1]),s.push(p[0],p[1]);break;default:l[o]=u[o],l[1-o]=c[1-o],s.push(l[0],l[1])}return s.push(e[a++],e[a++]),s}function QB(e,t,n){var i=e.getVisual("visualMeta");if(i&&i.length&&e.count()&&"cartesian2d"===t.type){for(var r,o,s=i.length-1;s>=0;s--){var a=e.getDimensionInfo(i[s].dimension);if("x"===(r=a&&a.coordDim)||"y"===r){o=i[s];break}}if(o){var l=t.getAxis(r),u=Yf(o.stops,(function(e){return{coord:l.toGlobalCoord(l.dataToCoord(e.value)),color:e.color}})),c=u.length,d=o.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),d.reverse());var h=function(e,t){var n,i,r=[],o=e.length;function s(e,t,n){var i=e.coord;return{coord:n,color:gw((n-i)/(t.coord-i),[e.color,t.color])}}for(var a=0;a<o;a++){var l=e[a],u=l.coord;if(u<0)n=l;else{if(u>t){i?r.push(s(i,l,t)):n&&r.push(s(n,l,0),s(n,l,t));break}n&&(r.push(s(n,l,0)),n=null),r.push(l),i=l}}return r}(u,"x"===r?n.getWidth():n.getHeight()),p=h.length;if(!p&&c)return u[0].coord<0?d[1]?d[1]:u[c-1].color:d[0]?d[0]:u[0].color;var g=h[0].coord-10,f=h[p-1].coord+10,m=f-g;if(m<.001)return"transparent";qf(h,(function(e){e.offset=(e.coord-g)/m})),h.push({offset:p?h[p-1].offset:.5,color:d[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:d[0]||"transparent"});var v=new EE(0,0,0,0,h,!0);return v[r]=g,v[r+"2"]=f,v}}}function JB(e,t,n){var i=e.get("showAllSymbol"),r="auto"===i;if(!i||r){var o=n.getAxesByScale("ordinal")[0];if(o&&(!r||!function(e,t){var n=e.getExtent(),i=Math.abs(n[1]-n[0])/e.scale.count();isNaN(i)&&(i=0);for(var r=t.count(),o=Math.max(1,Math.round(r/5)),s=0;s<r;s+=o)if(1.5*MB.getSymbolSize(t,s)[e.isHorizontal()?1:0]>i)return!1;return!0}(o,t))){var s=t.mapDimension(o.dim),a={};return qf(o.getViewLabels(),(function(e){var t=o.scale.getRawOrdinalNumber(e.tickValue);a[t]=1})),function(e){return!a.hasOwnProperty(t.get(s,e))}}}}function eG(e,t){return[e[2*t],e[2*t+1]]}function tG(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<EM.length;t++)if(e.get([EM[t],"endLabel","show"]))return!0;return!1}function nG(e,t,n,i){if($B(t,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),s=i.getData(),a={lastFrameIndex:0},l=tG(i)?function(n,i){e._endLabelOnDuring(n,i,s,a,o,r,t)}:null,u=t.getBaseAxis().isHorizontal(),c=WB(t,n,i,(function(){var t=e._endLabel;t&&n&&null!=a.originalX&&t.attr({x:a.originalX,y:a.originalY})}),l);if(!i.get("clip",!0)){var d=c.shape,h=Math.max(d.width,d.height);u?(d.y-=h,d.height+=2*h):(d.x-=h,d.width+=2*h)}return l&&l(1,c),c}return UB(t,n,i)}var iG=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.init=function(){var e=new eb,t=new TB;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},t.prototype.render=function(e,t,n){var i=this,r=e.coordinateSystem,o=this.group,s=e.getData(),a=e.getModel("lineStyle"),l=e.getModel("areaStyle"),u=s.getLayout("points")||[],c="polar"===r.type,d=this._coordSys,h=this._symbolDraw,p=this._polyline,g=this._polygon,f=this._lineGroup,m=!t.ssr&&e.get("animation"),v=!l.isEmpty(),y=l.get("origin"),w=AB(r,s,y),C=v&&function(e,t,n){if(!n.valueDim)return[];for(var i=t.count(),r=FB(2*i),o=0;o<i;o++){var s=EB(n,e,t,o);r[2*o]=s[0],r[2*o+1]=s[1]}return r}(r,s,w),b=e.get("showSymbol"),S=e.get("connectNulls"),x=b&&!c&&JB(e,s,r),M=this._data;M&&M.eachItemGraphicEl((function(e,t){e.__temp&&(o.remove(e),M.setItemGraphicEl(t,null))})),b||h.remove(),o.add(f);var _,R=!c&&e.get("step");r&&r.getArea&&e.get("clip",!0)&&(null!=(_=r.getArea()).width?(_.x-=.1,_.y-=.1,_.width+=.2,_.height+=.2):_.r0&&(_.r0-=.5,_.r+=.5)),this._clipShapeForSymbol=_;var D=QB(s,r,n)||s.getVisual("style")[s.getVisual("drawType")];if(p&&d.type===r.type&&R===this._step){v&&!g?g=this._newPolygon(u,C):g&&!v&&(f.remove(g),g=this._polygon=null),c||this._initOrUpdateEndLabel(e,r,nD(D));var P=f.getClipPath();if(P)P_(P,{shape:nG(this,r,!1,e).shape},e);else f.setClipPath(nG(this,r,!0,e));b&&h.updateData(s,{isIgnore:x,clipShape:_,disableAnimation:!0,getSymbolPoint:function(e){return[u[2*e],u[2*e+1]]}}),KB(this._stackedOnPoints,C)&&KB(this._points,u)||(m?this._doUpdateAnimation(s,C,r,n,R,y,S):(R&&(u=ZB(u,r,R,S),C&&(C=ZB(C,r,R,S))),p.setShape({points:u}),g&&g.setShape({points:u,stackedOnPoints:C})))}else b&&h.updateData(s,{isIgnore:x,clipShape:_,disableAnimation:!0,getSymbolPoint:function(e){return[u[2*e],u[2*e+1]]}}),m&&this._initSymbolLabelAnimation(s,r,_),R&&(u=ZB(u,r,R,S),C&&(C=ZB(C,r,R,S))),p=this._newPolyline(u),v?g=this._newPolygon(u,C):g&&(f.remove(g),g=this._polygon=null),c||this._initOrUpdateEndLabel(e,r,nD(D)),f.setClipPath(nG(this,r,!0,e));var T=e.getModel("emphasis"),A=T.get("focus"),E=T.get("blurScope"),I=T.get("disabled");(p.useStyle(Uf(a.getLineStyle(),{fill:"none",stroke:D,lineJoin:"bevel"})),w_(p,e,"lineStyle"),p.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"]))&&(p.getState("emphasis").style.lineWidth=+p.style.lineWidth+1);SM(p).seriesIndex=e.seriesIndex,f_(p,A,E,I);var k=XB(e.get("smooth")),F=e.get("smoothMonotone");if(p.setShape({smooth:k,smoothMonotone:F,connectNulls:S}),g){var L=s.getCalculationInfo("stackedOnSeries"),O=0;g.useStyle(Uf(l.getAreaStyle(),{fill:D,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),L&&(O=XB(L.get("smooth"))),g.setShape({smooth:k,stackedOnSmooth:O,smoothMonotone:F,connectNulls:S}),w_(g,e,"areaStyle"),SM(g).seriesIndex=e.seriesIndex,f_(g,A,E,I)}var N=function(e){i._changePolyState(e)};s.eachItemGraphicEl((function(e){e&&(e.onHoverStateChange=N)})),this._polyline.onHoverStateChange=N,this._data=s,this._coordSys=r,this._stackedOnPoints=C,this._points=u,this._step=R,this._valueOrigin=y,e.get("triggerLineEvent")&&(this.packEventData(e,p),g&&this.packEventData(e,g))},t.prototype.packEventData=function(e,t){SM(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,t,n,i){var r=e.getData(),o=Ub(r,i);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&o>=0){var s=r.getLayout("points"),a=r.getItemGraphicEl(o);if(!a){var l=s[2*o],u=s[2*o+1];if(isNaN(l)||isNaN(u))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u))return;var c=e.get("zlevel")||0,d=e.get("z")||0;(a=new MB(r,o)).x=l,a.y=u,a.setZ(c,d);var h=a.getSymbolPath().getTextContent();h&&(h.zlevel=c,h.z=d,h.z2=this._polyline.z2+1),a.__temp=!0,r.setItemGraphicEl(o,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else DI.prototype.highlight.call(this,e,t,n,i)},t.prototype.downplay=function(e,t,n,i){var r=e.getData(),o=Ub(r,i);if(this._changePolyState("normal"),null!=o&&o>=0){var s=r.getItemGraphicEl(o);s&&(s.__temp?(r.setItemGraphicEl(o,null),this.group.remove(s)):s.downplay())}else DI.prototype.downplay.call(this,e,t,n,i)},t.prototype._changePolyState=function(e){var t=this._polygon;XM(this._polyline,e),t&&XM(t,e)},t.prototype._newPolyline=function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new VB({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t,t},t.prototype._newPolygon=function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new HB({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,t,n){var i,r,o=t.getBaseAxis(),s=o.inverse;"cartesian2d"===t.type?(i=o.isHorizontal(),r=!1):"polar"===t.type&&(i="angle"===o.dim,r=!0);var a=e.hostModel,l=a.get("animationDuration");nm(l)&&(l=l(null));var u=a.get("animationDelay")||0,c=nm(u)?u(null):u;e.eachItemGraphicEl((function(e,o){var a=e;if(a){var d=[e.x,e.y],h=void 0,p=void 0,g=void 0;if(n)if(r){var f=n,m=t.pointToCoord(d);i?(h=f.startAngle,p=f.endAngle,g=-m[1]/180*Math.PI):(h=f.r0,p=f.r,g=m[0])}else{var v=n;i?(h=v.x,p=v.x+v.width,g=e.x):(h=v.y+v.height,p=v.y,g=e.y)}var y=p===h?0:(g-h)/(p-h);s&&(y=1-y);var w=nm(u)?u(o):l*y+c,C=a.getSymbolPath(),b=C.getTextContent();a.attr({scaleX:0,scaleY:0}),a.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:w}),b&&b.animateFrom({style:{opacity:0}},{duration:300,delay:w}),C.disableLabelAnimation=!0}}))},t.prototype._initOrUpdateEndLabel=function(e,t,n){var i=e.getModel("endLabel");if(tG(e)){var r=e.getData(),o=this._polyline,s=r.getLayout("points");if(!s)return o.removeTextContent(),void(this._endLabel=null);var a=this._endLabel;a||((a=this._endLabel=new bM({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var l=function(e){for(var t,n,i=e.length/2;i>0&&(t=e[2*i-2],n=e[2*i-1],isNaN(t)||isNaN(n));i--);return i-1}(s);l>=0&&(N_(o,B_(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:l,defaultText:function(e,t,n){return null!=n?bB(r,n):CB(r,e)},enableTextSetter:!0},function(e,t){var n=t.getBaseAxis(),i=n.isHorizontal(),r=n.inverse,o=i?r?"right":"left":"center",s=i?"middle":r?"top":"bottom";return{normal:{align:e.get("align")||o,verticalAlign:e.get("verticalAlign")||s}}}(i,t)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,n,i,r,o,s){var a=this._endLabel,l=this._polyline;if(a){e<1&&null==i.originalX&&(i.originalX=a.x,i.originalY=a.y);var u=n.getLayout("points"),c=n.hostModel,d=c.get("connectNulls"),h=o.get("precision"),p=o.get("distance")||0,g=s.getBaseAxis(),f=g.isHorizontal(),m=g.inverse,v=t.shape,y=m?f?v.x:v.y+v.height:f?v.x+v.width:v.y,w=(f?p:0)*(m?-1:1),C=(f?0:-p)*(m?-1:1),b=f?"x":"y",S=function(e,t,n){for(var i,r,o=e.length/2,s="x"===n?0:1,a=0,l=-1,u=0;u<o;u++)if(r=e[2*u+s],!isNaN(r)&&!isNaN(e[2*u+1-s]))if(0!==u){if(i<=t&&r>=t||i>=t&&r<=t){l=u;break}a=u,i=r}else i=r;return{range:[a,l],t:(t-i)/(r-i)}}(u,y,b),x=S.range,M=x[1]-x[0],_=void 0;if(M>=1){if(M>1&&!d){var R=eG(u,x[0]);a.attr({x:R[0]+w,y:R[1]+C}),r&&(_=c.getRawValue(x[0]))}else{(R=l.getPointOn(y,b))&&a.attr({x:R[0]+w,y:R[1]+C});var D=c.getRawValue(x[0]),P=c.getRawValue(x[1]);r&&(_=eS(n,h,D,P,S.t))}i.lastFrameIndex=x[0]}else{var T=1===e||i.lastFrameIndex>0?x[0]:0;R=eG(u,T);r&&(_=c.getRawValue(T)),a.attr({x:R[0]+w,y:R[1]+C})}if(r){var A=$_(a);"function"===typeof A.setLabelText&&A.setLabelText(_)}}},t.prototype._doUpdateAnimation=function(e,t,n,i,r,o,s){var a=this._polyline,l=this._polygon,u=e.hostModel,c=function(e,t,n,i,r,o,s){for(var a=function(e,t){var n=[];return t.diff(e).add((function(e){n.push({cmd:"+",idx:e})})).update((function(e,t){n.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){n.push({cmd:"-",idx:e})})).execute(),n}(e,t),l=[],u=[],c=[],d=[],h=[],p=[],g=[],f=AB(r,t,s),m=e.getLayout("points")||[],v=t.getLayout("points")||[],y=0;y<a.length;y++){var w=a[y],C=!0,b=void 0,S=void 0;switch(w.cmd){case"=":b=2*w.idx,S=2*w.idx1;var x=m[b],M=m[b+1],_=v[S],R=v[S+1];(isNaN(x)||isNaN(M))&&(x=_,M=R),l.push(x,M),u.push(_,R),c.push(n[b],n[b+1]),d.push(i[S],i[S+1]),g.push(t.getRawIndex(w.idx1));break;case"+":var D=w.idx,P=f.dataDimsForPoint,T=r.dataToPoint([t.get(P[0],D),t.get(P[1],D)]);S=2*D,l.push(T[0],T[1]),u.push(v[S],v[S+1]);var A=EB(f,r,t,D);c.push(A[0],A[1]),d.push(i[S],i[S+1]),g.push(t.getRawIndex(D));break;case"-":C=!1}C&&(h.push(w),p.push(p.length))}p.sort((function(e,t){return g[e]-g[t]}));var E=l.length,I=FB(E),k=FB(E),F=FB(E),L=FB(E),O=[];for(y=0;y<p.length;y++){var N=p[y],B=2*y,G=2*N;I[B]=l[G],I[B+1]=l[G+1],k[B]=u[G],k[B+1]=u[G+1],F[B]=c[G],F[B+1]=c[G+1],L[B]=d[G],L[B+1]=d[G+1],O[y]=h[N]}return{current:I,next:k,stackedOnCurrent:F,stackedOnNext:L,status:O}}(this._data,e,this._stackedOnPoints,t,this._coordSys,0,this._valueOrigin),d=c.current,h=c.stackedOnCurrent,p=c.next,g=c.stackedOnNext;if(r&&(d=ZB(c.current,n,r,s),h=ZB(c.stackedOnCurrent,n,r,s),p=ZB(c.next,n,r,s),g=ZB(c.stackedOnNext,n,r,s)),YB(d,p)>3e3||l&&YB(h,g)>3e3)return a.stopAnimation(),a.setShape({points:p}),void(l&&(l.stopAnimation(),l.setShape({points:p,stackedOnPoints:g})));a.shape.__points=c.current,a.shape.points=d;var f={shape:{points:p}};c.current!==d&&(f.shape.__points=c.next),a.stopAnimation(),D_(a,f,u),l&&(l.setShape({points:d,stackedOnPoints:h}),l.stopAnimation(),D_(l,{shape:{stackedOnPoints:g}},u),a.shape.points!==l.shape.points&&(l.shape.points=a.shape.points));for(var m=[],v=c.status,y=0;y<v.length;y++){if("="===v[y].cmd){var w=e.getItemGraphicEl(v[y].idx1);w&&m.push({el:w,ptIdx:y})}}a.animators&&a.animators.length&&a.animators[0].during((function(){l&&l.dirtyShape();for(var e=a.shape.__points,t=0;t<m.length;t++){var n=m[t].el,i=2*m[t].ptIdx;n.x=e[i],n.y=e[i+1],n.markRedraw()}}))},t.prototype.remove=function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(e,i){e.__temp&&(t.remove(e),n.setItemGraphicEl(i,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(DI);const rG=iG;function oG(e,t){return{seriesType:e,plan:mA(),reset:function(e){var n=e.getData(),i=e.coordinateSystem,r=e.pipelineContext,o=t||r.large;if(i){var s=Yf(i.dimensions,(function(e){return n.mapDimension(e)})).slice(0,2),a=s.length,l=n.getCalculationInfo("stackResultDimension");mB(n,s[0])&&(s[0]=l),mB(n,s[1])&&(s[1]=l);var u=n.getStore(),c=n.getDimensionIndex(s[0]),d=n.getDimensionIndex(s[1]);return a&&{progress:function(e,t){for(var n=e.end-e.start,r=o&&FB(n*a),s=[],l=[],h=e.start,p=0;h<e.end;h++){var g=void 0;if(1===a){var f=u.get(c,h);g=i.dataToPoint(f,null,l)}else s[0]=u.get(c,h),s[1]=u.get(d,h),g=i.dataToPoint(s,null,l);o?(r[p++]=g[0],r[p++]=g[1]):t.setItemLayout(h,g.slice())}o&&t.setLayout("points",r)}}}}}}var sG={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},minmax:function(e){for(var t=-1/0,n=-1/0,i=0;i<e.length;i++){var r=e[i],o=Math.abs(r);o>t&&(t=o,n=r)}return isFinite(n)?n:NaN},nearest:function(e){return e[0]}},aG=function(e){return Math.round(e.length/2)};function lG(e){return{seriesType:e,reset:function(e,t,n){var i=e.getData(),r=e.get("sampling"),o=e.coordinateSystem,s=i.count();if(s>10&&"cartesian2d"===o.type&&r){var a=o.getBaseAxis(),l=o.getOtherAxis(a),u=a.getExtent(),c=n.getDevicePixelRatio(),d=Math.abs(u[1]-u[0])*(c||1),h=Math.round(s/d);if(isFinite(h)&&h>1){"lttb"===r&&e.setData(i.lttbDownSample(i.mapDimension(l.dim),1/h));var p=void 0;im(r)?p=sG[r]:nm(r)&&(p=r),p&&e.setData(i.downSample(i.mapDimension(l.dim),1/h,p,aG))}}}}}var uG="__ec_stack_";function cG(e){return e.get("stack")||uG+e.seriesIndex}function dG(e){return e.dim+e.index}function hG(e,t){var n=[];return t.eachSeriesByType(e,(function(e){vG(e)&&n.push(e)})),n}function pG(e){var t=function(e){var t={};qf(e,(function(e){var n=e.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var i=e.getData(),r=n.dim+"_"+n.index,o=i.getDimensionIndex(i.mapDimension(n.dim)),s=i.getStore(),a=0,l=s.count();a<l;++a){var u=s.get(o,a);t[r]?t[r].push(u):t[r]=[u]}}));var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(r){r.sort((function(e,t){return e-t}));for(var o=null,s=1;s<r.length;++s){var a=r[s]-r[s-1];a>0&&(o=null===o?a:Math.min(o,a))}n[i]=o}}return n}(e),n=[];return qf(e,(function(e){var i,r=e.coordinateSystem.getBaseAxis(),o=r.getExtent();if("category"===r.type)i=r.getBandWidth();else if("value"===r.type||"time"===r.type){var s=r.dim+"_"+r.index,a=t[s],l=Math.abs(o[1]-o[0]),u=r.scale.getExtent(),c=Math.abs(u[1]-u[0]);i=a?l/c*a:l}else{var d=e.getData();i=Math.abs(o[1]-o[0])/d.count()}var h=ub(e.get("barWidth"),i),p=ub(e.get("barMaxWidth"),i),g=ub(e.get("barMinWidth")||(yG(e)?.5:1),i),f=e.get("barGap"),m=e.get("barCategoryGap");n.push({bandWidth:i,barWidth:h,barMaxWidth:p,barMinWidth:g,barGap:f,barCategoryGap:m,axisKey:dG(r),stackId:cG(e)})})),gG(n)}function gG(e){var t={};qf(e,(function(e,n){var i=e.axisKey,r=e.bandWidth,o=t[i]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},s=o.stacks;t[i]=o;var a=e.stackId;s[a]||o.autoWidthCount++,s[a]=s[a]||{width:0,maxWidth:0};var l=e.barWidth;l&&!s[a].width&&(s[a].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var u=e.barMaxWidth;u&&(s[a].maxWidth=u);var c=e.barMinWidth;c&&(s[a].minWidth=c);var d=e.barGap;null!=d&&(o.gap=d);var h=e.barCategoryGap;null!=h&&(o.categoryGap=h)}));var n={};return qf(t,(function(e,t){n[t]={};var i=e.stacks,r=e.bandWidth,o=e.categoryGap;if(null==o){var s=Qf(i).length;o=Math.max(35-4*s,15)+"%"}var a=ub(o,r),l=ub(e.gap,1),u=e.remainedWidth,c=e.autoWidthCount,d=(u-a)/(c+(c-1)*l);d=Math.max(d,0),qf(i,(function(e){var t=e.maxWidth,n=e.minWidth;if(e.width){i=e.width;t&&(i=Math.min(i,t)),n&&(i=Math.max(i,n)),e.width=i,u-=i+l*i,c--}else{var i=d;t&&t<i&&(i=Math.min(t,u)),n&&n>i&&(i=n),i!==d&&(e.width=i,u-=i+l*i,c--)}})),d=(u-a)/(c+(c-1)*l),d=Math.max(d,0);var h,p=0;qf(i,(function(e,t){e.width||(e.width=d),h=e,p+=e.width*(1+l)})),h&&(p-=h.width*l);var g=-p/2;qf(i,(function(e,i){n[t][i]=n[t][i]||{bandWidth:r,offset:g,width:e.width},g+=e.width*(1+l)}))})),n}function fG(e,t){var n=hG(e,t),i=pG(n);qf(n,(function(e){var t=e.getData(),n=e.coordinateSystem.getBaseAxis(),r=cG(e),o=i[dG(n)][r],s=o.offset,a=o.width;t.setLayout({bandWidth:o.bandWidth,offset:s,size:a})}))}function mG(e){return{seriesType:e,plan:mA(),reset:function(e){if(vG(e)){var t=e.getData(),n=e.coordinateSystem,i=n.getBaseAxis(),r=n.getOtherAxis(i),o=t.getDimensionIndex(t.mapDimension(r.dim)),s=t.getDimensionIndex(t.mapDimension(i.dim)),a=e.get("showBackground",!0),l=t.mapDimension(r.dim),u=t.getCalculationInfo("stackResultDimension"),c=mB(t,l)&&!!t.getCalculationInfo("stackedOnSeries"),d=r.isHorizontal(),h=function(e,t){var n=t.model.get("startValue");n||(n=0);return t.toGlobalCoord(t.dataToCoord("log"===t.type?n>0?n:1:n))}(0,r),p=yG(e),g=e.get("barMinHeight")||0,f=u&&t.getDimensionIndex(u),m=t.getLayout("size"),v=t.getLayout("offset");return{progress:function(e,t){for(var i,r=e.count,l=p&&FB(3*r),u=p&&a&&FB(3*r),y=p&&FB(r),w=n.master.getRect(),C=d?w.width:w.height,b=t.getStore(),S=0;null!=(i=e.next());){var x=b.get(c?f:o,i),M=b.get(s,i),_=h,R=void 0;c&&(R=+x-b.get(o,i));var D=void 0,P=void 0,T=void 0,A=void 0;if(d){var E=n.dataToPoint([x,M]);if(c)_=n.dataToPoint([R,M])[0];D=_,P=E[1]+v,T=E[0]-_,A=m,Math.abs(T)<g&&(T=(T<0?-1:1)*g)}else{E=n.dataToPoint([M,x]);if(c)_=n.dataToPoint([M,R])[1];D=E[0]+v,P=_,T=m,A=E[1]-_,Math.abs(A)<g&&(A=(A<=0?-1:1)*g)}p?(l[S]=D,l[S+1]=P,l[S+2]=d?T:A,u&&(u[S]=d?w.x:D,u[S+1]=d?P:w.y,u[S+2]=C),y[i]=i):t.setItemLayout(i,{x:D,y:P,width:T,height:A}),S+=3}p&&t.setLayout({largePoints:l,largeDataIndices:y,largeBackgroundPoints:u,valueAxisHorizontal:d})}}}}}}function vG(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function yG(e){return e.pipelineContext&&e.pipelineContext.large}var wG=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.getInitialData=function(e,t){return yB(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,t,n){var i=this.coordinateSystem;if(i&&i.clampData){var r=i.clampData(e),o=i.dataToPoint(r);if(n)qf(i.getAxes(),(function(e,n){if("category"===e.type&&null!=t){var i=e.getTicksCoords(),s=e.getTickModel().get("alignWithLabel"),a=r[n],l="x1"===t[n]||"y1"===t[n];if(l&&!s&&(a+=1),i.length<2)return;if(2===i.length)return void(o[n]=e.toGlobalCoord(e.getExtent()[l?1:0]));for(var u=void 0,c=void 0,d=1,h=0;h<i.length;h++){var p=i[h].coord,g=h===i.length-1?i[h-1].tickValue+d:i[h].tickValue;if(g===a){c=p;break}if(g<a)u=p;else if(null!=u&&g>a){c=(p+u)/2;break}1===h&&(d=g-i[0].tickValue)}null==c&&(u?u&&(c=i[i.length-1].coord):c=i[0].coord),o[n]=e.toGlobalCoord(c)}}));else{var s=this.getData(),a=s.getLayout("offset"),l=s.getLayout("size"),u=i.getBaseAxis().isHorizontal()?0:1;o[u]+=a+l/2}return o}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(pA);pA.registerClass(wG);const CG=wG;var bG=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.getInitialData=function(){return yB(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,n){return n.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=cR(CG.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(CG);const SG=bG;var xG=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},MG=function(e){function t(t){var n=e.call(this,t)||this;return n.type="sausage",n}return vf(t,e),t.prototype.getDefaultShape=function(){return new xG},t.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r0||0,0),o=Math.max(t.r,0),s=.5*(o-r),a=r+s,l=t.startAngle,u=t.endAngle,c=t.clockwise,d=2*Math.PI,h=c?u-l<d:l-u<d;h||(l=u-(c?d:-d));var p=Math.cos(l),g=Math.sin(l),f=Math.cos(u),m=Math.sin(u);h?(e.moveTo(p*r+n,g*r+i),e.arc(p*a+n,g*a+i,s,-Math.PI+l,l,!c)):e.moveTo(p*o+n,g*o+i),e.arc(n,i,o,l,u,!c),e.arc(f*a+n,m*a+i,s,u-2*Math.PI,u-Math.PI,!c),0!==r&&e.arc(n,i,r,u,l,c)},t}(Ux);const _G=MG;function RG(e,t,n){return t*Math.sin(e)*(n?-1:1)}function DG(e,t,n){return t*Math.cos(e)*(n?1:-1)}function PG(e,t,n){var i=e.get("borderRadius");if(null==i)return n?{cornerRadius:0}:null;tm(i)||(i=[i,i,i,i]);var r=Math.abs(t.r||0-t.r0||0);return{cornerRadius:Yf(i,(function(e){return VC(e,r)}))}}var TG=Math.max,AG=Math.min;var EG=function(e){function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return vf(t,e),t.prototype.render=function(e,t,n,i){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var r=e.get("coordinateSystem");("cartesian2d"===r||"polar"===r)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){yI(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,n,i){var r,o=this.group,s=e.getData(),a=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?r=u.isHorizontal():"polar"===l.type&&(r="angle"===u.dim);var c=e.isAnimationEnabled()?e:null,d=function(e,t){var n=e.get("realtimeSort",!0),i=t.getBaseAxis();0;if(n&&"category"===i.type&&"cartesian2d"===t.type)return{baseAxis:i,otherAxis:t.getOtherAxis(i)}}(e,l);d&&this._enableRealtimeSort(d,s,n);var h=e.get("clip",!0)||d,p=function(e,t){var n=e.getArea&&e.getArea();if($B(e,"cartesian2d")){var i=e.getBaseAxis();if("category"!==i.type||!i.onBand){var r=t.getLayout("bandWidth");i.isHorizontal()?(n.x-=r,n.width+=2*r):(n.y-=r,n.height+=2*r)}}return n}(l,s);o.removeClipPath();var g=e.get("roundCap",!0),f=e.get("showBackground",!0),m=e.getModel("backgroundStyle"),v=m.get("borderRadius")||0,y=[],w=this._backgroundEls,C=i&&i.isInitSort,b=i&&"changeAxisOrder"===i.type;function S(e){var t=GG[l.type](s,e),n=function(e,t,n){var i="polar"===e.type?rE:oM;return new i({shape:$G(t,n,e),silent:!0,z2:0})}(l,r,t);return n.useStyle(m.getItemStyle()),"cartesian2d"===l.type?n.setShape("r",v):n.setShape("cornerRadius",v),y[e]=n,n}s.diff(a).add((function(t){var n=s.getItemModel(t),i=GG[l.type](s,t,n);if(f&&S(t),s.hasValue(t)&&BG[l.type](i)){var a=!1;h&&(a=IG[l.type](p,i));var m=kG[l.type](e,s,t,i,r,c,u.model,!1,g);d&&(m.forceLabelAnimation=!0),zG(m,s,t,n,i,e,r,"polar"===l.type),C?m.attr({shape:i}):d?FG(d,c,m,i,t,r,!1,!1):P_(m,{shape:i},e,t),s.setItemGraphicEl(t,m),o.add(m),m.ignore=a}})).update((function(t,n){var i=s.getItemModel(t),x=GG[l.type](s,t,i);if(f){var M=void 0;0===w.length?M=S(n):((M=w[n]).useStyle(m.getItemStyle()),"cartesian2d"===l.type?M.setShape("r",v):M.setShape("cornerRadius",v),y[t]=M);var _=GG[l.type](s,t);D_(M,{shape:$G(r,_,l)},c,t)}var R=a.getItemGraphicEl(n);if(s.hasValue(t)&&BG[l.type](x)){var D=!1;if(h&&(D=IG[l.type](p,x))&&o.remove(R),R?k_(R):R=kG[l.type](e,s,t,x,r,c,u.model,!!R,g),d&&(R.forceLabelAnimation=!0),b){var P=R.getTextContent();if(P){var T=$_(P);null!=T.prevValue&&(T.prevValue=T.value)}}else zG(R,s,t,i,x,e,r,"polar"===l.type);C?R.attr({shape:x}):d?FG(d,c,R,x,t,r,!0,b):D_(R,{shape:x},e,t,null),s.setItemGraphicEl(t,R),R.ignore=D,o.add(R)}else o.remove(R)})).remove((function(t){var n=a.getItemGraphicEl(t);n&&I_(n,e,t)})).execute();var x=this._backgroundGroup||(this._backgroundGroup=new eb);x.removeAll();for(var M=0;M<y.length;++M)x.add(y[M]);o.add(x),this._backgroundEls=y,this._data=s},t.prototype._renderLarge=function(e,t,n){this._clear(),UG(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),UG(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)&&jB(e.coordinateSystem,!1,e),n=this.group;t?n.setClipPath(t):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,n){var i=this;if(t.count()){var r=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,n),this._isFirstFrame=!1;else{var o=function(e){var n=t.getItemGraphicEl(e),i=n&&n.shape;return i&&Math.abs(r.isHorizontal()?i.height:i.width)||0};this._onRendered=function(){i._updateSortWithinSameData(t,o,r,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,n){var i=[];return e.each(e.mapDimension(t.dim),(function(e,t){var r=n(t);r=null==r?NaN:r,i.push({dataIndex:t,mappedValue:r,ordinalNumber:e})})),i.sort((function(e,t){return t.mappedValue-e.mappedValue})),{ordinalNumbers:Yf(i,(function(e){return e.ordinalNumber}))}},t.prototype._isOrderChangedWithinSameData=function(e,t,n){for(var i=n.scale,r=e.mapDimension(n.dim),o=Number.MAX_VALUE,s=0,a=i.getOrdinalMeta().categories.length;s<a;++s){var l=e.rawIndexOf(r,i.getRawOrdinalNumber(s)),u=l<0?Number.MIN_VALUE:t(e.indexOfRawIndex(l));if(u>o)return!0;o=u}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var n=t.scale,i=n.getExtent(),r=Math.max(0,i[0]),o=Math.min(i[1],n.getOrdinalMeta().categories.length-1);r<=o;++r)if(e.ordinalNumbers[r]!==n.getRawOrdinalNumber(r))return!0},t.prototype._updateSortWithinSameData=function(e,t,n,i){if(this._isOrderChangedWithinSameData(e,t,n)){var r=this._dataSort(e,n,t);this._isOrderDifferentInView(r,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:r}))}},t.prototype._dispatchInitSort=function(e,t,n){var i=t.baseAxis,r=this._dataSort(e,i,(function(n){return e.get(e.mapDimension(t.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:r})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(t){I_(t,e,SM(t).dataIndex)}))):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(DI),IG={cartesian2d:function(e,t){var n=t.width<0?-1:1,i=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var r=e.x+e.width,o=e.y+e.height,s=TG(t.x,e.x),a=AG(t.x+t.width,r),l=TG(t.y,e.y),u=AG(t.y+t.height,o),c=a<s,d=u<l;return t.x=c&&s>r?a:s,t.y=d&&l>o?u:l,t.width=c?0:a-s,t.height=d?0:u-l,n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),c||d},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var i=t.r;t.r=t.r0,t.r0=i}var r=AG(t.r,e.r),o=TG(t.r0,e.r0);t.r=r,t.r0=o;var s=r-o<0;if(n<0){i=t.r;t.r=t.r0,t.r0=i}return s}},kG={cartesian2d:function(e,t,n,i,r,o,s,a,l){var u=new oM({shape:Wf({},i),z2:1});(u.__dataIndex=n,u.name="item",o)&&(u.shape[r?"height":"width"]=0);return u},polar:function(e,t,n,i,r,o,s,a,l){var u=!r&&l?_G:rE,c=new u({shape:i,z2:1});c.name="item";var d=VG(r);if(c.calculateTextPosition=function(e,t){var n=(t=t||{}).isRoundCap;return function(t,i,r){var o=i.position;if(!o||o instanceof Array)return zC(t,i,r);var s=e(o),a=null!=i.distance?i.distance:5,l=this.shape,u=l.cx,c=l.cy,d=l.r,h=l.r0,p=(d+h)/2,g=l.startAngle,f=l.endAngle,m=(g+f)/2,v=n?Math.abs(d-h)/2:0,y=Math.cos,w=Math.sin,C=u+d*y(g),b=c+d*w(g),S="left",x="top";switch(s){case"startArc":C=u+(h-a)*y(m),b=c+(h-a)*w(m),S="center",x="top";break;case"insideStartArc":C=u+(h+a)*y(m),b=c+(h+a)*w(m),S="center",x="bottom";break;case"startAngle":C=u+p*y(g)+RG(g,a+v,!1),b=c+p*w(g)+DG(g,a+v,!1),S="right",x="middle";break;case"insideStartAngle":C=u+p*y(g)+RG(g,-a+v,!1),b=c+p*w(g)+DG(g,-a+v,!1),S="left",x="middle";break;case"middle":C=u+p*y(m),b=c+p*w(m),S="center",x="middle";break;case"endArc":C=u+(d+a)*y(m),b=c+(d+a)*w(m),S="center",x="bottom";break;case"insideEndArc":C=u+(d-a)*y(m),b=c+(d-a)*w(m),S="center",x="top";break;case"endAngle":C=u+p*y(f)+RG(f,a+v,!0),b=c+p*w(f)+DG(f,a+v,!0),S="left",x="middle";break;case"insideEndAngle":C=u+p*y(f)+RG(f,-a+v,!0),b=c+p*w(f)+DG(f,-a+v,!0),S="right",x="middle";break;default:return zC(t,i,r)}return(t=t||{}).x=C,t.y=b,t.align=S,t.verticalAlign=x,t}}(d,{isRoundCap:u===_G}),o){var h=r?"r":"endAngle",p={};c.shape[h]=r?i.r0:i.startAngle,p[h]=i[h],(a?D_:P_)(c,{shape:p},o)}return c}};function FG(e,t,n,i,r,o,s,a){var l,u;o?(u={x:i.x,width:i.width},l={y:i.y,height:i.height}):(u={y:i.y,height:i.height},l={x:i.x,width:i.width}),a||(s?D_:P_)(n,{shape:l},t,r,null),(s?D_:P_)(n,{shape:u},t?e.baseAxis.model:null,r)}function LG(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var OG=["x","y","width","height"],NG=["cx","cy","r","startAngle","endAngle"],BG={cartesian2d:function(e){return!LG(e,OG)},polar:function(e){return!LG(e,NG)}},GG={cartesian2d:function(e,t,n){var i=e.getItemLayout(t),r=n?function(e,t){var n=e.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var i=e.get(["itemStyle","borderWidth"])||0,r=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),o=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(i,r,o)}(n,i):0,o=i.width>0?1:-1,s=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+s*r/2,width:i.width-o*r,height:i.height-s*r}},polar:function(e,t,n){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function VG(e){return function(e){var t=e?"Arc":"Angle";return function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}(e)}function zG(e,t,n,i,r,o,s,a){var l=t.getItemVisual(n,"style");if(a){if(!o.get("roundCap")){var u=e.shape;Wf(u,PG(i.getModel("itemStyle"),u,!0)),e.setShape(u)}}else{var c=i.get(["itemStyle","borderRadius"])||0;e.setShape("r",c)}e.useStyle(l);var d=i.getShallow("cursor");d&&e.attr("cursor",d);var h=a?s?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":s?r.height>=0?"bottom":"top":r.width>=0?"right":"left",p=B_(i);N_(e,p,{labelFetcher:o,labelDataIndex:n,defaultText:CB(o.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var g=e.getTextContent();if(a&&g){var f=i.get(["label","position"]);e.textConfig.inside="middle"===f||null,function(e,t,n,i){if(om(i))e.setTextConfig({rotation:i});else if(tm(t))e.setTextConfig({rotation:0});else{var r,o=e.shape,s=o.clockwise?o.startAngle:o.endAngle,a=o.clockwise?o.endAngle:o.startAngle,l=(s+a)/2,u=n(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":r=l;break;case"startAngle":case"insideStartAngle":r=s;break;case"endAngle":case"insideEndAngle":r=a;break;default:return void e.setTextConfig({rotation:0})}var c=1.5*Math.PI-r;"middle"===u&&c>Math.PI/2&&c<1.5*Math.PI&&(c-=Math.PI),e.setTextConfig({rotation:c})}}(e,"outside"===f?h:f,VG(s),i.get(["label","rotate"]))}K_(g,p,o.getRawValue(n),(function(e){return bB(t,e)}));var m=i.getModel(["emphasis"]);f_(e,m.get("focus"),m.get("blurScope"),m.get("disabled")),w_(e,i),function(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}(r)&&(e.style.fill="none",e.style.stroke="none",qf(e.states,(function(e){e.style&&(e.style.fill=e.style.stroke="none")})))}var HG=function(){},WG=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeBar",n}return vf(t,e),t.prototype.getDefaultShape=function(){return new HG},t.prototype.buildPath=function(e,t){for(var n=t.points,i=this.baseDimIdx,r=1-this.baseDimIdx,o=[],s=[],a=this.barWidth,l=0;l<n.length;l+=3)s[i]=a,s[r]=n[l+2],o[i]=n[l+i],o[r]=n[l+r],e.rect(o[0],o[1],s[0],s[1])},t}(Ux);function UG(e,t,n,i){var r=e.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,s=r.getLayout("largeDataIndices"),a=r.getLayout("size"),l=e.getModel("backgroundStyle"),u=r.getLayout("largeBackgroundPoints");if(u){var c=new WG({shape:{points:u},incremental:!!i,silent:!0,z2:0});c.baseDimIdx=o,c.largeDataIndices=s,c.barWidth=a,c.useStyle(l.getItemStyle()),t.add(c),n&&n.push(c)}var d=new WG({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=o,d.largeDataIndices=s,d.barWidth=a,t.add(d),d.useStyle(r.getVisual("style")),SM(d).seriesIndex=e.seriesIndex,e.get("silent")||(d.on("mousedown",jG),d.on("mousemove",jG)),n&&n.push(d)}var jG=EI((function(e){var t=function(e,t,n){for(var i=e.baseDimIdx,r=1-i,o=e.shape.points,s=e.largeDataIndices,a=[],l=[],u=e.barWidth,c=0,d=o.length/3;c<d;c++){var h=3*c;if(l[i]=u,l[r]=o[h+2],a[i]=o[h+i],a[r]=o[h+r],l[r]<0&&(a[r]+=l[r],l[r]=-l[r]),t>=a[0]&&t<=a[0]+l[0]&&n>=a[1]&&n<=a[1]+l[1])return s[c]}return-1}(this,e.offsetX,e.offsetY);SM(this).dataIndex=t>=0?t:null}),30,!1);function $G(e,t,n){if($B(n,"cartesian2d")){var i=t,r=n.getArea();return{x:e?i.x:r.x,y:e?r.y:i.y,width:e?i.width:r.width,height:e?r.height:i.height}}var o=t;return{cx:(r=n.getArea()).cx,cy:r.cy,r0:e?r.r0:o.r0,r:e?r.r:o.r,startAngle:e?o.startAngle:0,endAngle:e?o.endAngle:2*Math.PI}}const KG=EG;var qG=2*Math.PI,YG=Math.PI/180;function XG(e,t){return uD(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ZG(e,t){var n=XG(e,t),i=e.get("center"),r=e.get("radius");tm(r)||(r=[0,r]);var o,s,a=ub(n.width,t.getWidth()),l=ub(n.height,t.getHeight()),u=Math.min(a,l),c=ub(r[0],u/2),d=ub(r[1],u/2),h=e.coordinateSystem;if(h){var p=h.dataToPoint(i);o=p[0]||0,s=p[1]||0}else tm(i)||(i=[i,i]),o=ub(i[0],a)+n.x,s=ub(i[1],l)+n.y;return{cx:o,cy:s,r0:c,r:d}}function QG(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.getData(),i=t.mapDimension("value"),r=XG(e,n),o=ZG(e,n),s=o.cx,a=o.cy,l=o.r,u=o.r0,c=-e.get("startAngle")*YG,d=e.get("endAngle"),h=e.get("padAngle")*YG;d="auto"===d?c-qG:-d*YG;var p=e.get("minAngle")*YG+h,g=0;t.each(i,(function(e){!isNaN(e)&&g++}));var f=t.getSum(i),m=Math.PI/(f||g)*2,v=e.get("clockwise"),y=e.get("roseType"),w=e.get("stillShowZeroSum"),C=t.getDataExtent(i);C[0]=0;var b=v?1:-1,S=[c,d],x=b*h/2;yx(S,!v),c=S[0],d=S[1];var M=JG(e);M.startAngle=c,M.endAngle=d,M.clockwise=v;var _=Math.abs(d-c),R=_,D=0,P=c;if(t.setLayout({viewRect:r,r:l}),t.each(i,(function(e,n){var i;if(isNaN(e))t.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:s,cy:a,r0:u,r:y?NaN:l});else{(i="area"!==y?0===f&&w?m:e*m:_/g)<p?(i=p,R-=p):D+=e;var r=P+b*i,o=0,c=0;h>i?c=o=P+b*i/2:(o=P+x,c=r-x),t.setItemLayout(n,{angle:i,startAngle:o,endAngle:c,clockwise:v,cx:s,cy:a,r0:u,r:y?lb(e,C,[u,l]):l}),P=r}})),R<qG&&g)if(R<=.001){var T=_/g;t.each(i,(function(e,n){if(!isNaN(e)){var i=t.getItemLayout(n);i.angle=T;var r=0,o=0;T<h?o=r=c+b*(n+.5)*T:(r=c+b*n*T+x,o=c+b*(n+1)*T-x),i.startAngle=r,i.endAngle=o}}))}else m=R/D,P=c,t.each(i,(function(e,n){if(!isNaN(e)){var i=t.getItemLayout(n),r=i.angle===p?p:e*m,o=0,s=0;r<h?s=o=P+b*r/2:(o=P+x,s=P+b*r-x),i.startAngle=o,i.endAngle=s,P+=b*r}}))}))}var JG=jb();function eV(e){return{seriesType:e,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(n&&n.length){var i=e.getData();i.filterSelf((function(e){for(var t=i.getName(e),r=0;r<n.length;r++)if(!n[r].isSelected(t))return!1;return!0}))}}}}var tV=Math.PI/180;function nV(e,t,n,i,r,o,s,a,l,u){if(!(e.length<2)){for(var c=e.length,d=0;d<c;d++)if("outer"===e[d].position&&"labelLine"===e[d].labelAlignTo){var h=e[d].label.x-u;e[d].linePoints[1][0]+=h,e[d].label.x=u}ZL(e,l,l+s)&&function(e){for(var o={list:[],maxY:0},s={list:[],maxY:0},a=0;a<e.length;a++)if("none"===e[a].labelAlignTo){var l=e[a],u=l.label.y>n?s:o,c=Math.abs(l.label.y-n);if(c>=u.maxY){var d=l.label.x-t-l.len2*r,h=i+l.len,g=Math.abs(d)<h?Math.sqrt(c*c/(1-d*d/h/h)):h;u.rB=g,u.maxY=c}u.list.push(l)}p(o),p(s)}(e)}function p(e){for(var o=e.rB,s=o*o,a=0;a<e.list.length;a++){var l=e.list[a],u=Math.abs(l.label.y-n),c=i+l.len,d=c*c,h=Math.sqrt((1-Math.abs(u*u/s))*d),p=t+(h+l.len2)*r,g=p-l.label.x;iV(l,l.targetTextWidth-g*r,!0),l.label.x=p}}}function iV(e,t,n){if(void 0===n&&(n=!1),null==e.labelStyleWidth){var i=e.label,r=i.style,o=e.rect,s=r.backgroundColor,a=r.padding,l=a?a[1]+a[3]:0,u=r.overflow,c=o.width+(s?0:l);if(t<c||n){var d=o.height;if(u&&u.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",t-l);var h=i.getBoundingRect();i.setStyle("width",Math.ceil(h.width)),i.setStyle("backgroundColor",s)}else{var p=t-l,g=t<c?p:n?p>e.unconstrainedWidth?null:p:null;i.setStyle("width",g)}var f=i.getBoundingRect();o.width=f.width;var m=(i.style.margin||0)+2.1;o.height=f.height+m,o.y-=(o.height-d)/2}}}function rV(e){return"center"===e.position}function oV(e){var t,n,i=e.getData(),r=[],o=!1,s=(e.get("minShowLabelAngle")||0)*tV,a=i.getLayout("viewRect"),l=i.getLayout("r"),u=a.width,c=a.x,d=a.y,h=a.height;function p(e){e.ignore=!0}i.each((function(e){var a=i.getItemGraphicEl(e),d=a.shape,h=a.getTextContent(),g=a.getTextGuideLine(),f=i.getItemModel(e),m=f.getModel("label"),v=m.get("position")||f.get(["emphasis","label","position"]),y=m.get("distanceToLabelLine"),w=m.get("alignTo"),C=ub(m.get("edgeDistance"),u),b=m.get("bleedMargin"),S=f.getModel("labelLine"),x=S.get("length");x=ub(x,u);var M=S.get("length2");if(M=ub(M,u),Math.abs(d.endAngle-d.startAngle)<s)return qf(h.states,p),h.ignore=!0,void(g&&(qf(g.states,p),g.ignore=!0));if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(h)){var _,R,D,P,T=(d.startAngle+d.endAngle)/2,A=Math.cos(T),E=Math.sin(T);t=d.cx,n=d.cy;var I="inside"===v||"inner"===v;if("center"===v)_=d.cx,R=d.cy,P="center";else{var k=(I?(d.r+d.r0)/2*A:d.r*A)+t,F=(I?(d.r+d.r0)/2*E:d.r*E)+n;if(_=k+3*A,R=F+3*E,!I){var L=k+A*(x+l-d.r),O=F+E*(x+l-d.r),N=L+(A<0?-1:1)*M;_="edge"===w?A<0?c+C:c+u-C:N+(A<0?-y:y),R=O,D=[[k,F],[L,O],[N,O]]}P=I?"center":"edge"===w?A>0?"right":"left":A>0?"left":"right"}var B=Math.PI,G=0,V=m.get("rotate");if(om(V))G=V*(B/180);else if("center"===v)G=0;else if("radial"===V||!0===V){G=A<0?-T+B:-T}else if("tangential"===V&&"outside"!==v&&"outer"!==v){var z=Math.atan2(A,E);z<0&&(z=2*B+z),E>0&&(z=B+z),G=z-B}if(o=!!G,h.x=_,h.y=R,h.rotation=G,h.setStyle({verticalAlign:"middle"}),I){h.setStyle({align:P});var H=h.states.select;H&&(H.x+=h.x,H.y+=h.y)}else{var W=h.getBoundingRect().clone();W.applyTransform(h.getComputedTransform());var U=(h.style.margin||0)+2.1;W.y-=U/2,W.height+=U,r.push({label:h,labelLine:g,position:v,len:x,len2:M,minTurnAngle:S.get("minTurnAngle"),maxSurfaceAngle:S.get("maxSurfaceAngle"),surfaceNormal:new Fv(A,E),linePoints:D,textAlign:P,labelDistance:y,labelAlignTo:w,edgeDistance:C,bleedMargin:b,rect:W,unconstrainedWidth:W.width,labelStyleWidth:h.style.width})}a.setTextConfig({inside:I})}})),!o&&e.get("avoidLabelOverlap")&&function(e,t,n,i,r,o,s,a){for(var l=[],u=[],c=Number.MAX_VALUE,d=-Number.MAX_VALUE,h=0;h<e.length;h++){var p=e[h].label;rV(e[h])||(p.x<t?(c=Math.min(c,p.x),l.push(e[h])):(d=Math.max(d,p.x),u.push(e[h])))}for(h=0;h<e.length;h++)if(!rV(m=e[h])&&m.linePoints){if(null!=m.labelStyleWidth)continue;p=m.label;var g=m.linePoints,f=void 0;f="edge"===m.labelAlignTo?p.x<t?g[2][0]-m.labelDistance-s-m.edgeDistance:s+r-m.edgeDistance-g[2][0]-m.labelDistance:"labelLine"===m.labelAlignTo?p.x<t?c-s-m.bleedMargin:s+r-d-m.bleedMargin:p.x<t?p.x-s-m.bleedMargin:s+r-p.x-m.bleedMargin,m.targetTextWidth=f,iV(m,f)}for(nV(u,t,n,i,1,0,o,0,a,d),nV(l,t,n,i,-1,0,o,0,a,c),h=0;h<e.length;h++){var m;if(!rV(m=e[h])&&m.linePoints){p=m.label,g=m.linePoints;var v="edge"===m.labelAlignTo,y=p.style.padding,w=y?y[1]+y[3]:0,C=p.style.backgroundColor?0:w,b=m.rect.width+C,S=g[1][0]-g[2][0];v?p.x<t?g[2][0]=s+m.edgeDistance+b+m.labelDistance:g[2][0]=s+r-m.edgeDistance-b-m.labelDistance:(p.x<t?g[2][0]=p.x+m.labelDistance:g[2][0]=p.x-m.labelDistance,g[1][0]=g[2][0]+S),g[1][1]=g[2][1]=p.y}}}(r,t,n,l,u,h,c,d);for(var g=0;g<r.length;g++){var f=r[g],m=f.label,v=f.labelLine,y=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:f.textAlign}),y&&(qf(m.states,p),m.ignore=!0);var w=m.states.select;w&&(w.x+=m.x,w.y+=m.y)}if(v){var C=f.linePoints;y||!C?(qf(v.states,p),v.ignore=!0):(WL(C,f.minTurnAngle),UL(C,f.surfaceNormal,f.maxSurfaceAngle),v.setShape({points:C}),m.__hostTarget.textGuideLineConfig={anchor:new Fv(C[0][0],C[0][1])})}}}var sV=function(e){function t(t,n,i){var r=e.call(this)||this;r.z2=2;var o=new bM;return r.setTextContent(o),r.updateData(t,n,i,!0),r}return vf(t,e),t.prototype.updateData=function(e,t,n,i){var r=this,o=e.hostModel,s=e.getItemModel(t),a=s.getModel("emphasis"),l=e.getItemLayout(t),u=Wf(PG(s.getModel("itemStyle"),l,!0),l);if(isNaN(u.startAngle))r.setShape(u);else{if(i){r.setShape(u);var c=o.getShallow("animationType");o.ecModel.ssr?(P_(r,{scaleX:0,scaleY:0},o,{dataIndex:t,isFrom:!0}),r.originX=u.cx,r.originY=u.cy):"scale"===c?(r.shape.r=l.r0,P_(r,{shape:{r:l.r}},o,t)):null!=n?(r.setShape({startAngle:n,endAngle:n}),P_(r,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},o,t)):(r.shape.endAngle=l.startAngle,D_(r,{shape:{endAngle:l.endAngle}},o,t))}else k_(r),D_(r,{shape:u},o,t);r.useStyle(e.getItemVisual(t,"style")),w_(r,s);var d=(l.startAngle+l.endAngle)/2,h=o.get("selectedOffset"),p=Math.cos(d)*h,g=Math.sin(d)*h,f=s.getShallow("cursor");f&&r.attr("cursor",f),this._updateLabel(o,e,t),r.ensureState("emphasis").shape=Wf({r:l.r+(a.get("scale")&&a.get("scaleSize")||0)},PG(a.getModel("itemStyle"),l)),Wf(r.ensureState("select"),{x:p,y:g,shape:PG(s.getModel(["select","itemStyle"]),l)}),Wf(r.ensureState("blur"),{shape:PG(s.getModel(["blur","itemStyle"]),l)});var m=r.getTextGuideLine(),v=r.getTextContent();m&&Wf(m.ensureState("select"),{x:p,y:g}),Wf(v.ensureState("select"),{x:p,y:g}),f_(this,a.get("focus"),a.get("blurScope"),a.get("disabled"))}},t.prototype._updateLabel=function(e,t,n){var i=this,r=t.getItemModel(n),o=r.getModel("labelLine"),s=t.getItemVisual(n,"style"),a=s&&s.fill,l=s&&s.opacity;N_(i,B_(r),{labelFetcher:t.hostModel,labelDataIndex:n,inheritColor:a,defaultOpacity:l,defaultText:e.getFormattedLabel(n,"normal")||t.getName(n)});var u=i.getTextContent();i.setTextConfig({position:null,rotation:null}),u.attr({z2:10});var c=e.get(["label","position"]);if("outside"!==c&&"outer"!==c)i.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new gE,this.setTextGuideLine(d)),KL(this,qL(r),{stroke:a,opacity:gm(o.get(["lineStyle","opacity"]),l,1)})}},t}(rE),aV=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return vf(t,e),t.prototype.render=function(e,t,n,i){var r,o=e.getData(),s=this._data,a=this.group;if(!s&&o.count()>0){for(var l=o.getItemLayout(0),u=1;isNaN(l&&l.startAngle)&&u<o.count();++u)l=o.getItemLayout(u);l&&(r=l.startAngle)}if(this._emptyCircleSector&&a.remove(this._emptyCircleSector),0===o.count()&&e.get("showEmptyCircle")){var c=JG(e),d=new rE({shape:Wf(ZG(e,n),c)});d.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,a.add(d)}o.diff(s).add((function(e){var t=new sV(o,e,r);o.setItemGraphicEl(e,t),a.add(t)})).update((function(e,t){var n=s.getItemGraphicEl(t);n.updateData(o,e,r),n.off("click"),a.add(n),o.setItemGraphicEl(e,n)})).remove((function(t){I_(s.getItemGraphicEl(t),e,t)})).execute(),oV(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,r=e[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}},t.type="pie",t}(DI);const lV=aV;function uV(e,t,n){t=tm(t)&&{coordDimensions:t}||Wf({encodeDefine:e.getEncode()},t);var i=e.getSource(),r=cB(i,t).dimensions,o=new uB(r,e);return o.initData(i,n),o}var cV=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}();const dV=cV;var hV=jb(),pV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new dV(Jf(this.getData,this),Jf(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return uV(this,{coordDimensions:["value"],encodeDefaulter:em(kD,this)})},t.prototype.getDataParams=function(t){var n=this.getData(),i=hV(n),r=i.seats;if(!r){var o=[];n.each(n.mapDimension("value"),(function(e){o.push(e)})),r=i.seats=gb(o,n.hostModel.get("percentPrecision"))}var s=e.prototype.getDataParams.call(this,t);return s.percent=r[t]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){Fb(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(pA);const gV=pV;var fV=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return vf(t,e),t.prototype.getInitialData=function(e,t){return yB(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(pA);const mV=fV;var vV=function(){},yV=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return vf(t,e),t.prototype.getDefaultShape=function(){return new vV},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,t){var n,i=t.points,r=t.size,o=this.symbolProxy,s=o.shape,a=e.getContext?e.getContext():e,l=a&&r[0]<4,u=this.softClipShape;if(l)this._ctx=a;else{for(this._ctx=null,n=this._off;n<i.length;){var c=i[n++],d=i[n++];isNaN(c)||isNaN(d)||(u&&!u.contain(c,d)||(s.x=c-r[0]/2,s.y=d-r[1]/2,s.width=r[0],s.height=r[1],o.buildPath(e,s,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,t=this.shape,n=t.points,i=t.size,r=this._ctx,o=this.softClipShape;if(r){for(e=this._off;e<n.length;){var s=n[e++],a=n[e++];isNaN(s)||isNaN(a)||(o&&!o.contain(s,a)||r.fillRect(s-i[0]/2,a-i[1]/2,i[0],i[1]))}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){for(var n=this.shape,i=n.points,r=n.size,o=Math.max(r[0],4),s=Math.max(r[1],4),a=i.length/2-1;a>=0;a--){var l=2*a,u=i[l]-o/2,c=i[l+1]-s/2;if(e>=u&&t>=c&&e<=u+o&&t<=c+s)return a}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect();return e=n[0],t=n[1],i.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,n=t.points,i=t.size,r=i[0],o=i[1],s=1/0,a=1/0,l=-1/0,u=-1/0,c=0;c<n.length;){var d=n[c++],h=n[c++];s=Math.min(d,s),l=Math.max(d,l),a=Math.min(h,a),u=Math.max(h,u)}e=this._rect=new Uv(s-r/2,a-o/2,l-s+r,u-a+o)}return e},t}(Ux),wV=function(){function e(){this.group=new eb}return e.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},e.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild((function(e){if(null!=e.startIndex){var n=2*(e.endIndex-e.startIndex),i=4*e.startIndex*2;t=new Float32Array(t.buffer,i,n)}e.setShape("points",t),e.reset()}))},e.prototype.incrementalPrepareUpdate=function(e){this._clear()},e.prototype.incrementalUpdate=function(e,t,n){var i=this._newAdded[0],r=t.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var s=o.length,a=new Float32Array(s+r.length);a.set(o),a.set(r,s),i.endIndex=e.end,i.setShape({points:a})}else{this._newAdded=[];var l=this._create();l.startIndex=e.start,l.endIndex=e.end,l.incremental=!0,l.setShape({points:r}),this._setCommon(l,t,n)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new yV({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,t,n){var i=t.hostModel;n=n||{};var r=t.getVisual("symbolSize");e.setShape("size",r instanceof Array?r:[r,r]),e.softClipShape=n.clipShape||null,e.symbolProxy=Ok(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<4;e.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("style"),a=s&&s.fill;a&&e.setColor(a);var l=SM(e);l.seriesIndex=i.seriesIndex,e.on("mousemove",(function(t){l.dataIndex=null;var n=e.hoverDataIdx;n>=0&&(l.dataIndex=n+(e.startIndex||0))}))},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();const CV=wV;var bV=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).incrementalPrepareUpdate(i),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,n){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var r=oG("").reset(e,t,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var t=e.coordinateSystem;return t&&t.getArea&&t.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,t){var n=this._symbolDraw,i=t.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new CV:new TB,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(DI);const SV=bV;const xV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(vD);var MV=function(){function e(){}return e.prototype.getNeedCrossZero=function(){return!this.option.scale},e.prototype.getCoordSysModel=function(){},e}(),_V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Yb).models[0]},t.type="cartesian2dAxis",t}(vD);$f(_V,MV);var RV={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},DV=zf({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},RV),PV=zf({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},RV);const TV={category:DV,value:PV,time:zf({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},PV),log:Uf({logBase:10},PV)};var AV=0,EV=function(){function e(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++AV}return e.createByAxisModel=function(t){var n=t.option,i=n.data,r=i&&Yf(i,IV);return new e({categories:r,needCollect:!r,deduplication:!1!==n.dedplication})},e.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},e.prototype.parseAndCollect=function(e){var t,n=this._needCollect;if(!im(e)&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=this._getOrCreateMap();return null==(t=i.get(e))&&(n?(t=this.categories.length,this.categories[t]=e,i.set(e,t)):t=NaN),t},e.prototype._getOrCreateMap=function(){return this._map||(this._map=_m(this.categories))},e}();function IV(e){return sm(e)&&null!=e.value?e.value:e+""}const kV=EV;var FV={value:1,category:1,time:1,log:1};function LV(e,t,n,i){qf(FV,(function(r,o){var s=zf(zf({},TV[o],!0),i,!0),a=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t+"Axis."+o,n}return vf(n,e),n.prototype.mergeDefaultAndTheme=function(e,t){var n=dD(this),i=n?pD(e):{};zf(e,t.getTheme().get(o+"Axis")),zf(e,this.getDefaultOption()),e.type=OV(e),n&&hD(e,i,n)},n.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=kV.createByAxisModel(this))},n.prototype.getCategories=function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=t+"Axis."+o,n.defaultOption=s,n}(n);e.registerComponentModel(a)})),e.registerSubTypeDefaulter(t+"Axis",OV)}function OV(e){return e.type||(e.data?"category":"value")}var NV=function(){function e(e){this._setting=e||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(e){return this._setting[e]},e.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},e.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},e.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(e){this._isBlank=e},e}();cS(NV);const BV=NV;function GV(e){return"interval"===e.type||"log"===e.type}function VV(e,t,n,i){var r={},o=e[1]-e[0],s=r.interval=Sb(o/t,!0);null!=n&&s<n&&(s=r.interval=n),null!=i&&s>i&&(s=r.interval=i);var a=r.intervalPrecision=HV(s);return function(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),WV(e,0,t),WV(e,1,t),e[0]>e[1]&&(e[0]=e[1])}(r.niceTickExtent=[cb(Math.ceil(e[0]/s)*s,a),cb(Math.floor(e[1]/s)*s,a)],e),r}function zV(e){var t=Math.pow(10,bb(e)),n=e/t;return n?2===n?n=3:3===n?n=5:n*=2:n=1,cb(n*t)}function HV(e){return hb(e)+2}function WV(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function UV(e,t){return e>=t[0]&&e<=t[1]}function jV(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function $V(e,t){return e*(t[1]-t[0])+t[0]}var KV=function(e){function t(t){var n=e.call(this,t)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new kV({})),tm(i)&&(i=new kV({categories:Yf(i,(function(e){return sm(e)?e.value:e}))})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return vf(t,e),t.prototype.parse=function(e){return null==e?NaN:im(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return UV(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return jV(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round($V(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push({value:n}),n++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var t=e.ordinalNumbers,n=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],r=0,o=this._ordinalMeta.categories.length,s=Math.min(o,t.length);r<s;++r){var a=t[r];n[r]=a,i[a]=r}for(var l=0;r<o;++r){for(;null!=i[l];)l++;n.push(l),i[l]=r}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var t=this._ticksByOrdinalNumber;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getRawOrdinalNumber=function(e){var t=this._ordinalNumbersByTick;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var t=this.getRawOrdinalNumber(e.value),n=this._ordinalMeta.categories[t];return null==n?"":n+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(BV);BV.registerClass(KV);const qV=KV;var YV=cb,XV=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return vf(t,e),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return UV(e,this._extent)},t.prototype.normalize=function(e){return jV(e,this._extent)},t.prototype.scale=function(e){return $V(e,this._extent)},t.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},t.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),this.setExtent(t[0],t[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=HV(e)},t.prototype.getTicks=function(e){var t=this._interval,n=this._extent,i=this._niceExtent,r=this._intervalPrecision,o=[];if(!t)return o;n[0]<i[0]&&(e?o.push({value:YV(i[0]-t,r)}):o.push({value:n[0]}));for(var s=i[0];s<=i[1]&&(o.push({value:s}),(s=YV(s+t,r))!==o[o.length-1].value);)if(o.length>1e4)return[];var a=o.length?o[o.length-1].value:i[1];return n[1]>a&&(e?o.push({value:YV(a+t,r)}):o.push({value:n[1]})),o},t.prototype.getMinorTicks=function(e){for(var t=this.getTicks(!0),n=[],i=this.getExtent(),r=1;r<t.length;r++){for(var o=t[r],s=t[r-1],a=0,l=[],u=(o.value-s.value)/e;a<e-1;){var c=YV(s.value+(a+1)*u);c>i[0]&&c<i[1]&&l.push(c),a++}n.push(l)}return n},t.prototype.getLabel=function(e,t){if(null==e)return"";var n=t&&t.precision;return null==n?n=hb(e.value)||0:"auto"===n&&(n=this._intervalPrecision),YR(YV(e.value,n,!0))},t.prototype.calcNiceTicks=function(e,t,n){e=e||5;var i=this._extent,r=i[1]-i[0];if(isFinite(r)){r<0&&(r=-r,i.reverse());var o=VV(i,e,t,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=Math.abs(t[0]);e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;var i=t[1]-t[0];isFinite(i)||(t[0]=0,t[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var r=this._interval;e.fixMin||(t[0]=YV(Math.floor(t[0]/r)*r)),e.fixMax||(t[1]=YV(Math.ceil(t[1]/r)*r))},t.prototype.setNiceExtent=function(e,t){this._niceExtent=[e,t]},t.type="interval",t}(BV);BV.registerClass(XV);const ZV=XV;var QV=function(e){function t(t){var n=e.call(this,t)||this;return n.type="time",n}return vf(t,e),t.prototype.getLabel=function(e){var t=this.getSetting("useUTC");return IR(e.value,RR[function(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(AR(this._minLevelUnit))]||RR.second,t,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,t,n){var i=this.getSetting("useUTC");return function(e,t,n,i,r){var o=null;if(im(n))o=n;else if(nm(n))o=n(e.value,t,{level:e.level});else{var s=Wf({},MR);if(e.level>0)for(var a=0;a<DR.length;++a)s[DR[a]]="{primary|"+s[DR[a]]+"}";var l=n?!1===n.inherit?n:Uf(n,s):s,u=kR(e.value,r);if(l[u])o=l[u];else if(l.inherit){for(a=PR.indexOf(u)-1;a>=0;--a)if(l[u]){o=l[u];break}o=o||s.none}if(tm(o)){var c=null==e.level?0:e.level>=0?e.level:o.length+e.level;o=o[c=Math.min(c,o.length-1)]}}return IR(new Date(e.value),o,r,i)}(e,t,n,this.getSetting("locale"),i)},t.prototype.getTicks=function(){var e=this._interval,t=this._extent,n=[];if(!e)return n;n.push({value:t[0],level:0});var i=this.getSetting("useUTC"),r=function(e,t,n,i){var r=1e4,o=PR,s=0;function a(e,t,n,r,o,s,a){for(var l=new Date(t),u=t,c=l[r]();u<n&&u<=i[1];)a.push({value:u}),c+=e,l[o](c),u=l.getTime();a.push({value:u,notAdd:!0})}function l(e,r,o){var s=[],l=!r.length;if(!function(e,t,n,i){var r=Cb(t),o=Cb(n),s=function(e){return FR(r,e,i)===FR(o,e,i)},a=function(){return s("year")},l=function(){return a()&&s("month")},u=function(){return l()&&s("day")},c=function(){return u()&&s("hour")},d=function(){return c()&&s("minute")},h=function(){return d()&&s("second")},p=function(){return h()&&s("millisecond")};switch(e){case"year":return a();case"month":return l();case"day":return u();case"hour":return c();case"minute":return d();case"second":return h();case"millisecond":return p()}}(AR(e),i[0],i[1],n)){l&&(r=[{value:oz(new Date(i[0]),e,n)},{value:i[1]}]);for(var u=0;u<r.length-1;u++){var c=r[u].value,d=r[u+1].value;if(c!==d){var h=void 0,p=void 0,g=void 0,f=!1;switch(e){case"year":h=Math.max(1,Math.round(t/SR/365)),p=LR(n),g=HR(n);break;case"half-year":case"quarter":case"month":h=tz(t),p=OR(n),g=WR(n);break;case"week":case"half-week":case"day":h=ez(t,31),p=NR(n),g=UR(n),f=!0;break;case"half-day":case"quarter-day":case"hour":h=nz(t),p=BR(n),g=jR(n);break;case"minute":h=iz(t,!0),p=GR(n),g=$R(n);break;case"second":h=iz(t,!1),p=VR(n),g=KR(n);break;case"millisecond":h=rz(t),p=zR(n),g=qR(n)}a(h,c,d,p,g,f,s),"year"===e&&o.length>1&&0===u&&o.unshift({value:o[0].value-h})}}for(u=0;u<s.length;u++)o.push(s[u]);return s}}for(var u=[],c=[],d=0,h=0,p=0;p<o.length&&s++<r;++p){var g=AR(o[p]);if(ER(o[p]))if(l(o[p],u[u.length-1]||[],c),g!==(o[p+1]?AR(o[p+1]):null)){if(c.length){h=d,c.sort((function(e,t){return e.value-t.value}));for(var f=[],m=0;m<c.length;++m){var v=c[m].value;0!==m&&c[m-1].value===v||(f.push(c[m]),v>=i[0]&&v<=i[1]&&d++)}var y=(i[1]-i[0])/t;if(d>1.5*y&&h>y/1.5)break;if(u.push(f),d>y||e===o[p])break}c=[]}}0;var w=Zf(Yf(u,(function(e){return Zf(e,(function(e){return e.value>=i[0]&&e.value<=i[1]&&!e.notAdd}))})),(function(e){return e.length>0})),C=[],b=w.length-1;for(p=0;p<w.length;++p)for(var S=w[p],x=0;x<S.length;++x)C.push({value:S[x].value,level:b-p});C.sort((function(e,t){return e.value-t.value}));var M=[];for(p=0;p<C.length;++p)0!==p&&C[p].value===C[p-1].value||M.push(C[p]);return M}(this._minLevelUnit,this._approxInterval,i,t);return(n=n.concat(r)).push({value:t[1],level:0}),n},t.prototype.calcNiceExtent=function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=SR,t[1]+=SR),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-SR}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,t,n){e=e||10;var i=this._extent,r=i[1]-i[0];this._approxInterval=r/e,null!=t&&this._approxInterval<t&&(this._approxInterval=t),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var o=JV.length,s=Math.min(function(e,t,n,i){for(;n<i;){var r=n+i>>>1;e[r][1]<t?n=r+1:i=r}return n}(JV,this._approxInterval,0,o),o-1);this._interval=JV[s][1],this._minLevelUnit=JV[Math.max(s-1,0)][0]},t.prototype.parse=function(e){return om(e)?e:+Cb(e)},t.prototype.contain=function(e){return UV(this.parse(e),this._extent)},t.prototype.normalize=function(e){return jV(this.parse(e),this._extent)},t.prototype.scale=function(e){return $V(e,this._extent)},t.type="time",t}(ZV),JV=[["second",wR],["minute",CR],["hour",bR],["quarter-day",6*bR],["half-day",12*bR],["day",1.2*SR],["half-week",3.5*SR],["week",7*SR],["month",31*SR],["quarter",95*SR],["half-year",xR/2],["year",xR]];function ez(e,t){return(e/=SR)>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function tz(e){return(e/=30*SR)>6?6:e>3?3:e>2?2:1}function nz(e){return(e/=bR)>12?12:e>6?6:e>3.5?4:e>2?2:1}function iz(e,t){return(e/=t?CR:wR)>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function rz(e){return Sb(e,!0)}function oz(e,t,n){var i=new Date(e);switch(AR(t)){case"year":case"month":i[WR(n)](0);case"day":i[UR(n)](1);case"hour":i[jR(n)](0);case"minute":i[$R(n)](0);case"second":i[KR(n)](0),i[qR(n)](0)}return i.getTime()}BV.registerClass(QV);const sz=QV;var az=BV.prototype,lz=ZV.prototype,uz=cb,cz=Math.floor,dz=Math.ceil,hz=Math.pow,pz=Math.log,gz=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new ZV,t._interval=0,t}return vf(t,e),t.prototype.getTicks=function(e){var t=this._originalScale,n=this._extent,i=t.getExtent();return Yf(lz.getTicks.call(this,e),(function(e){var t=e.value,r=cb(hz(this.base,t));return r=t===n[0]&&this._fixMin?mz(r,i[0]):r,{value:r=t===n[1]&&this._fixMax?mz(r,i[1]):r}}),this)},t.prototype.setExtent=function(e,t){var n=pz(this.base);e=pz(Math.max(0,e))/n,t=pz(Math.max(0,t))/n,lz.setExtent.call(this,e,t)},t.prototype.getExtent=function(){var e=this.base,t=az.getExtent.call(this);t[0]=hz(e,t[0]),t[1]=hz(e,t[1]);var n=this._originalScale.getExtent();return this._fixMin&&(t[0]=mz(t[0],n[0])),this._fixMax&&(t[1]=mz(t[1],n[1])),t},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=pz(e[0])/pz(t),e[1]=pz(e[1])/pz(t),az.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.calcNiceTicks=function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var i,r=(i=n,Math.pow(10,bb(i)));for(e/n*r<=.5&&(r*=10);!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0;)r*=10;var o=[cb(dz(t[0]/r)*r),cb(cz(t[1]/r)*r)];this._interval=r,this._niceExtent=o}},t.prototype.calcNiceExtent=function(e){lz.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return UV(e=pz(e)/pz(this.base),this._extent)},t.prototype.normalize=function(e){return jV(e=pz(e)/pz(this.base),this._extent)},t.prototype.scale=function(e){return e=$V(e,this._extent),hz(this.base,e)},t.type="log",t}(BV),fz=gz.prototype;function mz(e,t){return uz(e,hb(t))}fz.getMinorTicks=lz.getMinorTicks,fz.getLabel=lz.getLabel,BV.registerClass(gz);const vz=gz;var yz=function(){function e(e,t,n){this._prepareParams(e,t,n)}return e.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal="ordinal"===e.type;this._needCrossZero="interval"===e.type&&t.getNeedCrossZero&&t.getNeedCrossZero();var r=t.get("min",!0);null==r&&(r=t.get("startValue",!0));var o=this._modelMinRaw=r;nm(o)?this._modelMinNum=Sz(e,o({min:n[0],max:n[1]})):"dataMin"!==o&&(this._modelMinNum=Sz(e,o));var s=this._modelMaxRaw=t.get("max",!0);if(nm(s)?this._modelMaxNum=Sz(e,s({min:n[0],max:n[1]})):"dataMax"!==s&&(this._modelMaxNum=Sz(e,s)),i)this._axisDataLen=t.getCategories().length;else{var a=t.get("boundaryGap"),l=tm(a)?a:[a||0,a||0];"boolean"===typeof l[0]||"boolean"===typeof l[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[VC(l[0],1),VC(l[1],1)]}},e.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,i=this._axisDataLen,r=this._boundaryGapInner,o=e?null:n-t||Math.abs(t),s="dataMin"===this._modelMinRaw?t:this._modelMinNum,a="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,l=null!=s,u=null!=a;null==s&&(s=e?i?0:NaN:t-r[0]*o),null==a&&(a=e?i?i-1:NaN:n+r[1]*o),(null==s||!isFinite(s))&&(s=NaN),(null==a||!isFinite(a))&&(a=NaN);var c=dm(s)||dm(a)||e&&!i;this._needCrossZero&&(s>0&&a>0&&!l&&(s=0),s<0&&a<0&&!u&&(a=0));var d=this._determinedMin,h=this._determinedMax;return null!=d&&(s=d,l=!0),null!=h&&(a=h,u=!0),{min:s,max:a,minFixed:l,maxFixed:u,isBlank:c}},e.prototype.modifyDataMinMax=function(e,t){this[Cz[e]]=t},e.prototype.setDeterminedMinMax=function(e,t){this[wz[e]]=t},e.prototype.freeze=function(){this.frozen=!0},e}(),wz={min:"_determinedMin",max:"_determinedMax"},Cz={min:"_dataMin",max:"_dataMax"};function bz(e,t,n){var i=e.rawExtentInfo;return i||(i=new yz(e,t,n),e.rawExtentInfo=i,i)}function Sz(e,t){return null==t?null:dm(t)?NaN:e.parse(t)}function xz(e,t){var n=e.type,i=bz(e,t,e.getExtent()).calculate();e.setBlank(i.isBlank);var r=i.min,o=i.max,s=t.ecModel;if(s&&"time"===n){var a=hG("bar",s),l=!1;if(qf(a,(function(e){l=l||e.getBaseAxis()===t.axis})),l){var u=pG(a),c=function(e,t,n,i){var r=n.axis.getExtent(),o=r[1]-r[0],s=function(e,t,n){if(e&&t){var i=e[dG(t)];return null!=i&&null!=n?i[cG(n)]:i}}(i,n.axis);if(void 0===s)return{min:e,max:t};var a=1/0;qf(s,(function(e){a=Math.min(e.offset,a)}));var l=-1/0;qf(s,(function(e){l=Math.max(e.offset+e.width,l)})),a=Math.abs(a),l=Math.abs(l);var u=a+l,c=t-e,d=c/(1-(a+l)/o)-c;return t+=d*(l/u),e-=d*(a/u),{min:e,max:t}}(r,o,t,u);r=c.min,o=c.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function Mz(e,t){var n=t,i=xz(e,n),r=i.extent,o=n.get("splitNumber");e instanceof vz&&(e.base=n.get("logBase"));var s=e.type,a=n.get("interval"),l="interval"===s||"time"===s;e.setExtent(r[0],r[1]),e.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),null!=a&&e.setInterval&&e.setInterval(a)}function _z(e,t){if(t=t||e.get("type"))switch(t){case"category":return new qV({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new sz({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(BV.getClass(t)||ZV)}}function Rz(e){var t,n,i=e.getLabelModel().get("formatter"),r="category"===e.type?e.scale.getExtent()[0]:null;return"time"===e.scale.type?(n=i,function(t,i){return e.scale.getFormattedLabel(t,i,n)}):im(i)?function(t){return function(n){var i=e.scale.getLabel(n);return t.replace("{value}",null!=i?i:"")}}(i):nm(i)?(t=i,function(n,i){return null!=r&&(i=n.value-r),t(Dz(e,n),i,null!=n.level?{level:n.level}:null)}):function(t){return e.scale.getLabel(t)}}function Dz(e,t){return"category"===e.type?e.scale.getLabel(t):t.value}function Pz(e,t){var n=t*Math.PI/180,i=e.width,r=e.height,o=i*Math.abs(Math.cos(n))+Math.abs(r*Math.sin(n)),s=i*Math.abs(Math.sin(n))+Math.abs(r*Math.cos(n));return new Uv(e.x,e.y,o,s)}function Tz(e){var t=e.get("interval");return null==t?"auto":t}function Az(e){return"category"===e.type&&0===Tz(e.getLabelModel())}function Ez(e,t){var n={};return qf(e.mapDimensionsAll(t),(function(t){n[vB(e,t)]=!0})),Qf(n)}var Iz=function(){function e(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return e.prototype.getAxis=function(e){return this._axes[e]},e.prototype.getAxes=function(){return Yf(this._dimList,(function(e){return this._axes[e]}),this)},e.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Zf(this.getAxes(),(function(t){return t.scale.type===e}))},e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},e}();var kz=["x","y"];function Fz(e){return"interval"===e.type||"time"===e.type}var Lz=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=kz,t}return vf(t,e),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,t=this.getAxis("y").scale;if(Fz(e)&&Fz(t)){var n=e.getExtent(),i=t.getExtent(),r=this.dataToPoint([n[0],i[0]]),o=this.dataToPoint([n[1],i[1]]),s=n[1]-n[0],a=i[1]-i[0];if(s&&a){var l=(o[0]-r[0])/s,u=(o[1]-r[1])/a,c=r[0]-n[0]*l,d=r[1]-i[0]*u,h=this._transform=[l,0,0,u,c,d];this._invTransform=Iv([],h)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,t){var n=this.dataToPoint(e),i=this.dataToPoint(t),r=this.getArea(),o=new Uv(n[0],n[1],i[0]-n[0],i[1]-n[1]);return r.intersect(o)},t.prototype.dataToPoint=function(e,t,n){n=n||[];var i=e[0],r=e[1];if(this._transform&&null!=i&&isFinite(i)&&null!=r&&isFinite(r))return Ym(n,e,this._transform);var o=this.getAxis("x"),s=this.getAxis("y");return n[0]=o.toGlobalCoord(o.dataToCoord(i,t)),n[1]=s.toGlobalCoord(s.dataToCoord(r,t)),n},t.prototype.clampData=function(e,t){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,r=n.getExtent(),o=i.getExtent(),s=n.parse(e[0]),a=i.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),s),Math.max(r[0],r[1])),t[1]=Math.min(Math.max(Math.min(o[0],o[1]),a),Math.max(o[0],o[1])),t},t.prototype.pointToData=function(e,t){var n=[];if(this._invTransform)return Ym(n,e,this._invTransform);var i=this.getAxis("x"),r=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(e[0]),t),n[1]=r.coordToData(r.toLocalCoord(e[1]),t),n},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(e){e=e||0;var t=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1])-e,r=Math.min(n[0],n[1])-e,o=Math.max(t[0],t[1])-i+e,s=Math.max(n[0],n[1])-r+e;return new Uv(i,r,o,s)},t}(Iz);const Oz=Lz;var Nz=jb();function Bz(e,t){var n=Yf(t,(function(t){return e.scale.parse(t)}));return"time"===e.type&&n.length>0&&(n.sort(),n.unshift(n[0]),n.push(n[n.length-1])),n}function Gz(e){var t=e.getLabelModel().get("customValues");if(t){var n=Rz(e);return{labels:Bz(e,t).map((function(t){var i={value:t};return{formattedLabel:n(i),rawLabel:e.scale.getLabel(i),tickValue:t}}))}}return"category"===e.type?function(e){var t=e.getLabelModel(),n=zz(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(e):function(e){var t=e.scale.getTicks(),n=Rz(e);return{labels:Yf(t,(function(t,i){return{level:t.level,formattedLabel:n(t,i),rawLabel:e.scale.getLabel(t),tickValue:t.value}}))}}(e)}function Vz(e,t){var n=e.getTickModel().get("customValues");return n?{ticks:Bz(e,n)}:"category"===e.type?function(e,t){var n,i,r=Hz(e,"ticks"),o=Tz(t),s=Wz(r,o);if(s)return s;t.get("show")&&!e.scale.isBlank()||(n=[]);if(nm(o))n=$z(e,o,!0);else if("auto"===o){var a=zz(e,e.getLabelModel());i=a.labelCategoryInterval,n=Yf(a.labels,(function(e){return e.tickValue}))}else n=jz(e,i=o,!0);return Uz(r,o,{ticks:n,tickCategoryInterval:i})}(e,t):{ticks:Yf(e.scale.getTicks(),(function(e){return e.value}))}}function zz(e,t){var n,i,r=Hz(e,"labels"),o=Tz(t),s=Wz(r,o);return s||(nm(o)?n=$z(e,o):(i="auto"===o?function(e){var t=Nz(e).autoInterval;return null!=t?t:Nz(e).autoInterval=e.calculateCategoryInterval()}(e):o,n=jz(e,i)),Uz(r,o,{labels:n,labelCategoryInterval:i}))}function Hz(e,t){return Nz(e)[t]||(Nz(e)[t]=[])}function Wz(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function Uz(e,t,n){return e.push({key:t,value:n}),n}function jz(e,t,n){var i=Rz(e),r=e.scale,o=r.getExtent(),s=e.getLabelModel(),a=[],l=Math.max((t||0)+1,1),u=o[0],c=r.count();0!==u&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var d=Az(e),h=s.get("showMinLabel")||d,p=s.get("showMaxLabel")||d;h&&u!==o[0]&&f(o[0]);for(var g=u;g<=o[1];g+=l)f(g);function f(e){var t={value:e};a.push(n?e:{formattedLabel:i(t),rawLabel:r.getLabel(t),tickValue:e})}return p&&g-l!==o[1]&&f(o[1]),a}function $z(e,t,n){var i=e.scale,r=Rz(e),o=[];return qf(i.getTicks(),(function(e){var s=i.getLabel(e),a=e.value;t(e.value,s)&&o.push(n?a:{formattedLabel:r(e),rawLabel:s,tickValue:a})})),o}var Kz=[0,1],qz=function(){function e(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return e.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i},e.prototype.containData=function(e){return this.scale.contain(e)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(e){return pb(e||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},e.prototype.dataToCoord=function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&"ordinal"===i.type&&Yz(n=n.slice(),i.count()),lb(e,Kz,n,t)},e.prototype.coordToData=function(e,t){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&Yz(n=n.slice(),i.count());var r=lb(e,n,Kz,t);return this.scale.scale(r)},e.prototype.pointToData=function(e,t){},e.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),n=Yf(Vz(this,t).ticks,(function(e){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(e):e),tickValue:e}}),this);return function(e,t,n,i){var r=t.length;if(!e.onBand||n||!r)return;var o,s,a=e.getExtent();if(1===r)t[0].coord=a[0],o=t[1]={coord:a[1]};else{var l=t[r-1].tickValue-t[0].tickValue,u=(t[r-1].coord-t[0].coord)/l;qf(t,(function(e){e.coord-=u/2})),s=1+e.scale.getExtent()[1]-t[r-1].tickValue,o={coord:t[r-1].coord+u*s},t.push(o)}var c=a[0]>a[1];d(t[0].coord,a[0])&&(i?t[0].coord=a[0]:t.shift());i&&d(a[0],t[0].coord)&&t.unshift({coord:a[0]});d(a[1],o.coord)&&(i?o.coord=a[1]:t.pop());i&&d(o.coord,a[1])&&t.push({coord:a[1]});function d(e,t){return e=cb(e),t=cb(t),c?e>t:e<t}}(this,n,t.get("alignWithLabel"),e.clamp),n},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");return e>0&&e<100||(e=5),Yf(this.scale.getMinorTicks(e),(function(e){return Yf(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this)},e.prototype.getViewLabels=function(){return Gz(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},e.prototype.calculateCategoryInterval=function(){return function(e){var t=function(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}(e),n=Rz(e),i=(t.axisRotate-t.labelRotate)/180*Math.PI,r=e.scale,o=r.getExtent(),s=r.count();if(o[1]-o[0]<1)return 0;var a=1;s>40&&(a=Math.max(1,Math.floor(s/40)));for(var l=o[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),c=Math.abs(u*Math.cos(i)),d=Math.abs(u*Math.sin(i)),h=0,p=0;l<=o[1];l+=a){var g,f,m=OC(n({value:l}),t.font,"center","top");g=1.3*m.width,f=1.3*m.height,h=Math.max(h,g,7),p=Math.max(p,f,7)}var v=h/c,y=p/d;isNaN(v)&&(v=1/0),isNaN(y)&&(y=1/0);var w=Math.max(0,Math.floor(Math.min(v,y))),C=Nz(e.model),b=e.getExtent(),S=C.lastAutoInterval,x=C.lastTickCount;return null!=S&&null!=x&&Math.abs(S-w)<=1&&Math.abs(x-s)<=1&&S>w&&C.axisExtent0===b[0]&&C.axisExtent1===b[1]?w=S:(C.lastTickCount=s,C.lastAutoInterval=w,C.axisExtent0=b[0],C.axisExtent1=b[1]),w}(this)},e}();function Yz(e,t){var n=(e[1]-e[0])/t/2;e[0]+=n,e[1]-=n}const Xz=qz;var Zz=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i)||this;return s.index=0,s.type=r||"value",s.position=o||"bottom",s}return vf(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},t.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Xz);const Qz=Zz;function Jz(e,t,n){n=n||{};var i=e.coordinateSystem,r=t.axis,o={},s=r.getAxesOnZeroOf()[0],a=r.position,l=s?"onZero":a,u=r.dim,c=i.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],h={left:0,right:1,top:0,bottom:1,onZero:2},p=t.get("offset")||0,g="x"===u?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];if(s){var f=s.toGlobalCoord(s.dataToCoord(0));g[h.onZero]=Math.max(Math.min(f,g[1]),g[0])}o.position=["y"===u?g[h[l]]:d[0],"x"===u?g[h[l]]:d[3]],o.rotation=Math.PI/2*("x"===u?0:1);o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[a],o.labelOffset=s?g[h[a]]-g[h.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),hm(n.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var m=t.get(["axisLabel","rotate"]);return o.labelRotate="top"===l?-m:m,o.z2=1,o}function eH(e){return"cartesian2d"===e.get("coordinateSystem")}function tH(e){var t={xAxisModel:null,yAxisModel:null};return qf(t,(function(n,i){var r=i.replace(/Model$/,""),o=e.getReferringComponents(r,Yb).models[0];t[i]=o})),t}var nH=Math.log;function iH(e,t,n){var i=ZV.prototype,r=i.getTicks.call(n),o=i.getTicks.call(n,!0),s=r.length-1,a=i.getInterval.call(n),l=xz(e,t),u=l.extent,c=l.fixMin,d=l.fixMax;if("log"===e.type){var h=nH(e.base);u=[nH(u[0])/h,nH(u[1])/h]}e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:s,fixMin:c,fixMax:d});var p=i.getExtent.call(e);c&&(u[0]=p[0]),d&&(u[1]=p[1]);var g=i.getInterval.call(e),f=u[0],m=u[1];if(c&&d)g=(m-f)/s;else if(c)for(m=u[0]+g*s;m<u[1]&&isFinite(m)&&isFinite(u[1]);)g=zV(g),m=u[0]+g*s;else if(d)for(f=u[1]-g*s;f>u[0]&&isFinite(f)&&isFinite(u[0]);)g=zV(g),f=u[1]-g*s;else{e.getTicks().length-1>s&&(g=zV(g));var v=g*s;(f=cb((m=Math.ceil(u[1]/g)*g)-v))<0&&u[0]>=0?(f=0,m=cb(v)):m>0&&u[1]<=0&&(m=0,f=-cb(v))}var y=(r[0].value-o[0].value)/a,w=(r[s].value-o[s].value)/a;i.setExtent.call(e,f+g*y,m+g*w),i.setInterval.call(e,g),(y||w)&&i.setNiceExtent.call(e,f+g,m-g)}var rH=function(){function e(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=kz,this._initCartesian(e,t,n),this.model=e}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(e,t){var n=this._axesMap;function i(e){var t,n=Qf(e),i=n.length;if(i){for(var r=[],o=i-1;o>=0;o--){var s=e[+n[o]],a=s.model,l=s.scale;GV(l)&&a.get("alignTicks")&&null==a.get("interval")?r.push(s):(Mz(l,a),GV(l)&&(t=s))}r.length&&(t||Mz((t=r.pop()).scale,t.model),qf(r,(function(e){iH(e.scale,e.model,t.scale)})))}}this._updateScale(e,this.model),i(n.x),i(n.y);var r={};qf(n.x,(function(e){sH(n,"y",e,r)})),qf(n.y,(function(e){sH(n,"x",e,r)})),this.resize(this.model,t)},e.prototype.resize=function(e,t,n){var i=e.getBoxLayoutParams(),r=!n&&e.get("containLabel"),o=uD(i,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;function a(){qf(s,(function(e){var t=e.isHorizontal(),n=t?[0,o.width]:[0,o.height],i=e.inverse?1:0;e.setExtent(n[i],n[1-i]),function(e,t){var n=e.getExtent(),i=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return i-e+t}}(e,t?o.x:o.y)}))}a(),r&&(qf(s,(function(e){if(!e.model.get(["axisLabel","inside"])){var t=function(e){var t=e.model,n=e.scale;if(t.get(["axisLabel","show"])&&!n.isBlank()){var i,r,o=n.getExtent();r=n instanceof qV?n.count():(i=n.getTicks()).length;var s,a=e.getLabelModel(),l=Rz(e),u=1;r>40&&(u=Math.ceil(r/40));for(var c=0;c<r;c+=u){var d=l(i?i[c]:{value:o[0]+c},c),h=Pz(a.getTextRect(d),a.get("rotate")||0);s?s.union(h):s=h}return s}}(e);if(t){var n=e.isHorizontal()?"height":"width",i=e.model.get(["axisLabel","margin"]);o[n]-=t[n]+i,"top"===e.position?o.y+=t.height+i:"left"===e.position&&(o.x+=t.width+i)}}})),a()),qf(this._coordsList,(function(e){e.calcAffineTransform()}))},e.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n)return n[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}sm(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===e||r[i].getAxis("y").index===t)return r[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(e){var t,n,i=e.seriesModel,r=e.xAxisModel||i&&i.getReferringComponents("xAxis",Yb).models[0],o=e.yAxisModel||i&&i.getReferringComponents("yAxis",Yb).models[0],s=e.gridModel,a=this._coordsList;if(i)jf(a,t=i.coordinateSystem)<0&&(t=null);else if(r&&o)t=this.getCartesian(r.componentIndex,o.componentIndex);else if(r)n=this.getAxis("x",r.componentIndex);else if(o)n=this.getAxis("y",o.componentIndex);else if(s){s.coordinateSystem===this&&(t=this._coordsList[0])}return{cartesian:t,axis:n}},e.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},e.prototype._initCartesian=function(e,t,n){var i=this,r=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},a={x:0,y:0};if(t.eachComponent("xAxis",l("x"),this),t.eachComponent("yAxis",l("y"),this),!a.x||!a.y)return this._axesMap={},void(this._axesList=[]);function l(t){return function(n,i){if(oH(n,e)){var l=n.get("position");"x"===t?"top"!==l&&"bottom"!==l&&(l=o.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=o.left?"right":"left"),o[l]=!0;var u=new Qz(t,_z(n),[0,0],n.get("type"),l),c="category"===u.type;u.onBand=c&&n.get("boundaryGap"),u.inverse=n.get("inverse"),n.axis=u,u.model=n,u.grid=r,u.index=i,r._axesList.push(u),s[t][i]=u,a[t]++}}}this._axesMap=s,qf(s.x,(function(t,n){qf(s.y,(function(r,o){var s="x"+n+"y"+o,a=new Oz(s);a.master=i,a.model=e,i._coordsMap[s]=a,i._coordsList.push(a),a.addAxis(t),a.addAxis(r)}))}))},e.prototype._updateScale=function(e,t){function n(e,t){qf(Ez(e,t.dim),(function(n){t.scale.unionExtentFromData(e,n)}))}qf(this._axesList,(function(e){if(e.scale.setExtent(1/0,-1/0),"category"===e.type){var t=e.model.get("categorySortInfo");e.scale.setSortInfo(t)}})),e.eachSeries((function(e){if(eH(e)){var i=tH(e),r=i.xAxisModel,o=i.yAxisModel;if(!oH(r,t)||!oH(o,t))return;var s=this.getCartesian(r.componentIndex,o.componentIndex),a=e.getData(),l=s.getAxis("x"),u=s.getAxis("y");n(a,l),n(a,u)}}),this)},e.prototype.getTooltipAxes=function(e){var t=[],n=[];return qf(this.getCartesians(),(function(i){var r=null!=e&&"auto"!==e?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(r);jf(t,r)<0&&t.push(r),jf(n,o)<0&&n.push(o)})),{baseAxes:t,otherAxes:n}},e.create=function(t,n){var i=[];return t.eachComponent("grid",(function(r,o){var s=new e(r,t,n);s.name="grid_"+o,s.resize(r,n,!0),r.coordinateSystem=s,i.push(s)})),t.eachSeries((function(e){if(eH(e)){var t=tH(e),n=t.xAxisModel,i=t.yAxisModel;0;var r=n.getCoordSysModel().coordinateSystem;e.coordinateSystem=r.getCartesian(n.componentIndex,i.componentIndex)}})),i},e.dimensions=kz,e}();function oH(e,t){return e.getCoordSysModel()===t}function sH(e,t,n,i){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=e[t],s=n.model,a=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(a){if(null!=l)aH(o[l])&&(r=o[l]);else for(var u in o)if(o.hasOwnProperty(u)&&aH(o[u])&&!i[c(o[u])]){r=o[u];break}r&&(i[c(r)]=!0)}function c(e){return e.dim+"_"+e.index}}function aH(e){return e&&"category"!==e.type&&"time"!==e.type&&function(e){var t=e.scale.getExtent(),n=t[0],i=t[1];return!(n>0&&i>0||n<0&&i<0)}(e)}const lH=rH;var uH=Math.PI,cH=function(){function e(e,t){this.group=new eb,this.opt=t,this.axisModel=e,Uf(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new eb({x:t.position[0],y:t.position[1],rotation:t.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(e){return!!dH[e]},e.prototype.add=function(e){dH[e](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(e,t,n){var i,r,o=vb(t-e);return yb(o)?(r=n>0?"top":"bottom",i="center"):yb(o-uH)?(r=n>0?"bottom":"top",i="center"):(r="middle",i=o>0&&o<uH?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,textVerticalAlign:r}},e.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},e.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},e}(),dH={axisLine:function(e,t,n,i){var r=t.get(["axisLine","show"]);if("auto"===r&&e.handleAutoShown&&(r=e.handleAutoShown("axisLine")),r){var o=t.axis.getExtent(),s=i.transform,a=[o[0],0],l=[o[1],0],u=a[0]>l[0];s&&(Ym(a,a,s),Ym(l,l,s));var c=Wf({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new yE({shape:{x1:a[0],y1:a[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});nI(d.shape,d.style.lineWidth),d.anid="line",n.add(d);var h=t.get(["axisLine","symbol"]);if(null!=h){var p=t.get(["axisLine","symbolSize"]);im(h)&&(h=[h,h]),(im(p)||om(p))&&(p=[p,p]);var g=Bk(t.get(["axisLine","symbolOffset"])||0,p),f=p[0],m=p[1];qf([{rotate:e.rotation+Math.PI/2,offset:g[0],r:0},{rotate:e.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((a[0]-l[0])*(a[0]-l[0])+(a[1]-l[1])*(a[1]-l[1]))}],(function(t,i){if("none"!==h[i]&&null!=h[i]){var r=Ok(h[i],-f/2,-m/2,f,m,c.stroke,!0),o=t.r+t.offset,s=u?l:a;r.attr({rotation:t.rotate,x:s[0]+o*Math.cos(e.rotation),y:s[1]-o*Math.sin(e.rotation),silent:!0,z2:11}),n.add(r)}}))}}},axisTickLabel:function(e,t,n,i){var r=function(e,t,n,i){var r=n.axis,o=n.getModel("axisTick"),s=o.get("show");"auto"===s&&i.handleAutoShown&&(s=i.handleAutoShown("axisTick"));if(!s||r.scale.isBlank())return;for(var a=o.getModel("lineStyle"),l=i.tickDirection*o.get("length"),u=fH(r.getTicksCoords(),t.transform,l,Uf(a.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<u.length;c++)e.add(u[c]);return u}(n,i,t,e),o=function(e,t,n,i){var r=n.axis,o=hm(i.axisLabelShow,n.get(["axisLabel","show"]));if(!o||r.scale.isBlank())return;var s=n.getModel("axisLabel"),a=s.get("margin"),l=r.getViewLabels(),u=(hm(i.labelRotate,s.get("rotate"))||0)*uH/180,c=cH.innerTextLayout(i.rotation,u,i.labelDirection),d=n.getCategories&&n.getCategories(!0),h=[],p=cH.isLabelSilent(n),g=n.get("triggerEvent");return qf(l,(function(o,u){var f="ordinal"===r.scale.type?r.scale.getRawOrdinalNumber(o.tickValue):o.tickValue,m=o.formattedLabel,v=o.rawLabel,y=s;if(d&&d[f]){var w=d[f];sm(w)&&w.textStyle&&(y=new aR(w.textStyle,s,n.ecModel))}var C=y.getTextColor()||n.get(["axisLine","lineStyle","color"]),b=r.dataToCoord(f),S=y.getShallow("align",!0)||c.textAlign,x=pm(y.getShallow("alignMinLabel",!0),S),M=pm(y.getShallow("alignMaxLabel",!0),S),_=y.getShallow("verticalAlign",!0)||y.getShallow("baseline",!0)||c.textVerticalAlign,R=pm(y.getShallow("verticalAlignMinLabel",!0),_),D=pm(y.getShallow("verticalAlignMaxLabel",!0),_),P=new bM({x:b,y:i.labelOffset+i.labelDirection*a,rotation:c.rotation,silent:p,z2:10+(o.level||0),style:G_(y,{text:m,align:0===u?x:u===l.length-1?M:S,verticalAlign:0===u?R:u===l.length-1?D:_,fill:nm(C)?C("category"===r.type?v:"value"===r.type?f+"":f,u):C})});if(P.anid="label_"+f,g){var T=cH.makeAxisEventDataBase(n);T.targetType="axisLabel",T.value=v,T.tickIndex=u,"category"===r.type&&(T.dataIndex=f),SM(P).eventData=T}t.add(P),P.updateTransform(),h.push(P),e.add(P),P.decomposeTransform()})),h}(n,i,t,e);(function(e,t,n){if(Az(e.axis))return;var i=e.get(["axisLabel","showMinLabel"]),r=e.get(["axisLabel","showMaxLabel"]);t=t||[],n=n||[];var o=t[0],s=t[1],a=t[t.length-1],l=t[t.length-2],u=n[0],c=n[1],d=n[n.length-1],h=n[n.length-2];!1===i?(hH(o),hH(u)):pH(o,s)&&(i?(hH(s),hH(c)):(hH(o),hH(u)));!1===r?(hH(a),hH(d)):pH(l,a)&&(r?(hH(l),hH(h)):(hH(a),hH(d)))}(t,o,r),function(e,t,n,i){var r=n.axis,o=n.getModel("minorTick");if(!o.get("show")||r.scale.isBlank())return;var s=r.getMinorTicksCoords();if(!s.length)return;for(var a=o.getModel("lineStyle"),l=i*o.get("length"),u=Uf(a.getLineStyle(),Uf(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<s.length;c++)for(var d=fH(s[c],t.transform,l,u,"minorticks_"+c),h=0;h<d.length;h++)e.add(d[h])}(n,i,t,e.tickDirection),t.get(["axisLabel","hideOverlap"]))&&QL(YL(Yf(o,(function(e){return{label:e,priority:e.z2,defaultAttr:{ignore:e.ignore}}}))))},axisName:function(e,t,n,i){var r=hm(e.axisName,t.get("name"));if(r){var o,s,a=t.get("nameLocation"),l=e.nameDirection,u=t.getModel("nameTextStyle"),c=t.get("nameGap")||0,d=t.axis.getExtent(),h=d[0]>d[1]?-1:1,p=["start"===a?d[0]-h*c:"end"===a?d[1]+h*c:(d[0]+d[1])/2,gH(a)?e.labelOffset+l*c:0],g=t.get("nameRotate");null!=g&&(g=g*uH/180),gH(a)?o=cH.innerTextLayout(e.rotation,null!=g?g:e.rotation,l):(o=function(e,t,n,i){var r,o,s=vb(n-e),a=i[0]>i[1],l="start"===t&&!a||"start"!==t&&a;yb(s-uH/2)?(o=l?"bottom":"top",r="center"):yb(s-1.5*uH)?(o=l?"top":"bottom",r="center"):(o="middle",r=s<1.5*uH&&s>uH/2?l?"left":"right":l?"right":"left");return{rotation:s,textAlign:r,textVerticalAlign:o}}(e.rotation,a,g||0,d),null!=(s=e.axisNameAvailableWidth)&&(s=Math.abs(s/Math.sin(o.rotation)),!isFinite(s)&&(s=null)));var f=u.getFont(),m=t.get("nameTruncate",!0)||{},v=m.ellipsis,y=hm(e.nameTruncateMaxWidth,m.maxWidth,s),w=new bM({x:p[0],y:p[1],rotation:o.rotation,silent:cH.isLabelSilent(t),style:G_(u,{text:r,font:f,overflow:"truncate",width:y,ellipsis:v,fill:u.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:u.get("align")||o.textAlign,verticalAlign:u.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(mI({el:w,componentModel:t,itemName:r}),w.__fullText=r,w.anid="name",t.get("triggerEvent")){var C=cH.makeAxisEventDataBase(t);C.targetType="axisName",C.name=r,SM(w).eventData=C}i.add(w),w.updateTransform(),n.add(w),w.decomposeTransform()}}};function hH(e){e&&(e.ignore=!0)}function pH(e,t){var n=e&&e.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(n&&i){var r=Rv([]);return Av(r,r,-e.rotation),n.applyTransform(Pv([],r,e.getLocalTransform())),i.applyTransform(Pv([],r,t.getLocalTransform())),n.intersect(i)}}function gH(e){return"middle"===e||"center"===e}function fH(e,t,n,i,r){for(var o=[],s=[],a=[],l=0;l<e.length;l++){var u=e[l].coord;s[0]=u,s[1]=0,a[0]=u,a[1]=n,t&&(Ym(s,s,t),Ym(a,a,t));var c=new yE({shape:{x1:s[0],y1:s[1],x2:a[0],y2:a[1]},style:i,z2:2,autoBatch:!0,silent:!0});nI(c.shape,c.style.lineWidth),c.anid=r+"_"+e[l].tickValue,o.push(c)}return o}const mH=cH;function vH(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(e,t,n){var i=t.getComponent("tooltip"),r=t.getComponent("axisPointer"),o=r.get("link",!0)||[],s=[];qf(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var a=bH(n.model),l=e.coordSysAxesInfo[a]={};e.coordSysMap[a]=n;var u=n.model.getModel("tooltip",i);if(qf(n.getAxes(),em(p,!1,null)),n.getTooltipAxes&&i&&u.get("show")){var c="axis"===u.get("trigger"),d="cross"===u.get(["axisPointer","type"]),h=n.getTooltipAxes(u.get(["axisPointer","axis"]));(c||d)&&qf(h.baseAxes,em(p,!d||"cross",c)),d&&qf(h.otherAxes,em(p,"cross",!1))}}function p(i,a,c){var d=c.model.getModel("axisPointer",r),h=d.get("show");if(h&&("auto"!==h||i||CH(d))){null==a&&(a=d.get("triggerTooltip")),d=i?function(e,t,n,i,r,o){var s=t.getModel("axisPointer"),a={};qf(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(e){a[e]=Vf(s.get(e))})),a.snap="category"!==e.type&&!!o,"cross"===s.get("type")&&(a.type="line");var l=a.label||(a.label={});if(null==l.show&&(l.show=!1),"cross"===r){var u=s.get(["label","show"]);if(l.show=null==u||u,!o){var c=a.lineStyle=s.get("crossStyle");c&&Uf(l,c.textStyle)}}return e.model.getModel("axisPointer",new aR(a,n,i))}(c,u,r,t,i,a):d;var p=d.get("snap"),g=d.get("triggerEmphasis"),f=bH(c.model),m=a||p||"category"===c.type,v=e.axesInfo[f]={key:f,axis:c,coordSys:n,axisPointerModel:d,triggerTooltip:a,triggerEmphasis:g,involveSeries:m,snap:p,useHandle:CH(d),seriesModels:[],linkGroup:null};l[f]=v,e.seriesInvolved=e.seriesInvolved||m;var y=function(e,t){for(var n=t.model,i=t.dim,r=0;r<e.length;r++){var o=e[r]||{};if(yH(o[i+"AxisId"],n.id)||yH(o[i+"AxisIndex"],n.componentIndex)||yH(o[i+"AxisName"],n.name))return r}}(o,c);if(null!=y){var w=s[y]||(s[y]={axesInfo:{}});w.axesInfo[f]=v,w.mapper=o[y].mapper,v.linkGroup=w}}}}))}(n,e,t),n.seriesInvolved&&function(e,t){t.eachSeries((function(t){var n=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),r=t.get(["tooltip","show"],!0);n&&"none"!==i&&!1!==i&&"item"!==i&&!1!==r&&!1!==t.get(["axisPointer","show"],!0)&&qf(e.coordSysAxesInfo[bH(n.model)],(function(e){var i=e.axis;n.getAxis(i.dim)===i&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())}))}))}(n,e),n}function yH(e,t){return"all"===e||tm(e)&&jf(e,t)>=0||e===t}function wH(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[bH(e)]}function CH(e){return!!e.get(["handle","show"])}function bH(e){return e.type+"||"+e.id}var SH={},xH=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(t,n,i,r){this.axisPointerClass&&function(e){var t=wH(e);if(t){var n=t.axisPointerModel,i=t.axis.scale,r=n.option,o=n.get("status"),s=n.get("value");null!=s&&(s=i.parse(s));var a=CH(n);null==o&&(r.status=a?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==s||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),r.value=s,a&&(r.status=t.axis.scale.isBlank()?"hide":"show")}}(t),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},t.prototype.updateAxisPointer=function(e,t,n,i){this._doUpdateAxisPointerClass(e,n,!1)},t.prototype.remove=function(e,t){var n=this._axisPointer;n&&n.remove(t)},t.prototype.dispose=function(t,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,i){var r=t.getAxisPointerClass(this.axisPointerClass);if(r){var o=function(e){var t=wH(e);return t&&t.axisPointerModel}(e);o?(this._axisPointer||(this._axisPointer=new r)).render(e,o,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,t){SH[e]=t},t.getAxisPointerClass=function(e){return e&&SH[e]},t.type="axis",t}(fA);const MH=xH;var _H=jb();function RH(e,t,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitArea"),s=o.getModel("areaStyle"),a=s.get("color"),l=i.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var c=a.length,d=_H(e).splitAreaColors,h=_m(),p=0;if(d)for(var g=0;g<u.length;g++){var f=d.get(u[g].tickValue);if(null!=f){p=(f+(c-1)*g)%c;break}}var m=r.toGlobalCoord(u[0].coord),v=s.getAreaStyle();a=tm(a)?a:[a];for(g=1;g<u.length;g++){var y=r.toGlobalCoord(u[g].coord),w=void 0,C=void 0,b=void 0,S=void 0;r.isHorizontal()?(w=m,C=l.y,b=y-w,S=l.height,m=w+b):(w=l.x,C=m,b=l.width,m=C+(S=y-C));var x=u[g-1].tickValue;null!=x&&h.set(x,p),t.add(new oM({anid:null!=x?"area_"+x:null,shape:{x:w,y:C,width:b,height:S},style:Uf({fill:a[p]},v),autoBatch:!0,silent:!0})),p=(p+1)%c}_H(e).splitAreaColors=h}}}function DH(e){_H(e).splitAreaColors=null}var PH=["axisLine","axisTickLabel","axisName"],TH=["splitArea","splitLine","minorSplitLine"],AH=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return vf(t,e),t.prototype.render=function(t,n,i,r){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new eb,this.group.add(this._axisGroup),t.get("show")){var s=t.getCoordSysModel(),a=Jz(s,t),l=new mH(t,Wf({handleAutoShown:function(e){for(var n=s.coordinateSystem.getCartesians(),i=0;i<n.length;i++)if(GV(n[i].getOtherAxis(t.axis).scale))return!0;return!1}},a));qf(PH,l.add,l),this._axisGroup.add(l.getGroup()),qf(TH,(function(e){t.get([e,"show"])&&EH[e](this,this._axisGroup,t,s)}),this),r&&"changeAxisOrder"===r.type&&r.isInitSort||uI(o,this._axisGroup,t),e.prototype.render.call(this,t,n,i,r)}},t.prototype.remove=function(){DH(this)},t.type="cartesianAxis",t}(MH),EH={splitLine:function(e,t,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitLine"),s=o.getModel("lineStyle"),a=s.get("color");a=tm(a)?a:[a];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),c=0,d=r.getTicksCoords({tickModel:o}),h=[],p=[],g=s.getLineStyle(),f=0;f<d.length;f++){var m=r.toGlobalCoord(d[f].coord);u?(h[0]=m,h[1]=l.y,p[0]=m,p[1]=l.y+l.height):(h[0]=l.x,h[1]=m,p[0]=l.x+l.width,p[1]=m);var v=c++%a.length,y=d[f].tickValue,w=new yE({anid:null!=y?"line_"+d[f].tickValue:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},style:Uf({stroke:a[v]},g),silent:!0});nI(w.shape,g.lineWidth),t.add(w)}}},minorSplitLine:function(e,t,n,i){var r=n.axis,o=n.getModel("minorSplitLine").getModel("lineStyle"),s=i.coordinateSystem.getRect(),a=r.isHorizontal(),l=r.getMinorTicksCoords();if(l.length)for(var u=[],c=[],d=o.getLineStyle(),h=0;h<l.length;h++)for(var p=0;p<l[h].length;p++){var g=r.toGlobalCoord(l[h][p].coord);a?(u[0]=g,u[1]=s.y,c[0]=g,c[1]=s.y+s.height):(u[0]=s.x,u[1]=g,c[0]=s.x+s.width,c[1]=g);var f=new yE({anid:"minor_line_"+l[h][p].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:d,silent:!0});nI(f.shape,d.lineWidth),t.add(f)}},splitArea:function(e,t,n,i){RH(e,t,n,i)}},IH=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.type="xAxis",t}(AH),kH=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=IH.type,t}return vf(t,e),t.type="yAxis",t}(AH);var FH=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return vf(t,e),t.prototype.render=function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new oM({shape:e.coordinateSystem.getRect(),style:Uf({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(fA),LH={offset:0};function OH(e){e.registerComponentView(FH),e.registerComponentModel(xV),e.registerCoordinateSystem("cartesian2d",lH),LV(e,"x",_V,LH),LV(e,"y",_V,LH),e.registerComponentView(IH),e.registerComponentView(kH),e.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))}function NH(e){e.eachSeriesByType("radar",(function(e){var t=e.getData(),n=[],i=e.coordinateSystem;if(i){var r=i.getIndicatorAxes();qf(r,(function(e,o){t.each(t.mapDimension(r[o].dim),(function(e,t){n[t]=n[t]||[];var r=i.dataToPoint(e,o);n[t][o]=BH(r)?r:GH(i)}))})),t.each((function(e){var r=function(e,t,n){if(e&&t)for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return e[i]}(n[e],(function(e){return BH(e)}))||GH(i);n[e].push(r.slice()),t.setItemLayout(e,n[e])}))}}))}function BH(e){return!isNaN(e[0])&&!isNaN(e[1])}function GH(e){return[e.cx,e.cy]}function VH(e){var t=e.polar;if(t){tm(t)||(t=[t]);var n=[];qf(t,(function(t,i){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],tm(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):n.push(t)})),e.polar=n}qf(e.series,(function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)}))}var zH=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return vf(n,e),n.prototype.render=function(e,n,i){var r=e.coordinateSystem,o=this.group,s=e.getData(),a=this._data;function l(e,t){var n=e.getItemVisual(t,"symbol")||"circle";if("none"!==n){var i=Nk(e.getItemVisual(t,"symbolSize")),r=Ok(n,-1,-1,2,2),o=e.getItemVisual(t,"symbolRotate")||0;return r.attr({style:{strokeNoScale:!0},z2:100,scaleX:i[0]/2,scaleY:i[1]/2,rotation:o*Math.PI/180||0}),r}}function u(n,i,r,o,s,a){r.removeAll();for(var u=0;u<i.length-1;u++){var c=l(o,s);c&&(c.__dimIdx=u,n[u]?(c.setPosition(n[u]),t[a?"initProps":"updateProps"](c,{x:i[u][0],y:i[u][1]},e,s)):c.setPosition(i[u]),r.add(c))}}function c(e){return Yf(e,(function(e){return[r.cx,r.cy]}))}s.diff(a).add((function(t){var n=s.getItemLayout(t);if(n){var i=new dE,r=new gE,o={shape:{points:n}};i.shape.points=c(n),r.shape.points=c(n),P_(i,o,e,t),P_(r,o,e,t);var a=new eb,l=new eb;a.add(r),a.add(i),a.add(l),u(r.shape.points,n,l,s,t,!0),s.setItemGraphicEl(t,a)}})).update((function(t,n){var i=a.getItemGraphicEl(n),r=i.childAt(0),o=i.childAt(1),l=i.childAt(2),c={shape:{points:s.getItemLayout(t)}};c.shape.points&&(u(r.shape.points,c.shape.points,l,s,t,!1),k_(o),k_(r),D_(r,c,e),D_(o,c,e),s.setItemGraphicEl(t,i))})).remove((function(e){o.remove(a.getItemGraphicEl(e))})).execute(),s.eachItemGraphicEl((function(e,t){var n=s.getItemModel(t),i=e.childAt(0),r=e.childAt(1),a=e.childAt(2),l=s.getItemVisual(t,"style"),u=l.fill;o.add(e),i.useStyle(Uf(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:u})),w_(i,n,"lineStyle"),w_(r,n,"areaStyle");var c=n.getModel("areaStyle"),d=c.isEmpty()&&c.parentModel.isEmpty();r.ignore=d,qf(["emphasis","select","blur"],(function(e){var t=n.getModel([e,"areaStyle"]),i=t.isEmpty()&&t.parentModel.isEmpty();r.ensureState(e).ignore=i&&d})),r.useStyle(Uf(c.getAreaStyle(),{fill:u,opacity:.7,decal:l.decal}));var h=n.getModel("emphasis"),p=h.getModel("itemStyle").getItemStyle();a.eachChild((function(e){if(e instanceof Zx){var i=e.style;e.useStyle(Wf({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},l))}else e.useStyle(l),e.setColor(u),e.style.strokeNoScale=!0;e.ensureState("emphasis").style=Vf(p);var r=s.getStore().get(s.getDimensionIndex(e.__dimIdx),t);(null==r||isNaN(r))&&(r=""),N_(e,B_(n),{labelFetcher:s.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:r,inheritColor:u,defaultOpacity:l.opacity})})),f_(e,h.get("focus"),h.get("blurScope"),h.get("disabled"))})),this._data=s},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.type="radar",n}(DI);const HH=zH;var WH=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return vf(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new dV(Jf(this.getData,this),Jf(this.getRawData,this))},t.prototype.getInitialData=function(e,t){return uV(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,n){var i=this.getData(),r=this.coordinateSystem.getIndicatorAxes(),o=this.getData().getName(e),s=""===o?this.name:o,a=QT(this,e);return WT("section",{header:s,sortBlocks:!0,blocks:Yf(r,(function(t){var n=i.get(i.mapDimension(t.dim),e);return WT("nameValue",{markerType:"subItem",markerColor:a,name:t.name,value:n,sortParam:n})}))})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var t=this.getData(),n=this.coordinateSystem,i=t.getValues(Yf(n.dimensions,(function(e){return t.mapDimension(e)})),e),r=0,o=i.length;r<o;r++)if(!isNaN(i[r])){var s=n.getIndicatorAxes();return n.coordToPoint(s[r].dataToCoord(i[r]),r)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(pA);const UH=WH;var jH=TV.value;function $H(e,t){return Uf({show:t},e)}var KH=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),r=this.get("axisTick"),o=this.get("axisLabel"),s=this.get("axisName"),a=this.get(["axisName","show"]),l=this.get(["axisName","formatter"]),u=this.get("axisNameGap"),c=this.get("triggerEvent"),d=Yf(this.get("indicator")||[],(function(d){null!=d.max&&d.max>0&&!d.min?d.min=0:null!=d.min&&d.min<0&&!d.max&&(d.max=0);var h=s;null!=d.color&&(h=Uf({color:d.color},s));var p=zf(Vf(d),{boundaryGap:e,splitNumber:t,scale:n,axisLine:i,axisTick:r,axisLabel:o,name:d.text,showName:a,nameLocation:"end",nameGap:u,nameTextStyle:h,triggerEvent:c},!1);if(im(l)){var g=p.name;p.name=l.replace("{value}",null!=g?g:"")}else nm(l)&&(p.name=l(p.name,p));var f=new aR(p,null,this.ecModel);return $f(f,MV.prototype),f.mainType="radar",f.componentIndex=this.componentIndex,f}),this);this._indicatorModels=d},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:zf({lineStyle:{color:"#bbb"}},jH.axisLine),axisLabel:$H(jH.axisLabel,!1),axisTick:$H(jH.axisTick,!1),splitLine:$H(jH.splitLine,!0),splitArea:$H(jH.splitArea,!0),indicator:[]},t}(vD);const qH=KH;var YH=["axisLine","axisTickLabel","axisName"],XH=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var t=e.coordinateSystem;qf(Yf(t.getIndicatorAxes(),(function(e){var n=e.model.get("showName")?e.name:"";return new mH(e.model,{axisName:n,position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})})),(function(e){qf(YH,e.add,e),this.group.add(e.getGroup())}),this)},t.prototype._buildSplitLineAndArea=function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes();if(n.length){var i=e.get("shape"),r=e.getModel("splitLine"),o=e.getModel("splitArea"),s=r.getModel("lineStyle"),a=o.getModel("areaStyle"),l=r.get("show"),u=o.get("show"),c=s.get("color"),d=a.get("color"),h=tm(c)?c:[c],p=tm(d)?d:[d],g=[],f=[];if("circle"===i)for(var m=n[0].getTicksCoords(),v=t.cx,y=t.cy,w=0;w<m.length;w++){if(l)g[D(g,h,w)].push(new GA({shape:{cx:v,cy:y,r:m[w].coord}}));if(u&&w<m.length-1)f[D(f,p,w)].push(new aE({shape:{cx:v,cy:y,r0:m[w].coord,r:m[w+1].coord}}))}else{var C,b=Yf(n,(function(e,n){var i=e.getTicksCoords();return C=null==C?i.length-1:Math.min(i.length-1,C),Yf(i,(function(e){return t.coordToPoint(e.coord,n)}))})),S=[];for(w=0;w<=C;w++){for(var x=[],M=0;M<n.length;M++)x.push(b[M][w]);if(x[0]&&x.push(x[0].slice()),l)g[D(g,h,w)].push(new gE({shape:{points:x}}));if(u&&S)f[D(f,p,w-1)].push(new dE({shape:{points:x.concat(S)}}));S=x.slice().reverse()}}var _=s.getLineStyle(),R=a.getAreaStyle();qf(f,(function(e,t){this.group.add(eI(e,{style:Uf({stroke:"none",fill:p[t%p.length]},R),silent:!0}))}),this),qf(g,(function(e,t){this.group.add(eI(e,{style:Uf({fill:"none",stroke:h[t%h.length]},_),silent:!0}))}),this)}function D(e,t,n){var i=n%t.length;return e[i]=e[i]||[],i}},t.type="radar",t}(fA);const ZH=XH;var QH=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.type="value",r.angle=0,r.name="",r}return vf(t,e),t}(Xz);const JH=QH;var eW=function(){function e(e,t,n){this.dimensions=[],this._model=e,this._indicatorAxes=Yf(e.getIndicatorModels(),(function(e,t){var n="indicator_"+t,i=new JH(n,new ZV);return i.name=e.get("name"),i.model=e,e.axis=i,this.dimensions.push(n),i}),this),this.resize(e,n)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},e.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},e.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var r,o=Math.atan2(-n,t),s=1/0,a=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],c=Math.abs(o-u.angle);c<s&&(r=u,a=l,s=c)}return[a,+(r&&r.coordToData(i))]},e.prototype.resize=function(e,t){var n=e.get("center"),i=t.getWidth(),r=t.getHeight(),o=Math.min(i,r)/2;this.cx=ub(n[0],i),this.cy=ub(n[1],r),this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");(im(s)||om(s))&&(s=[0,s]),this.r0=ub(s[0],o),this.r=ub(s[1],o),qf(this._indicatorAxes,(function(e,t){e.setExtent(this.r0,this.r);var n=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),e.angle=n}),this)},e.prototype.update=function(e,t){var n=this._indicatorAxes,i=this._model;qf(n,(function(e){e.scale.setExtent(1/0,-1/0)})),e.eachSeriesByType("radar",(function(t,r){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===i){var o=t.getData();qf(n,(function(e){e.scale.unionExtentFromData(o,o.mapDimension(e.dim))}))}}),this);var r=i.get("splitNumber"),o=new ZV;o.setExtent(0,r),o.setInterval(1),qf(n,(function(e,t){iH(e.scale,e.model,o)}))},e.prototype.convertToPixel=function(e,t,n){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(e,t,n){return console.warn("Not implemented."),null},e.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},e.create=function(t,n){var i=[];return t.eachComponent("radar",(function(r){var o=new e(r,t,n);i.push(o),r.coordinateSystem=o})),t.eachSeriesByType("radar",(function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=i[e.get("radarIndex")||0])})),i},e.dimensions=[],e}();const tW=eW;function nW(e){e.registerCoordinateSystem("radar",tW),e.registerComponentModel(qH),e.registerComponentView(ZH),e.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each((function(e){t.setItemVisual(e,"legendIcon","roundRect")})),t.setVisual("legendIcon","roundRect")}})}var iW="\0_ec_interaction_mutex";function rW(e,t){return!!oW(e)[t]}function oW(e){return e[iW]||(e[iW]={})}mL({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Am);var sW=function(e){function t(t){var n=e.call(this)||this;n._zr=t;var i=Jf(n._mousedownHandler,n),r=Jf(n._mousemoveHandler,n),o=Jf(n._mouseupHandler,n),s=Jf(n._mousewheelHandler,n),a=Jf(n._pinchHandler,n);return n.enable=function(e,n){this.disable(),this._opt=Uf(Vf(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",i),t.on("mousemove",r),t.on("mouseup",o)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",s),t.on("pinch",a))},n.disable=function(){t.off("mousedown",i),t.off("mousemove",r),t.off("mouseup",o),t.off("mousewheel",s),t.off("pinch",a)},n}return vf(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!Sv(e)){for(var t=e.target;t;){if(t.draggable)return;t=t.__hostTarget||t.parent}var n=e.offsetX,i=e.offsetY;this.pointerChecker&&this.pointerChecker(e,n,i)&&(this._x=n,this._y=i,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&uW("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!rW(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,i=this._x,r=this._y,o=t-i,s=n-r;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&bv(e.event),lW(this,"pan","moveOnMouseMove",e,{dx:o,dy:s,oldX:i,oldY:r,newX:t,newY:n,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){Sv(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var t=uW("zoomOnMouseWheel",e,this._opt),n=uW("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,r=Math.abs(i),o=e.offsetX,s=e.offsetY;if(0!==i&&(t||n)){if(t){var a=r>3?1.4:r>1?1.2:1.1;aW(this,"zoom","zoomOnMouseWheel",e,{scale:i>0?a:1/a,originX:o,originY:s,isAvailableBehavior:null})}if(n){var l=Math.abs(i);aW(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(i>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:o,originY:s,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){rW(this._zr,"globalPan")||aW(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(nv);function aW(e,t,n,i,r){e.pointerChecker&&e.pointerChecker(i,r.originX,r.originY)&&(bv(i.event),lW(e,t,n,i,r))}function lW(e,t,n,i,r){r.isAvailableBehavior=Jf(uW,null,n,i),e.trigger(t,r)}function uW(e,t,n){var i=n[e];return!e||i&&(!im(i)||t.event[i+"Key"])}const cW=sW;function dW(e,t,n){var i=e.target;i.x+=t,i.y+=n,i.dirty()}function hW(e,t,n,i){var r=e.target,o=e.zoomLimit,s=e.zoom=e.zoom||1;if(s*=t,o){var a=o.min||0,l=o.max||1/0;s=Math.max(Math.min(l,s),a)}var u=s/e.zoom;e.zoom=s,r.x-=(n-r.x)*(u-1),r.y-=(i-r.y)*(u-1),r.scaleX*=u,r.scaleY*=u,r.dirty()}var pW,gW={axisPointer:1,tooltip:1,brush:1};function fW(e,t,n){var i=t.getComponentByElement(e.topTarget),r=i&&i.coordinateSystem;return i&&i!==n&&!gW.hasOwnProperty(i.mainType)&&r&&r.model!==n}function mW(e){im(e)&&(e=(new DOMParser).parseFromString(e,"text/xml"));var t=e;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var vW={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},yW=Qf(vW),wW={"alignment-baseline":"textBaseline","stop-color":"stopColor"},CW=Qf(wW),bW=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(e,t){t=t||{};var n=mW(e);this._defsUsePending=[];var i=new eb;this._root=i;var r=[],o=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||t.width),a=parseFloat(n.getAttribute("height")||t.height);isNaN(s)&&(s=null),isNaN(a)&&(a=null),DW(n,i,null,!0,!1);for(var l,u,c=n.firstChild;c;)this._parseNode(c,i,r,null,!1,!1),c=c.nextSibling;if(function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i[0].style[i[1]]=e[i[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],o){var d=EW(o);d.length>=4&&(l={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(l&&null!=s&&null!=a&&(u=OW(l,{x:0,y:0,width:s,height:a}),!t.ignoreViewBox)){var h=i;(i=new eb).add(h),h.scaleX=h.scaleY=u.scale,h.x=u.x,h.y=u.y}return t.ignoreRootClip||null==s||null==a||i.setClipPath(new oM({shape:{x:0,y:0,width:s,height:a}})),{root:i,width:s,height:a,viewBoxRect:l,viewBoxTransform:u,named:r}},e.prototype._parseNode=function(e,t,n,i,r,o){var s,a=e.nodeName.toLowerCase(),l=i;if("defs"===a&&(r=!0),"text"===a&&(o=!0),"defs"===a||"switch"===a)s=t;else{if(!r){var u=pW[a];if(u&&Tm(pW,a)){s=u.call(this,e,t);var c=e.getAttribute("name");if(c){var d={name:c,namedFrom:null,svgNodeTagLower:a,el:s};n.push(d),"g"===a&&(l=d)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:a,el:s});t.add(s)}}var h=SW[a];if(h&&Tm(SW,a)){var p=h.call(this,e),g=e.getAttribute("id");g&&(this._defs[g]=p)}}if(s&&s.isGroup)for(var f=e.firstChild;f;)1===f.nodeType?this._parseNode(f,s,n,l,r,o):3===f.nodeType&&o&&this._parseText(f,s),f=f.nextSibling},e.prototype._parseText=function(e,t){var n=new Kx({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});_W(t,n),DW(e,n,this._defsUsePending,!1,!1),function(e,t){var n=t.__selfStyle;if(n){var i=n.textBaseline,r=i;i&&"auto"!==i?"baseline"===i?r="alphabetic":"before-edge"===i||"text-before-edge"===i?r="top":"after-edge"===i||"text-after-edge"===i?r="bottom":"central"!==i&&"mathematical"!==i||(r="middle"):r="alphabetic",e.style.textBaseline=r}var o=t.__inheritedStyle;if(o){var s=o.textAlign,a=s;s&&("middle"===s&&(a="center"),e.style.textAlign=a)}}(n,t);var i=n.style,r=i.fontSize;r&&r<9&&(i.fontSize=9,n.scaleX*=r/9,n.scaleY*=r/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=o;var s=n.getBoundingRect();return this._textX+=s.width,t.add(n),n},e.internalField=void(pW={g:function(e,t){var n=new eb;return _W(t,n),DW(e,n,this._defsUsePending,!1,!1),n},rect:function(e,t){var n=new oM;return _W(t,n),DW(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(e,t){var n=new GA;return _W(t,n),DW(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n.silent=!0,n},line:function(e,t){var n=new yE;return _W(t,n),DW(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(e,t){var n=new HA;return _W(t,n),DW(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(e,t){var n,i=e.getAttribute("points");i&&(n=RW(i));var r=new dE({shape:{points:n||[]},silent:!0});return _W(t,r),DW(e,r,this._defsUsePending,!1,!1),r},polyline:function(e,t){var n,i=e.getAttribute("points");i&&(n=RW(i));var r=new gE({shape:{points:n||[]},silent:!0});return _W(t,r),DW(e,r,this._defsUsePending,!1,!1),r},image:function(e,t){var n=new Zx;return _W(t,n),DW(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,t){var n=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",r=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(r),this._textY=parseFloat(i)+parseFloat(o);var s=new eb;return _W(t,s),DW(e,s,this._defsUsePending,!1,!0),s},tspan:function(e,t){var n=e.getAttribute("x"),i=e.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var r=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0",s=new eb;return _W(t,s),DW(e,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(r),this._textY+=parseFloat(o),s},path:function(e,t){var n=LA(e.getAttribute("d")||"");return _W(t,n),DW(e,n,this._defsUsePending,!1,!1),n.silent=!0,n}}),e}(),SW={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),n=parseInt(e.getAttribute("y1")||"0",10),i=parseInt(e.getAttribute("x2")||"10",10),r=parseInt(e.getAttribute("y2")||"0",10),o=new EE(t,n,i,r);return xW(e,o),MW(e,o),o},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),n=parseInt(e.getAttribute("cy")||"0",10),i=parseInt(e.getAttribute("r")||"0",10),r=new kE(t,n,i);return xW(e,r),MW(e,r),r}};function xW(e,t){"userSpaceOnUse"===e.getAttribute("gradientUnits")&&(t.global=!0)}function MW(e,t){for(var n=e.firstChild;n;){if(1===n.nodeType&&"stop"===n.nodeName.toLocaleLowerCase()){var i=n.getAttribute("offset"),r=void 0;r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};LW(n,o,o);var s=o.stopColor||n.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:r,color:s})}n=n.nextSibling}}function _W(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Uf(t.__inheritedStyle,e.__inheritedStyle))}function RW(e){for(var t=EW(e),n=[],i=0;i<t.length;i+=2){var r=parseFloat(t[i]),o=parseFloat(t[i+1]);n.push([r,o])}return n}function DW(e,t,n,i,r){var o=t,s=o.__inheritedStyle=o.__inheritedStyle||{},a={};1===e.nodeType&&(function(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var i=[],r=null;n.replace(IW,(function(e,t,n){return i.push(t,n),""}));for(var o=i.length-1;o>0;o-=2){var s=i[o],a=i[o-1],l=EW(s);switch(r=r||[1,0,0,1,0,0],a){case"translate":Tv(r,r,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Ev(r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Av(r,r,-parseFloat(l[0])*kW,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":Pv(r,[1,0,Math.tan(parseFloat(l[0])*kW),1,0,0],r);break;case"skewY":Pv(r,[1,Math.tan(parseFloat(l[0])*kW),0,1,0,0],r);break;case"matrix":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5])}}t.setLocalTransform(r)}}(e,t),LW(e,s,a),i||function(e,t,n){for(var i=0;i<yW.length;i++){var r=yW[i];null!=(o=e.getAttribute(r))&&(t[vW[r]]=o)}for(i=0;i<CW.length;i++){var o;r=CW[i];null!=(o=e.getAttribute(r))&&(n[wW[r]]=o)}}(e,s,a)),o.style=o.style||{},null!=s.fill&&(o.style.fill=TW(o,"fill",s.fill,n)),null!=s.stroke&&(o.style.stroke=TW(o,"stroke",s.stroke,n)),qf(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){null!=s[e]&&(o.style[e]=parseFloat(s[e]))})),qf(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(e){null!=s[e]&&(o.style[e]=s[e])})),r&&(o.__selfStyle=a),s.lineDash&&(o.style.lineDash=Yf(EW(s.lineDash),(function(e){return parseFloat(e)}))),"hidden"!==s.visibility&&"collapse"!==s.visibility||(o.invisible=!0),"none"===s.display&&(o.ignore=!0)}var PW=/^url\(\s*#(.*?)\)/;function TW(e,t,n,i){var r=n&&n.match(PW);if(!r)return"none"===n&&(n=null),n;var o=ym(r[1]);i.push([e,t,o])}var AW=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function EW(e){return e.match(AW)||[]}var IW=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,kW=Math.PI/180;var FW=/([^\s:;]+)\s*:\s*([^:;]+)/g;function LW(e,t,n){var i,r=e.getAttribute("style");if(r)for(FW.lastIndex=0;null!=(i=FW.exec(r));){var o=i[1],s=Tm(vW,o)?vW[o]:null;s&&(t[s]=i[2]);var a=Tm(wW,o)?wW[o]:null;a&&(n[a]=i[2])}}function OW(e,t){var n=t.width/e.width,i=t.height/e.height,r=Math.min(n,i);return{scale:r,x:-(e.x+e.width/2)*r+(t.x+t.width/2),y:-(e.y+e.height/2)*r+(t.y+t.height/2)}}var NW=1e-8;function BW(e,t){return Math.abs(e-t)<NW}function GW(e,t,n){var i=0,r=e[0];if(!r)return!1;for(var o=1;o<e.length;o++){var s=e[o];i+=Tx(r[0],r[1],s[0],s[1],t,n),r=s}var a=e[0];return BW(r[0],a[0])&&BW(r[1],a[1])||(i+=Tx(r[0],r[1],a[0],a[1],t,n)),0!==i}var VW=[];function zW(e,t){for(var n=0;n<e.length;n++)Ym(e[n],e[n],t)}function HW(e,t,n,i){for(var r=0;r<e.length;r++){var o=e[r];i&&(o=i.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(Xm(t,t,o),Zm(n,n,o))}}var WW=function(){function e(e){this.name=e}return e.prototype.setCenter=function(e){this._center=e},e.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},e}(),UW=function(e,t){this.type="polygon",this.exterior=e,this.interiors=t},jW=function(e){this.type="linestring",this.points=e},$W=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.type="geoJSON",r.geometries=n,r._center=i&&[i[0],i[1]],r}return vf(t,e),t.prototype.calcCenter=function(){for(var e,t=this.geometries,n=0,i=0;i<t.length;i++){var r=t[i],o=r.exterior,s=o&&o.length;s>n&&(e=r,n=s)}if(e)return function(e){for(var t=0,n=0,i=0,r=e.length,o=e[r-1][0],s=e[r-1][1],a=0;a<r;a++){var l=e[a][0],u=e[a][1],c=o*u-l*s;t+=c,n+=(o+l)*c,i+=(s+u)*c,o=l,s=u}return t?[n/t/3,i/t/3,t]:[e[0][0]||0,e[0][1]||0]}(e.exterior);var a=this.getBoundingRect();return[a.x+a.width/2,a.y+a.height/2]},t.prototype.getBoundingRect=function(e){var t=this._rect;if(t&&!e)return t;var n=[1/0,1/0],i=[-1/0,-1/0];return qf(this.geometries,(function(t){"polygon"===t.type?HW(t.exterior,n,i,e):qf(t.points,(function(t){HW(t,n,i,e)}))})),isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])||(n[0]=n[1]=i[0]=i[1]=0),t=new Uv(n[0],n[1],i[0]-n[0],i[1]-n[1]),e||(this._rect=t),t},t.prototype.contain=function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var i=0,r=n.length;i<r;i++){var o=n[i];if("polygon"===o.type){var s=o.exterior,a=o.interiors;if(GW(s,e[0],e[1])){for(var l=0;l<(a?a.length:0);l++)if(GW(a[l],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,t,n,i){var r=this.getBoundingRect(),o=r.width/r.height;n?i||(i=n/o):n=o*i;for(var s=new Uv(e,t,n,i),a=r.calculateTransform(s),l=this.geometries,u=0;u<l.length;u++){var c=l[u];"polygon"===c.type?(zW(c.exterior,a),qf(c.interiors,(function(e){zW(e,a)}))):qf(c.points,(function(e){zW(e,a)}))}(r=this._rect).copy(s),this._center=[r.x+r.width/2,r.y+r.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(WW),KW=function(e){function t(t,n){var i=e.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return vf(t,e),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,t=e.getBoundingRect(),n=[t.x+t.width/2,t.y+t.height/2],i=Rv(VW),r=e;r&&!r.isGeoSVGGraphicRoot;)Pv(i,r.getLocalTransform(),i),r=r.parent;return Iv(i,i),Ym(n,n,i),n},t}(WW),qW=_m(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),YW=function(){function e(e,t){this.type="geoSVG",this._usedGraphicMap=_m(),this._freedGraphics=[],this._mapName=e,this._parsedXML=mW(t)}return e.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function(e){var t=[],n=_m();return qf(e,(function(e){if(null==e.namedFrom){var i=new KW(e.name,e.el);t.push(i),n.set(e.name,i)}})),{regions:t,regionsMap:n}}(e.named),n=t.regions,i=t.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(e){var t,n,i,r;try{vm(null!=(n=(t=e&&(i=e,r={ignoreViewBox:!0,ignoreRootClip:!0},(new bW).parse(i,r))||{}).root))}catch(JA){throw new Error("Invalid svg format\n"+JA.message)}var o=new eb;o.add(n),o.isGeoSVGGraphicRoot=!0;var s=t.width,a=t.height,l=t.viewBoxRect,u=this._boundingRect;if(!u){var c=void 0,d=void 0,h=void 0,p=void 0;if(null!=s?(c=0,h=s):l&&(c=l.x,h=l.width),null!=a?(d=0,p=a):l&&(d=l.y,p=l.height),null==c||null==d){var g=n.getBoundingRect();null==c&&(c=g.x,h=g.width),null==d&&(d=g.y,p=g.height)}u=this._boundingRect=new Uv(c,d,h,p)}if(l){var f=OW(l,u);n.scaleX=n.scaleY=f.scale,n.x=f.x,n.y=f.y}o.setClipPath(new oM({shape:u.plain()}));var m=[];return qf(t.named,(function(e){var t;null!=qW.get(e.svgNodeTagLower)&&(m.push(e),(t=e.el).silent=!1,t.isGroup&&t.traverse((function(e){e.silent=!1})))})),{root:o,boundingRect:u,named:m}},e.prototype.useGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,n),n)},e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);n&&(t.removeKey(e),this._freedGraphics.push(n))},e}();function XW(e,t,n){for(var i=0;i<e.length;i++)e[i]=ZW(e[i],t[i],n)}function ZW(e,t,n){for(var i=[],r=t[0],o=t[1],s=0;s<e.length;s+=2){var a=e.charCodeAt(s)-64,l=e.charCodeAt(s+1)-64;a=a>>1^-(1&a),l=l>>1^-(1&l),r=a+=r,o=l+=o,i.push([a/n,l/n])}return i}function QW(e,t){return e=function(e){if(!e.UTF8Encoding)return e;var t=e,n=t.UTF8Scale;return null==n&&(n=1024),qf(t.features,(function(e){var t=e.geometry,i=t.encodeOffsets,r=t.coordinates;if(i)switch(t.type){case"LineString":t.coordinates=ZW(r,i,n);break;case"Polygon":case"MultiLineString":XW(r,i,n);break;case"MultiPolygon":qf(r,(function(e,t){return XW(e,i[t],n)}))}})),t.UTF8Encoding=!1,t}(e),Yf(Zf(e.features,(function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0})),(function(e){var n=e.properties,i=e.geometry,r=[];switch(i.type){case"Polygon":var o=i.coordinates;r.push(new UW(o[0],o.slice(1)));break;case"MultiPolygon":qf(i.coordinates,(function(e){e[0]&&r.push(new UW(e[0],e.slice(1)))}));break;case"LineString":r.push(new jW([i.coordinates]));break;case"MultiLineString":r.push(new jW(i.coordinates))}var s=new $W(n[t||"name"],r,n.cp);return s.properties=n,s}))}for(var JW=[126,25],eU="\u5357\u6d77\u8bf8\u5c9b",tU=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],nU=0;nU<tU.length;nU++)for(var iU=0;iU<tU[nU].length;iU++)tU[nU][iU][0]/=10.5,tU[nU][iU][1]/=-14,tU[nU][iU][0]+=JW[0],tU[nU][iU][1]+=JW[1];var rU={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]};var oU=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var sU=function(){function e(e,t,n){var i;this.type="geoJSON",this._parsedMap=_m(),this._mapName=e,this._specialAreas=n,this._geoJSON=im(i=t)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(i):new Function("return ("+i+");")():i}return e.prototype.load=function(e,t){t=t||"name";var n=this._parsedMap.get(t);if(!n){var i=this._parseToRegions(t);n=this._parsedMap.set(t,{regions:i,boundingRect:aU(i)})}var r=_m(),o=[];return qf(n.regions,(function(t){var n=t.name;e&&Tm(e,n)&&(t=t.cloneShallow(n=e[n])),o.push(t),r.set(n,t)})),{regions:o,boundingRect:n.boundingRect||new Uv(0,0,0,0),regionsMap:r}},e.prototype._parseToRegions=function(e){var t,n=this._mapName,i=this._geoJSON;try{t=i?QW(i,e):[]}catch(JA){throw new Error("Invalid geoJson format\n"+JA.message)}return function(e,t){if("china"===e){for(var n=0;n<t.length;n++)if(t[n].name===eU)return;t.push(new $W(eU,Yf(tU,(function(e){return{type:"polygon",exterior:e}})),JW))}}(n,t),qf(t,(function(e){var t=e.name;!function(e,t){if("china"===e){var n=rU[t.name];if(n){var i=t.getCenter();i[0]+=n[0]/10.5,i[1]+=-n[1]/14,t.setCenter(i)}}}(n,e),function(e,t){"china"===e&&"\u53f0\u6e7e"===t.name&&t.geometries.push({type:"polygon",exterior:oU[0]})}(n,e);var i=this._specialAreas&&this._specialAreas[t];i&&e.transformTo(i.left,i.top,i.width,i.height)}),this),t},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function aU(e){for(var t,n=0;n<e.length;n++){var i=e[n].getBoundingRect();(t=t||i.clone()).union(i)}return t}var lU=_m();const uU={registerMap:function(e,t,n){if(t.svg){var i=new YW(e,t.svg);lU.set(e,i)}else{var r=t.geoJson||t.geoJSON;r&&!t.features?n=t.specialAreas:r=t;i=new sU(e,r,n);lU.set(e,i)}},getGeoResource:function(e){return lU.get(e)},getMapForUser:function(e){var t=lU.get(e);return t&&"geoJSON"===t.type&&t.getMapForUser()},load:function(e,t,n){var i=lU.get(e);if(i)return i.load(t,n)}};var cU=["rect","circle","line","ellipse","polygon","polyline","path"],dU=_m(cU),hU=_m(cU.concat(["g"])),pU=_m(cU.concat(["g"])),gU=jb();function fU(e){var t=e.getItemStyle(),n=e.get("areaColor");return null!=n&&(t.fill=n),t}function mU(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var vU=function(){function e(e){var t=new eb;this.uid=uR("ec_map_draw"),this._controller=new cW(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new eb),t.add(this._svgGroup=new eb)}return e.prototype.draw=function(e,t,n,i,r){var o="geo"===e.mainType,s=e.getData&&e.getData();o&&t.eachComponent({mainType:"series",subType:"map"},(function(t){s||t.getHostGeoModel()!==e||(s=t.getData())}));var a=e.coordinateSystem,l=this._regionsGroup,u=this.group,c=a.getTransformInfo(),d=c.raw,h=c.roam;!l.childAt(0)||r?(u.x=h.x,u.y=h.y,u.scaleX=h.scaleX,u.scaleY=h.scaleY,u.dirty()):D_(u,h,e);var p=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,g={api:n,geo:a,mapOrGeoModel:e,data:s,isVisualEncodedByVisualMap:p,isGeo:o,transformInfoRaw:d};"geoJSON"===a.resourceType?this._buildGeoJSON(g):"geoSVG"===a.resourceType&&this._buildSVG(g),this._updateController(e,t,n),this._updateMapSelectHandler(e,l,n,i)},e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=_m(),n=_m(),i=this._regionsGroup,r=e.transformInfoRaw,o=e.mapOrGeoModel,s=e.data,a=e.geo.projection,l=a&&a.stream;function u(e,t){return t&&(e=t(e)),e&&[e[0]*r.scaleX+r.x,e[1]*r.scaleY+r.y]}function c(e){for(var t=[],n=!l&&a&&a.project,i=0;i<e.length;++i){var r=u(e[i],n);r&&t.push(r)}return t}function d(e){return{shape:{points:c(e)}}}i.removeAll(),qf(e.geo.regions,(function(r){var c=r.name,h=t.get(c),p=n.get(c)||{},g=p.dataIdx,f=p.regionModel;h||(h=t.set(c,new eb),i.add(h),g=s?s.indexOfName(c):null,f=e.isGeo?o.getRegionModel(c):s?s.getItemModel(g):null,n.set(c,{dataIdx:g,regionModel:f}));var m=[],v=[];qf(r.geometries,(function(e){if("polygon"===e.type){var t=[e.exterior].concat(e.interiors||[]);l&&(t=xU(t,l)),qf(t,(function(e){m.push(new dE(d(e)))}))}else{var n=e.points;l&&(n=xU(n,l,!0)),qf(n,(function(e){v.push(new gE(d(e)))}))}}));var y=u(r.getCenter(),a&&a.project);function w(t,n){if(t.length){var i=new PE({culling:!0,segmentIgnoreThreshold:1,shape:{paths:t}});h.add(i),yU(e,i,g,f),wU(e,i,c,f,o,g,y),n&&(mU(i),qf(i.states,mU))}}w(m),w(v,!0)})),t.each((function(t,i){var r=n.get(i),s=r.dataIdx,a=r.regionModel;CU(e,t,i,a,o,s),bU(e,t,i,a,o),SU(e,t,i,a,o)}),this)},e.prototype._buildSVG=function(e){var t=e.geo.map,n=e.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var i=this._svgDispatcherMap=_m(),r=!1;qf(this._svgGraphicRecord.named,(function(t){var n=t.name,o=e.mapOrGeoModel,s=e.data,a=t.svgNodeTagLower,l=t.el,u=s?s.indexOfName(n):null,c=o.getRegionModel(n);(null!=dU.get(a)&&l instanceof GS&&yU(e,l,u,c),l instanceof GS&&(l.culling=!0),l.z2EmphasisLift=0,t.namedFrom)||(null!=pU.get(a)&&wU(e,l,n,c,o,u,null),CU(e,l,n,c,o,u),bU(e,l,n,c,o),null!=hU.get(a)&&("self"===SU(e,l,n,c,o)&&(r=!0),(i.get(n)||i.set(n,[])).push(l)))}),this),this._enableBlurEntireSVG(r,e)},e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var n=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse((function(e){if(!e.isGroup){QM(e);var t=e.ensureState("blur").style||{};null==t.opacity&&null!=n&&(t.opacity=n),e.ensureState("emphasis")}}))}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var n=t.coordinateSystem;if("geoJSON"===n.resourceType){var i=this._regionsGroupByName;if(i){var r=i.get(e);return r?[r]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},e.prototype._useSVG=function(e){var t=uU.getGeoResource(e);if(t&&"geoSVG"===t.type){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=e}},e.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=uU.getGeoResource(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(e,t,n){var i=e.coordinateSystem,r=this._controller,o=this._controllerHost;o.zoomLimit=e.get("scaleLimit"),o.zoom=i.getZoom(),r.enable(e.get("roam")||!1);var s=e.mainType;function a(){var t={type:"geoRoam",componentType:s};return t[s+"Id"]=e.id,t}r.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,dW(o,e.dx,e.dy),n.dispatchAction(Wf(a(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))}),this),r.off("zoom").on("zoom",(function(e){this._mouseDownFlag=!1,hW(o,e.scale,e.originX,e.originY),n.dispatchAction(Wf(a(),{totalZoom:o.zoom,zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))}),this),r.setPointerChecker((function(t,r,o){return i.containPoint([r,o])&&!fW(t,n,e)}))},e.prototype.resetForLabelLayout=function(){this.group.traverse((function(e){var t=e.getTextContent();t&&(t.ignore=gU(t).ignore)}))},e.prototype._updateMapSelectHandler=function(e,t,n,i){var r=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",(function(){r._mouseDownFlag=!0})),t.on("click",(function(e){r._mouseDownFlag&&(r._mouseDownFlag=!1)})))},e}();function yU(e,t,n,i){var r=i.getModel("itemStyle"),o=i.getModel(["emphasis","itemStyle"]),s=i.getModel(["blur","itemStyle"]),a=i.getModel(["select","itemStyle"]),l=fU(r),u=fU(o),c=fU(a),d=fU(s),h=e.data;if(h){var p=h.getItemVisual(n,"style"),g=h.getItemVisual(n,"decal");e.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),g&&(l.decal=pF(g,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=c,t.ensureState("blur").style=d,QM(t)}function wU(e,t,n,i,r,o,s){var a=e.data,l=e.isGeo,u=a&&isNaN(a.get(a.mapDimension("value"),o)),c=a&&a.getItemLayout(o);if(l||u||c&&c.showLabel){var d=l?n:o,h=void 0;(!a||o>=0)&&(h=r);var p=s?{normal:{align:"center",verticalAlign:"middle"}}:null;N_(t,B_(i),{labelFetcher:h,labelDataIndex:d,defaultText:n},p);var g=t.getTextContent();if(g&&(gU(g).ignore=g.ignore,t.textConfig&&s)){var f=t.getBoundingRect().clone();t.textConfig.layoutRect=f,t.textConfig.position=[(s[0]-f.x)/f.width*100+"%",(s[1]-f.y)/f.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function CU(e,t,n,i,r,o){e.data?e.data.setItemGraphicEl(o,t):SM(t).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:n,region:i&&i.option||{}}}function bU(e,t,n,i,r){e.data||mI({el:t,componentModel:r,itemName:n,itemTooltipOption:i.get("tooltip")})}function SU(e,t,n,i,r){t.highDownSilentOnTouch=!!r.get("selectedMode");var o=i.getModel("emphasis"),s=o.get("focus");return f_(t,s,o.get("blurScope"),o.get("disabled")),e.isGeo&&function(e,t,n){var i=SM(e);i.componentMainType=t.mainType,i.componentIndex=t.componentIndex,i.componentHighDownName=n}(t,r,n),s}function xU(e,t,n){var i,r=[];function o(){i=[]}function s(){i.length&&(r.push(i),i=[])}var a=t({polygonStart:o,polygonEnd:s,lineStart:o,lineEnd:s,point:function(e,t){isFinite(e)&&isFinite(t)&&i.push([e,t])},sphere:function(){}});return!n&&a.polygonStart(),qf(e,(function(e){a.lineStart();for(var t=0;t<e.length;t++)a.point(e[t][0],e[t][1]);a.lineEnd()})),!n&&a.polygonEnd(),r}const MU=vU;var _U=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var r=this.group;if(r.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&i&&"geoRoam"===i.type&&this._mapDraw.resetForLabelLayout(),i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id)(o=this._mapDraw)&&r.add(o.group);else if(e.needsDrawMap){var o=this._mapDraw||new MU(n);r.add(o.group),o.draw(e,t,n,this,i),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,n){var i=e.originalData,r=this.group;i.each(i.mapDimension("value"),(function(t,n){if(!isNaN(t)){var o=i.getItemLayout(n);if(o&&o.point){var s=o.point,a=o.offset,l=new GA({style:{fill:e.getData().getVisual("style").fill},shape:{cx:s[0]+9*a,cy:s[1],r:3},silent:!0,z2:8+(a?0:kM+1)});if(!a){var u=e.mainSeries.getData(),c=i.getName(n),d=u.indexOfName(c),h=i.getItemModel(n),p=h.getModel("label"),g=u.getItemGraphicEl(d);N_(l,B_(h),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(d,n)}},defaultText:c}),l.disableLabelAnimation=!0,p.get("position")||l.setTextConfig({position:"bottom"}),g.onHoverStateChange=function(e){XM(l,e)}}r.add(l)}}}))},t.type="map",t}(DI);const RU=_U;var DU=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,i=n.getRegion(t);return i&&n.dataToPoint(i.getCenter())}},n}return vf(t,e),t.prototype.getInitialData=function(e){for(var t=uV(this,{coordDimensions:["value"],encodeDefaulter:em(kD,this)}),n=_m(),i=[],r=0,o=t.count();r<o;r++){var s=t.getName(r);n.set(s,!0)}return qf(uU.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,(function(e){var t=e.name;n.get(t)||i.push(t)})),t.appendValues([],i),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,n){for(var i=this.getData(),r=this.getRawValue(e),o=i.getName(e),s=this.seriesGroup,a=[],l=0;l<s.length;l++){var u=s[l].originalData.indexOfName(o),c=i.mapDimension("value");isNaN(s[l].originalData.get(c,u))||a.push(s[l].name)}return WT("section",{header:a.join(", "),noHeader:!a.length,blocks:[WT("nameValue",{name:o,value:r})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",n=Ok(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return n.setStyle(e.itemStyle),n.style.stroke="none",t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(pA);const PU=DU;function TU(e){var t={};e.eachSeriesByType("map",(function(e){var n=e.getHostGeoModel(),i=n?"o"+n.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)})),qf(t,(function(e,t){for(var n=function(e,t){var n={};return qf(e,(function(e){e.each(e.mapDimension("value"),(function(t,i){var r="ec-"+e.getName(i);n[r]=n[r]||[],isNaN(t)||n[r].push(t)}))})),e[0].map(e[0].mapDimension("value"),(function(i,r){for(var o="ec-"+e[0].getName(r),s=0,a=1/0,l=-1/0,u=n[o].length,c=0;c<u;c++)a=Math.min(a,n[o][c]),l=Math.max(l,n[o][c]),s+=n[o][c];return 0===u?NaN:"min"===t?a:"max"===t?l:"average"===t?s/u:s}))}(Yf(e,(function(e){return e.getData()})),e[0].get("mapValueCalculation")),i=0;i<e.length;i++)e[i].originalData=e[i].getData();for(i=0;i<e.length;i++)e[i].seriesGroup=e,e[i].needsDrawMap=0===i&&!e[i].getHostGeoModel(),e[i].setData(n.cloneShallow()),e[i].mainSeries=e[0]}))}function AU(e){var t={};e.eachSeriesByType("map",(function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!t[i]){var r={};qf(n.seriesGroup,(function(t){var n=t.coordinateSystem,i=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&i.each(i.mapDimension("value"),(function(e,t){var o=i.getName(t),s=n.getRegion(o);if(s&&!isNaN(e)){var a=r[o]||0,l=n.dataToPoint(s.getCenter());r[o]=a+1,i.setItemLayout(t,{point:l,offset:a})}}))}));var o=n.getData();o.each((function(e){var t=o.getName(e),n=o.getItemLayout(e)||{};n.showLabel=!r[t],o.setItemLayout(e,n)})),t[i]=!0}}))}var EU=Ym,IU=function(e){function t(t){var n=e.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new IC,n._rawTransformable=new IC,n.name=t,n}return vf(t,e),t.prototype.setBoundingRect=function(e,t,n,i){return this._rect=new Uv(e,t,n,i),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,n,i){this._transformTo(e,t,n,i),this._viewRect=new Uv(e,t,n,i)},t.prototype._transformTo=function(e,t,n,i){var r=this.getBoundingRect(),o=this._rawTransformable;o.transform=r.calculateTransform(new Uv(e,t,n,i));var s=o.parent;o.parent=null,o.decomposeTransform(),o.parent=s,this._updateTransform()},t.prototype.setCenter=function(e,t){e&&(this._center=[ub(e[0],t.getWidth()),ub(e[1],t.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom();i=Ym([],i,e),n=Ym([],n,e),t.originX=i[0],t.originY=i[1],t.x=n[0]-i[0],t.y=n[1]-i[1],t.scaleX=t.scaleY=r,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),Dv(this.transform||(this.transform=[]),t.transform||[1,0,0,1,0,0]),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],Iv(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,n=new IC;return n.transform=t.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,t,n){var i=t?this._rawTransform:this.transform;return n=n||[],i?EU(n,e,i):Lm(n,e)},t.prototype.pointToData=function(e){var t=this.invTransform;return t?EU([],e,t):[e[0],e[1]]},t.prototype.convertToPixel=function(e,t,n){var i=kU(t);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var i=kU(t);return i===this?i.pointToData(n):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(IC);function kU(e){var t=e.seriesModel;return t?t.coordinateSystem:null}const FU=IU;var LU={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},OU=["lng","lat"],NU=function(e){function t(t,n,i){var r=e.call(this,t)||this;r.dimensions=OU,r.type="geo",r._nameCoordMap=_m(),r.map=n;var o,s=i.projection,a=uU.load(n,i.nameMap,i.nameProperty),l=uU.getGeoResource(n),u=(r.resourceType=l?l.type:null,r.regions=a.regions),c=LU[l.type];if(r._regionsMap=a.regionsMap,r.regions=a.regions,r.projection=s,s)for(var d=0;d<u.length;d++){var h=u[d].getBoundingRect(s);(o=o||h.clone()).union(h)}else o=a.boundingRect;return r.setBoundingRect(o.x,o.y,o.width,o.height),r.aspectScale=s?1:pm(i.aspectScale,c.aspectScale),r._invertLongitute=!s&&c.invertLongitute,r}return vf(t,e),t.prototype._transformTo=function(e,t,n,i){var r=this.getBoundingRect(),o=this._invertLongitute;r=r.clone(),o&&(r.y=-r.y-r.height);var s=this._rawTransformable;s.transform=r.calculateTransform(new Uv(e,t,n,i));var a=s.parent;s.parent=null,s.decomposeTransform(),s.parent=a,o&&(s.scaleY=-s.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,n=0;n<t.length;n++){var i=t[n];if("geoJSON"===i.type&&i.contain(e))return t[n]}},t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},t.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()},t.prototype.dataToPoint=function(e,t,n){if(im(e)&&(e=this.getGeoCoord(e)),e){var i=this.projection;return i&&(e=i.project(e)),e&&this.projectedToPoint(e,t,n)}},t.prototype.pointToData=function(e){var t=this.projection;return t&&(e=t.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(t){return e.prototype.pointToData.call(this,t)},t.prototype.projectedToPoint=function(t,n,i){return e.prototype.dataToPoint.call(this,t,n,i)},t.prototype.convertToPixel=function(e,t,n){var i=BU(t);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var i=BU(t);return i===this?i.pointToData(n):null},t}(FU);function BU(e){var t=e.geoModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",Yb).models[0]||{}).coordinateSystem:null}$f(NU,FU);const GU=NU;function VU(e,t){var n=e.get("boundingCoords");if(null!=n){var i=n[0],r=n[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var o=this.projection;if(o){var s=i[0],a=i[1],l=r[0],u=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var c=function(e,t,n,s){for(var a=n-e,l=s-t,u=0;u<=100;u++){var c=u/100,d=o.project([e+a*c,t+l*c]);Xm(i,i,d),Zm(r,r,d)}};c(s,a,l,a),c(l,a,l,u),c(l,u,s,u),c(s,u,l,a)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}else 0}var d,h,p,g=this.getBoundingRect(),f=e.get("layoutCenter"),m=e.get("layoutSize"),v=t.getWidth(),y=t.getHeight(),w=g.width/g.height*this.aspectScale,C=!1;if(f&&m&&(d=[ub(f[0],v),ub(f[1],y)],h=ub(m,Math.min(v,y)),isNaN(d[0])||isNaN(d[1])||isNaN(h)||(C=!0)),C)p={},w>1?(p.width=h,p.height=h/w):(p.height=h,p.width=h*w),p.y=d[1]-p.height/2,p.x=d[0]-p.width/2;else{var b=e.getBoxLayoutParams();b.aspect=w,p=uD(b,{width:v,height:y})}this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}var zU=function(){function e(){this.dimensions=OU}return e.prototype.create=function(e,t){var n=[];function i(e){return{nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale"),projection:e.get("projection")}}e.eachComponent("geo",(function(e,r){var o=e.get("map"),s=new GU(o+r,o,Wf({nameMap:e.get("nameMap")},i(e)));s.zoomLimit=e.get("scaleLimit"),n.push(s),e.coordinateSystem=s,s.model=e,s.resize=VU,s.resize(e,t)})),e.eachSeries((function(e){if("geo"===e.get("coordinateSystem")){var t=e.get("geoIndex")||0;e.coordinateSystem=n[t]}}));var r={};return e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();r[t]=r[t]||[],r[t].push(e)}})),qf(r,(function(e,r){var o=Yf(e,(function(e){return e.get("nameMap")})),s=new GU(r,r,Wf({nameMap:Hf(o)},i(e[0])));s.zoomLimit=hm.apply(null,Yf(e,(function(e){return e.get("scaleLimit")}))),n.push(s),s.resize=VU,s.resize(e[0],t),qf(e,(function(e){e.coordinateSystem=s,function(e,t){qf(t.get("geoCoord"),(function(t,n){e.addGeoCoord(n,t)}))}(s,e)}))})),n},e.prototype.getFilledRegions=function(e,t,n,i){for(var r=(e||[]).slice(),o=_m(),s=0;s<r.length;s++)o.set(r[s].name,r[s]);return qf(uU.load(t,n,i).regions,(function(e){var t=e.name;!o.get(t)&&r.push({name:t})})),r},e}();const HU=new zU;var WU=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.init=function(e,t,n){var i=uU.getGeoResource(e.map);if(i&&"geoJSON"===i.type){var r=e.itemStyle=e.itemStyle||{};"color"in r||(r.color="#eee")}this.mergeDefaultAndTheme(e,n),Fb(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,t=this.option;t.regions=HU.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var n={};this._optionModelMap=Xf(t.regions||[],(function(t,i){var r=i.name;return r&&(t.set(r,new aR(i,e,e.ecModel)),i.selected&&(n[r]=!0)),t}),_m()),t.selectedMap||(t.selectedMap=n)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new aR(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,t){var n=this.getRegionModel(e),i="normal"===t?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),r={name:e};return nm(i)?(r.status=t,i(r)):im(i)?i.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var t=this.option,n=t.selectedMode;n&&("multiple"!==n&&(t.selectedMap=null),(t.selectedMap||(t.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!(!t||!t[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(vD);const UU=WU;function jU(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function $U(e,t,n,i){var r=e.getZoom(),o=e.getCenter(),s=t.zoom,a=e.projectedToPoint?e.projectedToPoint(o):e.dataToPoint(o);if(null!=t.dx&&null!=t.dy&&(a[0]-=t.dx,a[1]-=t.dy,e.setCenter(jU(e,a),i)),null!=s){if(n){var l=n.min||0,u=n.max||1/0;s=Math.max(Math.min(r*s,u),l)/r}e.scaleX*=s,e.scaleY*=s;var c=(t.originX-e.x)*(s-1),d=(t.originY-e.y)*(s-1);e.x-=c,e.y-=d,e.updateTransform(),e.setCenter(jU(e,a),i),e.setZoom(s*r)}return{center:e.getCenter(),zoom:e.getZoom()}}var KU=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.focusBlurEnabled=!0,n}return vf(t,e),t.prototype.init=function(e,t){this._api=t},t.prototype.render=function(e,t,n,i){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new MU(n));var r=this._mapDraw;r.draw(e,t,n,this,i),r.group.on("click",this._handleRegionClick,this),r.group.silent=e.get("silent"),this.group.add(r.group),this.updateSelectStatus(e,t,n)},t.prototype._handleRegionClick=function(e){var t;Mk(e.target,(function(e){return null!=(t=SM(e).eventData)}),!0),t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,n){var i=this;this._mapDraw.group.traverse((function(e){var t=SM(e).eventData;if(t)return i._model.isSelected(t.name)?n.enterSelect(e):n.leaveSelect(e),!0}))},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(fA);const qU=KU;function YU(e,t,n){uU.registerMap(e,t,n)}function XU(e){function t(t,n){n.update="geo:updateSelectStatus",e.registerAction(n,(function(e,n){var i={},r=[];return n.eachComponent({mainType:"geo",query:e},(function(n){n[t](e.name),qf(n.coordinateSystem.regions,(function(e){i[e.name]=n.isSelected(e.name)||!1}));var o=[];qf(i,(function(e,t){i[t]&&o.push(t)})),r.push({geoIndex:n.componentIndex,name:o})})),{selected:i,allSelected:r,name:e.name}}))}e.registerCoordinateSystem("geo",HU),e.registerComponentModel(UU),e.registerComponentView(qU),e.registerImpl("registerMap",YU),e.registerImpl("getMap",(function(e){return uU.getMapForUser(e)})),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t,n){var i=e.componentType||"series";t.eachComponent({mainType:i,query:e},(function(t){var r=t.coordinateSystem;if("geo"===r.type){var o=$U(r,e,t.get("scaleLimit"),n);t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom),"series"===i&&qf(t.seriesGroup,(function(e){e.setCenter(o.center),e.setZoom(o.zoom)}))}}))}))}function ZU(e,t){var n=e.isExpand?e.children:[],i=e.parentNode.children,r=e.hierNode.i?i[e.hierNode.i-1]:null;if(n.length){!function(e){var t=e.children,n=t.length,i=0,r=0;for(;--n>=0;){var o=t[n];o.hierNode.prelim+=i,o.hierNode.modifier+=i,r+=o.hierNode.change,i+=o.hierNode.shift+r}}(e);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;r?(e.hierNode.prelim=r.hierNode.prelim+t(e,r),e.hierNode.modifier=e.hierNode.prelim-o):e.hierNode.prelim=o}else r&&(e.hierNode.prelim=r.hierNode.prelim+t(e,r));e.parentNode.hierNode.defaultAncestor=function(e,t,n,i){if(t){for(var r=e,o=e,s=o.parentNode.children[0],a=t,l=r.hierNode.modifier,u=o.hierNode.modifier,c=s.hierNode.modifier,d=a.hierNode.modifier;a=tj(a),o=nj(o),a&&o;){r=tj(r),s=nj(s),r.hierNode.ancestor=e;var h=a.hierNode.prelim+d-o.hierNode.prelim-u+i(a,o);h>0&&(rj(ij(a,e,n),e,h),u+=h,l+=h),d+=a.hierNode.modifier,u+=o.hierNode.modifier,l+=r.hierNode.modifier,c+=s.hierNode.modifier}a&&!tj(r)&&(r.hierNode.thread=a,r.hierNode.modifier+=d-l),o&&!nj(s)&&(s.hierNode.thread=o,s.hierNode.modifier+=u-c,n=e)}return n}(e,r,e.parentNode.hierNode.defaultAncestor||i[0],t)}function QU(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function JU(e){return arguments.length?e:oj}function ej(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function tj(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function nj(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function ij(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function rj(e,t,n){var i=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=i}function oj(e,t){return e.parentNode===t.parentNode?1:2}var sj=function(){this.parentPoint=[],this.childPoints=[]},aj=function(e){function t(t){return e.call(this,t)||this}return vf(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new sj},t.prototype.buildPath=function(e,t){var n=t.childPoints,i=n.length,r=t.parentPoint,o=n[0],s=n[i-1];if(1===i)return e.moveTo(r[0],r[1]),void e.lineTo(o[0],o[1]);var a=t.orient,l="TB"===a||"BT"===a?0:1,u=1-l,c=ub(t.forkPosition,1),d=[];d[l]=r[l],d[u]=r[u]+(s[u]-r[u])*c,e.moveTo(r[0],r[1]),e.lineTo(d[0],d[1]),e.moveTo(o[0],o[1]),d[l]=o[l],e.lineTo(d[0],d[1]),d[l]=s[l],e.lineTo(d[0],d[1]),e.lineTo(s[0],s[1]);for(var h=1;h<i-1;h++){var p=n[h];e.moveTo(p[0],p[1]),d[l]=p[l],e.lineTo(d[0],d[1])}},t}(Ux),lj=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new eb,n}return vf(t,e),t.prototype.init=function(e,t){this._controller=new cW(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,n){var i=e.getData(),r=e.layoutInfo,o=this._mainGroup;"radial"===e.get("layout")?(o.x=r.x+r.width/2,o.y=r.y+r.height/2):(o.x=r.x,o.y=r.y),this._updateViewCoordSys(e,n),this._updateController(e,t,n);var s=this._data;i.diff(s).add((function(t){uj(i,t)&&cj(i,t,null,o,e)})).update((function(t,n){var r=s.getItemGraphicEl(n);uj(i,t)?cj(i,t,r,o,e):r&&pj(s,n,r,o,e)})).remove((function(t){var n=s.getItemGraphicEl(t);n&&pj(s,t,n,o,e)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&i.eachItemGraphicEl((function(t,i){t.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:i})}))})),this._data=i},t.prototype._updateViewCoordSys=function(e,t){var n=e.getData(),i=[];n.each((function(e){var t=n.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||i.push([+t.x,+t.y])}));var r=[],o=[];qS(i,r,o);var s=this._min,a=this._max;o[0]-r[0]===0&&(r[0]=s?s[0]:r[0]-1,o[0]=a?a[0]:o[0]+1),o[1]-r[1]===0&&(r[1]=s?s[1]:r[1]-1,o[1]=a?a[1]:o[1]+1);var l=e.coordinateSystem=new FU;l.zoomLimit=e.get("scaleLimit"),l.setBoundingRect(r[0],r[1],o[0]-r[0],o[1]-r[1]),l.setCenter(e.get("center"),t),l.setZoom(e.get("zoom")),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=r,this._max=o},t.prototype._updateController=function(e,t,n){var i=this,r=this._controller,o=this._controllerHost,s=this.group;r.setPointerChecker((function(t,i,r){var o=s.getBoundingRect();return o.applyTransform(s.transform),o.contain(i,r)&&!fW(t,n,e)})),r.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",(function(t){dW(o,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){hW(o,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),i._updateNodeAndLinkScale(e),n.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),n=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(n)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,i=t.scaleX||1;return((t.getZoom()-1)*n+1)/i},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(DI);function uj(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function cj(e,t,n,i,r){var o=!n,s=e.tree.getNodeByDataIndex(t),a=s.getModel(),l=s.getVisual("style").fill,u=!1===s.isExpand&&0!==s.children.length?l:"#fff",c=e.tree.root,d=s.parentNode===c?s:s.parentNode||s,h=e.getItemGraphicEl(d.dataIndex),p=d.getLayout(),g=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:p,f=s.getLayout();o?((n=new MB(e,t,null,{symbolInnerColor:u,useNameLabel:!0})).x=g.x,n.y=g.y):n.updateData(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=f.rawX,n.__radialRawY=f.rawY,i.add(n),e.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,D_(n,{x:f.x,y:f.y},r);var m=n.getSymbolPath();if("radial"===r.get("layout")){var v=c.children[0],y=v.getLayout(),w=v.children.length,C=void 0,b=void 0;if(f.x===y.x&&!0===s.isExpand&&v.children.length){var S={x:(v.children[0].getLayout().x+v.children[w-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[w-1].getLayout().y)/2};(C=Math.atan2(S.y-y.y,S.x-y.x))<0&&(C=2*Math.PI+C),(b=S.x<y.x)&&(C-=Math.PI)}else(C=Math.atan2(f.y-y.y,f.x-y.x))<0&&(C=2*Math.PI+C),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(b=f.x<y.x)&&(C-=Math.PI):(b=f.x>y.x)||(C-=Math.PI);var x=b?"left":"right",M=a.getModel("label"),_=M.get("rotate"),R=_*(Math.PI/180),D=m.getTextContent();D&&(m.setTextConfig({position:M.get("position")||x,rotation:null==_?-C:R,origin:"center"}),D.setStyle("verticalAlign","middle"))}var P=a.get(["emphasis","focus"]),T="relative"===P?Rm(s.getAncestorsIndices(),s.getDescendantIndices()):"ancestor"===P?s.getAncestorsIndices():"descendant"===P?s.getDescendantIndices():null;T&&(SM(n).focus=T),function(e,t,n,i,r,o,s,a){var l=t.getModel(),u=e.get("edgeShape"),c=e.get("layout"),d=e.getOrient(),h=e.get(["lineStyle","curveness"]),p=e.get("edgeForkPosition"),g=l.getModel("lineStyle").getLineStyle(),f=i.__edge;if("curve"===u)t.parentNode&&t.parentNode!==n&&(f||(f=i.__edge=new xE({shape:gj(c,d,h,r,r)})),D_(f,{shape:gj(c,d,h,o,s)},e));else if("polyline"===u)if("orthogonal"===c){if(t!==n&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var m=t.children,v=[],y=0;y<m.length;y++){var w=m[y].getLayout();v.push([w.x,w.y])}f||(f=i.__edge=new aj({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:d,forkPosition:p}})),D_(f,{shape:{parentPoint:[s.x,s.y],childPoints:v}},e)}}else 0;f&&("polyline"!==u||t.isExpand)&&(f.useStyle(Uf({strokeNoScale:!0,fill:null},g)),w_(f,l,"lineStyle"),QM(f),a.add(f))}(r,s,c,n,g,p,f,i),n.__edge&&(n.onHoverStateChange=function(t){if("blur"!==t){var i=s.parentNode&&e.getItemGraphicEl(s.parentNode.dataIndex);i&&i.hoverState===TM||XM(n.__edge,t)}})}function dj(e,t,n,i,r){var o=hj(t.tree.root,e),s=o.source,a=o.sourceLayout,l=t.getItemGraphicEl(e.dataIndex);if(l){var u=t.getItemGraphicEl(s.dataIndex).__edge,c=l.__edge||(!1===s.isExpand||1===s.children.length?u:void 0),d=i.get("edgeShape"),h=i.get("layout"),p=i.get("orient"),g=i.get(["lineStyle","curveness"]);c&&("curve"===d?A_(c,{shape:gj(h,p,g,a,a),style:{opacity:0}},i,{cb:function(){n.remove(c)},removeOpt:r}):"polyline"===d&&"orthogonal"===i.get("layout")&&A_(c,{shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]]},style:{opacity:0}},i,{cb:function(){n.remove(c)},removeOpt:r}))}}function hj(e,t){for(var n,i=t.parentNode===e?t:t.parentNode||t;null==(n=i.getLayout());)i=i.parentNode===e?i:i.parentNode||i;return{source:i,sourceLayout:n}}function pj(e,t,n,i,r){var o=e.tree.getNodeByDataIndex(t),s=hj(e.tree.root,o).sourceLayout,a={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};A_(n,{x:s.x+1,y:s.y+1},r,{cb:function(){i.remove(n),e.setItemGraphicEl(t,null)},removeOpt:a}),n.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:a}),o.children.forEach((function(t){dj(t,e,i,r,a)})),dj(o,e,i,r,a)}function gj(e,t,n,i,r){var o,s,a,l,u,c,d,h;if("radial"===e){u=i.rawX,d=i.rawY,c=r.rawX,h=r.rawY;var p=ej(u,d),g=ej(u,d+(h-d)*n),f=ej(c,h+(d-h)*n),m=ej(c,h);return{x1:p.x||0,y1:p.y||0,x2:m.x||0,y2:m.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:f.x||0,cpy2:f.y||0}}return u=i.x,d=i.y,c=r.x,h=r.y,"LR"!==t&&"RL"!==t||(o=u+(c-u)*n,s=d,a=c+(u-c)*n,l=h),"TB"!==t&&"BT"!==t||(o=u,s=d+(h-d)*n,a=c,l=h+(d-h)*n),{x1:u,y1:d,x2:c,y2:h,cpx1:o,cpy1:s,cpx2:a,cpy2:l}}const fj=lj;var mj=jb();function vj(e,t){if(function(e){return mj(e).mainData===e}(this)){var n=Wf({},mj(this).datas);n[this.dataType]=t,Sj(t,n,e)}else xj(t,this.dataType,mj(this).mainData,e);return t}function yj(e,t){return e.struct&&e.struct.update(),t}function wj(e,t){return qf(mj(t).datas,(function(n,i){n!==t&&xj(n.cloneShallow(),i,t,e)})),t}function Cj(e){var t=mj(this).mainData;return null==e||null==t?t:mj(t).datas[e]}function bj(){var e=mj(this).mainData;return null==e?[{data:e}]:Yf(Qf(mj(e).datas),(function(t){return{type:t,data:mj(e).datas[t]}}))}function Sj(e,t,n){mj(e).datas={},qf(t,(function(t,i){xj(t,i,e,n)}))}function xj(e,t,n,i){mj(n).datas[t]=e,mj(e).mainData=n,e.dataType=t,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=e),e.getLinkedData=Cj,e.getLinkedDataAll=bj}const Mj=function(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,Sj(t,n,e),qf(n,(function(n){qf(t.TRANSFERABLE_METHODS,(function(t){n.wrapMethod(t,em(vj,e))}))})),t.wrapMethod("cloneShallow",em(wj,e)),qf(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,em(yj,e))})),vm(n[t.dataType]===t)};var _j=function(){function e(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,n){nm(e)&&(n=t,t=e,e=null),im(e=e||{})&&(e={order:e});var i,r=e.order||"preorder",o=this[e.attr||"children"];"preorder"===r&&(i=t.call(n,this));for(var s=0;!i&&s<o.length;s++)o[s].eachNode(e,t,n);"postorder"===r&&t.call(n,this)},e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var r=n[t].getNodeById(e);if(r)return r}},e.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var r=n[t].contains(e);if(r)return r}},e.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode((function(t){e.push(t.dataIndex)})),e},e.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},e.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}(),Rj=function(){function e(e){this.type="tree",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},e.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,n,i){var r=new e(n),o=[],s=1;!function e(t,n){var i=t.value;s=Math.max(s,tm(i)?i.length:1),o.push(t);var a=new _j(zb(t.name,""),r);n?function(e,t){var n=t.children;if(e.parentNode===t)return;n.push(e),e.parentNode=t}(a,n):r.root=a,r._nodes.push(a);var l=t.children;if(l)for(var u=0;u<l.length;u++)e(l[u],a)}(t),r.root.updateDepthAndHeight(0);var a=cB(o,{coordDimensions:["value"],dimensionsCount:s}).dimensions,l=new uB(a,n);return l.initData(o),i&&i(l),Mj({mainData:l,struct:r,structAttr:"tree"}),r.update(),r},e}();const Dj=Rj;function Pj(e,t,n){if(e&&jf(t,e.type)>=0){var i=n.getData().tree.root,r=e.targetNode;if(im(r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=e.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function Tj(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function Aj(e,t){return jf(Tj(e),t)>=0}function Ej(e,t){for(var n=[];e;){var i=e.dataIndex;n.push({name:e.name,dataIndex:i,value:t.getRawValue(i)}),e=e.parentNode}return n.reverse(),n}var Ij=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return vf(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},n=e.leaves||{},i=new aR(n,this,this.ecModel),r=Dj.createTree(t,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=r.getNodeByDataIndex(t);return n&&n.children.length&&n.isExpand||(e.parentModel=i),e}))}));var o=0;r.eachNode("preorder",(function(e){e.depth>o&&(o=e.depth)}));var s=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:o;return r.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=s})),r.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,n){for(var i=this.getData().tree,r=i.root.children[0],o=i.getNodeByDataIndex(e),s=o.getValue(),a=o.name;o&&o!==r;)a=o.parentNode.name+"."+a,o=o.parentNode;return WT("nameValue",{name:a,value:s,noValue:isNaN(s)||null==s})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=Ej(i,this),n.collapsed=!i.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(pA);const kj=Ij;function Fj(e,t){for(var n,i=[e];n=i.pop();)if(t(n),n.isExpand){var r=n.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function Lj(e,t){e.eachSeriesByType("tree",(function(e){!function(e,t){var n=function(e,t){return uD(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=n;var i=e.get("layout"),r=0,o=0,s=null;"radial"===i?(r=2*Math.PI,o=Math.min(n.height,n.width)/2,s=JU((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(r=n.width,o=n.height,s=JU());var a=e.getData().tree.root,l=a.children[0];if(l){!function(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,i,r=[t];n=r.pop();)if(i=n.children,n.isExpand&&i.length)for(var o=i.length-1;o>=0;o--){var s=i[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},r.push(s)}}(a),function(e,t,n){for(var i,r=[e],o=[];i=r.pop();)if(o.push(i),i.isExpand){var s=i.children;if(s.length)for(var a=0;a<s.length;a++)r.push(s[a])}for(;i=o.pop();)t(i,n)}(l,ZU,s),a.hierNode.modifier=-l.hierNode.prelim,Fj(l,QU);var u=l,c=l,d=l;Fj(l,(function(e){var t=e.getLayout().x;t<u.getLayout().x&&(u=e),t>c.getLayout().x&&(c=e),e.depth>d.depth&&(d=e)}));var h=u===c?1:s(u,c)/2,p=h-u.getLayout().x,g=0,f=0,m=0,v=0;if("radial"===i)g=r/(c.getLayout().x+h+p),f=o/(d.depth-1||1),Fj(l,(function(e){m=(e.getLayout().x+p)*g,v=(e.depth-1)*f;var t=ej(m,v);e.setLayout({x:t.x,y:t.y,rawX:m,rawY:v},!0)}));else{var y=e.getOrient();"RL"===y||"LR"===y?(f=o/(c.getLayout().x+h+p),g=r/(d.depth-1||1),Fj(l,(function(e){v=(e.getLayout().x+p)*f,m="LR"===y?(e.depth-1)*g:r-(e.depth-1)*g,e.setLayout({x:m,y:v},!0)}))):"TB"!==y&&"BT"!==y||(g=r/(c.getLayout().x+h+p),f=o/(d.depth-1||1),Fj(l,(function(e){m=(e.getLayout().x+p)*g,v="TB"===y?(e.depth-1)*f:o-(e.depth-1)*f,e.setLayout({x:m,y:v},!0)})))}}}(e,t)}))}function Oj(e){e.eachSeriesByType("tree",(function(e){var t=e.getData();t.tree.eachNode((function(e){var n=e.getModel().getModel("itemStyle").getItemStyle();Wf(t.ensureUniqueItemVisual(e.dataIndex,"style"),n)}))}))}var Nj=["treemapZoomToNode","treemapRender","treemapMove"];function Bj(e){var t=e.getData().tree,n={};t.eachNode((function(t){for(var i=t;i&&i.depth>1;)i=i.parentNode;var r=UD(e.ecModel,i.name||i.dataIndex+"",n);t.setVisual("decal",r)}))}var Gj=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}return vf(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};Vj(n);var i=e.levels||[],r=this.designatedVisualItemStyle={},o=new aR({itemStyle:r},this,t);i=e.levels=function(e,t){var n,i,r=kb(t.get("color")),o=kb(t.get(["aria","decal","decals"]));if(!r)return;e=e||[],qf(e,(function(e){var t=new aR(e),r=t.get("color"),o=t.get("decal");(t.get(["itemStyle","color"])||r&&"none"!==r)&&(n=!0),(t.get(["itemStyle","decal"])||o&&"none"!==o)&&(i=!0)}));var s=e[0]||(e[0]={});n||(s.color=r.slice());!i&&o&&(s.decal=o.slice());return e}(i,t);var s=Yf(i||[],(function(e){return new aR(e,o,t)}),this),a=Dj.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=a.getNodeByDataIndex(t),i=n?s[n.depth]:null;return e.parentModel=i||o,e}))}));return a.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,n){var i=this.getData(),r=this.getRawValue(e);return WT("nameValue",{name:i.getName(e),value:r})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=Ej(i,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},Wf(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=_m(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){Bj(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(pA);function Vj(e){var t=0;qf(e.children,(function(e){Vj(e);var n=e.value;tm(n)&&(n=n[0]),t+=n}));var n=e.value;tm(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),tm(e.value)?e.value[0]=n:e.value=n}const zj=Gj;var Hj=function(){function e(e){this.group=new eb,e.add(this.group)}return e.prototype.render=function(e,t,n,i){var r=e.getModel("breadcrumb"),o=this.group;if(o.removeAll(),r.get("show")&&n){var s=r.getModel("itemStyle"),a=r.getModel("emphasis"),l=s.getModel("textStyle"),u=a.getModel(["itemStyle","textStyle"]),c={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,c,l),this._renderContent(e,c,s,a,l,u,i),cD(o,c.pos,c.box)}},e.prototype._prepare=function(e,t,n){for(var i=e;i;i=i.parentNode){var r=zb(i.getModel().get("name"),""),o=n.getTextRect(r),s=Math.max(o.width+16,t.emptyItemWidth);t.totalWidth+=s+8,t.renderList.push({node:i,text:r,width:s})}},e.prototype._renderContent=function(e,t,n,i,r,o,s){for(var a=0,l=t.emptyItemWidth,u=e.get(["breadcrumb","height"]),c=function(e,t,n){var i=t.width,r=t.height,o=ub(e.left,i),s=ub(e.top,r),a=ub(e.right,i),l=ub(e.bottom,r);return(isNaN(o)||isNaN(parseFloat(e.left)))&&(o=0),(isNaN(a)||isNaN(parseFloat(e.right)))&&(a=i),(isNaN(s)||isNaN(parseFloat(e.top)))&&(s=0),(isNaN(l)||isNaN(parseFloat(e.bottom)))&&(l=r),n=ZR(n||0),{width:Math.max(a-o-n[1]-n[3],0),height:Math.max(l-s-n[0]-n[2],0)}}(t.pos,t.box),d=t.totalWidth,h=t.renderList,p=i.getModel("itemStyle").getItemStyle(),g=h.length-1;g>=0;g--){var f=h[g],m=f.node,v=f.width,y=f.text;d>c.width&&(d-=v-l,v=l,y=null);var w=new dE({shape:{points:Wj(a,0,v,u,g===h.length-1,0===g)},style:Uf(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new bM({style:G_(r,{text:y})}),textConfig:{position:"inside"},z2:1e4*kM,onclick:em(s,m)});w.disableLabelAnimation=!0,w.getTextContent().ensureState("emphasis").style=G_(o,{text:y}),w.ensureState("emphasis").style=p,f_(w,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(w),Uj(w,e,m),a+=v+8}},e.prototype.remove=function(){this.group.removeAll()},e}();function Wj(e,t,n,i,r,o){var s=[[r?e:e-5,t],[e+n,t],[e+n,t+i],[r?e:e-5,t+i]];return!o&&s.splice(2,0,[e+n+5,t+i/2]),!r&&s.push([e,t+i/2]),s}function Uj(e,t,n){SM(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&Ej(n,t)}}const jj=Hj;var $j=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(e,t,n,i,r){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:i,easing:r}),!0)},e.prototype.finished=function(e){return this._finishedCallback=e,this},e.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,r=this._storage.length;i<r;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},e}();var Kj=eb,qj=oM,Yj="label",Xj="upperLabel",Zj=10*kM,Qj=2*kM,Jj=3*kM,e$=dS([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),t$=function(e){var t=e$(e);return t.stroke=t.fill=t.lineWidth=null,t},n$=jb(),i$=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._state="ready",n._storage={nodeGroup:[],background:[],content:[]},n}return vf(t,e),t.prototype.render=function(e,t,n,i){if(!(jf(t.findComponents({mainType:"series",subType:"treemap",query:i}),e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var r=Pj(i,["treemapZoomToNode","treemapRootToNode"],e),o=i&&i.type,s=e.layoutInfo,a=!this._oldTree,l=this._storage,u="treemapRootToNode"===o&&r&&l?{rootNodeGroup:l.nodeGroup[r.node.getRawIndex()],direction:i.direction}:null,c=this._giveContainerGroup(s),d=e.get("animation"),h=this._doRender(c,e,u);!d||a||o&&"treemapZoomToNode"!==o&&"treemapRootToNode"!==o?h.renderFinally():this._doAnimation(c,h,e,u),this._resetController(n),this._renderBreadcrumb(e,n,r)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new Kj,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,n){var i=t.getData().tree,r=this._oldTree,o={nodeGroup:[],background:[],content:[]},s={nodeGroup:[],background:[],content:[]},a=this._storage,l=[];function u(e,i,r,u){return function(e,t,n,i,r,o,s,a,l,u){if(!s)return;var c=s.getLayout(),d=e.getData(),h=s.getModel();if(d.setItemGraphicEl(s.dataIndex,null),!c||!c.isInView)return;var p=c.width,g=c.height,f=c.borderWidth,m=c.invisible,v=s.getRawIndex(),y=a&&a.getRawIndex(),w=s.viewChildren,C=c.upperHeight,b=w&&w.length,S=h.getModel("itemStyle"),x=h.getModel(["emphasis","itemStyle"]),M=h.getModel(["blur","itemStyle"]),_=h.getModel(["select","itemStyle"]),R=S.get("borderRadius")||0,D=V("nodeGroup",Kj);if(!D)return;if(l.add(D),D.x=c.x||0,D.y=c.y||0,D.markRedraw(),n$(D).nodeWidth=p,n$(D).nodeHeight=g,c.isAboveViewRoot)return D;var P=V("background",qj,u,Qj);P&&L(D,P,b&&c.upperLabelHeight);var T=h.getModel("emphasis"),A=T.get("focus"),E=T.get("blurScope"),I=T.get("disabled"),k="ancestor"===A?s.getAncestorsIndices():"descendant"===A?s.getDescendantIndices():A;if(b)b_(D)&&C_(D,!1),P&&(C_(P,!I),d.setItemGraphicEl(s.dataIndex,P),m_(P,k,E));else{var F=V("content",qj,u,Jj);F&&O(D,F),P.disableMorphing=!0,P&&b_(P)&&C_(P,!1),C_(D,!I),d.setItemGraphicEl(s.dataIndex,D),m_(D,k,E)}return D;function L(t,n,i){var r=SM(n);if(r.dataIndex=s.dataIndex,r.seriesIndex=e.seriesIndex,n.setShape({x:0,y:0,width:p,height:g,r:R}),m)N(n);else{n.invisible=!1;var o=s.getVisual("style"),a=o.stroke,l=t$(S);l.fill=a;var u=e$(x);u.fill=x.get("borderColor");var c=e$(M);c.fill=M.get("borderColor");var d=e$(_);if(d.fill=_.get("borderColor"),i){var h=p-2*f;B(n,a,o.opacity,{x:f,y:0,width:h,height:C})}else n.removeTextContent();n.setStyle(l),n.ensureState("emphasis").style=u,n.ensureState("blur").style=c,n.ensureState("select").style=d,QM(n)}t.add(n)}function O(t,n){var i=SM(n);i.dataIndex=s.dataIndex,i.seriesIndex=e.seriesIndex;var r=Math.max(p-2*f,0),o=Math.max(g-2*f,0);if(n.culling=!0,n.setShape({x:f,y:f,width:r,height:o,r:R}),m)N(n);else{n.invisible=!1;var a=s.getVisual("style"),l=a.fill,u=t$(S);u.fill=l,u.decal=a.decal;var c=e$(x),d=e$(M),h=e$(_);B(n,l,a.opacity,null),n.setStyle(u),n.ensureState("emphasis").style=c,n.ensureState("blur").style=d,n.ensureState("select").style=h,QM(n)}t.add(n)}function N(e){!e.invisible&&o.push(e)}function B(t,n,i,r){var o=h.getModel(r?Xj:Yj),a=zb(h.get("name"),null),l=o.getShallow("show");N_(t,B_(h,r?Xj:Yj),{defaultText:l?a:null,inheritColor:n,defaultOpacity:i,labelFetcher:e,labelDataIndex:s.dataIndex});var u=t.getTextContent();if(u){var d=u.style,p=mm(d.padding||0);r&&(t.setTextConfig({layoutRect:r}),u.disableLabelLayout=!0),u.beforeUpdate=function(){var e=Math.max((r?r.width:t.shape.width)-p[1]-p[3],0),n=Math.max((r?r.height:t.shape.height)-p[0]-p[2],0);d.width===e&&d.height===n||u.setStyle({width:e,height:n})},d.truncateMinChar=2,d.lineOverflow="truncate",G(d,r,c);var g=u.getState("emphasis");G(g?g.style:null,r,c)}}function G(t,n,i){var r=t?t.text:null;if(!n&&i.isLeafRoot&&null!=r){var o=e.get("drillDownIcon",!0);t.text=o?o+" "+r:r}}function V(e,i,o,s){var a=null!=y&&n[e][y],l=r[e];return a?(n[e][y]=null,z(l,a)):m||((a=new i)instanceof GS&&(a.z2=function(e,t){return e*Zj+t}(o,s)),H(l,a)),t[e][v]=a}function z(e,t){var n=e[v]={};t instanceof Kj?(n.oldX=t.x,n.oldY=t.y):n.oldShape=Wf({},t.shape)}function H(e,t){var n=e[v]={},o=s.parentNode,a=t instanceof eb;if(o&&(!i||"drillDown"===i.direction)){var l=0,u=0,c=r.background[o.getRawIndex()];!i&&c&&c.oldShape&&(l=c.oldShape.width,u=c.oldShape.height),a?(n.oldX=0,n.oldY=u):n.oldShape={x:l,y:u,width:0,height:0}}n.fadein=!a}}(t,s,a,n,o,l,e,i,r,u)}!function e(t,n,i,r,o){r?(n=t,qf(t,(function(e,t){!e.isRemoved()&&a(t,t)}))):new BN(n,t,s,s).add(a).update(a).remove(em(a,null)).execute();function s(e){return e.getId()}function a(s,a){var l=null!=s?t[s]:null,c=null!=a?n[a]:null,d=u(l,c,i,o);d&&e(l&&l.viewChildren||[],c&&c.viewChildren||[],d,r,o+1)}}(i.root?[i.root]:[],r&&r.root?[r.root]:[],e,i===r||!r,0);var c=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&qf(e,(function(e,n){var i=t[n];qf(e,(function(e){e&&(i.push(e),n$(e).willDelete=!0)}))})),t}(a);if(this._oldTree=i,this._storage=s,this._controllerHost){var d=this.seriesModel.layoutInfo,h=i.root.getLayout();h.width===d.width&&h.height===d.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:c,renderFinally:function(){qf(c,(function(e){qf(e,(function(e){e.parent&&e.parent.remove(e)}))})),qf(l,(function(e){e.invisible=!0,e.dirty()}))}}},t.prototype._doAnimation=function(e,t,n,i){var r=n.get("animationDurationUpdate"),o=n.get("animationEasing"),s=(nm(r)?0:r)||0,a=(nm(o)?null:o)||"cubicOut",l=new $j;qf(t.willDeleteEls,(function(e,t){qf(e,(function(e,n){if(!e.invisible){var r,o=e.parent,u=n$(o);if(i&&"drillDown"===i.direction)r=o===i.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0,d=0;u.willDelete||(c=u.nodeWidth/2,d=u.nodeHeight/2),r="nodeGroup"===t?{x:c,y:d,style:{opacity:0}}:{shape:{x:c,y:d,width:0,height:0},style:{opacity:0}}}r&&l.add(e,r,s,0,a)}}))})),qf(this._storage,(function(e,n){qf(e,(function(e,i){var r=t.lastsForAnimation[n][i],o={};r&&(e instanceof eb?null!=r.oldX&&(o.x=e.x,o.y=e.y,e.x=r.oldX,e.y=r.oldY):(r.oldShape&&(o.shape=Wf({},e.shape),e.setShape(r.oldShape)),r.fadein?(e.setStyle("opacity",0),o.style={opacity:1}):1!==e.style.opacity&&(o.style={opacity:1})),l.add(e,o,s,0,a))}))}),this),this._state="animating",l.finished(Jf((function(){this._state="ready",t.renderFinally()}),this)).start()},t.prototype._resetController=function(e){var t=this._controller,n=this._controllerHost;n||(this._controllerHost={target:this.group},n=this._controllerHost),t||((t=this._controller=new cW(e.getZr())).enable(this.seriesModel.get("roam")),n.zoomLimit=this.seriesModel.get("scaleLimit"),n.zoom=this.seriesModel.get("zoom"),t.on("pan",Jf(this._onPan,this)),t.on("zoom",Jf(this._onZoom,this)));var i=new Uv(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,n){return i.contain(t,n)}))},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},t.prototype._onZoom=function(e){var t=e.originX,n=e.originY,i=e.scale;if("animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var o=r.getLayout();if(!o)return;var s,a=new Uv(o.x,o.y,o.width,o.height),l=this._controllerHost;s=l.zoomLimit;var u=l.zoom=l.zoom||1;if(u*=i,s){var c=s.min||0,d=s.max||1/0;u=Math.max(Math.min(d,u),c)}var h=u/l.zoom;l.zoom=u;var p=this.seriesModel.layoutInfo,g=[1,0,0,1,0,0];Tv(g,g,[-(t-=p.x),-(n-=p.y)]),Ev(g,g,[h,h]),Tv(g,g,[t,n]),a.applyTransform(g),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if("ready"===t._state){var n=t.seriesModel.get("nodeClick",!0);if(n){var i=t.findTarget(e.offsetX,e.offsetY);if(i){var r=i.node;if(r.getLayout().isLeafRoot)t._rootToNode(i);else if("zoomToNode"===n)t._zoomToNode(i);else if("link"===n){var o=r.hostTree.data.getItemModel(r.dataIndex),s=o.get("link",!0),a=o.get("target",!0)||"blank";s&&iD(s,a)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,n){var i=this;n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new jj(this.group))).render(e,t,n.node,(function(t){"animating"!==i._state&&(Aj(e.getViewRoot(),t)?i._rootToNode({node:t}):i._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(i){var r=this._storage.background[i.getRawIndex()];if(r){var o=r.transformCoordToLocal(e,t),s=r.shape;if(!(s.x<=o[0]&&o[0]<=s.x+s.width&&s.y<=o[1]&&o[1]<=s.y+s.height))return!1;n={node:i,offsetX:o[0],offsetY:o[1]}}}),this),n},t.type="treemap",t}(DI);const r$=i$;var o$=qf,s$=sm,a$=-1,l$=function(){function e(t){var n=t.mappingMethod,i=t.type,r=this.option=Vf(t);this.type=i,this.mappingMethod=n,this._normalizeData=y$[n];var o=e.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[n],"piecewise"===n?(u$(r),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,qf(t,(function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)}))}(r)):"category"===n?r.categories?function(e){var t=e.categories,n=e.categoryMap={},i=e.visual;if(o$(t,(function(e,t){n[e]=t})),!tm(i)){var r=[];sm(i)?o$(i,(function(e,t){var i=n[t];r[null!=i?i:a$]=e})):r[a$]=i,i=v$(e,r)}for(var o=t.length-1;o>=0;o--)null==i[o]&&(delete n[t[o]],t.pop())}(r):u$(r,!0):(vm("linear"!==n||r.dataExtent),u$(r))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return Jf(this._normalizeData,this)},e.listVisualTypes=function(){return Qf(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,n){sm(e)?qf(e,t,n):t.call(n,e)},e.mapVisual=function(t,n,i){var r,o=tm(t)?[]:sm(t)?{}:(r=!0,null);return e.eachVisual(t,(function(e,t){var s=n.call(i,e,t);r?o=s:o[t]=s})),o},e.retrieveVisuals=function(t){var n,i={};return t&&o$(e.visualHandlers,(function(e,r){t.hasOwnProperty(r)&&(i[r]=t[r],n=!0)})),n?i:null},e.prepareVisualTypes=function(e){if(tm(e))e=e.slice();else{if(!s$(e))return[];var t=[];o$(e,(function(e,n){t.push(n)})),e=t}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},e.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,n){for(var i,r=1/0,o=0,s=t.length;o<s;o++){var a=t[o].value;if(null!=a){if(a===e||im(a)&&a===e+"")return o;n&&d(a,o)}}for(o=0,s=t.length;o<s;o++){var l=t[o],u=l.interval,c=l.close;if(u){if(u[0]===-1/0){if(w$(c[1],e,u[1]))return o}else if(u[1]===1/0){if(w$(c[0],u[0],e))return o}else if(w$(c[0],u[0],e)&&w$(c[1],e,u[1]))return o;n&&d(u[0],o),n&&d(u[1],o)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i;function d(t,n){var o=Math.abs(t-e);o<r&&(r=o,i=n)}},e.visualHandlers={color:{applyVisual:h$("color"),getColorMapper:function(){var e=this.option;return Jf("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),p$.call(this,e)}:function(t,n,i){var r=!!i;return!n&&(t=this._normalizeData(t)),i=pw(t,e.parsedVisual,i),r?i:vw(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return vw(pw(e,this.option.parsedVisual),"rgba")},category:p$,piecewise:function(e,t){var n=m$.call(this,t);return null==n&&(n=vw(pw(e,this.option.parsedVisual),"rgba")),n},fixed:g$}},colorHue:c$((function(e,t){return fw(e,t)})),colorSaturation:c$((function(e,t){return fw(e,null,t)})),colorLightness:c$((function(e,t){return fw(e,null,null,t)})),colorAlpha:c$((function(e,t){return mw(e,t)})),decal:{applyVisual:h$("decal"),_normalizedToVisual:{linear:null,category:p$,piecewise:null,fixed:null}},opacity:{applyVisual:h$("opacity"),_normalizedToVisual:f$([0,1])},liftZ:{applyVisual:h$("liftZ"),_normalizedToVisual:{linear:g$,category:g$,piecewise:g$,fixed:g$}},symbol:{applyVisual:function(e,t,n){n("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:d$,category:p$,piecewise:function(e,t){var n=m$.call(this,t);return null==n&&(n=d$.call(this,e)),n},fixed:g$}},symbolSize:{applyVisual:h$("symbolSize"),_normalizedToVisual:f$([0,1])}},e}();function u$(e,t){var n=e.visual,i=[];sm(n)?o$(n,(function(e){i.push(e)})):null!=n&&i.push(n);t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(i[1]=i[0]),v$(e,i)}function c$(e){return{applyVisual:function(t,n,i){var r=this.mapValueToVisual(t);i("color",e(n("color"),r))},_normalizedToVisual:f$([0,1])}}function d$(e){var t=this.option.visual;return t[Math.round(lb(e,[0,1],[0,t.length-1],!0))]||{}}function h$(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function p$(e){var t=this.option.visual;return t[this.option.loop&&e!==a$?e%t.length:e]}function g$(){return this.option.visual[0]}function f$(e){return{linear:function(t){return lb(t,e,this.option.visual,!0)},category:p$,piecewise:function(t,n){var i=m$.call(this,n);return null==i&&(i=lb(t,e,this.option.visual,!0)),i},fixed:g$}}function m$(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var i=n[l$.findPieceIndex(e,n)];if(i&&i.visual)return i.visual[this.type]}}function v$(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=Yf(t,(function(e){var t=cw(e);return t||[0,0,0,1]}))),t}var y$={linear:function(e){return lb(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=l$.findPieceIndex(e,t,!0);if(null!=n)return lb(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?a$:t},fixed:Am};function w$(e,t,n){return e?t<=n:t<n}const C$=l$;var b$=jb();const S$={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||x$(t,{},e.getViewRoot().getAncestors(),e)}};function x$(e,t,n,i){var r=e.getModel(),o=e.getLayout(),s=e.hostTree.data;if(o&&!o.invisible&&o.isInView){var a,l=r.getModel("itemStyle"),u=function(e,t,n){var i=Wf({},t),r=n.designatedVisualItemStyle;return qf(["color","colorAlpha","colorSaturation"],(function(n){r[n]=t[n];var o=e.get(n);r[n]=null,null!=o&&(i[n]=o)})),i}(l,t,i),c=s.ensureUniqueItemVisual(e.dataIndex,"style"),d=l.get("borderColor"),h=l.get("borderColorSaturation");null!=h&&(d=function(e,t){return null!=t?fw(t,null,null,e):null}(h,a=M$(u))),c.stroke=d;var p=e.viewChildren;if(p&&p.length){var g=function(e,t,n,i,r,o){if(!o||!o.length)return;var s=R$(t,"color")||null!=r.color&&"none"!==r.color&&(R$(t,"colorAlpha")||R$(t,"colorSaturation"));if(!s)return;var a=t.get("visualMin"),l=t.get("visualMax"),u=n.dataExtent.slice();null!=a&&a<u[0]&&(u[0]=a),null!=l&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy"),d={type:s.name,dataExtent:u,visual:s.range};"color"!==d.type||"index"!==c&&"id"!==c?d.mappingMethod="linear":(d.mappingMethod="category",d.loop=!0);var h=new C$(d);return b$(h).drColorMappingBy=c,h}(0,r,o,0,u,p);qf(p,(function(e,t){if(e.depth>=n.length||e===n[e.depth]){var o=function(e,t,n,i,r,o){var s=Wf({},t);if(r){var a=r.type,l="color"===a&&b$(r).drColorMappingBy,u="index"===l?i:"id"===l?o.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));s[a]=r.mapValueToVisual(u)}return s}(r,u,e,t,g,i);x$(e,o,n,i)}}))}else a=M$(u),c.fill=a}}function M$(e){var t=_$(e,"color");if(t){var n=_$(e,"colorAlpha"),i=_$(e,"colorSaturation");return i&&(t=fw(t,null,null,i)),n&&(t=mw(t,n)),t}}function _$(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function R$(e,t){var n=e.get(t);return tm(n)&&n.length?{name:t,range:n}:null}var D$=Math.max,P$=Math.min,T$=hm,A$=qf,E$=["itemStyle","borderWidth"],I$=["itemStyle","gapWidth"],k$=["upperLabel","show"],F$=["upperLabel","height"];const L$={seriesType:"treemap",reset:function(e,t,n,i){var r=n.getWidth(),o=n.getHeight(),s=e.option,a=uD(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=s.size||[],u=ub(T$(a.width,l[0]),r),c=ub(T$(a.height,l[1]),o),d=i&&i.type,h=Pj(i,["treemapZoomToNode","treemapRootToNode"],e),p="treemapRender"===d||"treemapMove"===d?i.rootRect:null,g=e.getViewRoot(),f=Tj(g);if("treemapMove"!==d){var m="treemapZoomToNode"===d?function(e,t,n,i,r){var o,s=(t||{}).node,a=[i,r];if(!s||s===n)return a;var l=i*r,u=l*e.option.zoomToNodeRatio;for(;o=s.parentNode;){for(var c=0,d=o.children,h=0,p=d.length;h<p;h++)c+=d[h].getValue();var g=s.getValue();if(0===g)return a;u*=c/g;var f=o.getModel(),m=f.get(E$);(u+=4*m*m+(3*m+Math.max(m,V$(f)))*Math.pow(u,.5))>mb&&(u=mb),s=o}u<l&&(u=l);var v=Math.pow(u/l,.5);return[i*v,r*v]}(e,h,g,u,c):p?[p.width,p.height]:[u,c],v=s.sort;v&&"asc"!==v&&"desc"!==v&&(v="desc");var y={squareRatio:s.squareRatio,sort:v,leafDepth:s.leafDepth};g.hostTree.clearLayouts();var w={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};g.setLayout(w),O$(g,y,!1,0),w=g.getLayout(),A$(f,(function(e,t){var n=(f[t+1]||g).getValue();e.setLayout(Wf({dataExtent:[n,n],borderWidth:0,upperHeight:0},w))}))}var C=e.getData().tree.root;C.setLayout(function(e,t,n){if(t)return{x:t.x,y:t.y};var i={x:0,y:0};if(!n)return i;var r=n.node,o=r.getLayout();if(!o)return i;var s=[o.width/2,o.height/2],a=r;for(;a;){var l=a.getLayout();s[0]+=l.x,s[1]+=l.y,a=a.parentNode}return{x:e.width/2-s[0],y:e.height/2-s[1]}}(a,p,h),!0),e.setLayoutInfo(a),G$(C,new Uv(-a.x,-a.y,r,o),f,g,0)}};function O$(e,t,n,i){var r,o;if(!e.isRemoved()){var s=e.getLayout();r=s.width,o=s.height;var a=e.getModel(),l=a.get(E$),u=a.get(I$)/2,c=V$(a),d=Math.max(l,c),h=l-u,p=d-u;e.setLayout({borderWidth:l,upperHeight:d,upperLabelHeight:c},!0);var g=(r=D$(r-2*h,0))*(o=D$(o-h-p,0)),f=function(e,t,n,i,r,o){var s=e.children||[],a=i.sort;"asc"!==a&&"desc"!==a&&(a=null);var l=null!=i.leafDepth&&i.leafDepth<=o;if(r&&!l)return e.viewChildren=[];s=Zf(s,(function(e){return!e.isRemoved()})),function(e,t){t&&e.sort((function(e,n){var i="asc"===t?e.getValue()-n.getValue():n.getValue()-e.getValue();return 0===i?"asc"===t?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:i}))}(s,a);var u=function(e,t,n){for(var i=0,r=0,o=t.length;r<o;r++)i+=t[r].getValue();var s,a=e.get("visualDimension");t&&t.length?"value"===a&&n?(s=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&s.reverse()):(s=[1/0,-1/0],A$(t,(function(e){var t=e.getValue(a);t<s[0]&&(s[0]=t),t>s[1]&&(s[1]=t)}))):s=[NaN,NaN];return{sum:i,dataExtent:s}}(t,s,a);if(0===u.sum)return e.viewChildren=[];if(u.sum=function(e,t,n,i,r){if(!i)return n;for(var o=e.get("visibleMin"),s=r.length,a=s,l=s-1;l>=0;l--){var u=r["asc"===i?s-l-1:l].getValue();u/n*t<o&&(a=l,n-=u)}return"asc"===i?r.splice(0,s-a):r.splice(a,s-a),n}(t,n,u.sum,a,s),0===u.sum)return e.viewChildren=[];for(var c=0,d=s.length;c<d;c++){var h=s[c].getValue()/u.sum*n;s[c].setLayout({area:h})}l&&(s.length&&e.setLayout({isLeafRoot:!0},!0),s.length=0);return e.viewChildren=s,e.setLayout({dataExtent:u.dataExtent},!0),s}(e,a,g,t,n,i);if(f.length){var m={x:h,y:p,width:r,height:o},v=P$(r,o),y=1/0,w=[];w.area=0;for(var C=0,b=f.length;C<b;){var S=f[C];w.push(S),w.area+=S.getLayout().area;var x=N$(w,v,t.squareRatio);x<=y?(C++,y=x):(w.area-=w.pop().getLayout().area,B$(w,v,m,u,!1),v=P$(m.width,m.height),w.length=w.area=0,y=1/0)}if(w.length&&B$(w,v,m,u,!0),!n){var M=a.get("childrenVisibleMin");null!=M&&g<M&&(n=!0)}for(C=0,b=f.length;C<b;C++)O$(f[C],t,n,i+1)}}}function N$(e,t,n){for(var i=0,r=1/0,o=0,s=void 0,a=e.length;o<a;o++)(s=e[o].getLayout().area)&&(s<r&&(r=s),s>i&&(i=s));var l=e.area*e.area,u=t*t*n;return l?D$(u*i/l,l/(u*r)):1/0}function B$(e,t,n,i,r){var o=t===n.width?0:1,s=1-o,a=["x","y"],l=["width","height"],u=n[a[o]],c=t?e.area/t:0;(r||c>n[l[s]])&&(c=n[l[s]]);for(var d=0,h=e.length;d<h;d++){var p=e[d],g={},f=c?p.getLayout().area/c:0,m=g[l[s]]=D$(c-2*i,0),v=n[a[o]]+n[l[o]]-u,y=d===h-1||v<f?v:f,w=g[l[o]]=D$(y-2*i,0);g[a[s]]=n[a[s]]+P$(i,m/2),g[a[o]]=u+P$(i,w/2),u+=y,p.setLayout(g,!0)}n[a[s]]+=c,n[l[s]]-=c}function G$(e,t,n,i,r){var o=e.getLayout(),s=n[r],a=s&&s===e;if(!(s&&!a||r===n.length&&e!==i)){e.setLayout({isInView:!0,invisible:!a&&!t.intersect(o),isAboveViewRoot:a},!0);var l=new Uv(t.x-o.x,t.y-o.y,t.width,t.height);A$(e.viewChildren||[],(function(e){G$(e,l,n,i,r+1)}))}}function V$(e){return e.get(k$)?e.get(F$):0}function z$(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),i=e.getGraph().data,r=n.mapArray(n.getName);i.filterSelf((function(e){var n=i.getItemModel(e).getShallow("category");if(null!=n){om(n)&&(n=r[n]);for(var o=0;o<t.length;o++)if(!t[o].isSelected(n))return!1}return!0}))}))}function H$(e){var t={};e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),i=e.getData(),r={};n.each((function(i){var o=n.getName(i);r["ec-"+o]=i;var s=n.getItemModel(i),a=s.getModel("itemStyle").getItemStyle();a.fill||(a.fill=e.getColorFromPalette(o,t)),n.setItemVisual(i,"style",a);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var c=s.getShallow(l[u],!0);null!=c&&n.setItemVisual(i,l[u],c)}})),n.count()&&i.each((function(e){var t=i.getItemModel(e).getShallow("category");if(null!=t){im(t)&&(t=r["ec-"+t]);var o=n.getItemVisual(t,"style");Wf(i.ensureUniqueItemVisual(e,"style"),o);for(var s=["symbol","symbolSize","symbolKeepAspect"],a=0;a<s.length;a++)i.setItemVisual(e,s[a],n.getItemVisual(t,s[a]))}}))}))}function W$(e){return e instanceof Array||(e=[e,e]),e}function U$(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),n=e.getEdgeData(),i=W$(e.get("edgeSymbol")),r=W$(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each((function(e){var i=n.getItemModel(e),r=t.getEdgeByIndex(e),o=W$(i.getShallow("symbol",!0)),s=W$(i.getShallow("symbolSize",!0)),a=i.getModel("lineStyle").getLineStyle(),l=n.ensureUniqueItemVisual(e,"style");switch(Wf(l,a),l.stroke){case"source":var u=r.node1.getVisual("style");l.stroke=u&&u.fill;break;case"target":u=r.node2.getVisual("style");l.stroke=u&&u.fill}o[0]&&r.setVisual("fromSymbol",o[0]),o[1]&&r.setVisual("toSymbol",o[1]),s[0]&&r.setVisual("fromSymbolSize",s[0]),s[1]&&r.setVisual("toSymbolSize",s[1])}))}))}var j$="--\x3e",$$=function(e){return e.get("autoCurveness")||null},K$=function(e,t){var n=$$(e),i=20,r=[];if(om(n))i=n;else if(tm(n))return void(e.__curvenessList=n);t>i&&(i=t);var o=i%2?i+2:i+3;r=[];for(var s=0;s<o;s++)r.push((s%2?s+1:s)/10*(s%2?-1:1));e.__curvenessList=r},q$=function(e,t,n){var i=[e.id,e.dataIndex].join("."),r=[t.id,t.dataIndex].join(".");return[n.uid,i,r].join(j$)},Y$=function(e){var t=e.split(j$);return[t[0],t[2],t[1]].join(j$)},X$=function(e,t){var n=q$(e.node1,e.node2,t);return t.__edgeMap[n]},Z$=function(e,t){return Q$(q$(e.node1,e.node2,t),t)+Q$(q$(e.node2,e.node1,t),t)},Q$=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function J$(e,t,n,i){var r=$$(t),o=tm(r);if(!r)return null;var s=X$(e,t);if(!s)return null;for(var a=-1,l=0;l<s.length;l++)if(s[l]===n){a=l;break}var u=Z$(e,t);K$(t,u),e.lineStyle=e.lineStyle||{};var c=q$(e.node1,e.node2,t),d=t.__curvenessList,h=o||u%2?0:1;if(s.isForward)return d[h+a];var p=Y$(c),g=Q$(p,t),f=d[a+g+h];return i?o?r&&0===r[0]?(g+h)%2?f:-f:((g%2?0:1)+h)%2?f:-f:(g+h)%2?f:-f:d[a+g+h]}function eK(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),tK(n,e)}}function tK(e,t){e.eachEdge((function(e,n){var i=gm(e.getModel().get(["lineStyle","curveness"]),-J$(e,t,n,!0),0),r=Om(e.node1.getLayout()),o=Om(e.node2.getLayout()),s=[r,o];+i&&s.push([(r[0]+o[0])/2-(r[1]-o[1])*i,(r[1]+o[1])/2-(o[0]-r[0])*i]),e.setLayout(s)}))}function nK(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var i=e.getData(),r=[];qf(n.dimensions,(function(e){r=r.concat(i.mapDimensionsAll(e))}));for(var o=0;o<i.count();o++){for(var s=[],a=!1,l=0;l<r.length;l++){var u=i.get(r[l],o);isNaN(u)||(a=!0),s.push(u)}a?i.setItemLayout(o,n.dataToPoint(s)):i.setItemLayout(o,[NaN,NaN])}tK(i.graph,e)}else t&&"none"!==t||eK(e)}))}function iK(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=e.option.nodeScaleRatio,i=t.scaleX;return((t.getZoom()-1)*n+1)/i}function rK(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var oK=Math.PI,sK=[];function aK(e,t,n,i){var r=e.coordinateSystem;if(!r||"view"===r.type){var o=r.getBoundingRect(),s=e.getData(),a=s.graph,l=o.width/2+o.x,u=o.height/2+o.y,c=Math.min(o.width,o.height)/2,d=s.count();if(s.setLayout({cx:l,cy:u}),d){if(n){var h=r.pointToData(i),p=h[0],g=h[1],f=[p-l,g-u];Um(f,f),Wm(f,f,c),n.setLayout([l+f[0],u+f[1]],!0),uK(n,e.get(["circular","rotateLabel"]),l,u)}lK[t](e,a,s,c,l,u,d),a.eachEdge((function(t,n){var i,r=gm(t.getModel().get(["lineStyle","curveness"]),J$(t,e,n),0),o=Om(t.node1.getLayout()),s=Om(t.node2.getLayout()),a=(o[0]+s[0])/2,c=(o[1]+s[1])/2;+r&&(i=[l*(r*=3)+a*(1-r),u*r+c*(1-r)]),t.setLayout([o,s,i])}))}}}var lK={value:function(e,t,n,i,r,o,s){var a=0,l=n.getSum("value"),u=2*Math.PI/(l||s);t.eachNode((function(e){var t=e.getValue("value"),n=u*(l?t:1)/2;a+=n,e.setLayout([i*Math.cos(a)+r,i*Math.sin(a)+o]),a+=n}))},symbolSize:function(e,t,n,i,r,o,s){var a=0;sK.length=s;var l=iK(e);t.eachNode((function(e){var t=rK(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=l;var n=Math.asin(t/2/i);isNaN(n)&&(n=oK/2),sK[e.dataIndex]=n,a+=2*n}));var u=(2*oK-a)/s/2,c=0;t.eachNode((function(e){var t=u+sK[e.dataIndex];c+=t,(!e.getLayout()||!e.getLayout().fixed)&&e.setLayout([i*Math.cos(c)+r,i*Math.sin(c)+o]),c+=t}))}};function uK(e,t,n,i){var r=e.getGraphicEl();if(r){var o=e.getModel().get(["label","rotate"])||0,s=r.getSymbolPath();if(t){var a=e.getLayout(),l=Math.atan2(a[1]-i,a[0]-n);l<0&&(l=2*Math.PI+l);var u=a[0]<n;u&&(l-=Math.PI);var c=u?"left":"right";s.setTextConfig({rotation:-l,position:c,origin:"center"});var d=s.ensureState("emphasis");Wf(d.textConfig||(d.textConfig={}),{position:c})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function cK(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&aK(e,"symbolSize")}))}var dK=Gm;function hK(e){e.eachSeriesByType("graph",(function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var n=e.preservedPoints||{},i=e.getGraph(),r=i.data,o=i.edgeData,s=e.getModel("force"),a=s.get("initLayout");e.preservedPoints?r.each((function(e){var t=r.getId(e);r.setItemLayout(e,n[t]||[NaN,NaN])})):a&&"none"!==a?"circular"===a&&aK(e,"value"):eK(e);var l=r.getDataExtent("value"),u=o.getDataExtent("value"),c=s.get("repulsion"),d=s.get("edgeLength"),h=tm(c)?c:[c,c],p=tm(d)?d:[d,d];p=[p[1],p[0]];var g=r.mapArray("value",(function(e,t){var n=r.getItemLayout(t),i=lb(e,l,h);return isNaN(i)&&(i=(h[0]+h[1])/2),{w:i,rep:i,fixed:r.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),f=o.mapArray("value",(function(t,n){var r=i.getEdgeByIndex(n),o=lb(t,u,p);isNaN(o)&&(o=(p[0]+p[1])/2);var s=r.getModel(),a=gm(r.getModel().get(["lineStyle","curveness"]),-J$(r,e,n,!0),0);return{n1:g[r.node1.dataIndex],n2:g[r.node2.dataIndex],d:o,curveness:a,ignoreForceLayout:s.get("ignoreForceLayout")}})),m=t.getBoundingRect(),v=function(e,t,n){for(var i=e,r=t,o=n.rect,s=o.width,a=o.height,l=[o.x+s/2,o.y+a/2],u=null==n.gravity?.1:n.gravity,c=0;c<i.length;c++){var d=i[c];d.p||(d.p=Fm(s*(Math.random()-.5)+l[0],a*(Math.random()-.5)+l[1])),d.pp=Om(d.p),d.edges=null}var h,p,g=null==n.friction?.6:n.friction,f=g;return{warmUp:function(){f=.8*g},setFixed:function(e){i[e].fixed=!0},setUnfixed:function(e){i[e].fixed=!1},beforeStep:function(e){h=e},afterStep:function(e){p=e},step:function(e){h&&h(i,r);for(var t=[],n=i.length,o=0;o<r.length;o++){var s=r[o];if(!s.ignoreForceLayout){var a=s.n1;Vm(t,(m=s.n2).p,a.p);var c=zm(t)-s.d,d=m.w/(a.w+m.w);isNaN(d)&&(d=0),Um(t,t),!a.fixed&&dK(a.p,a.p,t,d*c*f),!m.fixed&&dK(m.p,m.p,t,-(1-d)*c*f)}}for(o=0;o<n;o++)(w=i[o]).fixed||(Vm(t,l,w.p),dK(w.p,w.p,t,u*f));for(o=0;o<n;o++){a=i[o];for(var g=o+1;g<n;g++){var m;Vm(t,(m=i[g]).p,a.p),0===(c=zm(t))&&(Nm(t,Math.random()-.5,Math.random()-.5),c=1);var v=(a.rep+m.rep)/c/c;!a.fixed&&dK(a.pp,a.pp,t,v),!m.fixed&&dK(m.pp,m.pp,t,-v)}}var y=[];for(o=0;o<n;o++){var w;(w=i[o]).fixed||(Vm(y,w.p,w.pp),dK(w.p,w.p,y,f),Lm(w.pp,w.p))}var C=(f*=.992)<.01;p&&p(i,r,C),e&&e(C)}}}(g,f,{rect:m,gravity:s.get("gravity"),friction:s.get("friction")});v.beforeStep((function(e,t){for(var n=0,r=e.length;n<r;n++)e[n].fixed&&Lm(e[n].p,i.getNodeByIndex(n).getLayout())})),v.afterStep((function(e,t,o){for(var s=0,a=e.length;s<a;s++)e[s].fixed||i.getNodeByIndex(s).setLayout(e[s].p),n[r.getId(s)]=e[s].p;for(s=0,a=t.length;s<a;s++){var l=t[s],u=i.getEdgeByIndex(s),c=l.n1.p,d=l.n2.p,h=u.getLayout();(h=h?h.slice():[])[0]=h[0]||[],h[1]=h[1]||[],Lm(h[0],c),Lm(h[1],d),+l.curveness&&(h[2]=[(c[0]+d[0])/2-(c[1]-d[1])*l.curveness,(c[1]+d[1])/2-(d[0]-c[0])*l.curveness]),u.setLayout(h)}})),e.forceLayout=v,e.preservedPoints=n,v.step()}else e.forceLayout=null}))}function pK(e,t){var n=[];return e.eachSeriesByType("graph",(function(e){var i=e.get("coordinateSystem");if(!i||"view"===i){var r=e.getData(),o=[],s=[];qS(r.mapArray((function(e){var t=r.getItemModel(e);return[+t.get("x"),+t.get("y")]})),o,s),s[0]-o[0]===0&&(s[0]+=1,o[0]-=1),s[1]-o[1]===0&&(s[1]+=1,o[1]-=1);var a=(s[0]-o[0])/(s[1]-o[1]),l=function(e,t,n){return uD(Wf(e.getBoxLayoutParams(),{aspect:n}),{width:t.getWidth(),height:t.getHeight()})}(e,t,a);isNaN(a)&&(o=[l.x,l.y],s=[l.x+l.width,l.y+l.height]);var u=s[0]-o[0],c=s[1]-o[1],d=l.width,h=l.height,p=e.coordinateSystem=new FU;p.zoomLimit=e.get("scaleLimit"),p.setBoundingRect(o[0],o[1],u,c),p.setViewRect(l.x,l.y,d,h),p.setCenter(e.get("center"),t),p.setZoom(e.get("zoom")),n.push(p)}})),n}var gK=yE.prototype,fK=xE.prototype,mK=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}vf(t,e)}(mK);function vK(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}const yK=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-line",n}return vf(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new mK},t.prototype.buildPath=function(e,t){vK(t)?gK.buildPath.call(this,e,t):fK.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return vK(this.shape)?gK.pointAt.call(this,e):fK.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,n=vK(t)?[t.x2-t.x1,t.y2-t.y1]:fK.tangentAt.call(this,e);return Um(n,n)},t}(Ux);var wK=["fromSymbol","toSymbol"];function CK(e){return"_"+e+"Type"}function bK(e,t,n){var i=t.getItemVisual(n,e);if(!i||"none"===i)return i;var r=t.getItemVisual(n,e+"Size"),o=t.getItemVisual(n,e+"Rotate"),s=t.getItemVisual(n,e+"Offset"),a=t.getItemVisual(n,e+"KeepAspect"),l=Nk(r);return i+l+Bk(s||0,l)+(o||"")+(a||"")}function SK(e,t,n){var i=t.getItemVisual(n,e);if(i&&"none"!==i){var r=t.getItemVisual(n,e+"Size"),o=t.getItemVisual(n,e+"Rotate"),s=t.getItemVisual(n,e+"Offset"),a=t.getItemVisual(n,e+"KeepAspect"),l=Nk(r),u=Bk(s||0,l),c=Ok(i,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,a);return c.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,c.name=e,c}}function xK(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}var MK=function(e){function t(t,n,i){var r=e.call(this)||this;return r._createLine(t,n,i),r}return vf(t,e),t.prototype._createLine=function(e,t,n){var i=e.hostModel,r=function(e){var t=new yK({name:"line",subPixelOptimize:!0});return xK(t.shape,e),t}(e.getItemLayout(t));r.shape.percent=0,P_(r,{shape:{percent:1}},i,t),this.add(r),qf(wK,(function(n){var i=SK(n,e,t);this.add(i),this[CK(n)]=bK(n,e,t)}),this),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var i=e.hostModel,r=this.childOfName("line"),o=e.getItemLayout(t),s={shape:{}};xK(s.shape,o),D_(r,s,i,t),qf(wK,(function(n){var i=bK(n,e,t),r=CK(n);if(this[r]!==i){this.remove(this.childOfName(n));var o=SK(n,e,t);this.add(o)}this[r]=i}),this),this._updateCommonStl(e,t,n)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,n){var i=e.hostModel,r=this.childOfName("line"),o=n&&n.emphasisLineStyle,s=n&&n.blurLineStyle,a=n&&n.selectLineStyle,l=n&&n.labelStatesModels,u=n&&n.emphasisDisabled,c=n&&n.focus,d=n&&n.blurScope;if(!n||e.hasItemOption){var h=e.getItemModel(t),p=h.getModel("emphasis");o=p.getModel("lineStyle").getLineStyle(),s=h.getModel(["blur","lineStyle"]).getLineStyle(),a=h.getModel(["select","lineStyle"]).getLineStyle(),u=p.get("disabled"),c=p.get("focus"),d=p.get("blurScope"),l=B_(h)}var g=e.getItemVisual(t,"style"),f=g.stroke;r.useStyle(g),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=o,r.ensureState("blur").style=s,r.ensureState("select").style=a,qf(wK,(function(e){var t=this.childOfName(e);if(t){t.setColor(f),t.style.opacity=g.opacity;for(var n=0;n<EM.length;n++){var i=EM[n],o=r.getState(i);if(o){var s=o.style||{},a=t.ensureState(i),l=a.style||(a.style={});null!=s.stroke&&(l[t.__isEmptyBrush?"stroke":"fill"]=s.stroke),null!=s.opacity&&(l.opacity=s.opacity)}}t.markRedraw()}}),this);var m=i.getRawValue(t);N_(this,l,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,n){return i.getFormattedLabel(t,n,e.dataType)}},inheritColor:f||"#000",defaultOpacity:g.opacity,defaultText:(null==m?e.getName(t):isFinite(m)?cb(m):m)+""});var v=this.getTextContent();if(v){var y=l.normal;v.__align=v.style.align,v.__verticalAlign=v.style.verticalAlign,v.__position=y.get("position")||"middle";var w=y.get("distance");tm(w)||(w=[w,w]),v.__labelDistance=w}this.setTextConfig({position:null,local:!0,inside:!1}),f_(this,c,d,u)},t.prototype.highlight=function(){t_(this)},t.prototype.downplay=function(){n_(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");xK(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),n=e.childOfName("toSymbol"),i=e.getTextContent();if(t||n||i&&!i.ignore){for(var r=1,o=this.parent;o;)o.scaleX&&(r/=o.scaleX),o=o.parent;var s=e.childOfName("line");if(this.__dirty||s.__dirty){var a=s.shape.percent,l=s.pointAt(0),u=s.pointAt(a),c=Vm([],u,l);if(Um(c,c),t&&(t.setPosition(l),x(t,0),t.scaleX=t.scaleY=r*a,t.markRedraw()),n&&(n.setPosition(u),x(n,1),n.scaleX=n.scaleY=r*a,n.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var d=void 0,h=void 0,p=i.__labelDistance,g=p[0]*r,f=p[1]*r,m=a/2,v=s.tangentAt(m),y=[v[1],-v[0]],w=s.pointAt(m);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]);var C=v[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var b=-Math.atan2(v[1],v[0]);u[0]<l[0]&&(b=Math.PI+b),i.rotation=b}var S=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":S=-f,h="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":S=f,h="top";break;default:S=0,h="middle"}switch(i.__position){case"end":i.x=c[0]*g+u[0],i.y=c[1]*f+u[1],d=c[0]>.8?"left":c[0]<-.8?"right":"center",h=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";break;case"start":i.x=-c[0]*g+l[0],i.y=-c[1]*f+l[1],d=c[0]>.8?"right":c[0]<-.8?"left":"center",h=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=g*C+l[0],i.y=l[1]+S,d=v[0]<0?"right":"left",i.originX=-g*C,i.originY=-S;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=w[0],i.y=w[1]+S,d="center",i.originY=-S;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-g*C+u[0],i.y=u[1]+S,d=v[0]>=0?"right":"left",i.originX=g*C,i.originY=-S}i.scaleX=i.scaleY=r,i.setStyle({verticalAlign:i.__verticalAlign||h,align:i.__align||d})}}}function x(e,t){var n=e.__specifiedRotation;if(null==n){var i=s.tangentAt(t);e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(i[1],i[0]))}else e.attr("rotation",n)}},t}(eb);const _K=MK;function RK(e){var t=e.hostModel,n=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:B_(t)}}function DK(e){return isNaN(e[0])||isNaN(e[1])}function PK(e){return e&&!DK(e[0])&&!DK(e[1])}const TK=function(){function e(e){this.group=new eb,this._LineCtor=e||_K}return e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var n=this,i=n.group,r=n._lineData;n._lineData=e,r||i.removeAll();var o=RK(e);e.diff(r).add((function(n){t._doAdd(e,n,o)})).update((function(n,i){t._doUpdate(r,e,i,n,o)})).remove((function(e){i.remove(r.getItemGraphicEl(e))})).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,n){t.updateLayout(e,n)}),this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=RK(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function n(e){e.isGroup||function(e){return e.animators&&e.animators.length>0}(e)||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var i=e.start;i<e.end;i++){if(PK(t.getItemLayout(i))){var r=new this._LineCtor(t,i,this._seriesScope);r.traverse(n),this.group.add(r),t.setItemGraphicEl(i,r),this._progressiveEls.push(r)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){yI(this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,n){if(PK(e.getItemLayout(t))){var i=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,i),this.group.add(i)}},e.prototype._doUpdate=function(e,t,n,i,r){var o=e.getItemGraphicEl(n);PK(t.getItemLayout(i))?(o?o.updateData(t,i,r):o=new this._LineCtor(t,i,r),t.setItemGraphicEl(i,o),this.group.add(o)):this.group.remove(o)},e}();var AK=[],EK=[],IK=[],kK=By,FK=Km,LK=Math.abs;function OK(e,t,n){for(var i,r=e[0],o=e[1],s=e[2],a=1/0,l=n*n,u=.1,c=.1;c<=.9;c+=.1){AK[0]=kK(r[0],o[0],s[0],c),AK[1]=kK(r[1],o[1],s[1],c),(p=LK(FK(AK,t)-l))<a&&(a=p,i=c)}for(var d=0;d<32;d++){var h=i+u;EK[0]=kK(r[0],o[0],s[0],i),EK[1]=kK(r[1],o[1],s[1],i),IK[0]=kK(r[0],o[0],s[0],h),IK[1]=kK(r[1],o[1],s[1],h);var p=FK(EK,t)-l;if(LK(p)<.01)break;var g=FK(IK,t)-l;u/=2,p<0?g>=0?i+=u:i-=u:g>=0?i-=u:i+=u}return i}function NK(e,t){var n=[],i=zy,r=[[],[],[]],o=[[],[]],s=[];t/=2,e.eachEdge((function(e,a){var l=e.getLayout(),u=e.getVisual("fromSymbol"),c=e.getVisual("toSymbol");l.__original||(l.__original=[Om(l[0]),Om(l[1])],l[2]&&l.__original.push(Om(l[2])));var d=l.__original;if(null!=l[2]){if(Lm(r[0],d[0]),Lm(r[1],d[2]),Lm(r[2],d[1]),u&&"none"!==u){var h=rK(e.node1),p=OK(r,d[0],h*t);i(r[0][0],r[1][0],r[2][0],p,n),r[0][0]=n[3],r[1][0]=n[4],i(r[0][1],r[1][1],r[2][1],p,n),r[0][1]=n[3],r[1][1]=n[4]}if(c&&"none"!==c){h=rK(e.node2),p=OK(r,d[1],h*t);i(r[0][0],r[1][0],r[2][0],p,n),r[1][0]=n[1],r[2][0]=n[2],i(r[0][1],r[1][1],r[2][1],p,n),r[1][1]=n[1],r[2][1]=n[2]}Lm(l[0],r[0]),Lm(l[1],r[2]),Lm(l[2],r[1])}else{if(Lm(o[0],d[0]),Lm(o[1],d[1]),Vm(s,o[1],o[0]),Um(s,s),u&&"none"!==u){h=rK(e.node1);Gm(o[0],o[0],s,h*t)}if(c&&"none"!==c){h=rK(e.node2);Gm(o[1],o[1],s,-h*t)}Lm(l[0],o[0]),Lm(l[1],o[1])}}))}function BK(e){return"view"===e.type}var GK=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.init=function(e,t){var n=new TB,i=new TK,r=this.group;this._controller=new cW(t.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},t.prototype.render=function(e,t,n){var i=this,r=e.coordinateSystem;this._model=e;var o=this._symbolDraw,s=this._lineDraw,a=this.group;if(BK(r)){var l={x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY};this._firstRender?a.attr(l):D_(a,l,e)}NK(e.getGraph(),iK(e));var u=e.getData();o.updateData(u);var c=e.getEdgeData();s.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var d=e.forceLayout,h=e.get(["force","layoutAnimation"]);d&&this._startForceLayoutIteration(d,h);var p=e.get("layout");u.graph.eachNode((function(t){var n=t.dataIndex,r=t.getGraphicEl(),o=t.getModel();if(r){r.off("drag").off("dragend");var s=o.get("draggable");s&&r.on("drag",(function(o){switch(p){case"force":d.warmUp(),!i._layouting&&i._startForceLayoutIteration(d,h),d.setFixed(n),u.setItemLayout(n,[r.x,r.y]);break;case"circular":u.setItemLayout(n,[r.x,r.y]),t.setLayout({fixed:!0},!0),aK(e,"symbolSize",t,[o.offsetX,o.offsetY]),i.updateLayout(e);break;default:u.setItemLayout(n,[r.x,r.y]),tK(e.getGraph(),e),i.updateLayout(e)}})).on("dragend",(function(){d&&d.setUnfixed(n)})),r.setDraggable(s,!!o.get("cursor")),"adjacency"===o.get(["emphasis","focus"])&&(SM(r).focus=t.getAdjacentDataIndices())}})),u.graph.eachEdge((function(e){var t=e.getGraphicEl(),n=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===n&&(SM(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})}));var g="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),f=u.getLayout("cx"),m=u.getLayout("cy");u.graph.eachNode((function(e){uK(e,g,f,m)})),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var n=this;!function i(){e.step((function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(i,16):i())}))}()},t.prototype._updateController=function(e,t,n){var i=this,r=this._controller,o=this._controllerHost,s=this.group;r.setPointerChecker((function(t,i,r){var o=s.getBoundingRect();return o.applyTransform(s.transform),o.contain(i,r)&&!fW(t,n,e)})),BK(e.coordinateSystem)?(r.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",(function(t){dW(o,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){hW(o,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),i._updateNodeAndLinkScale(),NK(e.getGraph(),iK(e)),i._lineDraw.updateLayout(),n.updateLabelLayout()}))):r.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),n=iK(e);t.eachItemGraphicEl((function(e,t){e&&e.setSymbolScale(n)}))},t.prototype.updateLayout=function(e){NK(e.getGraph(),iK(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(DI);const VK=GK;function zK(e){return"_EC_"+e}var HK=function(){function e(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(e,t){e=null==e?""+t:""+e;var n=this._nodesMap;if(!n[zK(e)]){var i=new WK(e,t);return i.hostGraph=this,this.nodes.push(i),n[zK(e)]=i,i}},e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},e.prototype.getNodeById=function(e){return this._nodesMap[zK(e)]},e.prototype.addEdge=function(e,t,n){var i=this._nodesMap,r=this._edgesMap;if(om(e)&&(e=this.nodes[e]),om(t)&&(t=this.nodes[t]),e instanceof WK||(e=i[zK(e)]),t instanceof WK||(t=i[zK(t)]),e&&t){var o=e.id+"-"+t.id,s=new UK(e,t,n);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),r[o]=s,s}},e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},e.prototype.getEdge=function(e,t){e instanceof WK&&(e=e.id),t instanceof WK&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},e.prototype.eachNode=function(e,t){for(var n=this.nodes,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&e.call(t,n[r],r)},e.prototype.eachEdge=function(e,t){for(var n=this.edges,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&n[r].node1.dataIndex>=0&&n[r].node2.dataIndex>=0&&e.call(t,n[r],r)},e.prototype.breadthFirstTraverse=function(e,t,n,i){if(t instanceof WK||(t=this._nodesMap[zK(t)]),t){for(var r="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(i,t,null))for(var s=[t];s.length;){var a=s.shift(),l=a[r];for(o=0;o<l.length;o++){var u=l[o],c=u.node1===a?u.node2:u.node1;if(!c.__visited){if(e.call(i,c,a))return;s.push(c),c.__visited=!0}}}}},e.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,r=0,o=n.length;r<o;r++)n[r].dataIndex=-1;for(r=0,o=e.count();r<o;r++)n[e.getRawIndex(r)].dataIndex=r;t.filterSelf((function(e){var n=i[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(r=0,o=i.length;r<o;r++)i[r].dataIndex=-1;for(r=0,o=t.count();r<o;r++)i[t.getRawIndex(r)].dataIndex=r},e.prototype.clone=function(){for(var t=new e(this._directed),n=this.nodes,i=this.edges,r=0;r<n.length;r++)t.addNode(n[r].id,n[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},e}(),WK=function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},e.prototype.getTrajectoryDataIndices=function(){for(var e=_m(),t=_m(),n=0;n<this.edges.length;n++){var i=this.edges[n];if(!(i.dataIndex<0)){e.set(i.dataIndex,!0);for(var r=[i.node1],o=[i.node2],s=0;s<r.length;){var a=r[s];s++,t.set(a.dataIndex,!0);for(var l=0;l<a.inEdges.length;l++)e.set(a.inEdges[l].dataIndex,!0),r.push(a.inEdges[l].node1)}for(s=0;s<o.length;){var u=o[s];s++,t.set(u.dataIndex,!0);for(l=0;l<u.outEdges.length;l++)e.set(u.outEdges[l].dataIndex,!0),o.push(u.outEdges[l].node2)}}}return{edge:e.keys(),node:t.keys()}},e}(),UK=function(){function e(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}return e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var e=_m(),t=_m();e.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],r=0;r<n.length;){var o=n[r];r++,t.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)e.set(o.inEdges[s].dataIndex,!0),n.push(o.inEdges[s].node1)}for(r=0;r<i.length;){var a=i[r];r++,t.set(a.dataIndex,!0);for(s=0;s<a.outEdges.length;s++)e.set(a.outEdges[s].dataIndex,!0),i.push(a.outEdges[s].node2)}return{edge:e.keys(),node:t.keys()}},e}();function jK(e,t){return{getValue:function(n){var i=this[e][t];return i.getStore().get(i.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,i)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,i){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}$f(WK,jK("hostGraph","data")),$f(UK,jK("hostGraph","edgeData"));const $K=HK;function KK(e,t,n,i,r){for(var o=new $K(i),s=0;s<e.length;s++)o.addNode(hm(e[s].id,e[s].name,s),s);var a=[],l=[],u=0;for(s=0;s<t.length;s++){var c=t[s],d=c.source,h=c.target;o.addEdge(d,h,u)&&(l.push(c),a.push(hm(zb(c.id,null),d+" > "+h)),u++)}var p,g=n.get("coordinateSystem");if("cartesian2d"===g||"polar"===g)p=yB(e,n);else{var f=nP.get(g),m=f&&f.dimensions||[];jf(m,"value")<0&&m.concat(["value"]);var v=cB(e,{coordDimensions:m,encodeDefine:n.getEncode()}).dimensions;(p=new uB(v,n)).initData(e)}var y=new uB(["value"],n);return y.initData(l,a),r&&r(p,y),Mj({mainData:p,struct:o,structAttr:"graph",datas:{node:p,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}var qK=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return vf(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new dV(i,i),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),Fb(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var n,i=e.edges||e.links||[],r=e.data||e.nodes||[],o=this;if(r&&i){$$(n=this)&&(n.__curvenessList=[],n.__edgeMap={},K$(n));var s=KK(r,i,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e){var t=o._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));var n=aR.prototype.getModel;function i(e,t){var i=n.call(this,e,t);return i.resolveParentPath=r,i}function r(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=r,e.getModel=i,e}))}));return qf(s.edges,(function(e){!function(e,t,n,i){if($$(n)){var r=q$(e,t,n),o=n.__edgeMap,s=o[Y$(r)];o[r]&&!s?o[r].isForward=!0:s&&o[r]&&(s.isForward=!0,o[r].isForward=!1),o[r]=o[r]||[],o[r].push(i)}}(e.node1,e.node2,this,e.dataIndex)}),this),s.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,n){if("edge"===n){var i=this.getData(),r=this.getDataParams(e,n),o=i.graph.getEdgeByIndex(e),s=i.getName(o.node1.dataIndex),a=i.getName(o.node2.dataIndex),l=[];return null!=s&&l.push(s),null!=a&&l.push(a),WT("nameValue",{name:l.join(" > "),value:r.value,noValue:null==r.value})}return tA({series:this,dataIndex:e,multipleSeries:t})},t.prototype._updateCategoriesData=function(){var e=Yf(this.option.categories||[],(function(e){return null!=e.value?e:Wf({value:0},e)})),t=new uB(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(pA);const YK=qK;var XK={type:"graphRoam",event:"graphRoam",update:"none"};var ZK=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},QK=function(e){function t(t){var n=e.call(this,t)||this;return n.type="pointer",n}return vf(t,e),t.prototype.getDefaultShape=function(){return new ZK},t.prototype.buildPath=function(e,t){var n=Math.cos,i=Math.sin,r=t.r,o=t.width,s=t.angle,a=t.x-n(s)*o*(o>=r/3?1:2),l=t.y-i(s)*o*(o>=r/3?1:2);s=t.angle-Math.PI/2,e.moveTo(a,l),e.lineTo(t.x+n(s)*o,t.y+i(s)*o),e.lineTo(t.x+n(t.angle)*r,t.y+i(t.angle)*r),e.lineTo(t.x-n(s)*o,t.y-i(s)*o),e.lineTo(a,l)},t}(Ux);const JK=QK;function eq(e,t){var n=null==e?"":e+"";return t&&(im(t)?n=t.replace("{value}",n):nm(t)&&(n=t(e))),n}var tq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n){this.group.removeAll();var i=e.get(["axisLine","lineStyle","color"]),r=function(e,t){var n=e.get("center"),i=t.getWidth(),r=t.getHeight(),o=Math.min(i,r);return{cx:ub(n[0],t.getWidth()),cy:ub(n[1],t.getHeight()),r:ub(e.get("radius"),o/2)}}(e,n);this._renderMain(e,t,n,i,r),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,t,n,i,r){var o=this.group,s=e.get("clockwise"),a=-e.get("startAngle")/180*Math.PI,l=-e.get("endAngle")/180*Math.PI,u=e.getModel("axisLine"),c=u.get("roundCap")?_G:rE,d=u.get("show"),h=u.getModel("lineStyle"),p=h.get("width"),g=[a,l];yx(g,!s);for(var f=(l=g[1])-(a=g[0]),m=a,v=[],y=0;d&&y<i.length;y++){var w=new c({shape:{startAngle:m,endAngle:l=a+f*Math.min(Math.max(i[y][0],0),1),cx:r.cx,cy:r.cy,clockwise:s,r0:r.r-p,r:r.r},silent:!0});w.setStyle({fill:i[y][1]}),w.setStyle(h.getLineStyle(["color","width"])),v.push(w),m=l}v.reverse(),qf(v,(function(e){return o.add(e)}));var C=function(e){if(e<=0)return i[0][1];var t;for(t=0;t<i.length;t++)if(i[t][0]>=e&&(0===t?0:i[t-1][0])<e)return i[t][1];return i[t-1][1]};this._renderTicks(e,t,n,C,r,a,l,s,p),this._renderTitleAndDetail(e,t,n,C,r),this._renderAnchor(e,r),this._renderPointer(e,t,n,C,r,a,l,s,p)},t.prototype._renderTicks=function(e,t,n,i,r,o,s,a,l){for(var u,c,d=this.group,h=r.cx,p=r.cy,g=r.r,f=+e.get("min"),m=+e.get("max"),v=e.getModel("splitLine"),y=e.getModel("axisTick"),w=e.getModel("axisLabel"),C=e.get("splitNumber"),b=y.get("splitNumber"),S=ub(v.get("length"),g),x=ub(y.get("length"),g),M=o,_=(s-o)/C,R=_/b,D=v.getModel("lineStyle").getLineStyle(),P=y.getModel("lineStyle").getLineStyle(),T=v.get("distance"),A=0;A<=C;A++){if(u=Math.cos(M),c=Math.sin(M),v.get("show")){var E=new yE({shape:{x1:u*(g-(I=T?T+l:l))+h,y1:c*(g-I)+p,x2:u*(g-S-I)+h,y2:c*(g-S-I)+p},style:D,silent:!0});"auto"===D.stroke&&E.setStyle({stroke:i(A/C)}),d.add(E)}if(w.get("show")){var I=w.get("distance")+T,k=eq(cb(A/C*(m-f)+f),w.get("formatter")),F=i(A/C),L=u*(g-S-I)+h,O=c*(g-S-I)+p,N=w.get("rotate"),B=0;"radial"===N?(B=-M+2*Math.PI)>Math.PI/2&&(B+=Math.PI):"tangential"===N?B=-M-Math.PI/2:om(N)&&(B=N*Math.PI/180),0===B?d.add(new bM({style:G_(w,{text:k,x:L,y:O,verticalAlign:c<-.8?"top":c>.8?"bottom":"middle",align:u<-.4?"left":u>.4?"right":"center"},{inheritColor:F}),silent:!0})):d.add(new bM({style:G_(w,{text:k,x:L,y:O,verticalAlign:"middle",align:"center"},{inheritColor:F}),silent:!0,originX:L,originY:O,rotation:B}))}if(y.get("show")&&A!==C){I=(I=y.get("distance"))?I+l:l;for(var G=0;G<=b;G++){u=Math.cos(M),c=Math.sin(M);var V=new yE({shape:{x1:u*(g-I)+h,y1:c*(g-I)+p,x2:u*(g-x-I)+h,y2:c*(g-x-I)+p},silent:!0,style:P});"auto"===P.stroke&&V.setStyle({stroke:i((A+G/b)/C)}),d.add(V),M+=R}M-=R}else M+=_}},t.prototype._renderPointer=function(e,t,n,i,r,o,s,a,l){var u=this.group,c=this._data,d=this._progressEls,h=[],p=e.get(["pointer","show"]),g=e.getModel("progress"),f=g.get("show"),m=e.getData(),v=m.mapDimension("value"),y=+e.get("min"),w=+e.get("max"),C=[y,w],b=[o,s];function S(t,n){var i,o=m.getItemModel(t).getModel("pointer"),s=ub(o.get("width"),r.r),a=ub(o.get("length"),r.r),l=e.get(["pointer","icon"]),u=o.get("offsetCenter"),c=ub(u[0],r.r),d=ub(u[1],r.r),h=o.get("keepAspect");return(i=l?Ok(l,c-s/2,d-a,s,a,null,h):new JK({shape:{angle:-Math.PI/2,width:s,r:a,x:c,y:d}})).rotation=-(n+Math.PI/2),i.x=r.cx,i.y=r.cy,i}function x(e,t){var n=g.get("roundCap")?_G:rE,i=g.get("overlap"),s=i?g.get("width"):l/m.count(),u=i?r.r-s:r.r-(e+1)*s,c=i?r.r:r.r-e*s,d=new n({shape:{startAngle:o,endAngle:t,cx:r.cx,cy:r.cy,clockwise:a,r0:u,r:c}});return i&&(d.z2=w-m.get(v,e)%w),d}(f||p)&&(m.diff(c).add((function(t){var n=m.get(v,t);if(p){var i=S(t,o);P_(i,{rotation:-((isNaN(+n)?b[0]:lb(n,C,b,!0))+Math.PI/2)},e),u.add(i),m.setItemGraphicEl(t,i)}if(f){var r=x(t,o),s=g.get("clip");P_(r,{shape:{endAngle:lb(n,C,b,s)}},e),u.add(r),xM(e.seriesIndex,m.dataType,t,r),h[t]=r}})).update((function(t,n){var i=m.get(v,t);if(p){var r=c.getItemGraphicEl(n),s=r?r.rotation:o,a=S(t,s);a.rotation=s,D_(a,{rotation:-((isNaN(+i)?b[0]:lb(i,C,b,!0))+Math.PI/2)},e),u.add(a),m.setItemGraphicEl(t,a)}if(f){var l=d[n],y=x(t,l?l.shape.endAngle:o),w=g.get("clip");D_(y,{shape:{endAngle:lb(i,C,b,w)}},e),u.add(y),xM(e.seriesIndex,m.dataType,t,y),h[t]=y}})).execute(),m.each((function(e){var t=m.getItemModel(e),n=t.getModel("emphasis"),r=n.get("focus"),o=n.get("blurScope"),s=n.get("disabled");if(p){var a=m.getItemGraphicEl(e),l=m.getItemVisual(e,"style"),u=l.fill;if(a instanceof Zx){var c=a.style;a.useStyle(Wf({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},l))}else a.useStyle(l),"pointer"!==a.type&&a.setColor(u);a.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===a.style.fill&&a.setStyle("fill",i(lb(m.get(v,e),C,[0,1],!0))),a.z2EmphasisLift=0,w_(a,t),f_(a,r,o,s)}if(f){var d=h[e];d.useStyle(m.getItemVisual(e,"style")),d.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle()),d.z2EmphasisLift=0,w_(d,t),f_(d,r,o,s)}})),this._progressEls=h)},t.prototype._renderAnchor=function(e,t){var n=e.getModel("anchor");if(n.get("show")){var i=n.get("size"),r=n.get("icon"),o=n.get("offsetCenter"),s=n.get("keepAspect"),a=Ok(r,t.cx-i/2+ub(o[0],t.r),t.cy-i/2+ub(o[1],t.r),i,i,null,s);a.z2=n.get("showAbove")?1:0,a.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(a)}},t.prototype._renderTitleAndDetail=function(e,t,n,i,r){var o=this,s=e.getData(),a=s.mapDimension("value"),l=+e.get("min"),u=+e.get("max"),c=new eb,d=[],h=[],p=e.isAnimationEnabled(),g=e.get(["pointer","showAbove"]);s.diff(this._data).add((function(e){d[e]=new bM({silent:!0}),h[e]=new bM({silent:!0})})).update((function(e,t){d[e]=o._titleEls[t],h[e]=o._detailEls[t]})).execute(),s.each((function(t){var n=s.getItemModel(t),o=s.get(a,t),f=new eb,m=i(lb(o,[l,u],[0,1],!0)),v=n.getModel("title");if(v.get("show")){var y=v.get("offsetCenter"),w=r.cx+ub(y[0],r.r),C=r.cy+ub(y[1],r.r);(P=d[t]).attr({z2:g?0:2,style:G_(v,{x:w,y:C,text:s.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:m})}),f.add(P)}var b=n.getModel("detail");if(b.get("show")){var S=b.get("offsetCenter"),x=r.cx+ub(S[0],r.r),M=r.cy+ub(S[1],r.r),_=ub(b.get("width"),r.r),R=ub(b.get("height"),r.r),D=e.get(["progress","show"])?s.getItemVisual(t,"style").fill:m,P=h[t],T=b.get("formatter");P.attr({z2:g?0:2,style:G_(b,{x:x,y:M,text:eq(o,T),width:isNaN(_)?null:_,height:isNaN(R)?null:R,align:"center",verticalAlign:"middle"},{inheritColor:D})}),K_(P,{normal:b},o,(function(e){return eq(e,T)})),p&&q_(P,t,s,e,{getFormattedLabel:function(e,t,n,i,r,s){return eq(s?s.interpolatedValue:o,T)}}),f.add(P)}c.add(f)})),this.group.add(c),this._titleEls=d,this._detailEls=h},t.type="gauge",t}(DI);const nq=tq;const iq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="itemStyle",n}return vf(t,e),t.prototype.getInitialData=function(e,t){return uV(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(pA);var rq=["itemStyle","opacity"],oq=function(e){function t(t,n){var i=e.call(this)||this,r=i,o=new gE,s=new bM;return r.setTextContent(s),i.setTextGuideLine(o),i.updateData(t,n,!0),i}return vf(t,e),t.prototype.updateData=function(e,t,n){var i=this,r=e.hostModel,o=e.getItemModel(t),s=e.getItemLayout(t),a=o.getModel("emphasis"),l=o.get(rq);l=null==l?1:l,n||k_(i),i.useStyle(e.getItemVisual(t,"style")),i.style.lineJoin="round",n?(i.setShape({points:s.points}),i.style.opacity=0,P_(i,{style:{opacity:l}},r,t)):D_(i,{style:{opacity:l},shape:{points:s.points}},r,t),w_(i,o),this._updateLabel(e,t),f_(this,a.get("focus"),a.get("blurScope"),a.get("disabled"))},t.prototype._updateLabel=function(e,t){var n=this,i=this.getTextGuideLine(),r=n.getTextContent(),o=e.hostModel,s=e.getItemModel(t),a=e.getItemLayout(t).label,l=e.getItemVisual(t,"style"),u=l.fill;N_(r,B_(s),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:l.opacity,defaultText:e.getName(t)},{normal:{align:a.textAlign,verticalAlign:a.verticalAlign}}),n.setTextConfig({local:!0,inside:!!a.inside,insideStroke:u,outsideFill:u});var c=a.linePoints;i.setShape({points:c}),n.textGuideLineConfig={anchor:c?new Fv(c[0][0],c[0][1]):null},D_(r,{style:{x:a.x,y:a.y}},o,t),r.attr({rotation:a.rotation,originX:a.x,originY:a.y,z2:10}),KL(n,qL(s),{stroke:u})},t}(dE),sq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return vf(t,e),t.prototype.render=function(e,t,n){var i=e.getData(),r=this._data,o=this.group;i.diff(r).add((function(e){var t=new oq(i,e);i.setItemGraphicEl(e,t),o.add(t)})).update((function(e,t){var n=r.getItemGraphicEl(t);n.updateData(i,e),o.add(n),i.setItemGraphicEl(e,n)})).remove((function(t){I_(r.getItemGraphicEl(t),e,t)})).execute(),this._data=i},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(DI);const aq=sq;var lq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new dV(Jf(this.getData,this),Jf(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.getInitialData=function(e,t){return uV(this,{coordDimensions:["value"],encodeDefaulter:em(kD,this)})},t.prototype._defaultLabelLine=function(e){Fb(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.prototype.getDataParams=function(t){var n=this.getData(),i=e.prototype.getDataParams.call(this,t),r=n.mapDimension("value"),o=n.getSum(r);return i.percent=o?+(n.get(r,t)/o*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(pA);const uq=lq;function cq(e,t){e.eachSeriesByType("funnel",(function(e){var n=e.getData(),i=n.mapDimension("value"),r=e.get("sort"),o=function(e,t){return uD(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),s=e.get("orient"),a=o.width,l=o.height,u=function(e,t){for(var n=e.mapDimension("value"),i=e.mapArray(n,(function(e){return e})),r=[],o="ascending"===t,s=0,a=e.count();s<a;s++)r[s]=s;return nm(t)?r.sort(t):"none"!==t&&r.sort((function(e,t){return o?i[e]-i[t]:i[t]-i[e]})),r}(n,r),c=o.x,d=o.y,h="horizontal"===s?[ub(e.get("minSize"),l),ub(e.get("maxSize"),l)]:[ub(e.get("minSize"),a),ub(e.get("maxSize"),a)],p=n.getDataExtent(i),g=e.get("min"),f=e.get("max");null==g&&(g=Math.min(p[0],0)),null==f&&(f=p[1]);var m=e.get("funnelAlign"),v=e.get("gap"),y=(("horizontal"===s?a:l)-v*(n.count()-1))/n.count(),w=function(e,t){if("horizontal"===s){var r=lb(n.get(i,e)||0,[g,f],h,!0),o=void 0;switch(m){case"top":o=d;break;case"center":o=d+(l-r)/2;break;case"bottom":o=d+(l-r)}return[[t,o],[t,o+r]]}var u,p=lb(n.get(i,e)||0,[g,f],h,!0);switch(m){case"left":u=c;break;case"center":u=c+(a-p)/2;break;case"right":u=c+a-p}return[[u,t],[u+p,t]]};"ascending"===r&&(y=-y,v=-v,"horizontal"===s?c+=a:d+=l,u=u.reverse());for(var C=0;C<u.length;C++){var b=u[C],S=u[C+1],x=n.getItemModel(b);if("horizontal"===s){var M=x.get(["itemStyle","width"]);null==M?M=y:(M=ub(M,a),"ascending"===r&&(M=-M));var _=w(b,c),R=w(S,c+M);c+=M+v,n.setItemLayout(b,{points:_.concat(R.slice().reverse())})}else{var D=x.get(["itemStyle","height"]);null==D?D=y:(D=ub(D,l),"ascending"===r&&(D=-D));_=w(b,d),R=w(S,d+D);d+=D+v,n.setItemLayout(b,{points:_.concat(R.slice().reverse())})}}!function(e){var t=e.hostModel.get("orient");e.each((function(n){var i,r,o,s,a=e.getItemModel(n),l=a.getModel("label").get("position"),u=a.getModel("labelLine"),c=e.getItemLayout(n),d=c.points,h="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(h)"insideLeft"===l?(r=(d[0][0]+d[3][0])/2+5,o=(d[0][1]+d[3][1])/2,i="left"):"insideRight"===l?(r=(d[1][0]+d[2][0])/2-5,o=(d[1][1]+d[2][1])/2,i="right"):(r=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,o=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4,i="center"),s=[[r,o],[r,o]];else{var p=void 0,g=void 0,f=void 0,m=void 0,v=u.get("length");"left"===l?(p=(d[3][0]+d[0][0])/2,g=(d[3][1]+d[0][1])/2,r=(f=p-v)-5,i="right"):"right"===l?(p=(d[1][0]+d[2][0])/2,g=(d[1][1]+d[2][1])/2,r=(f=p+v)+5,i="left"):"top"===l?(p=(d[3][0]+d[0][0])/2,o=(m=(g=(d[3][1]+d[0][1])/2)-v)-5,i="center"):"bottom"===l?(p=(d[1][0]+d[2][0])/2,o=(m=(g=(d[1][1]+d[2][1])/2)+v)+5,i="center"):"rightTop"===l?(p="horizontal"===t?d[3][0]:d[1][0],g="horizontal"===t?d[3][1]:d[1][1],"horizontal"===t?(o=(m=g-v)-5,i="center"):(r=(f=p+v)+5,i="top")):"rightBottom"===l?(p=d[2][0],g=d[2][1],"horizontal"===t?(o=(m=g+v)+5,i="center"):(r=(f=p+v)+5,i="bottom")):"leftTop"===l?(p=d[0][0],g="horizontal"===t?d[0][1]:d[1][1],"horizontal"===t?(o=(m=g-v)-5,i="center"):(r=(f=p-v)-5,i="right")):"leftBottom"===l?(p="horizontal"===t?d[1][0]:d[3][0],g="horizontal"===t?d[1][1]:d[2][1],"horizontal"===t?(o=(m=g+v)+5,i="center"):(r=(f=p-v)-5,i="right")):(p=(d[1][0]+d[2][0])/2,g=(d[1][1]+d[2][1])/2,"horizontal"===t?(o=(m=g+v)+5,i="center"):(r=(f=p+v)+5,i="left")),"horizontal"===t?r=f=p:o=m=g,s=[[p,g],[f,m]]}c.label={linePoints:s,x:r,y:o,verticalAlign:"middle",textAlign:i,inside:h}}))}(n)}))}var dq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._dataGroup=new eb,n._initialized=!1,n}return vf(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,t,n,i){this._progressiveEls=null;var r=this._dataGroup,o=e.getData(),s=this._data,a=e.coordinateSystem,l=a.dimensions,u=gq(e);if(o.diff(s).add((function(e){fq(pq(o,r,e,l,a),o,e,u)})).update((function(t,n){var i=s.getItemGraphicEl(n),r=hq(o,t,l,a);o.setItemGraphicEl(t,i),D_(i,{shape:{points:r}},e,t),k_(i),fq(i,o,t,u)})).remove((function(e){var t=s.getItemGraphicEl(e);r.remove(t)})).execute(),!this._initialized){this._initialized=!0;var c=function(e,t,n){var i=e.model,r=e.getRect(),o=new oM({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),s="horizontal"===i.get("layout")?"width":"height";return o.setShape(s,0),P_(o,{shape:{width:r.width,height:r.height}},t,n),o}(a,e,(function(){setTimeout((function(){r.removeClipPath()}))}));r.setClipPath(c)}this._data=o},t.prototype.incrementalPrepareRender=function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,n){for(var i=t.getData(),r=t.coordinateSystem,o=r.dimensions,s=gq(t),a=this._progressiveEls=[],l=e.start;l<e.end;l++){var u=pq(i,this._dataGroup,l,o,r);u.incremental=!0,fq(u,i,l,s),a.push(u)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(DI);function hq(e,t,n,i){for(var r,o=[],s=0;s<n.length;s++){var a=n[s],l=e.get(e.mapDimension(a),t);r=l,("category"===i.getAxis(a).type?null==r:null==r||isNaN(r))||o.push(i.dataToPoint(l,a))}return o}function pq(e,t,n,i,r){var o=hq(e,n,i,r),s=new gE({shape:{points:o},z2:10});return t.add(s),e.setItemGraphicEl(n,s),s}function gq(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),dm(t=_b(t))&&(t=0),{smooth:t}}function fq(e,t,n,i){e.useStyle(t.getItemVisual(n,"style")),e.style.fill=null,e.setShape("smooth",i.smooth);var r=t.getItemModel(n),o=r.getModel("emphasis");w_(e,r,"lineStyle"),f_(e,o.get("focus"),o.get("blurScope"),o.get("disabled"))}const mq=dq;var vq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return vf(t,e),t.prototype.getInitialData=function(e,t){return yB(null,this,{useEncodeDefaulter:Jf(yq,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,n=this.getData(),i=[];return t.eachActiveState(n,(function(t,r){e===t&&i.push(n.getRawIndex(r))})),i},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(pA);function yq(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var n={};return qf(t.dimensions,(function(e){var t=+e.replace("dim","");n[e]=t})),n}}const wq=vq;var Cq=["lineStyle","opacity"],bq={seriesType:"parallel",reset:function(e,t){var n=e.coordinateSystem,i={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){n.eachActiveState(t,(function(e,n){var r=i[e];if("normal"===e&&t.hasItemOption){var o=t.getItemModel(n).get(Cq,!0);null!=o&&(r=o)}t.ensureUniqueItemVisual(n,"style").opacity=r}),e.start,e.end)}}}};const Sq=bq;function xq(e){!function(e){if(e.parallel)return;var t=!1;qf(e.series,(function(e){e&&"parallel"===e.type&&(t=!0)})),t&&(e.parallel=[{}])}(e),function(e){var t=kb(e.parallelAxis);qf(t,(function(t){if(sm(t)){var n=t.parallelIndex||0,i=kb(e.parallel)[n];i&&i.parallelAxisDefault&&zf(t,i.parallelAxisDefault,!1)}}))}(e)}var Mq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},qf(_q,(function(e,t){n.getZr().on(t,this._handlers[t]=Jf(e,this))}),this)),II(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,t){kI(this,"_throttledDispatchExpand"),qf(this._handlers,(function(e,n){t.getZr().off(n,e)})),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(Wf({type:"parallelAxisExpand"},e))},t.type="parallel",t}(fA),_q={mousedown:function(e){Rq(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(Rq(this,"click")&&t){var n=[e.offsetX,e.offsetY];if(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&Rq(this,"mousemove")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function Rq(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}const Dq=Mq;const Pq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var t=this.option;e&&zf(t,e,!0),this._initDimensions()},t.prototype.contains=function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},t.prototype.setAxisExpand=function(e){qf(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])}),this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[];qf(Zf(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(e){return(e.get("parallelIndex")||0)===this.componentIndex}),this),(function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)}))},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(vD);var Tq=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i)||this;return s.type=r||"value",s.axisIndex=o,s}return vf(t,e),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(Xz);const Aq=Tq;function Eq(e,t,n,i,r,o){e=e||0;var s=n[1]-n[0];if(null!=r&&(r=kq(r,[0,s])),null!=o&&(o=Math.max(o,null!=r?r:0)),"all"===i){var a=Math.abs(t[1]-t[0]);a=kq(a,[0,s]),r=o=kq(a,[r,o]),i=0}t[0]=kq(t[0],n),t[1]=kq(t[1],n);var l=Iq(t,i);t[i]+=e;var u,c=r||0,d=n.slice();return l.sign<0?d[0]+=c:d[1]-=c,t[i]=kq(t[i],d),u=Iq(t,i),null!=r&&(u.sign!==l.sign||u.span<r)&&(t[1-i]=t[i]+l.sign*r),u=Iq(t,i),null!=o&&u.span>o&&(t[1-i]=t[i]+u.sign*o),t}function Iq(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function kq(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}var Fq=qf,Lq=Math.min,Oq=Math.max,Nq=Math.floor,Bq=Math.ceil,Gq=cb,Vq=Math.PI,zq=function(){function e(e,t,n){this.type="parallel",this._axesMap=_m(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}return e.prototype._init=function(e,t,n){var i=e.dimensions,r=e.parallelAxisIndex;Fq(i,(function(e,n){var i=r[n],o=t.getComponent("parallelAxis",i),s=this._axesMap.set(e,new Aq(e,_z(o),[0,0],o.get("type"),i)),a="category"===s.type;s.onBand=a&&o.get("boundaryGap"),s.inverse=o.get("inverse"),o.axis=s,s.model=o,s.coordinateSystem=o.coordinateSystem=this}),this)},e.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},e.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,r=t.pixelDimIndex,o=e[1-r],s=e[r];return o>=n&&o<=n+t.axisLength&&s>=i&&s<=i+t.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(e,t){t.eachSeries((function(n){if(e.contains(n,t)){var i=n.getData();Fq(this.dimensions,(function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(i,i.mapDimension(e)),Mz(t.scale,t.model)}),this)}}),this)},e.prototype.resize=function(e,t){this._rect=uD(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var e,t=this._model,n=this._rect,i=["x","y"],r=["width","height"],o=t.get("layout"),s="horizontal"===o?0:1,a=n[r[s]],l=[0,a],u=this.dimensions.length,c=Hq(t.get("axisExpandWidth"),l),d=Hq(t.get("axisExpandCount")||0,[0,u]),h=t.get("axisExpandable")&&u>3&&u>d&&d>1&&c>0&&a>0,p=t.get("axisExpandWindow");p?(e=Hq(p[1]-p[0],l),p[1]=p[0]+e):(e=Hq(c*(d-1),l),(p=[c*(t.get("axisExpandCenter")||Nq(u/2))-e/2])[1]=p[0]+e);var g=(a-e)/(u-d);g<3&&(g=0);var f=[Nq(Gq(p[0]/c,1))+1,Bq(Gq(p[1]/c,1))-1],m=g/c*p[0];return{layout:o,pixelDimIndex:s,layoutBase:n[i[s]],layoutLength:a,axisBase:n[i[1-s]],axisLength:n[r[1-s]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:g,axisExpandWindow:p,axisCount:u,winInnerIndices:f,axisExpandWindow0Pos:m}},e.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),r=i.layout;t.each((function(e){var t=[0,i.axisLength],n=e.inverse?1:0;e.setExtent(t[n],t[1-n])})),Fq(n,(function(t,n){var o=(i.axisExpandable?Uq:Wq)(n,i),s={horizontal:{x:o.position,y:i.axisLength},vertical:{x:0,y:o.position}},a={horizontal:Vq/2,vertical:0},l=[s[r].x+e.x,s[r].y+e.y],u=a[r],c=[1,0,0,1,0,0];Av(c,c,u),Tv(c,c,l),this._axesLayout[t]={position:l,rotation:u,transform:c,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},e.prototype.getAxis=function(e){return this._axesMap.get(e)},e.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},e.prototype.eachActiveState=function(e,t,n,i){null==n&&(n=0),null==i&&(i=e.count());var r=this._axesMap,o=this.dimensions,s=[],a=[];qf(o,(function(t){s.push(e.mapDimension(t)),a.push(r.get(t).model)}));for(var l=this.hasAxisBrushed(),u=n;u<i;u++){var c=void 0;if(l){c="active";for(var d=e.getValues(s,u),h=0,p=o.length;h<p;h++){if("inactive"===a[h].getActiveState(d[h])){c="inactive";break}}}else c="normal";t(c,u)}},e.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,r=e.length;i<r;i++)"normal"!==t.get(e[i]).model.getActiveState()&&(n=!0);return n},e.prototype.axisCoordToPoint=function(e,t){return sI([e,0],this._axesLayout[t].transform)},e.prototype.getAxisLayout=function(e){return Vf(this._axesLayout[e])},e.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),r=i[1]-i[0],o=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var s,a=e[n]-t.layoutBase-t.axisExpandWindow0Pos,l="slide",u=t.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),d=null!=c[0];if(u)d&&u&&a<r*c[0]?(l="jump",s=a-r*c[2]):d&&u&&a>r*(1-c[0])?(l="jump",s=a-r*(1-c[2])):(s=a-r*c[1])>=0&&(s=a-r*(1-c[1]))<=0&&(s=0),(s*=t.axisExpandWidth/u)?Eq(s,i,o,"all"):l="none";else{var h=i[1]-i[0];(i=[Oq(0,o[1]*a/h-h/2)])[1]=Lq(o[1],i[0]+h),i[0]=i[1]-h}return{axisExpandWindow:i,behavior:l}},e}();function Hq(e,t){return Lq(Oq(e,t[0]),t[1])}function Wq(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function Uq(e,t){var n,i,r=t.layoutLength,o=t.axisExpandWidth,s=t.axisCount,a=t.axisCollapseWidth,l=t.winInnerIndices,u=a,c=!1;return e<l[0]?(n=e*a,i=a):e<=l[1]?(n=t.axisExpandWindow0Pos+e*o-t.axisExpandWindow[0],u=o,c=!0):(n=r-(s-1-e)*a,i=a),{position:n,axisNameAvailableWidth:u,axisLabelShow:c,nameTruncateMaxWidth:i}}const jq=zq;var $q={create:function(e,t){var n=[];return e.eachComponent("parallel",(function(i,r){var o=new jq(i,e,t);o.name="parallel_"+r,o.resize(i,t),i.coordinateSystem=o,o.model=i,n.push(o)})),e.eachSeries((function(e){if("parallel"===e.get("coordinateSystem")){var t=e.getReferringComponents("parallel",Yb).models[0];e.coordinateSystem=t.coordinateSystem}})),n}};const Kq=$q;var qq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.activeIntervals=[],n}return vf(t,e),t.prototype.getAreaSelectStyle=function(){return dS([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var t=this.activeIntervals=Vf(e);if(t)for(var n=t.length-1;n>=0;n--)db(t[n])},t.prototype.getActiveState=function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===t.length){var n=t[0];if(n[0]<=e&&e<=n[1])return"active"}else for(var i=0,r=t.length;i<r;i++)if(t[i][0]<=e&&e<=t[i][1])return"active";return"inactive"},t}(vD);$f(qq,MV);const Yq=qq;var Xq=!0,Zq=Math.min,Qq=Math.max,Jq=Math.pow,eY=1e4,tY=6,nY=6,iY="globalPan",rY={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},oY={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},sY={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},aY=0,lY=function(e){function t(t){var n=e.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new eb,n._uid="brushController_"+aY++,qf(LY,(function(e,t){this._handlers[t]=Jf(e,this)}),n),n}return vf(t,e),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var t=this._zr;this._enableGlobalPan||function(e,t,n){oW(e)[t]=n}(t,iY,this._uid),qf(this._handlers,(function(e,n){t.on(n,e)})),this._brushType=e.brushType,this._brushOption=zf(Vf(sY),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;!function(e,t,n){var i=oW(e);i[t]===n&&(i[t]=null)}(e,iY,this._uid),qf(this._handlers,(function(t,n){e.off(n,t)})),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var t=this._panels={};qf(e,(function(e){t[e.panelId]=Vf(e)}))}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=t.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=Yf(e,(function(e){return zf(Vf(sY),e,!0)}));var t="\0-brush-index-",n=this._covers,i=this._covers=[],r=this,o=this._creatingCover;return new BN(n,e,(function(e,t){return s(e.__brushOption,t)}),s).add(a).update(a).remove((function(e){n[e]!==o&&r.group.remove(n[e])})).execute(),this;function s(e,n){return(null!=e.id?e.id:t+n)+"-"+e.brushType}function a(t,s){var a=e[t];if(null!=s&&n[s]===o)i[t]=n[s];else{var l=i[t]=null!=s?(n[s].__brushOption=a,n[s]):cY(r,uY(r,a));pY(r,l)}}},t.prototype.unmount=function(){return this.enableBrush(!1),vY(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(nv);function uY(e,t){var n=NY[t.brushType].createCover(e,t);return n.__brushOption=t,hY(n,t),e.group.add(n),n}function cY(e,t){var n=gY(t);return n.endCreating&&(n.endCreating(e,t),hY(t,t.__brushOption)),t}function dY(e,t){var n=t.__brushOption;gY(t).updateCoverShape(e,t,n.range,n)}function hY(e,t){var n=t.z;null==n&&(n=eY),e.traverse((function(e){e.z=n,e.z2=n}))}function pY(e,t){gY(t).updateCommon(e,t),dY(e,t)}function gY(e){return NY[e.__brushOption.brushType]}function fY(e,t,n){var i,r=e._panels;if(!r)return Xq;var o=e._transform;return qf(r,(function(e){e.isTargetByCursor(t,n,o)&&(i=e)})),i}function mY(e,t){var n=e._panels;if(!n)return Xq;var i=t.__brushOption.panelId;return null!=i?n[i]:Xq}function vY(e){var t=e._covers,n=t.length;return qf(t,(function(t){e.group.remove(t)}),e),t.length=0,!!n}function yY(e,t){var n=Yf(e._covers,(function(e){var t=e.__brushOption,n=Vf(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}}));e.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function wY(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function CY(e,t,n,i){var r=new eb;return r.add(new oM({name:"main",style:MY(n),silent:!0,draggable:!0,cursor:"move",drift:em(DY,e,t,r,["n","s","w","e"]),ondragend:em(yY,t,{isEnd:!0})})),qf(i,(function(n){r.add(new oM({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:em(DY,e,t,r,n),ondragend:em(yY,t,{isEnd:!0})}))})),r}function bY(e,t,n,i){var r=i.brushStyle.lineWidth||0,o=Qq(r,nY),s=n[0][0],a=n[1][0],l=s-r/2,u=a-r/2,c=n[0][1],d=n[1][1],h=c-o+r/2,p=d-o+r/2,g=c-s,f=d-a,m=g+r,v=f+r;xY(e,t,"main",s,a,g,f),i.transformable&&(xY(e,t,"w",l,u,o,v),xY(e,t,"e",h,u,o,v),xY(e,t,"n",l,u,m,o),xY(e,t,"s",l,p,m,o),xY(e,t,"nw",l,u,o,o),xY(e,t,"ne",h,u,o,o),xY(e,t,"sw",l,p,o,o),xY(e,t,"se",h,p,o,o))}function SY(e,t){var n=t.__brushOption,i=n.transformable,r=t.childAt(0);r.useStyle(MY(n)),r.attr({silent:!i,cursor:i?"move":"default"}),qf([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var r=t.childOfName(n.join("")),o=1===n.length?RY(e,n[0]):function(e,t){var n=[RY(e,t[0]),RY(e,t[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}(e,n);r&&r.attr({silent:!i,invisible:!i,cursor:i?oY[o]+"-resize":null})}))}function xY(e,t,n,i,r,o,s){var a=t.childOfName(n);a&&a.setShape(function(e){var t=Zq(e[0][0],e[1][0]),n=Zq(e[0][1],e[1][1]),i=Qq(e[0][0],e[1][0]),r=Qq(e[0][1],e[1][1]);return{x:t,y:n,width:i-t,height:r-n}}(AY(e,t,[[i,r],[i+o,r+s]])))}function MY(e){return Uf({strokeNoScale:!0},e.brushStyle)}function _Y(e,t,n,i){var r=[Zq(e,n),Zq(t,i)],o=[Qq(e,n),Qq(t,i)];return[[r[0],o[0]],[r[1],o[1]]]}function RY(e,t){var n=aI({w:"left",e:"right",n:"top",s:"bottom"}[t],function(e){return oI(e.group)}(e));return{left:"w",right:"e",top:"n",bottom:"s"}[n]}function DY(e,t,n,i,r,o){var s=n.__brushOption,a=e.toRectRange(s.range),l=TY(t,r,o);qf(i,(function(e){var t=rY[e];a[t[0]][t[1]]+=l[t[0]]})),s.range=e.fromRectRange(_Y(a[0][0],a[1][0],a[0][1],a[1][1])),pY(t,n),yY(t,{isEnd:!1})}function PY(e,t,n,i){var r=t.__brushOption.range,o=TY(e,n,i);qf(r,(function(e){e[0]+=o[0],e[1]+=o[1]})),pY(e,t),yY(e,{isEnd:!1})}function TY(e,t,n){var i=e.group,r=i.transformCoordToLocal(t,n),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function AY(e,t,n){var i=mY(e,t);return i&&i!==Xq?i.clipPath(n,e._transform):Vf(n)}function EY(e){var t=e.event;t.preventDefault&&t.preventDefault()}function IY(e,t,n){return e.childOfName("main").contain(t,n)}function kY(e,t,n,i){var r,o=e._creatingCover,s=e._creatingPanel,a=e._brushOption;if(e._track.push(n.slice()),function(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],i=t[0],r=n[0]-i[0],o=n[1]-i[1];return Jq(r*r+o*o,.5)>tY}(e)||o){if(s&&!o){"single"===a.brushMode&&vY(e);var l=Vf(a);l.brushType=FY(l.brushType,s),l.panelId=s===Xq?null:s.panelId,o=e._creatingCover=uY(e,l),e._covers.push(o)}if(o){var u=NY[FY(e._brushType,s)];o.__brushOption.range=u.getCreatingRange(AY(e,o,e._track)),i&&(cY(e,o),u.updateCommon(e,o)),dY(e,o),r={isEnd:i}}}else i&&"single"===a.brushMode&&a.removeOnClick&&fY(e,t,n)&&vY(e)&&(r={isEnd:i,removeOnClick:!0});return r}function FY(e,t){return"auto"===e?t.defaultBrushType:e}var LY={mousedown:function(e){if(this._dragging)OY(this,e);else if(!e.target||!e.target.draggable){EY(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=fY(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,i=this.group.transformCoordToLocal(t,n);if(function(e,t,n){if(e._brushType&&!function(e,t,n){var i=e._zr;return t<0||t>i.getWidth()||n<0||n>i.getHeight()}(e,t.offsetX,t.offsetY)){var i=e._zr,r=e._covers,o=fY(e,t,n);if(!e._dragging)for(var s=0;s<r.length;s++){var a=r[s].__brushOption;if(o&&(o===Xq||a.panelId===o.panelId)&&NY[a.brushType].contain(r[s],n[0],n[1]))return}o&&i.setCursorStyle("crosshair")}}(this,e,i),this._dragging){EY(e);var r=kY(this,e,i,!1);r&&yY(this,r)}},mouseup:function(e){OY(this,e)}};function OY(e,t){if(e._dragging){EY(t);var n=t.offsetX,i=t.offsetY,r=e.group.transformCoordToLocal(n,i),o=kY(e,t,r,!0);e._dragging=!1,e._track=[],e._creatingCover=null,o&&yY(e,o)}}var NY={lineX:BY(0),lineY:BY(1),rect:{createCover:function(e,t){function n(e){return e}return CY({toRectRange:n,fromRectRange:n},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=wY(e);return _Y(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,i){bY(e,t,n,i)},updateCommon:SY,contain:IY},polygon:{createCover:function(e,t){var n=new eb;return n.add(new gE({name:"main",style:MY(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new dE({name:"main",draggable:!0,drift:em(PY,e,t),ondragend:em(yY,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,i){t.childAt(0).setShape({points:AY(e,t,n)})},updateCommon:SY,contain:IY}};function BY(e){return{createCover:function(t,n){return CY({toRectRange:function(t){var n=[t,[0,100]];return e&&n.reverse(),n},fromRectRange:function(t){return t[e]}},t,n,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var n=wY(t);return[Zq(n[0][e],n[1][e]),Qq(n[0][e],n[1][e])]},updateCoverShape:function(t,n,i,r){var o,s=mY(t,n);if(s!==Xq&&s.getLinearBrushOtherExtent)o=s.getLinearBrushOtherExtent(e);else{var a=t._zr;o=[0,[a.getWidth(),a.getHeight()][1-e]]}var l=[i,o];e&&l.reverse(),bY(t,n,l,r)},updateCommon:SY,contain:IY}}const GY=lY;function VY(e){return e=WY(e),function(t){return cI(t,e)}}function zY(e,t){return e=WY(e),function(n){var i=null!=t?t:n,r=i?e.width:e.height,o=i?e.x:e.y;return[o,o+(r||0)]}}function HY(e,t,n){var i=WY(e);return function(e,r){return i.contain(r[0],r[1])&&!fW(e,t,n)}}function WY(e){return Uv.create(e)}var UY=["axisLine","axisTickLabel","axisName"],jY=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.init=function(t,n){e.prototype.init.apply(this,arguments),(this._brushController=new GY(n.getZr())).on("brush",Jf(this._onBrush,this))},t.prototype.render=function(e,t,n,i){if(!function(e,t,n){return n&&"axisAreaSelect"===n.type&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}(e,t,i)){this.axisModel=e,this.api=n,this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new eb,this.group.add(this._axisGroup),e.get("show")){var o=function(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}(e,t),s=o.coordinateSystem,a=e.getAreaSelectStyle(),l=a.width,u=e.axis.dim,c=Wf({strokeContainThreshold:l},s.getAxisLayout(u)),d=new mH(e,c);qf(UY,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(c,a,e,o,l,n),uI(r,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,t,n,i,r,o){var s=n.axis.getExtent(),a=s[1]-s[0],l=Math.min(30,.1*Math.abs(a)),u=Uv.create({x:s[0],y:-r/2,width:a,height:r});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:VY(u),isTargetByCursor:HY(u,o,i),getLinearBrushOtherExtent:zY(u,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(function(e){var t=e.axis;return Yf(e.activeIntervals,(function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}}))}(n))},t.prototype._onBrush=function(e){var t=e.areas,n=this.axisModel,i=n.axis,r=Yf(t,(function(e){return[i.coordToData(e.range[0],!0),i.coordToData(e.range[1],!0)]}));(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:r})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(fA);const $Y=jY;var KY={type:"axisAreaSelect",event:"axisAreaSelected"};var qY={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function YY(e){e.registerComponentView(Dq),e.registerComponentModel(Pq),e.registerCoordinateSystem("parallel",Kq),e.registerPreprocessor(xq),e.registerComponentModel(Yq),e.registerComponentView($Y),LV(e,"parallel",Yq,qY),function(e){e.registerAction(KY,(function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},(function(t){t.axis.model.setActiveIntervals(e.intervals)}))})),e.registerAction("parallelAxisExpand",(function(e,t){t.eachComponent({mainType:"parallel",query:e},(function(t){t.setAxisExpand(e)}))}))}(e)}var XY=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},ZY=function(e){function t(t){return e.call(this,t)||this}return vf(t,e),t.prototype.getDefaultShape=function(){return new XY},t.prototype.buildPath=function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()},t.prototype.highlight=function(){t_(this)},t.prototype.downplay=function(){n_(this)},t}(Ux),QY=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._focusAdjacencyDisabled=!1,n}return vf(t,e),t.prototype.render=function(e,t,n){var i=this,r=e.getGraph(),o=this.group,s=e.layoutInfo,a=s.width,l=s.height,u=e.getData(),c=e.getData("edge"),d=e.get("orient");this._model=e,o.removeAll(),o.x=s.x,o.y=s.y,r.eachEdge((function(t){var n=new ZY,i=SM(n);i.dataIndex=t.dataIndex,i.seriesIndex=e.seriesIndex,i.dataType="edge";var r,s,u,h,p,g,f,m,v=t.getModel(),y=v.getModel("lineStyle"),w=y.get("curveness"),C=t.node1.getLayout(),b=t.node1.getModel(),S=b.get("localX"),x=b.get("localY"),M=t.node2.getLayout(),_=t.node2.getModel(),R=_.get("localX"),D=_.get("localY"),P=t.getLayout();n.shape.extent=Math.max(1,P.dy),n.shape.orient=d,"vertical"===d?(r=(null!=S?S*a:C.x)+P.sy,s=(null!=x?x*l:C.y)+C.dy,u=(null!=R?R*a:M.x)+P.ty,p=r,g=s*(1-w)+(h=null!=D?D*l:M.y)*w,f=u,m=s*w+h*(1-w)):(r=(null!=S?S*a:C.x)+C.dx,s=(null!=x?x*l:C.y)+P.sy,p=r*(1-w)+(u=null!=R?R*a:M.x)*w,g=s,f=r*w+u*(1-w),m=h=(null!=D?D*l:M.y)+P.ty),n.setShape({x1:r,y1:s,x2:u,y2:h,cpx1:p,cpy1:g,cpx2:f,cpy2:m}),n.useStyle(y.getItemStyle()),JY(n.style,d,t);var T=""+v.get("value"),A=B_(v,"edgeLabel");N_(n,A,{labelFetcher:{getFormattedLabel:function(t,n,i,r,o,s){return e.getFormattedLabel(t,n,"edge",r,gm(o,A.normal&&A.normal.get("formatter"),T),s)}},labelDataIndex:t.dataIndex,defaultText:T}),n.setTextConfig({position:"inside"});var E=v.getModel("emphasis");w_(n,v,"lineStyle",(function(e){var n=e.getItemStyle();return JY(n,d,t),n})),o.add(n),c.setItemGraphicEl(t.dataIndex,n);var I=E.get("focus");f_(n,"adjacency"===I?t.getAdjacentDataIndices():"trajectory"===I?t.getTrajectoryDataIndices():I,E.get("blurScope"),E.get("disabled"))})),r.eachNode((function(t){var n=t.getLayout(),i=t.getModel(),r=i.get("localX"),s=i.get("localY"),c=i.getModel("emphasis"),d=i.get(["itemStyle","borderRadius"])||0,h=new oM({shape:{x:null!=r?r*a:n.x,y:null!=s?s*l:n.y,width:n.dx,height:n.dy,r:d},style:i.getModel("itemStyle").getItemStyle(),z2:10});N_(h,B_(i),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(t,n,"node")}},labelDataIndex:t.dataIndex,defaultText:t.id}),h.disableLabelAnimation=!0,h.setStyle("fill",t.getVisual("color")),h.setStyle("decal",t.getVisual("style").decal),w_(h,i),o.add(h),u.setItemGraphicEl(t.dataIndex,h),SM(h).dataType="node";var p=c.get("focus");f_(h,"adjacency"===p?t.getAdjacentDataIndices():"trajectory"===p?t.getTrajectoryDataIndices():p,c.get("blurScope"),c.get("disabled"))})),u.eachItemGraphicEl((function(t,r){u.getItemModel(r).get("draggable")&&(t.drift=function(t,o){i._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=o,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:u.getRawIndex(r),localX:this.shape.x/a,localY:this.shape.y/l})},t.ondragend=function(){i._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")})),!this._data&&e.isAnimationEnabled()&&o.setClipPath(function(e,t,n){var i=new oM({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return P_(i,{shape:{width:e.width+20}},t,n),i}(o.getBoundingRect(),e,(function(){o.removeClipPath()}))),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(DI);function JY(e,t,n){switch(e.fill){case"source":e.fill=n.node1.getVisual("color"),e.decal=n.node1.getVisual("style").decal;break;case"target":e.fill=n.node2.getVisual("color"),e.decal=n.node2.getVisual("style").decal;break;case"gradient":var i=n.node1.getVisual("color"),r=n.node2.getVisual("color");im(i)&&im(r)&&(e.fill=new EE(0,0,+("horizontal"===t),+("vertical"===t),[{color:i,offset:0},{color:r,offset:1}]))}}const eX=QY;var tX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.getInitialData=function(e,t){var n=e.edges||e.links,i=e.data||e.nodes,r=e.levels;this.levelModels=[];for(var o=this.levelModels,s=0;s<r.length;s++)null!=r[s].depth&&r[s].depth>=0&&(o[r[s].depth]=new aR(r[s],this,t));if(i&&n){var a=KK(i,n,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel,i=n.getData().getItemLayout(t);if(i){var r=i.depth,o=n.levelModels[r];o&&(e.parentModel=o)}return e})),t.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel,i=n.getGraph().getEdgeByIndex(t).node1.getLayout();if(i){var r=i.depth,o=n.levelModels[r];o&&(e.parentModel=o)}return e}))}));return a.data}},t.prototype.setNodePosition=function(e,t){var n=(this.option.data||this.option.nodes)[e];n.localX=t[0],n.localY=t[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,n){function i(e){return isNaN(e)||null==e}if("edge"===n){var r=this.getDataParams(e,n),o=r.data,s=r.value;return WT("nameValue",{name:o.source+" -- "+o.target,value:s,noValue:i(s)})}var a=this.getGraph().getNodeByIndex(e).getLayout().value,l=this.getDataParams(e,n).data.name;return WT("nameValue",{name:null!=l?l+"":null,value:a,noValue:i(a)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,n){var i=e.prototype.getDataParams.call(this,t,n);if(null==i.value&&"node"===n){var r=this.getGraph().getNodeByIndex(t).getLayout().value;i.value=r}return i},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(pA);const nX=tX;function iX(e,t){e.eachSeriesByType("sankey",(function(e){var n=e.get("nodeWidth"),i=e.get("nodeGap"),r=function(e,t){return uD(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=r;var o=r.width,s=r.height,a=e.getGraph(),l=a.nodes,u=a.edges;!function(e){qf(e,(function(e){var t=pX(e.outEdges,hX),n=pX(e.inEdges,hX),i=e.getValue()||0,r=Math.max(t,n,i);e.setLayout({value:r},!0)}))}(l),function(e,t,n,i,r,o,s,a,l){(function(e,t,n,i,r,o,s){for(var a=[],l=[],u=[],c=[],d=0,h=0;h<t.length;h++)a[h]=1;for(h=0;h<e.length;h++)l[h]=e[h].inEdges.length,0===l[h]&&u.push(e[h]);var p=-1;for(;u.length;){for(var g=0;g<u.length;g++){var f=u[g],m=f.hostGraph.data.getRawDataItem(f.dataIndex),v=null!=m.depth&&m.depth>=0;v&&m.depth>p&&(p=m.depth),f.setLayout({depth:v?m.depth:d},!0),"vertical"===o?f.setLayout({dy:n},!0):f.setLayout({dx:n},!0);for(var y=0;y<f.outEdges.length;y++){var w=f.outEdges[y];a[t.indexOf(w)]=0;var C=w.node2;0===--l[e.indexOf(C)]&&c.indexOf(C)<0&&c.push(C)}}++d,u=c,c=[]}for(h=0;h<a.length;h++)if(1===a[h])throw new Error("Sankey is a DAG, the original data has cycle!");var b=p>d-1?p:d-1;s&&"left"!==s&&function(e,t,n,i){if("right"===t){for(var r=[],o=e,s=0;o.length;){for(var a=0;a<o.length;a++){var l=o[a];l.setLayout({skNodeHeight:s},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];r.indexOf(c.node1)<0&&r.push(c.node1)}}o=r,r=[],++s}qf(e,(function(e){rX(e)||e.setLayout({depth:Math.max(0,i-e.getLayout().skNodeHeight)},!0)}))}else"justify"===t&&function(e,t){qf(e,(function(e){rX(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}(e,i)}(e,s,0,b);var S="vertical"===o?(r-n)/b:(i-n)/b;!function(e,t,n){qf(e,(function(e){var i=e.getLayout().depth*t;"vertical"===n?e.setLayout({y:i},!0):e.setLayout({x:i},!0)}))}(e,S,o)})(e,t,n,r,o,a,l),function(e,t,n,i,r,o,s){var a=function(e,t){var n=[],i="vertical"===t?"y":"x",r=Jb(e,(function(e){return e.getLayout()[i]}));return r.keys.sort((function(e,t){return e-t})),qf(r.keys,(function(e){n.push(r.buckets.get(e))})),n}(e,s);(function(e,t,n,i,r,o){var s=1/0;qf(e,(function(e){var t=e.length,a=0;qf(e,(function(e){a+=e.getLayout().value}));var l="vertical"===o?(i-(t-1)*r)/a:(n-(t-1)*r)/a;l<s&&(s=l)})),qf(e,(function(e){qf(e,(function(e,t){var n=e.getLayout().value*s;"vertical"===o?(e.setLayout({x:t},!0),e.setLayout({dx:n},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:n},!0))}))})),qf(t,(function(e){var t=+e.getValue()*s;e.setLayout({dy:t},!0)}))})(a,t,n,i,r,s),oX(a,r,n,i,s);for(var l=1;o>0;o--)sX(a,l*=.99,s),oX(a,r,n,i,s),gX(a,l,s),oX(a,r,n,i,s)}(e,t,o,r,i,s,a),function(e,t){var n="vertical"===t?"x":"y";qf(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[n]-t.node2.getLayout()[n]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[n]-t.node1.getLayout()[n]}))})),qf(e,(function(e){var t=0,n=0;qf(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),qf(e.inEdges,(function(e){e.setLayout({ty:n},!0),n+=e.getLayout().dy}))}))}(e,a)}(l,u,n,i,o,s,0!==Zf(l,(function(e){return 0===e.getLayout().value})).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))}))}function rX(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function oX(e,t,n,i,r){var o="vertical"===r?"x":"y";qf(e,(function(e){var s,a,l;e.sort((function(e,t){return e.getLayout()[o]-t.getLayout()[o]}));for(var u=0,c=e.length,d="vertical"===r?"dx":"dy",h=0;h<c;h++)(l=u-(a=e[h]).getLayout()[o])>0&&(s=a.getLayout()[o]+l,"vertical"===r?a.setLayout({x:s},!0):a.setLayout({y:s},!0)),u=a.getLayout()[o]+a.getLayout()[d]+t;if((l=u-t-("vertical"===r?i:n))>0){s=a.getLayout()[o]-l,"vertical"===r?a.setLayout({x:s},!0):a.setLayout({y:s},!0),u=s;for(h=c-2;h>=0;--h)(l=(a=e[h]).getLayout()[o]+a.getLayout()[d]+t-u)>0&&(s=a.getLayout()[o]-l,"vertical"===r?a.setLayout({x:s},!0):a.setLayout({y:s},!0)),u=a.getLayout()[o]}}))}function sX(e,t,n){qf(e.slice().reverse(),(function(e){qf(e,(function(e){if(e.outEdges.length){var i=pX(e.outEdges,aX,n)/pX(e.outEdges,hX);if(isNaN(i)){var r=e.outEdges.length;i=r?pX(e.outEdges,lX,n)/r:0}if("vertical"===n){var o=e.getLayout().x+(i-dX(e,n))*t;e.setLayout({x:o},!0)}else{var s=e.getLayout().y+(i-dX(e,n))*t;e.setLayout({y:s},!0)}}}))}))}function aX(e,t){return dX(e.node2,t)*e.getValue()}function lX(e,t){return dX(e.node2,t)}function uX(e,t){return dX(e.node1,t)*e.getValue()}function cX(e,t){return dX(e.node1,t)}function dX(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function hX(e){return e.getValue()}function pX(e,t,n){for(var i=0,r=e.length,o=-1;++o<r;){var s=+t(e[o],n);isNaN(s)||(i+=s)}return i}function gX(e,t,n){qf(e,(function(e){qf(e,(function(e){if(e.inEdges.length){var i=pX(e.inEdges,uX,n)/pX(e.inEdges,hX);if(isNaN(i)){var r=e.inEdges.length;i=r?pX(e.inEdges,cX,n)/r:0}if("vertical"===n){var o=e.getLayout().x+(i-dX(e,n))*t;e.setLayout({x:o},!0)}else{var s=e.getLayout().y+(i-dX(e,n))*t;e.setLayout({y:s},!0)}}}))}))}function fX(e){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph(),n=t.nodes,i=t.edges;if(n.length){var r=1/0,o=-1/0;qf(n,(function(e){var t=e.getLayout().value;t<r&&(r=t),t>o&&(o=t)})),qf(n,(function(t){var n=new C$({type:"color",mappingMethod:"linear",dataExtent:[r,o],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),i=t.getModel().get(["itemStyle","color"]);null!=i?(t.setVisual("color",i),t.setVisual("style",{fill:i})):(t.setVisual("color",n),t.setVisual("style",{fill:n}))}))}i.length&&qf(i,(function(e){var t=e.getModel().get("lineStyle");e.setVisual("style",t)}))}))}var mX=function(){function e(){}return e.prototype.getInitialData=function(e,t){var n,i,r=t.getComponent("xAxis",this.get("xAxisIndex")),o=t.getComponent("yAxis",this.get("yAxisIndex")),s=r.get("type"),a=o.get("type");"category"===s?(e.layout="horizontal",n=r.getOrdinalMeta(),i=!0):"category"===a?(e.layout="vertical",n=o.getOrdinalMeta(),i=!0):e.layout=e.layout||"horizontal";var l=["x","y"],u="horizontal"===e.layout?0:1,c=this._baseAxisDim=l[u],d=l[1-u],h=[r,o],p=h[u].get("type"),g=h[1-u].get("type"),f=e.data;if(f&&i){var m=[];qf(f,(function(e,t){var n;tm(e)?(n=e.slice(),e.unshift(t)):tm(e.value)?((n=Wf({},e)).value=n.value.slice(),e.value.unshift(t)):n=e,m.push(n)})),e.data=m}var v=this.defaultValueDimensions,y=[{name:c,type:zN(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:zN(g),dimsDef:v.slice()}];return uV(this,{coordDimensions:y,dimensionsCount:v.length+1,encodeDefaulter:em(ID,y,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}(),vX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return vf(t,e),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(pA);$f(vX,mX,!0);const yX=vX;var wX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n){var i=e.getData(),r=this.group,o=this._data;this._data||r.removeAll();var s="horizontal"===e.get("layout")?1:0;i.diff(o).add((function(e){if(i.hasValue(e)){var t=SX(i.getItemLayout(e),i,e,s,!0);i.setItemGraphicEl(e,t),r.add(t)}})).update((function(e,t){var n=o.getItemGraphicEl(t);if(i.hasValue(e)){var a=i.getItemLayout(e);n?(k_(n),xX(a,n,i,e)):n=SX(a,i,e,s),r.add(n),i.setItemGraphicEl(e,n)}else r.remove(n)})).remove((function(e){var t=o.getItemGraphicEl(e);t&&r.remove(t)})).execute(),this._data=i},t.prototype.remove=function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(e){e&&t.remove(e)}))},t.type="boxplot",t}(DI),CX=function(){},bX=function(e){function t(t){var n=e.call(this,t)||this;return n.type="boxplotBoxPath",n}return vf(t,e),t.prototype.getDefaultShape=function(){return new CX},t.prototype.buildPath=function(e,t){var n=t.points,i=0;for(e.moveTo(n[i][0],n[i][1]),i++;i<4;i++)e.lineTo(n[i][0],n[i][1]);for(e.closePath();i<n.length;i++)e.moveTo(n[i][0],n[i][1]),i++,e.lineTo(n[i][0],n[i][1])},t}(Ux);function SX(e,t,n,i,r){var o=e.ends,s=new bX({shape:{points:r?MX(o,i,e):o}});return xX(e,s,t,n,r),s}function xX(e,n,i,r,o){var s=i.hostModel;(0,t[o?"initProps":"updateProps"])(n,{shape:{points:e.ends}},s,r),n.useStyle(i.getItemVisual(r,"style")),n.style.strokeNoScale=!0,n.z2=100;var a=i.getItemModel(r),l=a.getModel("emphasis");w_(n,a),f_(n,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function MX(e,t,n){return Yf(e,(function(e){return(e=e.slice())[t]=n.initBaseline,e}))}const _X=wX;var RX=qf;function DX(e){var t=function(e){var t=[],n=[];return e.eachSeriesByType("boxplot",(function(e){var i=e.getBaseAxis(),r=jf(n,i);r<0&&(r=n.length,n[r]=i,t[r]={axis:i,seriesModels:[]}),t[r].seriesModels.push(e)})),t}(e);RX(t,(function(e){var t=e.seriesModels;t.length&&(!function(e){var t,n=e.axis,i=e.seriesModels,r=i.length,o=e.boxWidthList=[],s=e.boxOffsetList=[],a=[];if("category"===n.type)t=n.getBandWidth();else{var l=0;RX(i,(function(e){l=Math.max(l,e.getData().count())}));var u=n.getExtent();t=Math.abs(u[1]-u[0])/l}RX(i,(function(e){var n=e.get("boxWidth");tm(n)||(n=[n,n]),a.push([ub(n[0],t)||0,ub(n[1],t)||0])}));var c=.8*t-2,d=c/r*.3,h=(c-d*(r-1))/r,p=h/2-c/2;RX(i,(function(e,t){s.push(p),p+=d+h,o.push(Math.min(Math.max(h,a[t][0]),a[t][1]))}))}(e),RX(t,(function(t,n){!function(e,t,n){var i=e.coordinateSystem,r=e.getData(),o=n/2,s="horizontal"===e.get("layout")?0:1,a=1-s,l=["x","y"],u=r.mapDimension(l[s]),c=r.mapDimensionsAll(l[a]);if(null==u||c.length<5)return;for(var d=0;d<r.count();d++){var h=r.get(u,d),p=w(h,c[2],d),g=w(h,c[0],d),f=w(h,c[1],d),m=w(h,c[3],d),v=w(h,c[4],d),y=[];C(y,f,!1),C(y,m,!0),y.push(g,f,v,m),b(y,g),b(y,v),b(y,p),r.setItemLayout(d,{initBaseline:p[a],ends:y})}function w(e,n,o){var l,u=r.get(n,o),c=[];return c[s]=e,c[a]=u,isNaN(e)||isNaN(u)?l=[NaN,NaN]:(l=i.dataToPoint(c))[s]+=t,l}function C(e,t,n){var i=t.slice(),r=t.slice();i[s]+=o,r[s]-=o,n?e.push(i,r):e.push(r,i)}function b(e,t){var n=t.slice(),i=t.slice();n[s]-=o,i[s]+=o,e.push(n,i)}}(t,e.boxOffsetList[n],e.boxWidthList[n])})))}))}var PX={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==xD){0,sT("")}var n=function(e,t){for(var n=[],i=[],r=(t=t||{}).boundIQR,o="none"===r||0===r,s=0;s<e.length;s++){var a=db(e[s].slice()),l=xb(a,.25),u=xb(a,.5),c=xb(a,.75),d=a[0],h=a[a.length-1],p=(null==r?1.5:r)*(c-l),g=o?d:Math.max(d,l-p),f=o?h:Math.min(h,c+p),m=t.itemNameFormatter,v=nm(m)?m({value:s}):im(m)?m.replace("{value}",s+""):s+"";n.push([v,g,l,u,c,f]);for(var y=0;y<a.length;y++){var w=a[y];if(w<g||w>f){var C=[v,w];i.push(C)}}}return{boxData:n,outliers:i}}(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};var TX=["color","borderColor"],AX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,t,n){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,t,n,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},t.prototype.eachRendered=function(e){yI(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e){var t=e.getData(),n=this._data,i=this.group,r=t.getLayout("isSimpleBox"),o=e.get("clip",!0),s=e.coordinateSystem,a=s.getArea&&s.getArea();this._data||i.removeAll(),t.diff(n).add((function(n){if(t.hasValue(n)){var s=t.getItemLayout(n);if(o&&FX(a,s))return;var l=kX(s,n,!0);P_(l,{shape:{points:s.ends}},e,n),LX(l,t,n,r),i.add(l),t.setItemGraphicEl(n,l)}})).update((function(s,l){var u=n.getItemGraphicEl(l);if(t.hasValue(s)){var c=t.getItemLayout(s);o&&FX(a,c)?i.remove(u):(u?(D_(u,{shape:{points:c.ends}},e,s),k_(u)):u=kX(c,s),LX(u,t,s,r),i.add(u),t.setItemGraphicEl(s,u))}else i.remove(u)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&i.remove(t)})).execute(),this._data=t},t.prototype._renderLarge=function(e){this._clear(),GX(e,this.group);var t=e.get("clip",!0)?jB(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,t){for(var n,i=t.getData(),r=i.getLayout("isSimpleBox");null!=(n=e.next());){var o=kX(i.getItemLayout(n),n);LX(o,i,n,r),o.incremental=!0,this.group.add(o),this._progressiveEls.push(o)}},t.prototype._incrementalRenderLarge=function(e,t){GX(t,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(DI),EX=function(){},IX=function(e){function t(t){var n=e.call(this,t)||this;return n.type="normalCandlestickBox",n}return vf(t,e),t.prototype.getDefaultShape=function(){return new EX},t.prototype.buildPath=function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))},t}(Ux);function kX(e,t,n){var i=e.ends;return new IX({shape:{points:n?OX(i,e):i},z2:100})}function FX(e,t){for(var n=!0,i=0;i<t.ends.length;i++)if(e.contain(t.ends[i][0],t.ends[i][1])){n=!1;break}return n}function LX(e,t,n,i){var r=t.getItemModel(n);e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.__simpleBox=i,w_(e,r)}function OX(e,t){return Yf(e,(function(e){return(e=e.slice())[1]=t.initBaseline,e}))}var NX=function(){},BX=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeCandlestickBox",n}return vf(t,e),t.prototype.getDefaultShape=function(){return new NX},t.prototype.buildPath=function(e,t){for(var n=t.points,i=0;i<n.length;)if(this.__sign===n[i++]){var r=n[i++];e.moveTo(r,n[i++]),e.lineTo(r,n[i++])}else i+=3},t}(Ux);function GX(e,t,n,i){var r=e.getData(),o=r.getLayout("largePoints"),s=new BX({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});t.add(s);var a=new BX({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});t.add(a);var l=new BX({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});t.add(l),VX(1,s,e,r),VX(-1,a,e,r),VX(0,l,e,r),i&&(s.incremental=!0,a.incremental=!0),n&&n.push(s,a)}function VX(e,t,n,i){var r=n.get(["itemStyle",e>0?"borderColor":"borderColor0"])||n.get(["itemStyle",e>0?"color":"color0"]);0===e&&(r=n.get(["itemStyle","borderColorDoji"]));var o=n.getModel("itemStyle").getItemStyle(TX);t.useStyle(o),t.style.fill=null,t.style.stroke=r}const zX=AX;var HX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return vf(t,e),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,t,n){var i=t.getItemLayout(e);return i&&n.rect(i.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(pA);$f(HX,mX,!0);const WX=HX;function UX(e){e&&tm(e.series)&&qf(e.series,(function(e){sm(e)&&"k"===e.type&&(e.type="candlestick")}))}var jX=["itemStyle","borderColor"],$X=["itemStyle","borderColor0"],KX=["itemStyle","borderColorDoji"],qX=["itemStyle","color"],YX=["itemStyle","color0"],XX={seriesType:"candlestick",plan:mA(),performRawSeries:!0,reset:function(e,t){function n(e,t){return t.get(e>0?qX:YX)}function i(e,t){return t.get(0===e?KX:e>0?jX:$X)}if(!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,t){for(var r;null!=(r=e.next());){var o=t.getItemModel(r),s=t.getItemLayout(r).sign,a=o.getItemStyle();a.fill=n(s,o),a.stroke=i(s,o)||a.fill,Wf(t.ensureUniqueItemVisual(r,"style"),a)}}}}};const ZX=XX;var QX={seriesType:"candlestick",plan:mA(),reset:function(e){var t=e.coordinateSystem,n=e.getData(),i=function(e,t){var n,i=e.getBaseAxis(),r="category"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/t.count()),o=ub(pm(e.get("barMaxWidth"),r),r),s=ub(pm(e.get("barMinWidth"),1),r),a=e.get("barWidth");return null!=a?ub(a,r):Math.max(Math.min(r/2,o),s)}(e,n),r=["x","y"],o=n.getDimensionIndex(n.mapDimension(r[0])),s=Yf(n.mapDimensionsAll(r[1]),n.getDimensionIndex,n),a=s[0],l=s[1],u=s[2],c=s[3];if(n.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(o<0||s.length<4))return{progress:e.pipelineContext.large?function(n,i){var r,s,d=FB(4*n.count),h=0,p=[],g=[],f=i.getStore(),m=!!e.get(["itemStyle","borderColorDoji"]);for(;null!=(s=n.next());){var v=f.get(o,s),y=f.get(a,s),w=f.get(l,s),C=f.get(u,s),b=f.get(c,s);isNaN(v)||isNaN(C)||isNaN(b)?(d[h++]=NaN,h+=3):(d[h++]=JX(f,s,y,w,l,m),p[0]=v,p[1]=C,r=t.dataToPoint(p,null,g),d[h++]=r?r[0]:NaN,d[h++]=r?r[1]:NaN,p[1]=b,r=t.dataToPoint(p,null,g),d[h++]=r?r[1]:NaN)}i.setLayout("largePoints",d)}:function(e,n){var r,s=n.getStore();for(;null!=(r=e.next());){var d=s.get(o,r),h=s.get(a,r),p=s.get(l,r),g=s.get(u,r),f=s.get(c,r),m=Math.min(h,p),v=Math.max(h,p),y=M(m,d),w=M(v,d),C=M(g,d),b=M(f,d),S=[];_(S,w,0),_(S,y,1),S.push(D(b),D(w),D(C),D(y));var x=!!n.getItemModel(r).get(["itemStyle","borderColorDoji"]);n.setItemLayout(r,{sign:JX(s,r,h,p,l,x),initBaseline:h>p?w[1]:y[1],ends:S,brushRect:R(g,f,d)})}function M(e,n){var i=[];return i[0]=n,i[1]=e,isNaN(n)||isNaN(e)?[NaN,NaN]:t.dataToPoint(i)}function _(e,t,n){var r=t.slice(),o=t.slice();r[0]=rI(r[0]+i/2,1,!1),o[0]=rI(o[0]-i/2,1,!0),n?e.push(r,o):e.push(o,r)}function R(e,t,n){var r=M(e,n),o=M(t,n);return r[0]-=i/2,o[0]-=i/2,{x:r[0],y:r[1],width:i,height:o[1]-r[1]}}function D(e){return e[0]=rI(e[0],1),e}}}}};function JX(e,t,n,i,r,o){return n>i?-1:n<i?1:o?0:t>0?e.get(r,t-1)<=i?1:-1:1}const eZ=QX;function tZ(e,t){var n=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})}))}var nZ=function(e){function t(t,n){var i=e.call(this)||this,r=new MB(t,n),o=new eb;return i.add(r),i.add(o),i.updateData(t,n),i}return vf(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,i=e.rippleNumber,r=this.childAt(1),o=0;o<i;o++){var s=Ok(t,-1,-1,2,2,n);s.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var a=-o/i*e.period+e.effectOffset;s.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(a).start(),s.animateStyle(!0).when(e.period,{opacity:0}).delay(a).start(),r.add(s)}tZ(r,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],r=0;r<i.length;r++){var o=i[r];if(t[o]!==e[o])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}tZ(n,e)},t.prototype.highlight=function(){t_(this)},t.prototype.downplay=function(){n_(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,t){var n=this,i=e.hostModel;this.childAt(0).updateData(e,t);var r=this.childAt(1),o=e.getItemModel(t),s=e.getItemVisual(t,"symbol"),a=Nk(e.getItemVisual(t,"symbolSize")),l=e.getItemVisual(t,"style"),u=l&&l.fill,c=o.getModel("emphasis");r.setScale(a),r.traverse((function(e){e.setStyle("fill",u)}));var d=Bk(e.getItemVisual(t,"symbolOffset"),a);d&&(r.x=d[0],r.y=d[1]);var h=e.getItemVisual(t,"symbolRotate");r.rotation=(h||0)*Math.PI/180||0;var p={};p.showEffectOn=i.get("showEffectOn"),p.rippleScale=o.get(["rippleEffect","scale"]),p.brushType=o.get(["rippleEffect","brushType"]),p.period=1e3*o.get(["rippleEffect","period"]),p.effectOffset=t/e.count(),p.z=i.getShallow("z")||0,p.zlevel=i.getShallow("zlevel")||0,p.symbolType=s,p.color=u,p.rippleEffectColor=o.get(["rippleEffect","color"]),p.rippleNumber=o.get(["rippleEffect","number"]),"render"===p.showEffectOn?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==p.showEffectOn&&n.startEffectAnimation(p):"normal"===e&&"render"!==p.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=p,f_(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(eb);const iZ=nZ;var rZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.init=function(){this._symbolDraw=new TB(iZ)},t.prototype.render=function(e,t,n){var i=e.getData(),r=this._symbolDraw;r.updateData(i,{clipShape:this._getClipShape(e)}),this.group.add(r.group)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},t.prototype.updateTransform=function(e,t,n){var i=e.getData();this.group.dirty();var r=oG("").reset(e,t,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=function(e){var t=[1,0,0,1,0,0];return Dv(t,e),t}(t.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(DI);const oZ=rZ;var sZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return vf(t,e),t.prototype.getInitialData=function(e,t){return yB(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(pA);const aZ=sZ;var lZ=function(e){function t(t,n,i){var r=e.call(this)||this;return r.add(r.createLine(t,n,i)),r._updateEffectSymbol(t,n),r}return vf(t,e),t.prototype.createLine=function(e,t,n){return new _K(e,t,n)},t.prototype._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),i=n.get("symbolSize"),r=n.get("symbol");tm(i)||(i=[i,i]);var o=e.getItemVisual(t,"style"),s=n.get("color")||o&&o.stroke,a=this.childAt(1);this._symbolType!==r&&(this.remove(a),(a=Ok(r,-.5,-.5,1,1,s)).z2=100,a.culling=!0,this.add(a)),a&&(a.setStyle("shadowColor",s),a.setStyle(n.getItemStyle(["color"])),a.scaleX=i[0],a.scaleY=i[1],a.setColor(s),this._symbolType=r,this._symbolScale=i,this._updateEffectAnimation(e,n,t))},t.prototype._updateEffectAnimation=function(e,t,n){var i=this.childAt(1);if(i){var r=e.getItemLayout(n),o=1e3*t.get("period"),s=t.get("loop"),a=t.get("roundTrip"),l=t.get("constantSpeed"),u=hm(t.get("delay"),(function(t){return t/e.count()*o/3}));if(i.ignore=!0,this._updateAnimationPoints(i,r),l>0&&(o=this._getLineLength(i)/l*1e3),o!==this._period||s!==this._loop||a!==this._roundTrip){i.stopAnimation();var c=void 0;c=nm(u)?u(n):u,i.__t>0&&(c=-o*i.__t),this._animateSymbol(i,o,c,s,a)}this._period=o,this._loop=s,this._roundTrip=a}},t.prototype._animateSymbol=function(e,t,n,i,r){if(t>0){e.__t=0;var o=this,s=e.animate("",i).when(r?2*t:t,{__t:r?2:1}).delay(n).during((function(){o._updateSymbolPosition(e)}));i||s.done((function(){o.remove(e)})),s.start()}},t.prototype._getLineLength=function(e){return $m(e.__p1,e.__cp1)+$m(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,i=e.__cp1,r=e.__t<1?e.__t:2-e.__t,o=[e.x,e.y],s=o.slice(),a=By,l=Gy;o[0]=a(t[0],i[0],n[0],r),o[1]=a(t[1],i[1],n[1],r);var u=e.__t<1?l(t[0],i[0],n[0],r):l(n[0],i[0],t[0],1-r),c=e.__t<1?l(t[1],i[1],n[1],r):l(n[1],i[1],t[1],1-r);e.rotation=-Math.atan2(c,u)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*$m(s,o),1===r&&(o[0]=s[0]+(o[0]-s[0])/2,o[1]=s[1]+(o[1]-s[1])/2)):1===e.__lastT?e.scaleY=2*$m(t,o):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=o[0],e.y=o[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},t}(eb);const uZ=lZ;var cZ=function(e){function t(t,n,i){var r=e.call(this)||this;return r._createPolyline(t,n,i),r}return vf(t,e),t.prototype._createPolyline=function(e,t,n){var i=e.getItemLayout(t),r=new gE({shape:{points:i}});this.add(r),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var i=e.hostModel;D_(this.childAt(0),{shape:{points:e.getItemLayout(t)}},i,t),this._updateCommonStl(e,t,n)},t.prototype._updateCommonStl=function(e,t,n){var i=this.childAt(0),r=e.getItemModel(t),o=n&&n.emphasisLineStyle,s=n&&n.focus,a=n&&n.blurScope,l=n&&n.emphasisDisabled;if(!n||e.hasItemOption){var u=r.getModel("emphasis");o=u.getModel("lineStyle").getLineStyle(),l=u.get("disabled"),s=u.get("focus"),a=u.get("blurScope")}i.useStyle(e.getItemVisual(t,"style")),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=o,f_(this,s,a,l)},t.prototype.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},t}(eb);const dZ=cZ;var hZ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return vf(t,e),t.prototype.createLine=function(e,t,n){return new dZ(e,t,n)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],i=0,r=1;r<t.length;r++){var o=t[r-1],s=t[r];i+=$m(o,s),n.push(i)}if(0!==i){for(r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t=e.__t<1?e.__t:2-e.__t,n=this._points,i=this._offsets,r=n.length;if(i){var o,s=this._lastFrame;if(t<this._lastFramePercent){for(o=Math.min(s+1,r-1);o>=0&&!(i[o]<=t);o--);o=Math.min(o,r-2)}else{for(o=s;o<r&&!(i[o]>t);o++);o=Math.min(o-1,r-2)}var a=(t-i[o])/(i[o+1]-i[o]),l=n[o],u=n[o+1];e.x=l[0]*(1-a)+a*u[0],e.y=l[1]*(1-a)+a*u[1];var c=e.__t<1?u[0]-l[0]:l[0]-u[0],d=e.__t<1?u[1]-l[1]:l[1]-u[1];e.rotation=-Math.atan2(d,c)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=t,e.ignore=!1}},t}(uZ);const pZ=hZ;var gZ=function(){this.polyline=!1,this.curveness=0,this.segs=[]},fZ=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return vf(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new gZ},t.prototype.buildPath=function(e,t){var n,i=t.segs,r=t.curveness;if(t.polyline)for(n=this._off;n<i.length;){var o=i[n++];if(o>0){e.moveTo(i[n++],i[n++]);for(var s=1;s<o;s++)e.lineTo(i[n++],i[n++])}}else for(n=this._off;n<i.length;){var a=i[n++],l=i[n++],u=i[n++],c=i[n++];if(e.moveTo(a,l),r>0){var d=(a+u)/2-(l-c)*r,h=(l+c)/2-(u-a)*r;e.quadraticCurveTo(d,h,u,c)}else e.lineTo(u,c)}this.incremental&&(this._off=n,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var n=this.shape,i=n.segs,r=n.curveness,o=this.style.lineWidth;if(n.polyline)for(var s=0,a=0;a<i.length;){var l=i[a++];if(l>0)for(var u=i[a++],c=i[a++],d=1;d<l;d++){if(Sx(u,c,h=i[a++],p=i[a++],o,e,t))return s}s++}else for(s=0,a=0;a<i.length;){u=i[a++],c=i[a++];var h=i[a++],p=i[a++];if(r>0){if(Mx(u,c,(u+h)/2-(c-p)*r,(c+p)/2-(h-u)*r,h,p,o,e,t))return s}else if(Sx(u,c,h,p,o,e,t))return s;s++}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect();return e=n[0],t=n[1],i.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape.segs,n=1/0,i=1/0,r=-1/0,o=-1/0,s=0;s<t.length;){var a=t[s++],l=t[s++];n=Math.min(a,n),r=Math.max(a,r),i=Math.min(l,i),o=Math.max(l,o)}e=this._rect=new Uv(n,i,r,o)}return e},t}(Ux),mZ=function(){function e(){this.group=new eb}return e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],i=t.getLayout("linesPoints"),r=n&&n.shape.segs;if(r&&r.length<2e4){var o=r.length,s=new Float32Array(o+i.length);s.set(r),s.set(i,o),n.setShape({segs:s})}else{this._newAdded=[];var a=this._create();a.incremental=!0,a.setShape({segs:i}),this._setCommon(a,t),a.__startIndex=e.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new fZ({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var r=t.getVisual("style");r&&r.stroke&&e.setStyle("stroke",r.stroke),e.setStyle("fill",null);var o=SM(e);o.seriesIndex=i.seriesIndex,e.on("mousemove",(function(t){o.dataIndex=null;var n=e.hoverDataIdx;n>0&&(o.dataIndex=n+e.__startIndex)}))},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();const vZ=mZ;var yZ={seriesType:"lines",plan:mA(),reset:function(e){var t=e.coordinateSystem;if(t){var n=e.get("polyline"),i=e.pipelineContext.large;return{progress:function(r,o){var s=[];if(i){var a=void 0,l=r.end-r.start;if(n){for(var u=0,c=r.start;c<r.end;c++)u+=e.getLineCoordsCount(c);a=new Float32Array(l+2*u)}else a=new Float32Array(4*l);var d=0,h=[];for(c=r.start;c<r.end;c++){var p=e.getLineCoords(c,s);n&&(a[d++]=p);for(var g=0;g<p;g++)h=t.dataToPoint(s[g],!1,h),a[d++]=h[0],a[d++]=h[1]}o.setLayout("linesPoints",a)}else for(c=r.start;c<r.end;c++){var f=o.getItemModel(c),m=(p=e.getLineCoords(c,s),[]);if(n)for(var v=0;v<p;v++)m.push(t.dataToPoint(s[v]));else{m[0]=t.dataToPoint(s[0]),m[1]=t.dataToPoint(s[1]);var y=f.get(["lineStyle","curveness"]);+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}o.setItemLayout(c,m)}}}}}};const wZ=yZ;var CZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n){var i=e.getData(),r=this._updateLineDraw(i,e),o=e.get("zlevel"),s=e.get(["effect","trailLength"]),a=n.getZr(),l="svg"===a.painter.getType();l||a.painter.getLayer(o).clear(!0),null==this._lastZlevel||l||a.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&s>0&&(l||a.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(s/10+.9,1),0)})),r.updateData(i);var u=e.get("clip",!0)&&jB(e.coordinateSystem,!1,e);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,t,n){var i=e.getData(),r=e.pipelineContext;if(!this._finished||r.large||r.progressiveRender)return{update:!0};var o=wZ.reset(e,t,n);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},t.prototype._updateLineDraw=function(e,t){var n=this._lineDraw,i=this._showEffect(t),r=!!t.get("polyline"),o=t.pipelineContext.large;return n&&i===this._hasEffet&&r===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new vZ:new TK(r?i?pZ:dZ:i?uZ:_K),this._hasEffet=i,this._isPolyline=r,this._isLargeDraw=o),this.group.add(n.group),n},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.type="lines",t}(DI);const bZ=CZ;var SZ="undefined"===typeof Uint32Array?Array:Uint32Array,xZ="undefined"===typeof Float64Array?Array:Float64Array;function MZ(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=Yf(t,(function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),Hf([t,e[0],e[1]])})))}var _Z=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return vf(t,e),t.prototype.init=function(t){t.data=t.data||[],MZ(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if(MZ(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=Rm(this._flatCoords,t.flatCoords),this._flatCoordsOffset=Rm(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],r=0;r<i;r++)t[r]=t[r]||[],t[r][0]=this._flatCoords[n+2*r],t[r][1]=this._flatCoords[n+2*r+1];return i}var o=this._getCoordsFromItemModel(e);for(r=0;r<o.length;r++)t[r]=t[r]||[],t[r][0]=o[r][0],t[r][1]=o[r][1];return o.length},t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),om(e[0])){for(var n=e.length,i=new SZ(n),r=new xZ(n),o=0,s=0,a=0,l=0;l<n;){a++;var u=e[l++];i[s++]=o+t,i[s++]=u;for(var c=0;c<u;c++){var d=e[l++],h=e[l++];r[o++]=d,r[o++]=h}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,s),flatCoords:r,count:a}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var n=new uB(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,i,r){if(e instanceof Array)return NaN;n.hasItemOption=!0;var o=e.value;return null!=o?o instanceof Array?o[r]:o:void 0})),n},t.prototype.formatTooltip=function(e,t,n){var i=this.getData().getItemModel(e),r=i.get("name");if(r)return r;var o=i.get("fromName"),s=i.get("toName"),a=[];return null!=o&&a.push(o),null!=s&&a.push(s),WT("nameValue",{name:a.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&t>0?t+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(pA);const RZ=_Z;function DZ(e){return e instanceof Array||(e=[e,e]),e}var PZ={seriesType:"lines",reset:function(e){var t=DZ(e.get("symbol")),n=DZ(e.get("symbolSize")),i=e.getData();return i.setVisual("fromSymbol",t&&t[0]),i.setVisual("toSymbol",t&&t[1]),i.setVisual("fromSymbolSize",n&&n[0]),i.setVisual("toSymbolSize",n&&n[1]),{dataEach:i.hasItemOption?function(e,t){var n=e.getItemModel(t),i=DZ(n.getShallow("symbol",!0)),r=DZ(n.getShallow("symbolSize",!0));i[0]&&e.setItemVisual(t,"fromSymbol",i[0]),i[1]&&e.setItemVisual(t,"toSymbol",i[1]),r[0]&&e.setItemVisual(t,"fromSymbolSize",r[0]),r[1]&&e.setItemVisual(t,"toSymbolSize",r[1])}:null}}};const TZ=PZ;var AZ=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=_f.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,n,i,r,o){var s=this._getBrush(),a=this._getGradient(r,"inRange"),l=this._getGradient(r,"outOfRange"),u=this.pointSize+this.blurSize,c=this.canvas,d=c.getContext("2d"),h=e.length;c.width=t,c.height=n;for(var p=0;p<h;++p){var g=e[p],f=g[0],m=g[1],v=i(g[2]);d.globalAlpha=v,d.drawImage(s,f-u,m-u)}if(!c.width||!c.height)return c;for(var y=d.getImageData(0,0,c.width,c.height),w=y.data,C=0,b=w.length,S=this.minOpacity,x=this.maxOpacity-S;C<b;){v=w[C+3]/256;var M=4*Math.floor(255*v);if(v>0){var _=o(v)?a:l;v>0&&(v=v*x+S),w[C++]=_[M],w[C++]=_[M+1],w[C++]=_[M+2],w[C++]=_[M+3]*v*256}else C+=4}return d.putImageData(y,0,0),c},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=_f.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var i=e.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},e.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,i=n[t]||(n[t]=new Uint8ClampedArray(1024)),r=[0,0,0,0],o=0,s=0;s<256;s++)e[t](s/255,!0,r),i[o++]=r[0],i[o++]=r[1],i[o++]=r[2],i[o++]=r[3];return i},e}();const EZ=AZ;function IZ(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var kZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n){var i;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(n){n===e&&(i=t)}))})),this._progressiveEls=null,this.group.removeAll();var r=e.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):IZ(r)&&this._renderOnGeo(r,e,i,n)},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,n,i){var r=t.coordinateSystem;r&&(IZ(r)?this.render(t,n,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,i,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){yI(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,n,i,r){var o,s,a,l,u=e.coordinateSystem,c=$B(u,"cartesian2d");if(c){var d=u.getAxis("x"),h=u.getAxis("y");0,o=d.getBandWidth()+.5,s=h.getBandWidth()+.5,a=d.scale.getExtent(),l=h.scale.getExtent()}for(var p=this.group,g=e.getData(),f=e.getModel(["emphasis","itemStyle"]).getItemStyle(),m=e.getModel(["blur","itemStyle"]).getItemStyle(),v=e.getModel(["select","itemStyle"]).getItemStyle(),y=e.get(["itemStyle","borderRadius"]),w=B_(e),C=e.getModel("emphasis"),b=C.get("focus"),S=C.get("blurScope"),x=C.get("disabled"),M=c?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],_=n;_<i;_++){var R=void 0,D=g.getItemVisual(_,"style");if(c){var P=g.get(M[0],_),T=g.get(M[1],_);if(isNaN(g.get(M[2],_))||isNaN(P)||isNaN(T)||P<a[0]||P>a[1]||T<l[0]||T>l[1])continue;var A=u.dataToPoint([P,T]);R=new oM({shape:{x:A[0]-o/2,y:A[1]-s/2,width:o,height:s},style:D})}else{if(isNaN(g.get(M[1],_)))continue;R=new oM({z2:1,shape:u.dataToRect([g.get(M[0],_)]).contentShape,style:D})}if(g.hasItemOption){var E=g.getItemModel(_),I=E.getModel("emphasis");f=I.getModel("itemStyle").getItemStyle(),m=E.getModel(["blur","itemStyle"]).getItemStyle(),v=E.getModel(["select","itemStyle"]).getItemStyle(),y=E.get(["itemStyle","borderRadius"]),b=I.get("focus"),S=I.get("blurScope"),x=I.get("disabled"),w=B_(E)}R.shape.r=y;var k=e.getRawValue(_),F="-";k&&null!=k[2]&&(F=k[2]+""),N_(R,w,{labelFetcher:e,labelDataIndex:_,defaultOpacity:D.opacity,defaultText:F}),R.ensureState("emphasis").style=f,R.ensureState("blur").style=m,R.ensureState("select").style=v,f_(R,b,S,x),R.incremental=r,r&&(R.states.emphasis.hoverLayer=!0),p.add(R),g.setItemGraphicEl(_,R),this._progressiveEls&&this._progressiveEls.push(R)}},t.prototype._renderOnGeo=function(e,t,n,i){var r=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,s=t.getData(),a=this._hmLayer||this._hmLayer||new EZ;a.blurSize=t.get("blurSize"),a.pointSize=t.get("pointSize"),a.minOpacity=t.get("minOpacity"),a.maxOpacity=t.get("maxOpacity");var l=e.getViewRect().clone(),u=e.getRoamTransform();l.applyTransform(u);var c=Math.max(l.x,0),d=Math.max(l.y,0),h=Math.min(l.width+l.x,i.getWidth()),p=Math.min(l.height+l.y,i.getHeight()),g=h-c,f=p-d,m=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],v=s.mapArray(m,(function(t,n,i){var r=e.dataToPoint([t,n]);return r[0]-=c,r[1]-=d,r.push(i),r})),y=n.getExtent(),w="visualMap.continuous"===n.type?function(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}(y,n.option.range):function(e,t,n){var i=e[1]-e[0],r=(t=Yf(t,(function(t){return{interval:[(t.interval[0]-e[0])/i,(t.interval[1]-e[0])/i]}}))).length,o=0;return function(e){var i;for(i=o;i<r;i++)if((s=t[i].interval)[0]<=e&&e<=s[1]){o=i;break}if(i===r)for(i=o-1;i>=0;i--){var s;if((s=t[i].interval)[0]<=e&&e<=s[1]){o=i;break}}return i>=0&&i<r&&n[i]}}(y,n.getPieceList(),n.option.selected);a.update(v,g,f,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:o.color.getColorMapper()},w);var C=new Zx({style:{width:g,height:f,x:c,y:d,image:a.canvas},silent:!0});this.group.add(C)},t.type="heatmap",t}(DI);const FZ=kZ;const LZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.getInitialData=function(e,t){return yB(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=nP.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(pA);var OZ=["itemStyle","borderWidth"],NZ=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],BZ=new GA,GZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n){var i=this.group,r=e.getData(),o=this._data,s=e.coordinateSystem,a=s.getBaseAxis().isHorizontal(),l=s.master.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:s,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:a,valueDim:NZ[+a],categoryDim:NZ[1-+a]};r.diff(o).add((function(e){if(r.hasValue(e)){var t=KZ(r,e),n=VZ(r,e,t,u),o=XZ(r,u,n);r.setItemGraphicEl(e,o),i.add(o),tQ(o,u,n)}})).update((function(e,t){var n=o.getItemGraphicEl(t);if(r.hasValue(e)){var s=KZ(r,e),a=VZ(r,e,s,u),l=QZ(r,a);n&&l!==n.__pictorialShapeStr&&(i.remove(n),r.setItemGraphicEl(e,null),n=null),n?function(e,t,n){var i=n.animationModel,r=n.dataIndex,o=e.__pictorialBundle;D_(o,{x:n.bundlePosition[0],y:n.bundlePosition[1]},i,r),n.symbolRepeat?WZ(e,t,n,!0):UZ(e,t,n,!0);jZ(e,n,!0),$Z(e,t,n,!0)}(n,u,a):n=XZ(r,u,a,!0),r.setItemGraphicEl(e,n),n.__pictorialSymbolMeta=a,i.add(n),tQ(n,u,a)}else i.remove(n)})).remove((function(e){var t=o.getItemGraphicEl(e);t&&ZZ(o,e,t.__pictorialSymbolMeta.animationModel,t)})).execute();var c=e.get("clip",!0)?jB(e.coordinateSystem,!1,e):null;return c?i.setClipPath(c):i.removeClipPath(),this._data=r,this.group},t.prototype.remove=function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl((function(t){ZZ(i,SM(t).dataIndex,e,t)})):n.removeAll()},t.type="pictorialBar",t}(DI);function VZ(e,t,n,i){var r=e.getItemLayout(t),o=n.get("symbolRepeat"),s=n.get("symbolClip"),a=n.get("symbolPosition")||"start",l=(n.get("symbolRotate")||0)*Math.PI/180||0,u=n.get("symbolPatternSize")||2,c=n.isAnimationEnabled(),d={dataIndex:t,layout:r,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:s,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:c?n:null,hoverScale:c&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};!function(e,t,n,i,r){var o,s=i.valueDim,a=e.get("symbolBoundingData"),l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),c=1-+(n[s.wh]<=0);if(tm(a)){var d=[zZ(l,a[0])-u,zZ(l,a[1])-u];d[1]<d[0]&&d.reverse(),o=d[c]}else o=null!=a?zZ(l,a)-u:t?i.coordSysExtent[s.index][c]-u:n[s.wh];r.boundingLength=o,t&&(r.repeatCutLength=n[s.wh]);r.pxSign=o>0?1:-1}(n,o,r,i,d),function(e,t,n,i,r,o,s,a,l,u){var c,d=l.valueDim,h=l.categoryDim,p=Math.abs(n[h.wh]),g=e.getItemVisual(t,"symbolSize");c=tm(g)?g.slice():null==g?["100%","100%"]:[g,g];c[h.index]=ub(c[h.index],p),c[d.index]=ub(c[d.index],i?p:Math.abs(o)),u.symbolSize=c;var f=u.symbolScale=[c[0]/a,c[1]/a];f[d.index]*=(l.isHorizontal?-1:1)*s}(e,t,r,o,0,d.boundingLength,d.pxSign,u,i,d),function(e,t,n,i,r){var o=e.get(OZ)||0;o&&(BZ.attr({scaleX:t[0],scaleY:t[1],rotation:n}),BZ.updateTransform(),o/=BZ.getLineScale(),o*=t[i.valueDim.index]);r.valueLineWidth=o||0}(n,d.symbolScale,l,i,d);var h=d.symbolSize,p=Bk(n.get("symbolOffset"),h);return function(e,t,n,i,r,o,s,a,l,u,c,d){var h=c.categoryDim,p=c.valueDim,g=d.pxSign,f=Math.max(t[p.index]+a,0),m=f;if(i){var v=Math.abs(l),y=hm(e.get("symbolMargin"),"15%")+"",w=!1;y.lastIndexOf("!")===y.length-1&&(w=!0,y=y.slice(0,y.length-1));var C=ub(y,t[p.index]),b=Math.max(f+2*C,0),S=w?0:2*C,x=Rb(i),M=x?i:nQ((v+S)/b);b=f+2*(C=(v-M*f)/2/(w?M:Math.max(M-1,1))),S=w?0:2*C,x||"fixed"===i||(M=u?nQ((Math.abs(u)+S)/b):0),m=M*b-S,d.repeatTimes=M,d.symbolMargin=C}var _=g*(m/2),R=d.pathPosition=[];R[h.index]=n[h.wh]/2,R[p.index]="start"===s?_:"end"===s?l-_:l/2,o&&(R[0]+=o[0],R[1]+=o[1]);var D=d.bundlePosition=[];D[h.index]=n[h.xy],D[p.index]=n[p.xy];var P=d.barRectShape=Wf({},n);P[p.wh]=g*Math.max(Math.abs(n[p.wh]),Math.abs(R[p.index]+_)),P[h.wh]=n[h.wh];var T=d.clipShape={};T[h.xy]=-n[h.xy],T[h.wh]=c.ecSize[h.wh],T[p.xy]=0,T[p.wh]=n[p.wh]}(n,h,r,o,0,p,a,d.valueLineWidth,d.boundingLength,d.repeatCutLength,i,d),d}function zZ(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function HZ(e){var t=e.symbolPatternSize,n=Ok(e.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function WZ(e,t,n,i){var r=e.__pictorialBundle,o=n.symbolSize,s=n.valueLineWidth,a=n.pathPosition,l=t.valueDim,u=n.repeatTimes||0,c=0,d=o[t.valueDim.index]+s+2*n.symbolMargin;for(JZ(e,(function(e){e.__pictorialAnimationIndex=c,e.__pictorialRepeatTimes=u,c<u?eQ(e,null,g(c),n,i):eQ(e,null,{scaleX:0,scaleY:0},n,i,(function(){r.remove(e)})),c++}));c<u;c++){var h=HZ(n);h.__pictorialAnimationIndex=c,h.__pictorialRepeatTimes=u,r.add(h);var p=g(c);eQ(h,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},n,i)}function g(e){var t=a.slice(),i=n.pxSign,r=e;return("start"===n.symbolRepeatDirection?i>0:i<0)&&(r=u-1-e),t[l.index]=d*(r-u/2+.5)+a[l.index],{x:t[0],y:t[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function UZ(e,t,n,i){var r=e.__pictorialBundle,o=e.__pictorialMainPath;o?eQ(o,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,i):(o=e.__pictorialMainPath=HZ(n),r.add(o),eQ(o,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,i))}function jZ(e,t,n){var i=Wf({},t.barRectShape),r=e.__pictorialBarRect;r?eQ(r,null,{shape:i},t,n):((r=e.__pictorialBarRect=new oM({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,e.add(r))}function $Z(e,n,i,r){if(i.symbolClip){var o=e.__pictorialClipPath,s=Wf({},i.clipShape),a=n.valueDim,l=i.animationModel,u=i.dataIndex;if(o)D_(o,{shape:s},l,u);else{s[a.wh]=0,o=new oM({shape:s}),e.__pictorialBundle.setClipPath(o),e.__pictorialClipPath=o;var c={};c[a.wh]=i.clipShape[a.wh],t[r?"updateProps":"initProps"](o,{shape:c},l,u)}}}function KZ(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=qZ,n.isAnimationEnabled=YZ,n}function qZ(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function YZ(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function XZ(e,t,n,i){var r=new eb,o=new eb;return r.add(o),r.__pictorialBundle=o,o.x=n.bundlePosition[0],o.y=n.bundlePosition[1],n.symbolRepeat?WZ(r,t,n):UZ(r,0,n),jZ(r,n,i),$Z(r,t,n,i),r.__pictorialShapeStr=QZ(e,n),r.__pictorialSymbolMeta=n,r}function ZZ(e,t,n,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];JZ(i,(function(e){o.push(e)})),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),qf(o,(function(e){A_(e,{scaleX:0,scaleY:0},n,t,(function(){i.parent&&i.parent.remove(i)}))})),e.setItemGraphicEl(t,null)}function QZ(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function JZ(e,t,n){qf(e.__pictorialBundle.children(),(function(i){i!==e.__pictorialBarRect&&t.call(n,i)}))}function eQ(e,n,i,r,o,s){n&&e.attr(n),r.symbolClip&&!o?i&&e.attr(i):i&&t[o?"updateProps":"initProps"](e,i,r.animationModel,r.dataIndex,s)}function tQ(e,t,n){var i=n.dataIndex,r=n.itemModel,o=r.getModel("emphasis"),s=o.getModel("itemStyle").getItemStyle(),a=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),u=r.getShallow("cursor"),c=o.get("focus"),d=o.get("blurScope"),h=o.get("scale");JZ(e,(function(e){if(e instanceof Zx){var t=e.style;e.useStyle(Wf({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},n.style))}else e.useStyle(n.style);var i=e.ensureState("emphasis");i.style=s,h&&(i.scaleX=1.1*e.scaleX,i.scaleY=1.1*e.scaleY),e.ensureState("blur").style=a,e.ensureState("select").style=l,u&&(e.cursor=u),e.z2=n.z2}));var p=t.valueDim.posDesc[+(n.boundingLength>0)],g=e.__pictorialBarRect;g.ignoreClip=!0,N_(g,B_(r),{labelFetcher:t.seriesModel,labelDataIndex:i,defaultText:CB(t.seriesModel.getData(),i),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:p}),f_(e,c,d,o.get("disabled"))}function nQ(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}const iQ=GZ;const rQ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return vf(t,e),t.prototype.getInitialData=function(t){return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=cR(CG.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(CG);var oQ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._layers=[],n}return vf(t,e),t.prototype.render=function(e,t,n){var i=e.getData(),r=this,o=this.group,s=e.getLayerSeries(),a=i.getLayout("layoutInfo"),l=a.rect,u=a.boundaryGap;function c(e){return e.name}o.x=0,o.y=l.y+u[0];var d=new BN(this._layersSeries||[],s,c,c),h=[];function p(t,n,a){var l=r._layers;if("remove"!==t){for(var u,c,d=[],p=[],g=s[n].indices,f=0;f<g.length;f++){var m=i.getItemLayout(g[f]),v=m.x,y=m.y0,w=m.y;d.push(v,y),p.push(v,y+w),u=i.getItemVisual(g[f],"style")}var C=i.getItemLayout(g[0]),b=e.getModel("label").get("margin"),S=e.getModel("emphasis");if("add"===t){var x=h[n]=new eb;c=new HB({shape:{points:d,stackedOnPoints:p,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),x.add(c),o.add(x),e.isAnimationEnabled()&&c.setClipPath(function(e,t,n){var i=new oM({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return P_(i,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,n),i}(c.getBoundingRect(),e,(function(){c.removeClipPath()})))}else{x=l[a];c=x.childAt(0),o.add(x),h[n]=x,D_(c,{shape:{points:d,stackedOnPoints:p}},e),k_(c)}N_(c,B_(e),{labelDataIndex:g[f-1],defaultText:i.getName(g[f-1]),inheritColor:u.fill},{normal:{verticalAlign:"middle"}}),c.setTextConfig({position:null,local:!0});var M=c.getTextContent();M&&(M.x=C.x-b,M.y=C.y0+C.y/2),c.useStyle(u),i.setItemGraphicEl(n,c),w_(c,e),f_(c,S.get("focus"),S.get("blurScope"),S.get("disabled"))}else o.remove(l[n])}d.add(Jf(p,this,"add")).update(Jf(p,this,"update")).remove(Jf(p,this,"remove")).execute(),this._layersSeries=s,this._layers=h},t.type="themeRiver",t}(DI);const sQ=oQ;var aQ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new dV(Jf(this.getData,this),Jf(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,n={},i=Jb(e,(function(e){return n.hasOwnProperty(e[0]+"")||(n[e[0]+""]=-1),e[2]})),r=[];i.buckets.each((function(e,t){r.push({name:t,dataList:e})}));for(var o=r.length,s=0;s<o;++s){for(var a=r[s].name,l=0;l<r[s].dataList.length;++l){var u=r[s].dataList[l][0]+"";n[u]=s}for(var u in n)n.hasOwnProperty(u)&&n[u]!==s&&(n[u]=s,e[t]=[u,0,a],t++)}return e},t.prototype.getInitialData=function(e,t){for(var n=this.getReferringComponents("singleAxis",Yb).models[0].get("type"),i=Zf(e.data,(function(e){return void 0!==e[2]})),r=this.fixData(i||[]),o=[],s=this.nameMap=_m(),a=0,l=0;l<r.length;++l)o.push(r[l][2]),s.get(r[l][2])||(s.set(r[l][2],a),a++);var u=cB(r,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:zN(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,c=new uB(u,this);return c.initData(r),c},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),n=[],i=0;i<t;++i)n[i]=i;var r=e.mapDimension("single"),o=Jb(n,(function(t){return e.get("name",t)})),s=[];return o.buckets.each((function(t,n){t.sort((function(t,n){return e.get(r,t)-e.get(r,n)})),s.push({name:n,indices:t})})),s},t.prototype.getAxisTooltipData=function(e,t,n){tm(e)||(e=e?[e]:[]);for(var i,r=this.getData(),o=this.getLayerSeries(),s=[],a=o.length,l=0;l<a;++l){for(var u=Number.MAX_VALUE,c=-1,d=o[l].indices.length,h=0;h<d;++h){var p=r.get(e[0],o[l].indices[h]),g=Math.abs(p-t);g<=u&&(i=p,u=g,c=o[l].indices[h])}s.push(c)}return{dataIndices:s,nestestValue:i}},t.prototype.formatTooltip=function(e,t,n){var i=this.getData();return WT("nameValue",{name:i.getName(e),value:i.get(i.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(pA);const lQ=aQ;function uQ(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),n=e.coordinateSystem,i={},r=n.getRect();i.rect=r;var o=e.get("boundaryGap"),s=n.getAxis();(i.boundaryGap=o,"horizontal"===s.orient)?(o[0]=ub(o[0],r.height),o[1]=ub(o[1],r.height),cQ(t,e,r.height-o[0]-o[1])):(o[0]=ub(o[0],r.width),o[1]=ub(o[1],r.width),cQ(t,e,r.width-o[0]-o[1]));t.setLayout("layoutInfo",i)}))}function cQ(e,t,n){if(e.count())for(var i,r=t.coordinateSystem,o=t.getLayerSeries(),s=e.mapDimension("single"),a=e.mapDimension("value"),l=Yf(o,(function(t){return Yf(t.indices,(function(t){var n=r.dataToPoint(e.get(s,t));return n[1]=e.get(a,t),n}))})),u=function(e){for(var t=e.length,n=e[0].length,i=[],r=[],o=0,s=0;s<n;++s){for(var a=0,l=0;l<t;++l)a+=e[l][s][1];a>o&&(o=a),i.push(a)}for(var u=0;u<n;++u)r[u]=(o-i[u])/2;o=0;for(var c=0;c<n;++c){var d=i[c]+r[c];d>o&&(o=d)}return{y0:r,max:o}}(l),c=u.y0,d=n/u.max,h=o.length,p=o[0].indices.length,g=0;g<p;++g){i=c[g]*d,e.setItemLayout(o[0].indices[g],{layerIndex:0,x:l[0][g][0],y0:i,y:l[0][g][1]*d});for(var f=1;f<h;++f)i+=l[f-1][g][1]*d,e.setItemLayout(o[f].indices[g],{layerIndex:f,x:l[f][g][0],y0:i,y:l[f][g][1]*d})}}var dQ=function(e){function t(t,n,i,r){var o=e.call(this)||this;o.z2=2,o.textConfig={inside:!0},SM(o).seriesIndex=n.seriesIndex;var s=new bM({z2:4,silent:t.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,t,n,i,r),o}return vf(t,e),t.prototype.updateData=function(e,t,n,i,r){this.node=t,t.piece=this,n=n||this._seriesModel,i=i||this._ecModel;var o=this;SM(o).dataIndex=t.dataIndex;var s=t.getModel(),a=s.getModel("emphasis"),l=t.getLayout(),u=Wf({},l);u.label=null;var c=t.getVisual("style");c.lineJoin="bevel";var d=t.getVisual("decal");d&&(c.decal=pF(d,r));var h=PG(s.getModel("itemStyle"),u,!0);Wf(u,h),qf(EM,(function(e){var t=o.ensureState(e),n=s.getModel([e,"itemStyle"]);t.style=n.getItemStyle();var i=PG(n,u);i&&(t.shape=i)})),e?(o.setShape(u),o.shape.r=l.r0,P_(o,{shape:{r:l.r}},n,t.dataIndex)):(D_(o,{shape:u},n),k_(o)),o.useStyle(c),this._updateLabel(n);var p=s.getShallow("cursor");p&&o.attr("cursor",p),this._seriesModel=n||this._seriesModel,this._ecModel=i||this._ecModel;var g=a.get("focus");f_(this,"ancestor"===g?t.getAncestorsIndices():"descendant"===g?t.getDescendantIndices():g,a.get("blurScope"),a.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,n=this.node.getModel(),i=n.getModel("label"),r=this.node.getLayout(),o=r.endAngle-r.startAngle,s=(r.startAngle+r.endAngle)/2,a=Math.cos(s),l=Math.sin(s),u=this,c=u.getTextContent(),d=this.node.dataIndex,h=i.get("minAngle")/180*Math.PI,p=i.get("show")&&!(null!=h&&Math.abs(o)<h);function g(e,t){var n=e.get(t);return null==n?i.get(t):n}c.ignore=!p,qf(IM,(function(i){var h="normal"===i?n.getModel("label"):n.getModel([i,"label"]),p="normal"===i,f=p?c:c.ensureState(i),m=e.getFormattedLabel(d,i);p&&(m=m||t.node.name),f.style=G_(h,{},null,"normal"!==i,!0),m&&(f.style.text=m);var v=h.get("show");null==v||p||(f.ignore=!v);var y,w=g(h,"position"),C=p?u:u.states[i],b=C.style.fill;C.textConfig={outsideFill:"inherit"===h.get("color")?b:null,inside:"outside"!==w};var S=g(h,"distance")||0,x=g(h,"align"),M=g(h,"rotate"),_=.5*Math.PI,R=1.5*Math.PI,D=Rx("tangential"===M?Math.PI/2-s:s),P=D>_&&!yb(D-_)&&D<R;"outside"===w?(y=r.r+S,x=P?"right":"left"):x&&"center"!==x?"left"===x?(y=r.r0+S,x=P?"right":"left"):"right"===x&&(y=r.r-S,x=P?"left":"right"):(y=o===2*Math.PI&&0===r.r0?0:(r.r+r.r0)/2,x="center"),f.style.align=x,f.style.verticalAlign=g(h,"verticalAlign")||"middle",f.x=y*a+r.cx,f.y=y*l+r.cy;var T=0;"radial"===M?T=Rx(-s)+(P?Math.PI:0):"tangential"===M?T=Rx(Math.PI/2-s)+(P?Math.PI:0):om(M)&&(T=M*Math.PI/180),f.rotation=Rx(T)})),c.dirtyStyle()},t}(rE);const hQ=dQ;var pQ="sunburstRootToNode",gQ="sunburstHighlight",fQ="sunburstUnhighlight";var mQ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n,i){var r=this;this.seriesModel=e,this.api=n,this.ecModel=t;var o=e.getData(),s=o.tree.root,a=e.getViewRoot(),l=this.group,u=e.get("renderLabelForZeroData"),c=[];a.eachNode((function(e){c.push(e)}));var d=this._oldChildren||[];!function(i,r){if(0===i.length&&0===r.length)return;function a(e){return e.getId()}function c(a,c){!function(i,r){u||!i||i.getValue()||(i=null);if(i!==s&&r!==s)if(r&&r.piece)i?(r.piece.updateData(!1,i,e,t,n),o.setItemGraphicEl(i.dataIndex,r.piece)):function(e){if(!e)return;e.piece&&(l.remove(e.piece),e.piece=null)}(r);else if(i){var a=new hQ(i,e,t,n);l.add(a),o.setItemGraphicEl(i.dataIndex,a)}}(null==a?null:i[a],null==c?null:r[c])}new BN(r,i,a,a).add(c).update(c).remove(em(c,null)).execute()}(c,d),function(i,o){o.depth>0?(r.virtualPiece?r.virtualPiece.updateData(!1,i,e,t,n):(r.virtualPiece=new hQ(i,e,t,n),l.add(r.virtualPiece)),o.piece.off("click"),r.virtualPiece.on("click",(function(e){r._rootToNode(o.parentNode)}))):r.virtualPiece&&(l.remove(r.virtualPiece),r.virtualPiece=null)}(s,a),this._initEvents(),this._oldChildren=c},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",(function(t){var n=!1;e.seriesModel.getViewRoot().eachNode((function(i){if(!n&&i.piece&&i.piece===t.target){var r=i.getModel().get("nodeClick");if("rootToNode"===r)e._rootToNode(i);else if("link"===r){var o=i.getModel(),s=o.get("link");if(s)iD(s,o.get("target",!0)||"_blank")}n=!0}}))}))},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:pQ,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,r=e[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}},t.type="sunburst",t}(DI);const vQ=mQ;var yQ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreStyleOnData=!0,n}return vf(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};wQ(n);var i=this._levelModels=Yf(e.levels||[],(function(e){return new aR(e,this,t)}),this),r=Dj.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=r.getNodeByDataIndex(t),o=i[n.depth];return o&&(e.parentModel=o),e}))}));return r.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=Ej(i,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){Bj(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(pA);function wQ(e){var t=0;qf(e.children,(function(e){wQ(e);var n=e.value;tm(n)&&(n=n[0]),t+=n}));var n=e.value;tm(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),tm(e.value)?e.value[0]=n:e.value=n}const CQ=yQ;var bQ=Math.PI/180;function SQ(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.get("center"),i=e.get("radius");tm(i)||(i=[0,i]),tm(t)||(t=[t,t]);var r=n.getWidth(),o=n.getHeight(),s=Math.min(r,o),a=ub(t[0],r),l=ub(t[1],o),u=ub(i[0],s/2),c=ub(i[1],s/2),d=-e.get("startAngle")*bQ,h=e.get("minAngle")*bQ,p=e.getData().tree.root,g=e.getViewRoot(),f=g.depth,m=e.get("sort");null!=m&&xQ(g,m);var v=0;qf(g.children,(function(e){!isNaN(e.getValue())&&v++}));var y=g.getValue(),w=Math.PI/(y||v)*2,C=g.depth>0,b=g.height-(C?-1:1),S=(c-u)/(b||1),x=e.get("clockwise"),M=e.get("stillShowZeroSum"),_=x?1:-1,R=function(t,n){if(t){var i=n;if(t!==p){var r=t.getValue(),o=0===y&&M?w:r*w;o<h&&(o=h),i=n+_*o;var c=t.depth-f-(C?-1:1),d=u+S*c,g=u+S*(c+1),m=e.getLevelModel(t);if(m){var v=m.get("r0",!0),b=m.get("r",!0),D=m.get("radius",!0);null!=D&&(v=D[0],b=D[1]),null!=v&&(d=ub(v,s/2)),null!=b&&(g=ub(b,s/2))}t.setLayout({angle:o,startAngle:n,endAngle:i,clockwise:x,cx:a,cy:l,r0:d,r:g})}if(t.children&&t.children.length){var P=0;qf(t.children,(function(e){P+=R(e,n+P)}))}return i-n}};if(C){var D=u,P=u+S,T=2*Math.PI;p.setLayout({angle:T,startAngle:d,endAngle:d+T,clockwise:x,cx:a,cy:l,r0:D,r:P})}R(g,d)}))}function xQ(e,t){var n=e.children||[];e.children=function(e,t){if(nm(t)){var n=Yf(e,(function(e,t){var n=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return n}},index:t}}));return n.sort((function(e,n){return t(e.params,n.params)})),Yf(n,(function(t){return e[t.index]}))}var i="asc"===t;return e.sort((function(e,t){var n=(e.getValue()-t.getValue())*(i?1:-1);return 0===n?(e.dataIndex-t.dataIndex)*(i?-1:1):n}))}(n,t),n.length&&qf(e.children,(function(e){xQ(e,t)}))}function MQ(e){var t={};e.eachSeriesByType("sunburst",(function(e){var n=e.getData(),i=n.tree;i.eachNode((function(r){var o=r.getModel().getModel("itemStyle").getItemStyle();o.fill||(o.fill=function(e,n,i){for(var r=e;r&&r.depth>1;)r=r.parentNode;var o=n.getColorFromPalette(r.name||r.dataIndex+"",t);return e.depth>1&&im(o)&&(o=hw(o,(e.depth-1)/(i-1)*.5)),o}(r,e,i.root.height)),Wf(n.ensureUniqueItemVisual(r.dataIndex,"style"),o)}))}))}var _Q={color:"fill",borderColor:"stroke"},RQ={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},DQ=jb();const PQ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,t){return yB(null,this)},t.prototype.getDataParams=function(t,n,i){var r=e.prototype.getDataParams.call(this,t,n);return i&&(r.info=DQ(i).info),r},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(pA);function TQ(e,t){return t=t||[0,0],Yf(["x","y"],(function(n,i){var r=this.getAxis(n),o=t[i],s=e[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-s)-r.dataToCoord(o+s))}),this)}function AQ(e,t){return t=t||[0,0],Yf([0,1],(function(n){var i=t[n],r=e[n]/2,o=[],s=[];return o[n]=i-r,s[n]=i+r,o[1-n]=s[1-n]=t[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(s)[n])}),this)}function EQ(e,t){var n=this.getAxis(),i=t instanceof Array?t[0]:t,r=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-r)-n.dataToCoord(i+r))}function IQ(e,t){return t=t||[0,0],Yf(["Radius","Angle"],(function(n,i){var r=this["get"+n+"Axis"](),o=t[i],s=e[i]/2,a="category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-s)-r.dataToCoord(o+s));return"Angle"===n&&(a=a*Math.PI/180),a}),this)}function kQ(e,t,n,i){return e&&(e.legacy||!1!==e.legacy&&!n&&!i&&"tspan"!==t&&("text"===t||Tm(e,"text")))}function FQ(e,t,n){var i,r,o,s=e;if("text"===t)o=s;else{o={},Tm(s,"text")&&(o.text=s.text),Tm(s,"rich")&&(o.rich=s.rich),Tm(s,"textFill")&&(o.fill=s.textFill),Tm(s,"textStroke")&&(o.stroke=s.textStroke),Tm(s,"fontFamily")&&(o.fontFamily=s.fontFamily),Tm(s,"fontSize")&&(o.fontSize=s.fontSize),Tm(s,"fontStyle")&&(o.fontStyle=s.fontStyle),Tm(s,"fontWeight")&&(o.fontWeight=s.fontWeight),r={type:"text",style:o,silent:!0},i={};var a=Tm(s,"textPosition");n?i.position=a?s.textPosition:"inside":a&&(i.position=s.textPosition),Tm(s,"textPosition")&&(i.position=s.textPosition),Tm(s,"textOffset")&&(i.offset=s.textOffset),Tm(s,"textRotation")&&(i.rotation=s.textRotation),Tm(s,"textDistance")&&(i.distance=s.textDistance)}return LQ(o,e),qf(o.rich,(function(e){LQ(e,e)})),{textConfig:i,textContent:r}}function LQ(e,t){t&&(t.font=t.textFont||t.font,Tm(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),Tm(t,"textAlign")&&(e.align=t.textAlign),Tm(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),Tm(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),Tm(t,"textWidth")&&(e.width=t.textWidth),Tm(t,"textHeight")&&(e.height=t.textHeight),Tm(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),Tm(t,"textPadding")&&(e.padding=t.textPadding),Tm(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),Tm(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),Tm(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),Tm(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),Tm(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),Tm(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),Tm(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function OQ(e,t,n){var i=e;i.textPosition=i.textPosition||n.position||"inside",null!=n.offset&&(i.textOffset=n.offset),null!=n.rotation&&(i.textRotation=n.rotation),null!=n.distance&&(i.textDistance=n.distance);var r=i.textPosition.indexOf("inside")>=0,o=e.fill||"#000";NQ(i,t);var s=null==i.textFill;return r?s&&(i.textFill=n.insideFill||"#fff",!i.textStroke&&n.insideStroke&&(i.textStroke=n.insideStroke),!i.textStroke&&(i.textStroke=o),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(s&&(i.textFill=e.fill||n.outsideFill||"#000"),!i.textStroke&&n.outsideStroke&&(i.textStroke=n.outsideStroke)),i.text=t.text,i.rich=t.rich,qf(t.rich,(function(e){NQ(e,e)})),i}function NQ(e,t){t&&(Tm(t,"fill")&&(e.textFill=t.fill),Tm(t,"stroke")&&(e.textStroke=t.fill),Tm(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),Tm(t,"font")&&(e.font=t.font),Tm(t,"fontStyle")&&(e.fontStyle=t.fontStyle),Tm(t,"fontWeight")&&(e.fontWeight=t.fontWeight),Tm(t,"fontSize")&&(e.fontSize=t.fontSize),Tm(t,"fontFamily")&&(e.fontFamily=t.fontFamily),Tm(t,"align")&&(e.textAlign=t.align),Tm(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),Tm(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),Tm(t,"width")&&(e.textWidth=t.width),Tm(t,"height")&&(e.textHeight=t.height),Tm(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),Tm(t,"padding")&&(e.textPadding=t.padding),Tm(t,"borderColor")&&(e.textBorderColor=t.borderColor),Tm(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),Tm(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),Tm(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),Tm(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),Tm(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),Tm(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),Tm(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),Tm(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),Tm(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),Tm(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var BQ={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},GQ=Qf(BQ),VQ=(Xf(AC,(function(e,t){return e[t]=1,e}),{}),AC.join(", "),["","style","shape","extra"]),zQ=jb();function HQ(e,t,n,i,r){var o=e+"Animation",s=__(e,i,r)||{},a=zQ(t).userDuring;return s.duration>0&&(s.during=a?Jf(YQ,{el:t,userDuring:a}):null,s.setToFinal=!0,s.scope=e),Wf(s,n[o]),s}function WQ(e,t,n,i){var r=(i=i||{}).dataIndex,o=i.isInit,s=i.clearStyle,a=n.isAnimationEnabled(),l=zQ(e),u=t.style;l.userDuring=t.during;var c={},d={};if(function(e,t,n){for(var i=0;i<GQ.length;i++){var r=GQ[i],o=BQ[r],s=t[r];s&&(n[o[0]]=s[0],n[o[1]]=s[1])}for(i=0;i<AC.length;i++){var a=AC[i];null!=t[a]&&(n[a]=t[a])}}(0,t,d),ZQ("shape",t,d),ZQ("extra",t,d),!o&&a&&(function(e,t,n){for(var i=t.transition,r=$Q(i)?AC:kb(i||[]),o=0;o<r.length;o++){var s=r[o];if("style"!==s&&"shape"!==s&&"extra"!==s){var a=e[s];0,n[s]=a}}}(e,t,c),XQ("shape",e,t,c),XQ("extra",e,t,c),function(e,t,n,i){if(!n)return;var r,o=e.style;if(o){var s=n.transition,a=t.transition;if(s&&!$Q(s)){var l=kb(s);!r&&(r=i.style={});for(var u=0;u<l.length;u++){var c=o[g=l[u]];r[g]=c}}else if(e.getAnimationStyleProps&&($Q(a)||$Q(s)||jf(a,"style")>=0)){var d=e.getAnimationStyleProps(),h=d?d.style:null;if(h){!r&&(r=i.style={});var p=Qf(n);for(u=0;u<p.length;u++){var g;if(h[g=p[u]]){c=o[g];r[g]=c}}}}}}(e,t,u,c)),d.style=u,function(e,t,n){var i=t.style;if(!e.isGroup&&i){if(n){e.useStyle({});for(var r=e.animators,o=0;o<r.length;o++){var s=r[o];"style"===s.targetName&&s.changeTarget(e.style)}}e.setStyle(i)}t&&(t.style=null,t&&e.attr(t),t.style=i)}(e,d,s),function(e,t){Tm(t,"silent")&&(e.silent=t.silent),Tm(t,"ignore")&&(e.ignore=t.ignore),e instanceof GS&&Tm(t,"invisible")&&(e.invisible=t.invisible);e instanceof Ux&&Tm(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}(e,t),a)if(o){var h={};qf(VQ,(function(e){var n=e?t[e]:t;n&&n.enterFrom&&(e&&(h[e]=h[e]||{}),Wf(e?h[e]:h,n.enterFrom))}));var p=HQ("enter",e,t,n,r);p.duration>0&&e.animateFrom(h,p)}else!function(e,t,n,i,r){if(r){var o=HQ("update",e,t,i,n);o.duration>0&&e.animateFrom(r,o)}}(e,t,r||0,n,c);UQ(e,t),u?e.dirty():e.markRedraw()}function UQ(e,t){for(var n=zQ(e).leaveToProps,i=0;i<VQ.length;i++){var r=VQ[i],o=r?t[r]:t;o&&o.leaveTo&&(n||(n=zQ(e).leaveToProps={}),r&&(n[r]=n[r]||{}),Wf(r?n[r]:n,o.leaveTo))}}function jQ(e,t,n,i){if(e){var r=e.parent,o=zQ(e).leaveToProps;if(o){var s=HQ("update",e,t,n,0);s.done=function(){r.remove(e),i&&i()},e.animateTo(o,s)}else r.remove(e),i&&i()}}function $Q(e){return"all"===e}var KQ={},qQ={setTransform:function(e,t){return KQ.el[e]=t,this},getTransform:function(e){return KQ.el[e]},setShape:function(e,t){var n=KQ.el;return(n.shape||(n.shape={}))[e]=t,n.dirtyShape&&n.dirtyShape(),this},getShape:function(e){var t=KQ.el.shape;if(t)return t[e]},setStyle:function(e,t){var n=KQ.el,i=n.style;return i&&(i[e]=t,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(e){var t=KQ.el.style;if(t)return t[e]},setExtra:function(e,t){return(KQ.el.extra||(KQ.el.extra={}))[e]=t,this},getExtra:function(e){var t=KQ.el.extra;if(t)return t[e]}};function YQ(){var e=this,t=e.el;if(t){var n=zQ(t).userDuring,i=e.userDuring;n===i?(KQ.el=t,i(qQ)):e.el=e.userDuring=null}}function XQ(e,t,n,i){var r=n[e];if(r){var o,s=t[e];if(s){var a=n.transition,l=r.transition;if(l)if(!o&&(o=i[e]={}),$Q(l))Wf(o,s);else for(var u=kb(l),c=0;c<u.length;c++){var d=s[p=u[c]];o[p]=d}else if($Q(a)||jf(a,e)>=0){!o&&(o=i[e]={});var h=Qf(s);for(c=0;c<h.length;c++){var p;d=s[p=h[c]];QQ(r[p],d)&&(o[p]=d)}}}}}function ZQ(e,t,n){var i=t[e];if(i)for(var r=n[e]={},o=Qf(i),s=0;s<o.length;s++){var a=o[s];r[a]=Uw(i[a])}}function QQ(e,t){return Kf(e)?e!==t:null!=e&&isFinite(e)}var JQ=jb(),eJ=["percent","easing","shape","style","extra"];function tJ(e){e.stopAnimation("keyframe"),e.attr(JQ(e))}function nJ(e,t,n){if(n.isAnimationEnabled()&&t)if(tm(t))qf(t,(function(t){nJ(e,t,n)}));else{var i=t.keyframes,r=t.duration;if(n&&null==r){var o=__("enter",n,0);r=o&&o.duration}if(i&&r){var s=JQ(e);qf(VQ,(function(n){if(!n||e[n]){var o;i.sort((function(e,t){return e.percent-t.percent})),qf(i,(function(i){var a=e.animators,l=n?i[n]:i;if(l){var u=Qf(l);if(n||(u=Zf(u,(function(e){return jf(eJ,e)<0}))),u.length){o||((o=e.animate(n,t.loop,!0)).scope="keyframe");for(var c=0;c<a.length;c++)a[c]!==o&&a[c].targetName===o.targetName&&a[c].stopTracks(u);n&&(s[n]=s[n]||{});var d=n?s[n]:s;qf(u,(function(t){d[t]=((n?e[n]:e)||{})[t]})),o.whenWithKeys(r*i.percent,l,u,i.easing)}}})),o&&o.delay(t.delay||0).duration(r).start(t.easing)}}))}}}var iJ="emphasis",rJ="normal",oJ="blur",sJ="select",aJ=[rJ,iJ,oJ,sJ],lJ={normal:["itemStyle"],emphasis:[iJ,"itemStyle"],blur:[oJ,"itemStyle"],select:[sJ,"itemStyle"]},uJ={normal:["label"],emphasis:[iJ,"label"],blur:[oJ,"label"],select:[sJ,"label"]},cJ=["x","y"],dJ="e\0\0",hJ={normal:{},emphasis:{},blur:{},select:{}},pJ={cartesian2d:function(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:Jf(TQ,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:Jf(AQ,e)}}},single:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:Jf(EQ,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:function(i){var r=t.dataToRadius(i[0]),o=n.dataToAngle(i[1]),s=e.coordToPoint([r,o]);return s.push(r,o*Math.PI/180),s},size:Jf(IQ,e)}}},calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(t,n){return e.dataToPoint(t,n)}}}}};function gJ(e){return e instanceof Ux}function fJ(e){return e instanceof GS}var mJ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n,i){this._progressiveEls=null;var r=this._data,o=e.getData(),s=this.group,a=SJ(e,o,t,n);r||s.removeAll(),o.diff(r).add((function(t){MJ(n,null,t,a(t,i),e,s,o)})).remove((function(t){var n=r.getItemGraphicEl(t);n&&jQ(n,DQ(n).option,e)})).update((function(t,l){var u=r.getItemGraphicEl(l);MJ(n,u,t,a(t,i),e,s,o)})).execute();var l=e.get("clip",!0)?jB(e.coordinateSystem,!1,e):null;l?s.setClipPath(l):s.removeClipPath(),this._data=o},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,t,n,i,r){var o=t.getData(),s=SJ(t,o,n,i),a=this._progressiveEls=[];function l(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var u=e.start;u<e.end;u++){var c=MJ(null,null,u,s(u,r),t,this.group,o);c&&(c.traverse(l),a.push(c))}},t.prototype.eachRendered=function(e){yI(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,t,n,i){var r=t.element;if(null==r||n.name===r)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===r)return!0;return!1},t.type="custom",t}(DI);const vJ=mJ;function yJ(e){var t,n=e.type;if("path"===n){var i=e.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=FJ(i);t=ZE(o,null,r,i.layout||"center"),DQ(t).customPathData=o}else if("image"===n)t=new Zx({}),DQ(t).customImagePath=e.style.image;else if("text"===n)t=new bM({});else if("group"===n)t=new eb;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var s=XE(n);if(!s){0,sT("")}t=new s}return DQ(t).customGraphicType=n,t.name=e.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function wJ(e,t,n,i,r,o,s){tJ(t);var a=r&&r.normal.cfg;a&&t.setTextConfig(a),i&&null==i.transition&&(i.transition=cJ);var l=i&&i.style;if(l){if("text"===t.type){var u=l;Tm(u,"textFill")&&(u.fill=u.textFill),Tm(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,d=gJ(t)?l.decal:null;e&&d&&(d.dirty=!0,c=pF(d,e)),l.__decalPattern=c}fJ(t)&&(l&&(c=l.__decalPattern)&&(l.decal=c));WQ(t,i,o,{dataIndex:n,isInit:s,clearStyle:!0}),nJ(t,i.keyframeAnimation,o)}function CJ(e,t,n,i,r){var o=t.isGroup?null:t,s=r&&r[e].cfg;if(o){var a=o.ensureState(e);if(!1===i){var l=o.getState(e);l&&(l.style=null)}else a.style=i||null;s&&(a.textConfig=s),QM(o)}}function bJ(e,t,n){var i=n===rJ,r=i?t:PJ(t,n),o=r?r.z2:null;null!=o&&((i?e:e.ensureState(n)).z2=o||0)}function SJ(e,t,n,i){var r=e.get("renderItem"),o=e.coordinateSystem,s={};o&&(s=o.prepareCustoms?o.prepareCustoms(o):pJ[o.type](o));for(var a,l,u=Uf({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(e,n){return null==n&&(n=a),t.getStore().get(t.getDimensionIndex(e||0),n)},style:function(n,i){0;null==i&&(i=a);var r=t.getItemVisual(i,"style"),o=r&&r.fill,s=r&&r.opacity,l=y(i,rJ).getItemStyle();null!=o&&(l.fill=o),null!=s&&(l.opacity=s);var u={inheritColor:im(o)?o:"#000"},c=w(i,rJ),d=G_(c,null,u,!1,!0);d.text=c.getShallow("show")?pm(e.getFormattedLabel(i,rJ),CB(t,i)):null;var h=V_(c,u,!1);return b(n,l),l=OQ(l,d,h),n&&C(l,n),l.legacy=!0,l},ordinalRawValue:function(e,n){null==n&&(n=a),e=e||0;var i=t.getDimensionInfo(e);if(!i){var r=t.getDimensionIndex(e);return r>=0?t.getStore().get(r,n):void 0}var o=t.get(i.name,n),s=i&&i.ordinalMeta;return s?s.categories[o]:o},styleEmphasis:function(n,i){0;null==i&&(i=a);var r=y(i,iJ).getItemStyle(),o=w(i,iJ),s=G_(o,null,null,!0,!0);s.text=o.getShallow("show")?gm(e.getFormattedLabel(i,iJ),e.getFormattedLabel(i,rJ),CB(t,i)):null;var l=V_(o,null,!0);return b(n,r),r=OQ(r,s,l),n&&C(r,n),r.legacy=!0,r},visual:function(e,n){if(null==n&&(n=a),Tm(_Q,e)){var i=t.getItemVisual(n,"style");return i?i[_Q[e]]:null}if(Tm(RQ,e))return t.getItemVisual(n,e)},barLayout:function(e){if("cartesian2d"===o.type){return function(e){var t=[],n=e.axis,i="axis0";if("category"===n.type){for(var r=n.getBandWidth(),o=0;o<e.count;o++)t.push(Uf({bandWidth:r,axisKey:i,stackId:uG+o},e));var s=gG(t),a=[];for(o=0;o<e.count;o++){var l=s[i][uG+o];l.offsetCenter=l.offset+l.width/2,a.push(l)}return a}}(Uf({axis:o.getBaseAxis()},e))}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(e){return j_(e,n)}},s.api||{}),c={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:xJ(e.getData())},d={},h={},p={},g={},f=0;f<aJ.length;f++){var m=aJ[f];p[m]=e.getModel(lJ[m]),g[m]=e.getModel(uJ[m])}function v(e){return e===a?l||(l=t.getItemModel(e)):t.getItemModel(e)}function y(e,n){return t.hasItemOption?e===a?d[n]||(d[n]=v(e).getModel(lJ[n])):v(e).getModel(lJ[n]):p[n]}function w(e,n){return t.hasItemOption?e===a?h[n]||(h[n]=v(e).getModel(uJ[n])):v(e).getModel(uJ[n]):g[n]}return function(e,n){return a=e,l=null,d={},h={},r&&r(Uf({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:n?n.type:null},c),u)};function C(e,t){for(var n in t)Tm(t,n)&&(e[n]=t[n])}function b(e,t){e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}}function xJ(e){var t={};return qf(e.dimensions,(function(n){var i=e.getDimensionInfo(n);if(!i.isExtraCoord){var r=i.coordDim;(t[r]=t[r]||[])[i.coordDimIndex]=e.getDimensionIndex(n)}})),t}function MJ(e,t,n,i,r,o,s){if(i){var a=_J(e,t,n,i,r,o);return a&&s.setItemGraphicEl(n,a),a&&f_(a,i.focus,i.blurScope,i.emphasisDisabled),a}o.remove(t)}function _J(e,t,n,i,r,o){var s=-1,a=t;t&&RJ(t,i,r)&&(s=jf(o.childrenRef(),t),t=null);var l,u,c=!t,d=t;d?d.clearStates():(d=yJ(i),a&&(l=a,(u=d).copyTransform(l),fJ(u)&&fJ(l)&&(u.setStyle(l.style),u.z=l.z,u.z2=l.z2,u.zlevel=l.zlevel,u.invisible=l.invisible,u.ignore=l.ignore,gJ(u)&&gJ(l)&&u.setShape(l.shape)))),!1===i.morph?d.disableMorphing=!0:d.disableMorphing&&(d.disableMorphing=!1),hJ.normal.cfg=hJ.normal.conOpt=hJ.emphasis.cfg=hJ.emphasis.conOpt=hJ.blur.cfg=hJ.blur.conOpt=hJ.select.cfg=hJ.select.conOpt=null,hJ.isLegacy=!1,function(e,t,n,i,r,o){if(e.isGroup)return;DJ(n,null,o),DJ(n,iJ,o);var s=o.normal.conOpt,a=o.emphasis.conOpt,l=o.blur.conOpt,u=o.select.conOpt;if(null!=s||null!=a||null!=u||null!=l){var c=e.getTextContent();if(!1===s)c&&e.removeTextContent();else{s=o.normal.conOpt=s||{type:"text"},c?c.clearStates():(c=yJ(s),e.setTextContent(c)),wJ(null,c,t,s,null,i,r);for(var d=s&&s.style,h=0;h<aJ.length;h++){var p=aJ[h];if(p!==rJ){var g=o[p].conOpt;CJ(p,c,0,TJ(s,g,p),null)}}d?c.dirty():c.markRedraw()}}}(d,n,i,r,c,hJ),function(e,t,n,i,r){var o=n.clipPath;if(!1===o)e&&e.getClipPath()&&e.removeClipPath();else if(o){var s=e.getClipPath();s&&RJ(s,o,i)&&(s=null),s||(s=yJ(o),e.setClipPath(s)),wJ(null,s,t,o,null,i,r)}}(d,n,i,r,c),wJ(e,d,n,i,hJ,r,c),Tm(i,"info")&&(DQ(d).info=i.info);for(var h=0;h<aJ.length;h++){var p=aJ[h];if(p!==rJ){var g=PJ(i,p);CJ(p,d,0,TJ(i,g,p),hJ)}}return function(e,t,n){if(!e.isGroup){var i=e,r=n.currentZ,o=n.currentZLevel;i.z=r,i.zlevel=o;var s=t.z2;null!=s&&(i.z2=s||0);for(var a=0;a<aJ.length;a++)bJ(i,t,aJ[a])}}(d,i,r),"group"===i.type&&function(e,t,n,i,r){var o=i.children,s=o?o.length:0,a=i.$mergeChildren,l="byName"===a||i.diffChildrenByName,u=!1===a;if(!s&&!l&&!u)return;if(l)return c={api:e,oldChildren:t.children()||[],newChildren:o||[],dataIndex:n,seriesModel:r,group:t},void new BN(c.oldChildren,c.newChildren,EJ,EJ,c).add(IJ).update(IJ).remove(kJ).execute();var c;u&&t.removeAll();for(var d=0;d<s;d++){var h=o[d],p=t.childAt(d);h?(null==h.ignore&&(h.ignore=!1),_J(e,p,n,h,r,t)):p.ignore=!0}for(var g=t.childCount()-1;g>=d;g--){var f=t.childAt(g);AJ(t,f,r)}}(e,d,n,i,r),s>=0?o.replaceAt(d,s):o.add(d),d}function RJ(e,t,n){var i,r=DQ(e),o=t.type,s=t.shape,a=t.style;return n.isUniversalTransitionEnabled()||null!=o&&o!==r.customGraphicType||"path"===o&&((i=s)&&(Tm(i,"pathData")||Tm(i,"d")))&&FJ(s)!==r.customPathData||"image"===o&&Tm(a,"image")&&a.image!==r.customImagePath}function DJ(e,t,n){var i=t?PJ(e,t):e,r=t?TJ(e,i,iJ):e.style,o=e.type,s=i?i.textConfig:null,a=e.textContent,l=a?t?PJ(a,t):a:null;if(r&&(n.isLegacy||kQ(r,o,!!s,!!l))){n.isLegacy=!0;var u=FQ(r,o,!t);!s&&u.textConfig&&(s=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var c=l;!c.type&&(c.type="text")}var d=t?n[t]:n.normal;d.cfg=s,d.conOpt=l}function PJ(e,t){return t?e?e[t]:null:e}function TJ(e,t,n){var i=t&&t.style;return null==i&&n===iJ&&e&&(i=e.styleEmphasis),i}function AJ(e,t,n){t&&jQ(t,DQ(e).option,n)}function EJ(e,t){var n=e&&e.name;return null!=n?n:dJ+t}function IJ(e,t){var n=this.context,i=null!=e?n.newChildren[e]:null,r=null!=t?n.oldChildren[t]:null;_J(n.api,r,n.dataIndex,i,n.seriesModel,n.group)}function kJ(e){var t=this.context,n=t.oldChildren[e];n&&jQ(n,DQ(n).option,t.seriesModel)}function FJ(e){return e&&(e.pathData||e.d)}var LJ=jb(),OJ=Vf,NJ=Jf,BJ=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(e,t,n,i){var r=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==r||this._lastStatus!==o){this._lastValue=r,this._lastStatus=o;var s=this._group,a=this._handle;if(!o||"hide"===o)return s&&s.hide(),void(a&&a.hide());s&&s.show(),a&&a.show();var l={};this.makeElOption(l,r,e,t,n);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var c=this._moveAnimation=this.determineAnimation(e,t);if(s){var d=em(GJ,t,c);this.updatePointerEl(s,l,d),this.updateLabelEl(s,l,d,t)}else s=this._group=new eb,this.createPointerEl(s,l,e,t),this.createLabelEl(s,l,e,t),n.getZr().add(s);WJ(s,t,!0),this._renderHandle(r)}},e.prototype.remove=function(e){this.clear(e)},e.prototype.dispose=function(e){this.clear(e)},e.prototype.determineAnimation=function(e,t){var n=t.get("animation"),i=e.axis,r="category"===i.type,o=t.get("snap");if(!o&&!r)return!1;if("auto"===n||null==n){var s=this.animationThreshold;if(r&&i.getBandWidth()>s)return!0;if(o){var a=wH(e).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/a>s}return!1}return!0===n},e.prototype.makeElOption=function(e,t,n,i,r){},e.prototype.createPointerEl=function(e,n,i,r){var o=n.pointer;if(o){var s=LJ(e).pointerEl=new t[o.type](OJ(n.pointer));e.add(s)}},e.prototype.createLabelEl=function(e,t,n,i){if(t.label){var r=LJ(e).labelEl=new bM(OJ(t.label));e.add(r),zJ(r,i)}},e.prototype.updatePointerEl=function(e,t,n){var i=LJ(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},e.prototype.updateLabelEl=function(e,t,n,i){var r=LJ(e).labelEl;r&&(r.setStyle(t.label.style),n(r,{x:t.label.x,y:t.label.y}),zJ(r,i))},e.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=n.getModel("handle"),s=n.get("status");if(!o.get("show")||!s||"hide"===s)return r&&i.remove(r),void(this._handle=null);this._handle||(t=!0,r=this._handle=hI(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){bv(e.event)},onmousedown:NJ(this._onHandleDragMove,this,0,0),drift:NJ(this._onHandleDragMove,this),ondragend:NJ(this._onHandleDragEnd,this)}),i.add(r)),WJ(r,n,!1),r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var a=o.get("size");tm(a)||(a=[a,a]),r.scaleX=a[0]/2,r.scaleY=a[1]/2,II(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},e.prototype._moveHandleToValue=function(e,t){GJ(this._axisPointerModel,!t&&this._moveAnimation,this._handle,HJ(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(HJ(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(HJ(i)),LJ(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),kI(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}},e}();function GJ(e,t,n,i){VJ(LJ(n).lastProp,i)||(LJ(n).lastProp=i,t?D_(n,i,e):(n.stopAnimation(),n.attr(i)))}function VJ(e,t){if(sm(e)&&sm(t)){var n=!0;return qf(t,(function(t,i){n=n&&VJ(e[i],t)})),!!n}return e===t}function zJ(e,t){e[t.get(["label","show"])?"show":"hide"]()}function HJ(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function WJ(e,t,n){var i=t.get("z"),r=t.get("zlevel");e&&e.traverse((function(e){"group"!==e.type&&(null!=i&&(e.z=i),null!=r&&(e.zlevel=r),e.silent=n)}))}const UJ=BJ;function jJ(e){var t,n=e.get("type"),i=e.getModel(n+"Style");return"line"===n?(t=i.getLineStyle()).fill=null:"shadow"===n&&((t=i.getAreaStyle()).stroke=null),t}function $J(e,t,n,i,r){var o=KJ(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=n.getModel("label"),a=ZR(s.get("padding")||0),l=s.getFont(),u=OC(o,l),c=r.position,d=u.width+a[1]+a[3],h=u.height+a[0]+a[2],p=r.align;"right"===p&&(c[0]-=d),"center"===p&&(c[0]-=d/2);var g=r.verticalAlign;"bottom"===g&&(c[1]-=h),"middle"===g&&(c[1]-=h/2),function(e,t,n,i){var r=i.getWidth(),o=i.getHeight();e[0]=Math.min(e[0]+t,r)-t,e[1]=Math.min(e[1]+n,o)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(c,d,h,i);var f=s.get("backgroundColor");f&&"auto"!==f||(f=t.get(["axisLine","lineStyle","color"])),e.label={x:c[0],y:c[1],style:G_(s,{text:o,font:l,fill:s.getTextColor(),padding:a,backgroundColor:f}),z2:10}}function KJ(e,t,n,i,r){e=t.scale.parse(e);var o=t.scale.getLabel({value:e},{precision:r.precision}),s=r.formatter;if(s){var a={value:Dz(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};qf(i,(function(e){var t=n.getSeriesByIndex(e.seriesIndex),i=e.dataIndexInside,r=t&&t.getDataParams(i);r&&a.seriesData.push(r)})),im(s)?o=s.replace("{value}",o):nm(s)&&(o=s(a))}return o}function qJ(e,t,n){var i=[1,0,0,1,0,0];return Av(i,i,n.rotation),Tv(i,i,n.position),sI([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function YJ(e,t,n,i,r,o){var s=mH.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get(["label","margin"]),$J(t,i,r,o,{position:qJ(i.axis,e,n),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function XJ(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}}function ZJ(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}function QJ(e,t,n,i,r,o){return{cx:e,cy:t,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}var JJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.makeElOption=function(e,t,n,i,r){var o=n.axis,s=o.grid,a=i.get("type"),l=e0(s,o).getOtherAxis(o).getGlobalExtent(),u=o.toGlobalCoord(o.dataToCoord(t,!0));if(a&&"none"!==a){var c=jJ(i),d=t0[a](o,u,l);d.style=c,e.graphicKey=d.type,e.pointer=d}YJ(t,e,Jz(s.model,n),n,i,r)},t.prototype.getHandleTransform=function(e,t,n){var i=Jz(t.axis.grid.model,t,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var r=qJ(t.axis,e,i);return{x:r[0],y:r[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,n,i){var r=n.axis,o=r.grid,s=r.getGlobalExtent(!0),a=e0(o,r).getOtherAxis(r).getGlobalExtent(),l="x"===r.dim?0:1,u=[e.x,e.y];u[l]+=t[l],u[l]=Math.min(s[1],u[l]),u[l]=Math.max(s[0],u[l]);var c=(a[1]+a[0])/2,d=[c,c];d[l]=u[l];return{x:u[0],y:u[1],rotation:e.rotation,cursorPoint:d,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}},t}(UJ);function e0(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var t0={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:XJ([t,n[0]],[t,n[1]],n0(e))}},shadow:function(e,t,n){var i=Math.max(1,e.getBandWidth()),r=n[1]-n[0];return{type:"Rect",shape:ZJ([t-i/2,n[0]],[i,r],n0(e))}}};function n0(e){return"x"===e.dim?0:1}const i0=JJ;const r0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(vD);var o0=jb(),s0=qf;function a0(e,t,n){if(!Cf.node){var i=t.getZr();o0(i).records||(o0(i).records={}),function(e,t){if(o0(e).initialized)return;function n(n,i){e.on(n,(function(n){var r=function(e){var t={showTip:[],hideTip:[]},n=function(i){var r=t[i.type];r?r.push(i):(i.dispatchAction=n,e.dispatchAction(i))};return{dispatchAction:n,pendings:t}}(t);s0(o0(e).records,(function(e){e&&i(e,n,r.dispatchAction)})),function(e,t){var n,i=e.showTip.length,r=e.hideTip.length;i?n=e.showTip[i-1]:r&&(n=e.hideTip[r-1]);n&&(n.dispatchAction=null,t.dispatchAction(n))}(r.pendings,t)}))}o0(e).initialized=!0,n("click",em(u0,"click")),n("mousemove",em(u0,"mousemove")),n("globalout",l0)}(i,t),(o0(i).records[e]||(o0(i).records[e]={})).handler=n}}function l0(e,t,n){e.handler("leave",null,n)}function u0(e,t,n,i){t.handler(e,n,i)}function c0(e,t){if(!Cf.node){var n=t.getZr();(o0(n).records||{})[e]&&(o0(n).records[e]=null)}}var d0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n){var i=t.getComponent("tooltip"),r=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";a0("axisPointer",n,(function(e,t,n){"none"!==r&&("leave"===e||r.indexOf(e)>=0)&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},t.prototype.remove=function(e,t){c0("axisPointer",t)},t.prototype.dispose=function(e,t){c0("axisPointer",t)},t.type="axisPointer",t}(fA);const h0=d0;function p0(e,t){var n,i=[],r=e.seriesIndex;if(null==r||!(n=t.getSeriesByIndex(r)))return{point:[]};var o=n.getData(),s=Ub(o,e);if(null==s||s<0||tm(s))return{point:[]};var a=o.getItemGraphicEl(s),l=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(e.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u).dim,d=u.dim,h="x"===c||"radius"===c?1:0,p=o.mapDimension(d),g=[];g[h]=o.get(p,s),g[1-h]=o.get(o.getCalculationInfo("stackResultDimension"),s),i=l.dataToPoint(g)||[]}else i=l.dataToPoint(o.getValues(Yf(l.dimensions,(function(e){return o.mapDimension(e)})),s))||[];else if(a){var f=a.getBoundingRect().clone();f.applyTransform(a.transform),i=[f.x+f.width/2,f.y+f.height/2]}return{point:i,el:a}}var g0=jb();function f0(e,t,n){var i=e.currTrigger,r=[e.x,e.y],o=e,s=e.dispatchAction||Jf(n.dispatchAction,n),a=t.getComponent("axisPointer").coordSysAxesInfo;if(a){C0(r)&&(r=p0({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var l=C0(r),u=o.axesInfo,c=a.axesInfo,d="leave"===i||C0(r),h={},p={},g={list:[],map:{}},f={showPointer:em(v0,p),showTooltip:em(y0,g)};qf(a.coordSysMap,(function(e,t){var n=l||e.containPoint(r);qf(a.coordSysAxesInfo[t],(function(e,t){var i=e.axis,o=function(e,t){for(var n=0;n<(e||[]).length;n++){var i=e[n];if(t.axis.dim===i.axisDim&&t.axis.model.componentIndex===i.axisIndex)return i}}(u,e);if(!d&&n&&(!u||o)){var s=o&&o.value;null!=s||l||(s=i.pointToData(r)),null!=s&&m0(e,s,f,!1,h)}}))}));var m={};return qf(c,(function(e,t){var n=e.linkGroup;n&&!p[t]&&qf(n.axesInfo,(function(t,i){var r=p[i];if(t!==e&&r){var o=r.value;n.mapper&&(o=e.axis.scale.parse(n.mapper(o,w0(t),w0(e)))),m[e.key]=o}}))})),qf(m,(function(e,t){m0(c[t],e,f,!0,h)})),function(e,t,n){var i=n.axesInfo=[];qf(t,(function(t,n){var r=t.axisPointerModel.option,o=e[n];o?(!t.useHandle&&(r.status="show"),r.value=o.value,r.seriesDataIndices=(o.payloadBatch||[]).slice()):!t.useHandle&&(r.status="hide"),"show"===r.status&&i.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:r.value})}))}(p,c,h),function(e,t,n,i){if(C0(t)||!e.list.length)return void i({type:"hideTip"});var r=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:e.list})}(g,r,e,s),function(e,t,n){var i=n.getZr(),r="axisPointerLastHighlights",o=g0(i)[r]||{},s=g0(i)[r]={};qf(e,(function(e,t){var n=e.axisPointerModel.option;"show"===n.status&&e.triggerEmphasis&&qf(n.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;s[t]=e}))}));var a=[],l=[];qf(o,(function(e,t){!s[t]&&l.push(e)})),qf(s,(function(e,t){!o[t]&&a.push(e)})),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),a.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:a})}(c,0,n),h}}function m0(e,t,n,i,r){var o=e.axis;if(!o.scale.isBlank()&&o.containData(t))if(e.involveSeries){var s=function(e,t){var n=t.axis,i=n.dim,r=e,o=[],s=Number.MAX_VALUE,a=-1;return qf(t.seriesModels,(function(t,l){var u,c,d=t.getData().mapDimensionsAll(i);if(t.getAxisTooltipData){var h=t.getAxisTooltipData(d,e,n);c=h.dataIndices,u=h.nestestValue}else{if(!(c=t.getData().indicesOfNearest(d[0],e,"category"===n.type?.5:null)).length)return;u=t.getData().get(d[0],c[0])}if(null!=u&&isFinite(u)){var p=e-u,g=Math.abs(p);g<=s&&((g<s||p>=0&&a<0)&&(s=g,a=p,r=u,o.length=0),qf(c,(function(e){o.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))}})),{payloadBatch:o,snapToValue:r}}(t,e),a=s.payloadBatch,l=s.snapToValue;a[0]&&null==r.seriesIndex&&Wf(r,a[0]),!i&&e.snap&&o.containData(l)&&null!=l&&(t=l),n.showPointer(e,t,a),n.showTooltip(e,s,l)}else n.showPointer(e,t)}function v0(e,t,n,i){e[t.key]={value:n,payloadBatch:i}}function y0(e,t,n,i){var r=n.payloadBatch,o=t.axis,s=o.model,a=t.axisPointerModel;if(t.triggerTooltip&&r.length){var l=t.coordSys.model,u=bH(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:o.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:a.get(["label","precision"]),formatter:a.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function w0(e){var t=e.axis.model,n={},i=n.axisDim=e.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=t.componentIndex,n.axisName=n[i+"AxisName"]=t.name,n.axisId=n[i+"AxisId"]=t.id,n}function C0(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function b0(e){MH.registerAxisPointerClass("CartesianAxisPointer",i0),e.registerComponentModel(r0),e.registerComponentView(h0),e.registerPreprocessor((function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!tm(t)&&(e.axisPointer.link=[t])}})),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=vH(e,t)})),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},f0)}var S0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.makeElOption=function(e,t,n,i,r){var o=n.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var s=o.polar,a=s.getOtherAxis(o).getExtent(),l=o.dataToCoord(t),u=i.get("type");if(u&&"none"!==u){var c=jJ(i),d=x0[u](o,s,l,a);d.style=c,e.graphicKey=d.type,e.pointer=d}var h=function(e,t,n,i,r){var o=t.axis,s=o.dataToCoord(e),a=i.getAngleAxis().getExtent()[0];a=a/180*Math.PI;var l,u,c,d=i.getRadiusAxis().getExtent();if("radius"===o.dim){var h=[1,0,0,1,0,0];Av(h,h,a),Tv(h,h,[i.cx,i.cy]),l=sI([s,-r],h);var p=t.getModel("axisLabel").get("rotate")||0,g=mH.innerTextLayout(a,p*Math.PI/180,-1);u=g.textAlign,c=g.textVerticalAlign}else{var f=d[1];l=i.coordToPoint([f+r,s]);var m=i.cx,v=i.cy;u=Math.abs(l[0]-m)/f<.3?"center":l[0]>m?"left":"right",c=Math.abs(l[1]-v)/f<.3?"middle":l[1]>v?"top":"bottom"}return{position:l,align:u,verticalAlign:c}}(t,n,0,s,i.get(["label","margin"]));$J(e,n,i,r,h)},t}(UJ);var x0={line:function(e,t,n,i){return"angle"===e.dim?{type:"Line",shape:XJ(t.coordToPoint([i[0],n]),t.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,i){var r=Math.max(1,e.getBandWidth()),o=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:QJ(t.cx,t.cy,i[0],i[1],(-n-r/2)*o,(r/2-n)*o)}:{type:"Sector",shape:QJ(t.cx,t.cy,n-r/2,n+r/2,0,2*Math.PI)}}};const M0=S0;const _0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.findAxisModel=function(e){var t;return this.ecModel.eachComponent(e,(function(e){e.getCoordSysModel()===this&&(t=e)}),this),t},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(vD);var R0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Yb).models[0]},t.type="polarAxis",t}(vD);$f(R0,MV);var D0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.type="angleAxis",t}(R0),P0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.type="radiusAxis",t}(R0),T0=function(e){function t(t,n){return e.call(this,"radius",t,n)||this}return vf(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t}(Xz);T0.prototype.dataToRadius=Xz.prototype.dataToCoord,T0.prototype.radiusToData=Xz.prototype.coordToData;const A0=T0;var E0=jb(),I0=function(e){function t(t,n){return e.call(this,"angle",t,n||[0,360])||this}return vf(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,t=e.getLabelModel(),n=e.scale,i=n.getExtent(),r=n.count();if(i[1]-i[0]<1)return 0;var o=i[0],s=e.dataToCoord(o+1)-e.dataToCoord(o),a=Math.abs(s),l=OC(null==o?"":o+"",t.getFont(),"center","top"),u=Math.max(l.height,7)/a;isNaN(u)&&(u=1/0);var c=Math.max(0,Math.floor(u)),d=E0(e.model),h=d.lastAutoInterval,p=d.lastTickCount;return null!=h&&null!=p&&Math.abs(h-c)<=1&&Math.abs(p-r)<=1&&h>c?c=h:(d.lastTickCount=r,d.lastAutoInterval=c),c},t}(Xz);I0.prototype.dataToAngle=Xz.prototype.dataToCoord,I0.prototype.angleToData=Xz.prototype.coordToData;const k0=I0;var F0=["radius","angle"],L0=function(){function e(e){this.dimensions=F0,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new A0,this._angleAxis=new k0,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},e.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},e.prototype.getAxis=function(e){return this["_"+e+"Axis"]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},e.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},e.prototype.pointToData=function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},e.prototype.pointToCoord=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),r=i.getExtent(),o=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);i.inverse?o=s-360:s=o+360;var a=Math.sqrt(t*t+n*n);t/=a,n/=a;for(var l=Math.atan2(-n,t)/Math.PI*180,u=l<o?1:-1;l<o||l>s;)l+=360*u;return[a,l]},e.prototype.coordToPoint=function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]},e.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var n=e.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:e.inverse,contain:function(e,t){var n=e-this.cx,i=t-this.cy,r=n*n+i*i-1e-4,o=this.r,s=this.r0;return r<=o*o&&r>=s*s}}},e.prototype.convertToPixel=function(e,t,n){return O0(t)===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){return O0(t)===this?this.pointToData(n):null},e}();function O0(e){var t=e.seriesModel,n=e.polarModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}const N0=L0;function B0(e,t){var n=this,i=n.getAngleAxis(),r=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),e.eachSeries((function(e){if(e.coordinateSystem===n){var t=e.getData();qf(Ez(t,"radius"),(function(e){r.scale.unionExtentFromData(t,e)})),qf(Ez(t,"angle"),(function(e){i.scale.unionExtentFromData(t,e)}))}})),Mz(i.scale,i.model),Mz(r.scale,r.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),s=360/i.scale.count();i.inverse?o[1]+=s:o[1]-=s,i.setExtent(o[0],o[1])}}function G0(e,t){var n;if(e.type=t.get("type"),e.scale=_z(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),function(e){return"angleAxis"===e.mainType}(t)){e.inverse=e.inverse!==t.get("clockwise");var i=t.get("startAngle"),r=null!==(n=t.get("endAngle"))&&void 0!==n?n:i+(e.inverse?-360:360);e.setExtent(i,r)}t.axis=e,e.model=t}var V0={dimensions:F0,create:function(e,t){var n=[];return e.eachComponent("polar",(function(e,i){var r=new N0(i+"");r.update=B0;var o=r.getRadiusAxis(),s=r.getAngleAxis(),a=e.findAxisModel("radiusAxis"),l=e.findAxisModel("angleAxis");G0(o,a),G0(s,l),function(e,t,n){var i=t.get("center"),r=n.getWidth(),o=n.getHeight();e.cx=ub(i[0],r),e.cy=ub(i[1],o);var s=e.getRadiusAxis(),a=Math.min(r,o)/2,l=t.get("radius");null==l?l=[0,"100%"]:tm(l)||(l=[0,l]);var u=[ub(l[0],a),ub(l[1],a)];s.inverse?s.setExtent(u[1],u[0]):s.setExtent(u[0],u[1])}(r,e,t),n.push(r),e.coordinateSystem=r,r.model=e})),e.eachSeries((function(e){if("polar"===e.get("coordinateSystem")){var t=e.getReferringComponents("polar",Yb).models[0];0,e.coordinateSystem=t.coordinateSystem}})),n}};const z0=V0;var H0=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function W0(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var i=e.coordToPoint([t[0],n]),r=e.coordToPoint([t[1],n]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function U0(e){return e.getRadiusAxis().inverse?0:1}function j0(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}var $0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return vf(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,r=i.getRadiusAxis().getExtent(),o=n.getTicksCoords(),s=n.getMinorTicksCoords(),a=Yf(n.getViewLabels(),(function(e){e=Vf(e);var t=n.scale,i="ordinal"===t.type?t.getRawOrdinalNumber(e.tickValue):e.tickValue;return e.coord=n.dataToCoord(i),e}));j0(a),j0(o),qf(H0,(function(t){!e.get([t,"show"])||n.scale.isBlank()&&"axisLine"!==t||K0[t](this.group,e,i,o,s,r,a)}),this)}},t.type="angleAxis",t}(MH),K0={axisLine:function(e,n,i,r,o,s){var a,l=n.getModel(["axisLine","lineStyle"]),u=i.getAngleAxis(),c=Math.PI/180,d=u.getExtent(),h=U0(i),p=h?0:1,g=360===Math.abs(d[1]-d[0])?"Circle":"Arc";(a=0===s[p]?new t[g]({shape:{cx:i.cx,cy:i.cy,r:s[h],startAngle:-d[0]*c,endAngle:-d[1]*c,clockwise:u.inverse},style:l.getLineStyle(),z2:1,silent:!0}):new aE({shape:{cx:i.cx,cy:i.cy,r:s[h],r0:s[p]},style:l.getLineStyle(),z2:1,silent:!0})).style.fill=null,e.add(a)},axisTick:function(e,t,n,i,r,o){var s=t.getModel("axisTick"),a=(s.get("inside")?-1:1)*s.get("length"),l=o[U0(n)],u=Yf(i,(function(e){return new yE({shape:W0(n,[l,l+a],e.coord)})}));e.add(eI(u,{style:Uf(s.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,n,i,r,o){if(r.length){for(var s=t.getModel("axisTick"),a=t.getModel("minorTick"),l=(s.get("inside")?-1:1)*a.get("length"),u=o[U0(n)],c=[],d=0;d<r.length;d++)for(var h=0;h<r[d].length;h++)c.push(new yE({shape:W0(n,[u,u+l],r[d][h].coord)}));e.add(eI(c,{style:Uf(a.getModel("lineStyle").getLineStyle(),Uf(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,n,i,r,o,s){var a=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),c=t.get("triggerEvent");qf(s,(function(i,r){var s=l,d=i.tickValue,h=o[U0(n)],p=n.coordToPoint([h+u,i.coord]),g=n.cx,f=n.cy,m=Math.abs(p[0]-g)/h<.3?"center":p[0]>g?"left":"right",v=Math.abs(p[1]-f)/h<.3?"middle":p[1]>f?"top":"bottom";if(a&&a[d]){var y=a[d];sm(y)&&y.textStyle&&(s=new aR(y.textStyle,l,l.ecModel))}var w=new bM({silent:mH.isLabelSilent(t),style:G_(s,{x:p[0],y:p[1],fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:i.formattedLabel,align:m,verticalAlign:v})});if(e.add(w),c){var C=mH.makeAxisEventDataBase(t);C.targetType="axisLabel",C.value=i.rawLabel,SM(w).eventData=C}}),this)},splitLine:function(e,t,n,i,r,o){var s=t.getModel("splitLine").getModel("lineStyle"),a=s.get("color"),l=0;a=a instanceof Array?a:[a];for(var u=[],c=0;c<i.length;c++){var d=l++%a.length;u[d]=u[d]||[],u[d].push(new yE({shape:W0(n,o,i[c].coord)}))}for(c=0;c<u.length;c++)e.add(eI(u[c],{style:Uf({stroke:a[c%a.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,n,i,r,o){if(r.length){for(var s=t.getModel("minorSplitLine").getModel("lineStyle"),a=[],l=0;l<r.length;l++)for(var u=0;u<r[l].length;u++)a.push(new yE({shape:W0(n,o,r[l][u].coord)}));e.add(eI(a,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,n,i,r,o){if(i.length){var s=t.getModel("splitArea").getModel("areaStyle"),a=s.get("color"),l=0;a=a instanceof Array?a:[a];for(var u=[],c=Math.PI/180,d=-i[0].coord*c,h=Math.min(o[0],o[1]),p=Math.max(o[0],o[1]),g=t.get("clockwise"),f=1,m=i.length;f<=m;f++){var v=f===m?i[0].coord:i[f].coord,y=l++%a.length;u[y]=u[y]||[],u[y].push(new rE({shape:{cx:n.cx,cy:n.cy,r0:h,r:p,startAngle:d,endAngle:-v*c,clockwise:g},silent:!0})),d=-v*c}for(f=0;f<u.length;f++)e.add(eI(u[f],{style:Uf({fill:a[f%a.length]},s.getAreaStyle()),silent:!0}))}}};const q0=$0;var Y0=["axisLine","axisTickLabel","axisName"],X0=["splitLine","splitArea","minorSplitLine"],Z0=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return vf(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var n=this._axisGroup,i=this._axisGroup=new eb;this.group.add(i);var r=e.axis,o=r.polar,s=o.getAngleAxis(),a=r.getTicksCoords(),l=r.getMinorTicksCoords(),u=s.getExtent()[0],c=r.getExtent(),d=function(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}(o,e,u),h=new mH(e,d);qf(Y0,h.add,h),i.add(h.getGroup()),uI(n,i,e),qf(X0,(function(t){e.get([t,"show"])&&!r.scale.isBlank()&&Q0[t](this.group,e,o,u,c,a,l)}),this)}},t.type="radiusAxis",t}(MH),Q0={splitLine:function(e,n,i,r,o,s){var a=n.getModel("splitLine").getModel("lineStyle"),l=a.get("color"),u=0,c=i.getAngleAxis(),d=Math.PI/180,h=c.getExtent(),p=360===Math.abs(h[1]-h[0])?"Circle":"Arc";l=l instanceof Array?l:[l];for(var g=[],f=0;f<s.length;f++){var m=u++%l.length;g[m]=g[m]||[],g[m].push(new t[p]({shape:{cx:i.cx,cy:i.cy,r:Math.max(s[f].coord,0),startAngle:-h[0]*d,endAngle:-h[1]*d,clockwise:c.inverse}}))}for(f=0;f<g.length;f++)e.add(eI(g[f],{style:Uf({stroke:l[f%l.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,n,i,r,o,s){if(s.length){for(var a=t.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<s.length;u++)for(var c=0;c<s[u].length;c++)l.push(new GA({shape:{cx:n.cx,cy:n.cy,r:s[u][c].coord}}));e.add(eI(l,{style:Uf({fill:null},a.getLineStyle()),silent:!0}))}},splitArea:function(e,t,n,i,r,o){if(o.length){var s=t.getModel("splitArea").getModel("areaStyle"),a=s.get("color"),l=0;a=a instanceof Array?a:[a];for(var u=[],c=o[0].coord,d=1;d<o.length;d++){var h=l++%a.length;u[h]=u[h]||[],u[h].push(new rE({shape:{cx:n.cx,cy:n.cy,r0:c,r:o[d].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=o[d].coord}for(d=0;d<u.length;d++)e.add(eI(u[d],{style:Uf({fill:a[d%a.length]},s.getAreaStyle()),silent:!0}))}}};const J0=Z0;function e1(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function t1(e,t){return t.dim+e.model.componentIndex}const n1=function(e,t,n){var i={},r=function(e){var t={};qf(e,(function(e,n){var i=e.getData(),r=e.coordinateSystem,o=r.getBaseAxis(),s=t1(r,o),a=o.getExtent(),l="category"===o.type?o.getBandWidth():Math.abs(a[1]-a[0])/i.count(),u=t[s]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=u.stacks;t[s]=u;var d=e1(e);c[d]||u.autoWidthCount++,c[d]=c[d]||{width:0,maxWidth:0};var h=ub(e.get("barWidth"),l),p=ub(e.get("barMaxWidth"),l),g=e.get("barGap"),f=e.get("barCategoryGap");h&&!c[d].width&&(h=Math.min(u.remainedWidth,h),c[d].width=h,u.remainedWidth-=h),p&&(c[d].maxWidth=p),null!=g&&(u.gap=g),null!=f&&(u.categoryGap=f)}));var n={};return qf(t,(function(e,t){n[t]={};var i=e.stacks,r=e.bandWidth,o=ub(e.categoryGap,r),s=ub(e.gap,1),a=e.remainedWidth,l=e.autoWidthCount,u=(a-o)/(l+(l-1)*s);u=Math.max(u,0),qf(i,(function(e,t){var n=e.maxWidth;n&&n<u&&(n=Math.min(n,a),e.width&&(n=Math.min(n,e.width)),a-=n,e.width=n,l--)})),u=(a-o)/(l+(l-1)*s),u=Math.max(u,0);var c,d=0;qf(i,(function(e,t){e.width||(e.width=u),c=e,d+=e.width*(1+s)})),c&&(d-=c.width*s);var h=-d/2;qf(i,(function(e,i){n[t][i]=n[t][i]||{offset:h,width:e.width},h+=e.width*(1+s)}))})),n}(Zf(t.getSeriesByType(e),(function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type})));t.eachSeriesByType(e,(function(e){if("polar"===e.coordinateSystem.type){var t=e.getData(),n=e.coordinateSystem,o=n.getBaseAxis(),s=t1(n,o),a=e1(e),l=r[s][a],u=l.offset,c=l.width,d=n.getOtherAxis(o),h=e.coordinateSystem.cx,p=e.coordinateSystem.cy,g=e.get("barMinHeight")||0,f=e.get("barMinAngle")||0;i[a]=i[a]||[];for(var m=t.mapDimension(d.dim),v=t.mapDimension(o.dim),y=mB(t,m),w="radius"!==o.dim||!e.get("roundCap",!0),C=d.model.get("startValue"),b=d.dataToCoord(C||0),S=0,x=t.count();S<x;S++){var M=t.get(m,S),_=t.get(v,S),R=M>=0?"p":"n",D=b;y&&(i[a][_]||(i[a][_]={p:b,n:b}),D=i[a][_][R]);var P=void 0,T=void 0,A=void 0,E=void 0;if("radius"===d.dim){var I=d.dataToCoord(M)-b,k=o.dataToCoord(_);Math.abs(I)<g&&(I=(I<0?-1:1)*g),P=D,T=D+I,E=(A=k-u)-c,y&&(i[a][_][R]=T)}else{var F=d.dataToCoord(M,w)-b,L=o.dataToCoord(_);Math.abs(F)<f&&(F=(F<0?-1:1)*f),T=(P=L+u)+c,A=D,E=D+F,y&&(i[a][_][R]=E)}t.setItemLayout(S,{cx:h,cy:p,r0:P,r:T,startAngle:-A*Math.PI/180,endAngle:-E*Math.PI/180,clockwise:A>=E})}}}))};var i1={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},r1={splitNumber:5},o1=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.type="polar",t}(fA);function s1(e,t){t=t||{};var n=e.coordinateSystem,i=e.axis,r={},o=i.position,s=i.orient,a=n.getRect(),l=[a.x,a.x+a.width,a.y,a.y+a.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=["vertical"===s?u.vertical[o]:l[0],"horizontal"===s?u.horizontal[o]:l[3]];r.rotation=Math.PI/2*{horizontal:0,vertical:1}[s];r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],e.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),hm(t.labelInside,e.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var c=t.rotate;return null==c&&(c=e.get(["axisLabel","rotate"])),r.labelRotation="top"===o?-c:c,r.z2=1,r}var a1=["axisLine","axisTickLabel","axisName"],l1=["splitArea","splitLine"],u1=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="SingleAxisPointer",n}return vf(t,e),t.prototype.render=function(t,n,i,r){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new eb;var a=s1(t),l=new mH(t,a);qf(a1,l.add,l),o.add(this._axisGroup),o.add(l.getGroup()),qf(l1,(function(e){t.get([e,"show"])&&c1[e](this,this.group,this._axisGroup,t)}),this),uI(s,this._axisGroup,t),e.prototype.render.call(this,t,n,i,r)},t.prototype.remove=function(){DH(this)},t.type="singleAxis",t}(MH),c1={splitLine:function(e,t,n,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),s=o.getModel("lineStyle"),a=s.get("color");a=a instanceof Array?a:[a];for(var l=s.get("width"),u=i.coordinateSystem.getRect(),c=r.isHorizontal(),d=[],h=0,p=r.getTicksCoords({tickModel:o}),g=[],f=[],m=0;m<p.length;++m){var v=r.toGlobalCoord(p[m].coord);c?(g[0]=v,g[1]=u.y,f[0]=v,f[1]=u.y+u.height):(g[0]=u.x,g[1]=v,f[0]=u.x+u.width,f[1]=v);var y=new yE({shape:{x1:g[0],y1:g[1],x2:f[0],y2:f[1]},silent:!0});nI(y.shape,l);var w=h++%a.length;d[w]=d[w]||[],d[w].push(y)}var C=s.getLineStyle(["color"]);for(m=0;m<d.length;++m)t.add(eI(d[m],{style:Uf({stroke:a[m%a.length]},C),silent:!0}))}},splitArea:function(e,t,n,i){RH(e,n,i,i)}};const d1=u1;var h1=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(vD);$f(h1,MV.prototype);const p1=h1;var g1=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i)||this;return s.type=r||"value",s.position=o||"bottom",s}return vf(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,t){return this.coordinateSystem.pointToData(e)[0]},t}(Xz);const f1=g1;var m1=["single"],v1=function(){function e(e,t,n){this.type="single",this.dimension="single",this.dimensions=m1,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,n)}return e.prototype._init=function(e,t,n){var i=this.dimension,r=new f1(i,_z(e),[0,0],e.get("type"),e.get("position")),o="category"===r.type;r.onBand=o&&e.get("boundaryGap"),r.inverse=e.get("inverse"),r.orient=e.get("orient"),e.axis=r,r.model=e,r.coordinateSystem=this,this._axis=r},e.prototype.update=function(e,t){e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData();qf(t.mapDimensionsAll(this.dimension),(function(e){this._axis.scale.unionExtentFromData(t,e)}),this),Mz(this._axis.scale,this._axis.model)}}),this)},e.prototype.resize=function(e,t){this._rect=uD({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],r=t.inverse?1:0;t.setExtent(i[r],i[1-r]),this._updateAxisTransform(t,n?e.x:e.y)},e.prototype._updateAxisTransform=function(e,t){var n=e.getExtent(),i=n[0]+n[1],r=e.isHorizontal();e.toGlobalCoord=r?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord=r?function(e){return e-t}:function(e){return i-e+t}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(e){var t=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},e.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},e.prototype.dataToPoint=function(e){var t=this.getAxis(),n=this.getRect(),i=[],r="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),i[r]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-r]=0===r?n.y+n.height/2:n.x+n.width/2,i},e.prototype.convertToPixel=function(e,t,n){return y1(t)===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){return y1(t)===this?this.pointToData(n):null},e}();function y1(e){var t=e.seriesModel,n=e.singleAxisModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}const w1=v1;var C1={create:function(e,t){var n=[];return e.eachComponent("singleAxis",(function(i,r){var o=new w1(i,e,t);o.name="single_"+r,o.resize(i,t),i.coordinateSystem=o,n.push(o)})),e.eachSeries((function(e){if("singleAxis"===e.get("coordinateSystem")){var t=e.getReferringComponents("singleAxis",Yb).models[0];e.coordinateSystem=t&&t.coordinateSystem}})),n},dimensions:m1};const b1=C1;var S1=["x","y"],x1=["width","height"],M1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.makeElOption=function(e,t,n,i,r){var o=n.axis,s=o.coordinateSystem,a=D1(s,1-R1(o)),l=s.dataToPoint(t)[0],u=i.get("type");if(u&&"none"!==u){var c=jJ(i),d=_1[u](o,l,a);d.style=c,e.graphicKey=d.type,e.pointer=d}YJ(t,e,s1(n),n,i,r)},t.prototype.getHandleTransform=function(e,t,n){var i=s1(t,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var r=qJ(t.axis,e,i);return{x:r[0],y:r[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,n,i){var r=n.axis,o=r.coordinateSystem,s=R1(r),a=D1(o,s),l=[e.x,e.y];l[s]+=t[s],l[s]=Math.min(a[1],l[s]),l[s]=Math.max(a[0],l[s]);var u=D1(o,1-s),c=(u[1]+u[0])/2,d=[c,c];return d[s]=l[s],{x:l[0],y:l[1],rotation:e.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},t}(UJ),_1={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:XJ([t,n[0]],[t,n[1]],R1(e))}},shadow:function(e,t,n){var i=e.getBandWidth(),r=n[1]-n[0];return{type:"Rect",shape:ZJ([t-i/2,n[0]],[i,r],R1(e))}}};function R1(e){return e.isHorizontal()?0:1}function D1(e,t){var n=e.getRect();return[n[S1[t]],n[S1[t]]+n[x1[t]]]}const P1=M1;var T1=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.type="single",t}(fA);function A1(e,t){var n,i=e.cellSize;1===(n=tm(i)?i:e.cellSize=[i,i]).length&&(n[1]=n[0]);var r=Yf([0,1],(function(e){return function(e,t){return null!=e[sD[t][0]]||null!=e[sD[t][1]]&&null!=e[sD[t][2]]}(t,e)&&(n[e]="auto"),null!=n[e]&&"auto"!==n[e]}));hD(e,t,{type:"box",ignoreSize:r})}const E1=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.init=function(t,n,i){var r=pD(t);e.prototype.init.apply(this,arguments),A1(t,r)},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),A1(this.option,t)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(vD);var I1=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n){var i=this.group;i.removeAll();var r=e.coordinateSystem,o=r.getRangeInfo(),s=r.getOrient(),a=t.getLocaleModel();this._renderDayRect(e,o,i),this._renderLines(e,o,s,i),this._renderYearText(e,o,s,i),this._renderMonthText(e,a,s,i),this._renderWeekText(e,a,o,s,i)},t.prototype._renderDayRect=function(e,t,n){for(var i=e.coordinateSystem,r=e.getModel("itemStyle").getItemStyle(),o=i.getCellWidth(),s=i.getCellHeight(),a=t.start.time;a<=t.end.time;a=i.getNextNDay(a,1).time){var l=i.dataToRect([a],!1).tl,u=new oM({shape:{x:l[0],y:l[1],width:o,height:s},cursor:"default",style:r});n.add(u)}},t.prototype._renderLines=function(e,t,n,i){var r=this,o=e.coordinateSystem,s=e.getModel(["splitLine","lineStyle"]).getLineStyle(),a=e.get(["splitLine","show"]),l=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=t.start,c=0;u.time<=t.end.time;c++){h(u.formatedDate),0===c&&(u=o.getDateInfo(t.start.y+"-"+t.start.m));var d=u.date;d.setMonth(d.getMonth()+1),u=o.getDateInfo(d)}function h(t){r._firstDayOfMonth.push(o.getDateInfo(t)),r._firstDayPoints.push(o.dataToRect([t],!1).tl);var l=r._getLinePointsOfOneWeek(e,t,n);r._tlpoints.push(l[0]),r._blpoints.push(l[l.length-1]),a&&r._drawSplitline(l,s,i)}h(o.getNextNDay(t.end.time,1).formatedDate),a&&this._drawSplitline(r._getEdgesPoints(r._tlpoints,l,n),s,i),a&&this._drawSplitline(r._getEdgesPoints(r._blpoints,l,n),s,i)},t.prototype._getEdgesPoints=function(e,t,n){var i=[e[0].slice(),e[e.length-1].slice()],r="horizontal"===n?0:1;return i[0][r]=i[0][r]-t/2,i[1][r]=i[1][r]+t/2,i},t.prototype._drawSplitline=function(e,t,n){var i=new gE({z2:20,shape:{points:e},style:t});n.add(i)},t.prototype._getLinePointsOfOneWeek=function(e,t,n){for(var i=e.coordinateSystem,r=i.getDateInfo(t),o=[],s=0;s<7;s++){var a=i.getNextNDay(r.time,s),l=i.dataToRect([a.time],!1);o[2*a.day]=l.tl,o[2*a.day+1]=l["horizontal"===n?"bl":"tr"]}return o},t.prototype._formatterLabel=function(e,t){return im(e)&&e?function(e,t,n){return qf(t,(function(t,i){e=e.replace("{"+i+"}",n?hv(t):t)})),e}(e,t):nm(e)?e(t):t.nameMap},t.prototype._yearTextPositionControl=function(e,t,n,i,r){var o=t[0],s=t[1],a=["center","bottom"];"bottom"===i?(s+=r,a=["center","top"]):"left"===i?o-=r:"right"===i?(o+=r,a=["center","top"]):s-=r;var l=0;return"left"!==i&&"right"!==i||(l=Math.PI/2),{rotation:l,x:o,y:s,style:{align:a[0],verticalAlign:a[1]}}},t.prototype._renderYearText=function(e,t,n,i){var r=e.getModel("yearLabel");if(r.get("show")){var o=r.get("margin"),s=r.get("position");s||(s="horizontal"!==n?"top":"left");var a=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(a[0][0]+a[1][0])/2,u=(a[0][1]+a[1][1])/2,c="horizontal"===n?0:1,d={top:[l,a[c][1]],bottom:[l,a[1-c][1]],left:[a[1-c][0],u],right:[a[c][0],u]},h=t.start.y;+t.end.y>+t.start.y&&(h=h+"-"+t.end.y);var p=r.get("formatter"),g={start:t.start.y,end:t.end.y,nameMap:h},f=this._formatterLabel(p,g),m=new bM({z2:30,style:G_(r,{text:f})});m.attr(this._yearTextPositionControl(m,d[s],n,s,o)),i.add(m)}},t.prototype._monthTextPositionControl=function(e,t,n,i,r){var o="left",s="top",a=e[0],l=e[1];return"horizontal"===n?(l+=r,t&&(o="center"),"start"===i&&(s="bottom")):(a+=r,t&&(s="middle"),"start"===i&&(o="right")),{x:a,y:l,align:o,verticalAlign:s}},t.prototype._renderMonthText=function(e,t,n,i){var r=e.getModel("monthLabel");if(r.get("show")){var o=r.get("nameMap"),s=r.get("margin"),a=r.get("position"),l=r.get("align"),u=[this._tlpoints,this._blpoints];o&&!im(o)||(o&&(t=yR(o)||t),o=t.get(["time","monthAbbr"])||[]);var c="start"===a?0:1,d="horizontal"===n?0:1;s="start"===a?-s:s;for(var h="center"===l,p=0;p<u[c].length-1;p++){var g=u[c][p].slice(),f=this._firstDayOfMonth[p];if(h){var m=this._firstDayPoints[p];g[d]=(m[d]+u[0][p+1][d])/2}var v=r.get("formatter"),y=o[+f.m-1],w={yyyy:f.y,yy:(f.y+"").slice(2),MM:f.m,M:+f.m,nameMap:y},C=this._formatterLabel(v,w),b=new bM({z2:30,style:Wf(G_(r,{text:C}),this._monthTextPositionControl(g,h,n,a,s))});i.add(b)}}},t.prototype._weekTextPositionControl=function(e,t,n,i,r){var o="center",s="middle",a=e[0],l=e[1],u="start"===n;return"horizontal"===t?(a=a+i+(u?1:-1)*r[0]/2,o=u?"right":"left"):(l=l+i+(u?1:-1)*r[1]/2,s=u?"bottom":"top"),{x:a,y:l,align:o,verticalAlign:s}},t.prototype._renderWeekText=function(e,t,n,i,r){var o=e.getModel("dayLabel");if(o.get("show")){var s=e.coordinateSystem,a=o.get("position"),l=o.get("nameMap"),u=o.get("margin"),c=s.getFirstDayOfWeek();if(!l||im(l))l&&(t=yR(l)||t),l=t.get(["time","dayOfWeekShort"])||Yf(t.get(["time","dayOfWeekAbbr"]),(function(e){return e[0]}));var d=s.getNextNDay(n.end.time,7-n.lweek).time,h=[s.getCellWidth(),s.getCellHeight()];u=ub(u,Math.min(h[1],h[0])),"start"===a&&(d=s.getNextNDay(n.start.time,-(7+n.fweek)).time,u=-u);for(var p=0;p<7;p++){var g,f=s.getNextNDay(d,p),m=s.dataToRect([f.time],!1).center;g=Math.abs((p+c)%7);var v=new bM({z2:30,style:Wf(G_(o,{text:l[g]}),this._weekTextPositionControl(m,i,a,u,h))});r.add(v)}}},t.type="calendar",t}(fA);const k1=I1;var F1=864e5,L1=function(){function e(t,n,i){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(e){var t=(e=Cb(e)).getFullYear(),n=e.getMonth()+1,i=n<10?"0"+n:""+n,r=e.getDate(),o=r<10?"0"+r:""+r,s=e.getDay();return{y:t+"",m:i,d:o,day:s=Math.abs((s+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+i+"-"+o,date:e}},e.prototype.getNextNDay=function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},e.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],r=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[n,7]:[7,n];qf([0,1],(function(e){u(r,e)&&(o[i[e]]=r[e]*s[e])}));var a={width:t.getWidth(),height:t.getHeight()},l=this._rect=uD(o,a);function u(e,t){return null!=e[t]&&"auto"!==e[t]}qf([0,1],(function(e){u(r,e)||(r[e]=l[i[e]]/s[e])})),this._sw=r[0],this._sh=r[1]},e.prototype.dataToPoint=function(e,t){tm(e)&&(e=e[0]),null==t&&(t=!0);var n=this.getDateInfo(e),i=this._rangeInfo,r=n.formatedDate;if(t&&!(n.time>=i.start.time&&n.time<i.end.time+F1))return[NaN,NaN];var o=n.day,s=this._getRangeInfo([i.start.time,r]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},e.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},e.prototype.dataToRect=function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},e.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},e.prototype.convertToPixel=function(e,t,n){var i=O1(t);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){var i=O1(t);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(tm(t)&&1===t.length&&(t=t[0]),tm(t))e=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(e=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),r=i.date;r.setMonth(r.getMonth()+1);var o=this.getNextNDay(r,-1);e=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(e=[n,n])}if(!e)return t;var s=this._getRangeInfo(e);return s.start.time>s.end.time&&e.reverse(),e},e.prototype._getRangeInfo=function(e){var t,n=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];n[0].time>n[1].time&&(t=!0,n.reverse());var i=Math.floor(n[1].time/F1)-Math.floor(n[0].time/F1)+1,r=new Date(n[0].time),o=r.getDate(),s=n[1].date.getDate();r.setDate(o+i-1);var a=r.getDate();if(a!==s)for(var l=r.getTime()-n[1].time>0?1:-1;(a=r.getDate())!==s&&(r.getTime()-n[1].time)*l>0;)i-=l,r.setDate(a-l);var u=Math.floor((i+n[0].day+6)/7),c=t?1-u:u-1;return t&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:i,weeks:u,nthWeek:c,fweek:n[0].day,lweek:n[1].day}},e.prototype._getDateByWeeksAndDay=function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||0===e&&t<i.fweek||e===i.weeks&&t>i.lweek)return null;var r=7*(e-1)-i.fweek+t,o=new Date(i.start.time);return o.setDate(+i.start.d+r),this.getDateInfo(o)},e.create=function(t,n){var i=[];return t.eachComponent("calendar",(function(r){var o=new e(r,t,n);i.push(o),r.coordinateSystem=o})),t.eachSeries((function(e){"calendar"===e.get("coordinateSystem")&&(e.coordinateSystem=i[e.get("calendarIndex")||0])})),i},e.dimensions=["time","value"],e}();function O1(e){var t=e.calendarModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem:null}const N1=L1;function B1(e,t){var n;return qf(t,(function(t){null!=e[t]&&"auto"!==e[t]&&(n=!0)})),n}var G1=["transition","enterFrom","leaveTo"],V1=G1.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function z1(e,t,n){if(n&&(!e[n]&&t[n]&&(e[n]={}),e=e[n],t=t[n]),e&&t)for(var i=n?G1:V1,r=0;r<i.length;r++){var o=i[r];null==e[o]&&null!=t[o]&&(e[o]=t[o])}}var H1=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventAutoZ=!0,n}return vf(t,e),t.prototype.mergeOption=function(t,n){var i=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,t,n),this.option.elements=i},t.prototype.optionUpdated=function(e,t){var n=this.option,i=(t?n:e).elements,r=n.elements=t?[]:n.elements,o=[];this._flatten(i,o,null);var s=Bb(r,o,"normalMerge"),a=this._elOptionsToUpdate=[];qf(s,(function(e,t){var n=e.newOption;n&&(a.push(n),function(e,t){var n=e.existing;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),null==t.parentId){var i=t.parentOption;i?t.parentId=i.id:n&&(t.parentId=n.parentId)}t.parentOption=null}(e,n),function(e,t,n){var i=Wf({},n),r=e[t],o=n.$action||"merge";"merge"===o?r?(zf(r,i,!0),hD(r,i,{ignoreSize:!0}),gD(n,r),z1(n,r),z1(n,r,"shape"),z1(n,r,"style"),z1(n,r,"extra"),n.clipPath=r.clipPath):e[t]=i:"replace"===o?e[t]=i:"remove"===o&&r&&(e[t]=null)}(r,t,n),function(e,t){if(e&&(e.hv=t.hv=[B1(t,["left","right"]),B1(t,["top","bottom"])],"group"===e.type)){var n=e,i=t;null==n.width&&(n.width=i.width=0),null==n.height&&(n.height=i.height=0)}}(r[t],n))}),this),n.elements=Zf(r,(function(e){return e&&delete e.$action,null!=e}))},t.prototype._flatten=function(e,t,n){qf(e,(function(e){if(e){n&&(e.parentOption=n),t.push(e);var i=e.children;i&&i.length&&this._flatten(i,t,e),delete e.children}}),this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(vD),W1={path:null,compoundPath:null,group:eb,image:Zx,text:bM},U1=jb(),j1=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.init=function(){this._elMap=_m()},t.prototype.render=function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},t.prototype._updateElements=function(e){var t=e.useElOptionsToUpdate();if(t){var n=this._elMap,i=this.group,r=e.get("z"),o=e.get("zlevel");qf(t,(function(t){var s=zb(t.id,null),a=null!=s?n.get(s):null,l=zb(t.parentId,null),u=null!=l?n.get(l):i,c=t.type,d=t.style;"text"===c&&d&&t.hv&&t.hv[1]&&(d.textVerticalAlign=d.textBaseline=d.verticalAlign=d.align=null);var h=t.textContent,p=t.textConfig;if(d&&kQ(d,c,!!p,!!h)){var g=FQ(d,c,!0);!p&&g.textConfig&&(p=t.textConfig=g.textConfig),!h&&g.textContent&&(h=g.textContent)}var f=function(e){return e=Wf({},e),qf(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(oD),(function(t){delete e[t]})),e}(t);var m=t.$action||"merge",v="merge"===m,y="replace"===m;if(v){var w=a;(R=!a)?w=K1(s,u,t.type,n):(w&&(U1(w).isNew=!1),tJ(w)),w&&(WQ(w,f,e,{isInit:R}),Y1(w,t,r,o))}else if(y){q1(a,t,n,e);var C=K1(s,u,t.type,n);C&&(WQ(C,f,e,{isInit:!0}),Y1(C,t,r,o))}else"remove"===m&&(UQ(a,t),q1(a,t,n,e));var b=n.get(s);if(b&&h)if(v){var S=b.getTextContent();S?S.attr(h):b.setTextContent(new bM(h))}else y&&b.setTextContent(new bM(h));if(b){var x=t.clipPath;if(x){var M=x.type,_=void 0,R=!1;if(v){var D=b.getClipPath();_=(R=!D||U1(D).type!==M)?$1(M):D}else y&&(R=!0,_=$1(M));b.setClipPath(_),WQ(_,x,e,{isInit:R}),nJ(_,x.keyframeAnimation,e)}var P=U1(b);b.setTextConfig(p),P.option=t,function(e,t,n){var i=SM(e).eventData;e.silent||e.ignore||i||(i=SM(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name});i&&(i.info=n.info)}(b,e,t),mI({el:b,componentModel:e,itemName:b.name,itemTooltipOption:t.tooltip}),nJ(b,t.keyframeAnimation,e)}}))}},t.prototype._relocate=function(e,t){for(var n=e.option.elements,i=this.group,r=this._elMap,o=t.getWidth(),s=t.getHeight(),a=["x","y"],l=0;l<n.length;l++){if((g=null!=(p=zb((h=n[l]).id,null))?r.get(p):null)&&g.isGroup){var u=(f=g.parent)===i,c=U1(g),d=U1(f);c.width=ub(c.option.width,u?o:d.width)||0,c.height=ub(c.option.height,u?s:d.height)||0}}for(l=n.length-1;l>=0;l--){var h,p,g;if(g=null!=(p=zb((h=n[l]).id,null))?r.get(p):null){var f=g.parent,m=(d=U1(f),{}),v=cD(g,h,f===i?{width:o,height:s}:{width:d.width,height:d.height},null,{hv:h.hv,boundingMode:h.bounding},m);if(!U1(g).isNew&&v){for(var y=h.transition,w={},C=0;C<a.length;C++){var b=a[C],S=m[b];y&&($Q(y)||jf(y,b)>=0)?w[b]=S:g[b]=S}D_(g,w,e,0)}else g.attr(m)}}},t.prototype._clear=function(){var e=this,t=this._elMap;t.each((function(n){q1(n,U1(n).option,t,e._lastGraphicModel)})),this._elMap=_m()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(fA);function $1(e){var t=new(Tm(W1,e)?W1[e]:XE(e))({});return U1(t).type=e,t}function K1(e,t,n,i){var r=$1(n);return t.add(r),i.set(e,r),U1(r).id=e,U1(r).isNew=!0,r}function q1(e,t,n,i){e&&e.parent&&("group"===e.type&&e.traverse((function(e){q1(e,t,n,i)})),jQ(e,t,i),n.removeKey(U1(e).id))}function Y1(e,t,n,i){e.isGroup||qf([["cursor",GS.prototype.cursor],["zlevel",i||0],["z",n||0],["z2",0]],(function(n){var i=n[0];Tm(t,i)?e[i]=pm(t[i],n[1]):null==e[i]&&(e[i]=n[1])})),qf(Qf(t),(function(n){if(0===n.indexOf("on")){var i=t[n];e[n]=nm(i)?i:null}})),Tm(t,"draggable")&&(e.draggable=t.draggable),null!=t.name&&(e.name=t.name),null!=t.id&&(e.id=t.id)}var X1=["x","y","radius","angle","single"],Z1=["cartesian2d","polar","singleAxis"];function Q1(e){return e+"Axis"}function J1(e,t){var n,i=_m(),r=[],o=_m();e.eachComponent({mainType:"dataZoom",query:t},(function(e){o.get(e.uid)||a(e)}));do{n=!1,e.eachComponent("dataZoom",s)}while(n);function s(e){!o.get(e.uid)&&function(e){var t=!1;return e.eachTargetAxis((function(e,n){var r=i.get(e);r&&r[n]&&(t=!0)})),t}(e)&&(a(e),n=!0)}function a(e){o.set(e.uid,!0),r.push(e),e.eachTargetAxis((function(e,t){(i.get(e)||i.set(e,[]))[t]=!0}))}return r}function e2(e){var t=e.ecModel,n={infoList:[],infoMap:_m()};return e.eachTargetAxis((function(e,i){var r=t.getComponent(Q1(e),i);if(r){var o=r.getCoordSysModel();if(o){var s=o.uid,a=n.infoMap.get(s);a||(a={model:o,axisModels:[]},n.infoList.push(a),n.infoMap.set(s,a)),a.axisModels.push(r)}}})),n}var t2=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},e}(),n2=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return vf(t,e),t.prototype.init=function(e,t,n){var i=i2(e);this.settledOption=i,this.mergeDefaultAndTheme(e,n),this._doInit(i)},t.prototype.mergeOption=function(e){var t=i2(e);zf(this.option,e,!0),zf(this.settledOption,t,!0),this._doInit(t)},t.prototype._doInit=function(e){var t=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var n=this.settledOption;qf([["start","startValue"],["end","endValue"]],(function(e,i){"value"===this._rangePropMode[i]&&(t[e[0]]=n[e[0]]=null)}),this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),t=this._targetAxisInfoMap=_m();this._fillSpecifiedTargetAxis(t)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(t,this._orient)),this._noTarget=!0,t.each((function(e){e.indexList.length&&(this._noTarget=!1)}),this)},t.prototype._fillSpecifiedTargetAxis=function(e){var t=!1;return qf(X1,(function(n){var i=this.getReferringComponents(Q1(n),Xb);if(i.specified){t=!0;var r=new t2;qf(i.models,(function(e){r.add(e.componentIndex)})),e.set(n,r)}}),this),t},t.prototype._fillAutoTargetAxisByOrient=function(e,t){var n=this.ecModel,i=!0;if(i){var r="vertical"===t?"y":"x";o(n.findComponents({mainType:r+"Axis"}),r)}i&&o(n.findComponents({mainType:"singleAxis",filter:function(e){return e.get("orient",!0)===t}}),"single");function o(t,n){var r=t[0];if(r){var o=new t2;if(o.add(r.componentIndex),e.set(n,o),i=!1,"x"===n||"y"===n){var s=r.getReferringComponents("grid",Yb).models[0];s&&qf(t,(function(e){r.componentIndex!==e.componentIndex&&s===e.getReferringComponents("grid",Yb).models[0]&&o.add(e.componentIndex)}))}}}i&&qf(X1,(function(t){if(i){var r=n.findComponents({mainType:Q1(t),filter:function(e){return"category"===e.get("type",!0)}});if(r[0]){var o=new t2;o.add(r[0].componentIndex),e.set(t,o),i=!1}}}),this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis((function(t){!e&&(e=t)}),this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var t=this._rangePropMode,n=this.get("rangeMode");qf([["start","startValue"],["end","endValue"]],(function(i,r){var o=null!=e[i[0]],s=null!=e[i[1]];o&&!s?t[r]="percent":!o&&s?t[r]="value":n?t[r]=n[r]:o&&(t[r]="percent")}))},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis((function(t,n){null==e&&(e=this.ecModel.getComponent(Q1(t),n))}),this),e},t.prototype.eachTargetAxis=function(e,t){this._targetAxisInfoMap.each((function(n,i){qf(n.indexList,(function(n){e.call(t,i,n)}))}))},t.prototype.getAxisProxy=function(e,t){var n=this.getAxisModel(e,t);if(n)return n.__dzAxisProxy},t.prototype.getAxisModel=function(e,t){var n=this._targetAxisInfoMap.get(e);if(n&&n.indexMap[t])return this.ecModel.getComponent(Q1(e),t)},t.prototype.setRawRange=function(e){var t=this.option,n=this.settledOption;qf([["start","startValue"],["end","endValue"]],(function(i){null==e[i[0]]&&null==e[i[1]]||(t[i[0]]=n[i[0]]=e[i[0]],t[i[1]]=n[i[1]]=e[i[1]])}),this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var t=this.option;qf(["start","startValue","end","endValue"],(function(n){t[n]=e[n]}))},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var t,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var r=n[i],o=this._targetAxisInfoMap.get(r),s=0;s<o.indexList.length;s++){var a=this.getAxisProxy(r,o.indexList[s]);if(a.hostedBy(this))return a;t||(t=a)}return t},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(vD);function i2(e){var t={};return qf(["start","end","startValue","endValue","throttle"],(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}const r2=n2;const o2=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.type="dataZoom.select",t}(r2);var s2=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n,i){this.dataZoomModel=e,this.ecModel=t,this.api=n},t.type="dataZoom",t}(fA);const a2=s2;const l2=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.type="dataZoom.select",t}(a2);var u2=qf,c2=db,d2=function(){function e(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n}return e.prototype.hostedBy=function(e){return this._dataZoomModel===e},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries((function(t){if(function(e){var t=e.get("coordinateSystem");return jf(Z1,t)>=0}(t)){var n=Q1(this._dimName),i=t.getReferringComponents(n,Yb).models[0];i&&this._axisIndex===i.componentIndex&&e.push(t)}}),this),e},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return Vf(this._minMaxSpan)},e.prototype.calculateDataWindow=function(e){var t,n=this._dataExtent,i=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],a=[];u2(["start","end"],(function(l,u){var c=e[l],d=e[l+"Value"];"percent"===r[u]?(null==c&&(c=o[u]),d=i.parse(lb(c,o,n))):(t=!0,c=lb(d=null==d?n[u]:i.parse(d),n,o)),a[u]=null==d||isNaN(d)?n[u]:d,s[u]=null==c||isNaN(c)?o[u]:c})),c2(a),c2(s);var l=this._minMaxSpan;function u(e,t,n,r,o){var s=o?"Span":"ValueSpan";Eq(0,e,n,"all",l["min"+s],l["max"+s]);for(var a=0;a<2;a++)t[a]=lb(e[a],n,r,!0),o&&(t[a]=i.parse(t[a]))}return t?u(a,s,n,o,!1):u(s,a,o,n,!0),{valueWindow:a,percentWindow:s}},e.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(e,t,n){var i=[1/0,-1/0];u2(n,(function(e){!function(e,t,n){t&&qf(Ez(t,n),(function(n){var i=t.getApproximateExtent(n);i[0]<e[0]&&(e[0]=i[0]),i[1]>e[1]&&(e[1]=i[1])}))}(i,e.getData(),t)}));var r=e.getAxisModel(),o=bz(r.axis.scale,r,i).calculate();return[o.min,o.max]}(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),r=e.get("filterMode"),o=this._valueWindow;"none"!==r&&u2(i,(function(e){var t=e.getData(),i=t.mapDimensionsAll(n);if(i.length){if("weakFilter"===r){var s=t.getStore(),a=Yf(i,(function(e){return t.getDimensionIndex(e)}),t);t.filterSelf((function(e){for(var t,n,r,l=0;l<i.length;l++){var u=s.get(a[l],e),c=!isNaN(u),d=u<o[0],h=u>o[1];if(c&&!d&&!h)return!0;c&&(r=!0),d&&(t=!0),h&&(n=!0)}return r&&t&&n}))}else u2(i,(function(n){if("empty"===r)e.setData(t=t.map(n,(function(e){return function(e){return e>=o[0]&&e<=o[1]}(e)?e:NaN})));else{var i={};i[n]=o,t.selectRange(i)}}));u2(i,(function(e){t.setApproximateExtent(o,e)}))}}))}},e.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;u2(["min","max"],(function(i){var r=t.get(i+"Span"),o=t.get(i+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?r=lb(n[0]+o,n,[0,100],!0):null!=r&&(o=lb(r,[0,100],n,!0)-n[0]),e[i+"Span"]=r,e[i+"ValueSpan"]=o}),this)},e.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var i=pb(n,[0,500]);i=Math.min(i,20);var r=e.axis.scale.rawExtentInfo;0!==t[0]&&r.setDeterminedMinMax("min",+n[0].toFixed(i)),100!==t[1]&&r.setDeterminedMinMax("max",+n[1].toFixed(i)),r.freeze()}},e}();const h2=d2;var p2={getTargetSeries:function(e){function t(t){e.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(i,r){var o=e.getComponent(Q1(i),r);t(i,r,o,n)}))}))}t((function(e,t,n,i){n.__dzAxisProxy=null}));var n=[];t((function(t,i,r,o){r.__dzAxisProxy||(r.__dzAxisProxy=new h2(t,i,o,e),n.push(r.__dzAxisProxy))}));var i=_m();return qf(n,(function(e){qf(e.getTargetSeriesModels(),(function(e){i.set(e.uid,e)}))})),i},overallReset:function(e,t){e.eachComponent("dataZoom",(function(e){e.eachTargetAxis((function(t,n){e.getAxisProxy(t,n).reset(e)})),e.eachTargetAxis((function(n,i){e.getAxisProxy(n,i).filterData(e,t)}))})),e.eachComponent("dataZoom",(function(e){var t=e.findRepresentativeAxisProxy();if(t){var n=t.getDataPercentWindow(),i=t.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}}))}};const g2=p2;var f2=!1;function m2(e){f2||(f2=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,g2),function(e){e.registerAction("dataZoom",(function(e,t){qf(J1(t,e),(function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})}))}))}(e),e.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function v2(e){e.registerComponentModel(o2),e.registerComponentView(l2),m2(e)}var y2=function(){},w2={};function C2(e,t){w2[e]=t}function b2(e){return w2[e]}const S2=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;qf(this.option.feature,(function(e,n){var i=b2(n);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(t)),zf(e,i.defaultOption))}))},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(vD);function x2(e,t){var n=ZR(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),e=new oM({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}var M2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.render=function(e,t,n,i){var r=this.group;if(r.removeAll(),e.get("show")){var o=+e.get("itemSize"),s="vertical"===e.get("orient"),a=e.get("feature")||{},l=this._features||(this._features={}),u=[];qf(a,(function(e,t){u.push(t)})),new BN(this._featureNames||[],u).add(c).update(c).remove(em(c,null)).execute(),this._featureNames=u,function(e,t,n){var i=t.getBoxLayoutParams(),r=t.get("padding"),o={width:n.getWidth(),height:n.getHeight()},s=uD(i,o,r);lD(t.get("orient"),e,t.get("itemGap"),s.width,s.height),cD(e,i,o,r)}(r,e,n),r.add(x2(r.getBoundingRect(),e)),s||r.eachChild((function(e){var t=e.__title,i=e.ensureState("emphasis"),s=i.textConfig||(i.textConfig={}),a=e.getTextContent(),l=a&&a.ensureState("emphasis");if(l&&!nm(l)&&t){var u=l.style||(l.style={}),c=OC(t,bM.makeFont(u)),d=e.x+r.x,h=!1;e.y+r.y+o+c.height>n.getHeight()&&(s.position="top",h=!0);var p=h?-5-c.height:o+10;d+c.width/2>n.getWidth()?(s.position=["100%",p],u.align="right"):d-c.width/2<0&&(s.position=[0,p],u.align="left")}}))}function c(c,d){var h,p=u[c],g=u[d],f=a[p],m=new aR(f,e,e.ecModel);if(i&&null!=i.newTitle&&i.featureName===p&&(f.title=i.newTitle),p&&!g){if(function(e){return 0===e.indexOf("my")}(p))h={onclick:m.option.onclick,featureName:p};else{var v=b2(p);if(!v)return;h=new v}l[p]=h}else if(!(h=l[g]))return;h.uid=uR("toolbox-feature"),h.model=m,h.ecModel=t,h.api=n;var y=h instanceof y2;p||!g?!m.get("show")||y&&h.unusable?y&&h.remove&&h.remove(t,n):(!function(i,a,l){var u,c,d=i.getModel("iconStyle"),h=i.getModel(["emphasis","iconStyle"]),p=a instanceof y2&&a.getIcons?a.getIcons():i.get("icon"),g=i.get("title")||{};im(p)?(u={})[l]=p:u=p;im(g)?(c={})[l]=g:c=g;var f=i.iconPaths={};qf(u,(function(l,u){var p=hI(l,{},{x:-o/2,y:-o/2,width:o,height:o});p.setStyle(d.getItemStyle()),p.ensureState("emphasis").style=h.getItemStyle();var g=new bM({style:{text:c[u],align:h.get("textAlign"),borderRadius:h.get("textBorderRadius"),padding:h.get("textPadding"),fill:null,font:j_({fontStyle:h.get("textFontStyle"),fontFamily:h.get("textFontFamily"),fontSize:h.get("textFontSize"),fontWeight:h.get("textFontWeight")},t)},ignore:!0});p.setTextContent(g),mI({el:p,componentModel:e,itemName:u,formatterParamsExtra:{title:c[u]}}),p.__title=c[u],p.on("mouseover",(function(){var t=h.getItemStyle(),i=s?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";g.setStyle({fill:h.get("textFill")||t.fill||t.stroke||"#000",backgroundColor:h.get("textBackgroundColor")}),p.setTextConfig({position:h.get("textPosition")||i}),g.ignore=!e.get("showTitle"),n.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==i.get(["iconStatus",u])&&n.leaveEmphasis(this),g.hide()})),("emphasis"===i.get(["iconStatus",u])?t_:n_)(p),r.add(p),p.on("click",Jf(a.onclick,a,t,n,u)),f[u]=p}))}(m,h,p),m.setIconStatus=function(e,t){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[e]=t,i[e]&&("emphasis"===t?t_:n_)(i[e])},h instanceof y2&&h.render&&h.render(m,t,n,i)):y&&h.dispose&&h.dispose(t,n)}},t.prototype.updateView=function(e,t,n,i){qf(this._features,(function(e){e instanceof y2&&e.updateView&&e.updateView(e.model,t,n,i)}))},t.prototype.remove=function(e,t){qf(this._features,(function(n){n instanceof y2&&n.remove&&n.remove(e,t)})),this.group.removeAll()},t.prototype.dispose=function(e,t){qf(this._features,(function(n){n instanceof y2&&n.dispose&&n.dispose(e,t)}))},t.type="toolbox",t}(fA);const _2=M2;var R2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.onclick=function(e,t){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",r="svg"===t.getZr().painter.getType(),o=r?"svg":n.get("type",!0)||"png",s=t.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),a=Cf.browser;if("function"!==typeof MouseEvent||!a.newEdge&&(a.ie||a.edge))if(window.navigator.msSaveOrOpenBlob||r){var l=s.split(","),u=l[0].indexOf("base64")>-1,c=r?decodeURIComponent(l[1]):l[1];u&&(c=window.atob(c));var d=i+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var h=c.length,p=new Uint8Array(h);h--;)p[h]=c.charCodeAt(h);var g=new Blob([p]);window.navigator.msSaveOrOpenBlob(g,d)}else{var f=document.createElement("iframe");document.body.appendChild(f);var m=f.contentWindow,v=m.document;v.open("image/svg+xml","replace"),v.write(c),v.close(),m.focus(),v.execCommand("SaveAs",!0,d),document.body.removeChild(f)}}else{var y=n.get("lang"),w='<body style="margin:0;"><img src="'+s+'" style="max-width:100%;" title="'+(y&&y[0]||"")+'" /></body>',C=window.open();C.document.write(w),C.document.title=i}else{var b=document.createElement("a");b.download=i+"."+o,b.target="_blank",b.href=s;var S=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});b.dispatchEvent(S)}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(y2);const D2=R2;var P2="__ec_magicType_stack__",T2=[["line","bar"],["stack"]],A2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return qf(e.get("type"),(function(e){t[e]&&(n[e]=t[e])})),n},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,t,n){var i=this.model,r=i.get(["seriesIndex",n]);if(E2[n]){var o,s={series:[]};qf(T2,(function(e){jf(e,n)>=0&&qf(e,(function(e){i.setIconStatus(e,"normal")}))})),i.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},(function(e){var t=e.subType,r=e.id,o=E2[n](t,r,e,i);o&&(Uf(o,e.option),s.series.push(o));var a=e.coordinateSystem;if(a&&"cartesian2d"===a.type&&("line"===n||"bar"===n)){var l=a.getAxesByScale("ordinal")[0];if(l){var u=l.dim+"Axis",c=e.getReferringComponents(u,Yb).models[0].componentIndex;s[u]=s[u]||[];for(var d=0;d<=c;d++)s[u][c]=s[u][c]||{};s[u][c].boundaryGap="bar"===n}}}));var a=n;"stack"===n&&(o=zf({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),"emphasis"!==i.get(["iconStatus",n])&&(a="tiled")),t.dispatchAction({type:"changeMagicType",currentType:a,newOption:s,newTitle:o,featureName:"magicType"})}},t}(y2),E2={line:function(e,t,n,i){if("bar"===e)return zf({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(e,t,n,i){if("line"===e)return zf({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(e,t,n,i){var r=n.get("stack")===P2;if("line"===e||"bar"===e)return i.setIconStatus("stack",r?"normal":"emphasis"),zf({id:t,stack:r?"":P2},i.get(["option","stack"])||{},!0)}};mL({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(e,t){t.mergeOption(e.newOption)}));const I2=A2;var k2=new Array(60).join("-"),F2="\t";function L2(e){var t=[];return qf(e,(function(e,n){var i=e.categoryAxis,r=e.valueAxis.dim,o=[" "].concat(Yf(e.series,(function(e){return e.name}))),s=[i.model.getCategories()];qf(e.series,(function(e){var t=e.getRawData();s.push(e.getRawData().mapArray(t.mapDimension(r),(function(e){return e})))}));for(var a=[o.join(F2)],l=0;l<s[0].length;l++){for(var u=[],c=0;c<s.length;c++)u.push(s[c][l]);a.push(u.join(F2))}t.push(a.join("\n"))})),t.join("\n\n"+k2+"\n\n")}function O2(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var N2=new RegExp("["+F2+"]+","g");function B2(e,t){var n=e.split(new RegExp("\n*"+k2+"\n*","g")),i={series:[]};return qf(n,(function(e,n){if(function(e){if(e.slice(0,e.indexOf("\n")).indexOf(F2)>=0)return!0}(e)){var r=function(e){for(var t=e.split(/\n+/g),n=[],i=Yf(O2(t.shift()).split(N2),(function(e){return{name:e,data:[]}})),r=0;r<t.length;r++){var o=O2(t[r]).split(N2);n.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[r]=o[s])}return{series:i,categories:n}}(e),o=t[n],s=o.axisDim+"Axis";o&&(i[s]=i[s]||[],i[s][o.axisIndex]={data:r.categories},i.series=i.series.concat(r.series))}else{r=function(e){for(var t=e.split(/\n+/g),n=O2(t.shift()),i=[],r=0;r<t.length;r++){var o=O2(t[r]);if(o){var s=o.split(N2),a="",l=void 0,u=!1;isNaN(s[0])?(u=!0,a=s[0],s=s.slice(1),i[r]={name:a,value:[]},l=i[r].value):l=i[r]=[];for(var c=0;c<s.length;c++)l.push(+s[c]);1===l.length&&(u?i[r].value=l[0]:i[r]=l[0])}}return{name:n,data:i}}(e);i.series.push(r)}})),i}var G2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.onclick=function(e,t){setTimeout((function(){t.dispatchAction({type:"hideTip"})}));var n=t.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var r=document.createElement("div");r.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",r.style.backgroundColor=i.get("backgroundColor")||"#fff";var o=document.createElement("h4"),s=i.get("lang")||[];o.innerHTML=s[0]||i.get("title"),o.style.cssText="margin:10px 20px",o.style.color=i.get("textColor");var a=document.createElement("div"),l=document.createElement("textarea");a.style.cssText="overflow:auto";var u=i.get("optionToContent"),c=i.get("contentToOption"),d=function(e){var t,n=function(e){var t={},n=[],i=[];return e.eachRawSeries((function(e){var r=e.coordinateSystem;if(!r||"cartesian2d"!==r.type&&"polar"!==r.type)n.push(e);else{var o=r.getBaseAxis();if("category"===o.type){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:r.getOtherAxis(o),series:[]},i.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(e)}else n.push(e)}})),{seriesGroupByCategoryAxis:t,other:n,meta:i}}(e);return{value:Zf([L2(n.seriesGroupByCategoryAxis),(t=n.other,Yf(t,(function(e){var t=e.getRawData(),n=[e.name],i=[];return t.each(t.dimensions,(function(){for(var e=arguments.length,r=arguments[e-1],o=t.getName(r),s=0;s<e-1;s++)i[s]=arguments[s];n.push((o?o+F2:"")+i.join(F2))})),n.join("\n")})).join("\n\n"+k2+"\n\n"))],(function(e){return!!e.replace(/[\n\t\s]/g,"")})).join("\n\n"+k2+"\n\n"),meta:n.meta}}(e);if(nm(u)){var h=u(t.getOption());im(h)?a.innerHTML=h:um(h)&&a.appendChild(h)}else{l.readOnly=i.get("readOnly");var p=l.style;p.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",p.color=i.get("textColor"),p.borderColor=i.get("textareaBorderColor"),p.backgroundColor=i.get("textareaColor"),l.value=d.value,a.appendChild(l)}var g=d.meta,f=document.createElement("div");f.style.cssText="position:absolute;bottom:5px;left:0;right:0";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),y=document.createElement("div");m+=";background-color:"+i.get("buttonColor"),m+=";color:"+i.get("buttonTextColor");var w=this;function C(){n.removeChild(r),w._dom=null}Cv(v,"click",C),Cv(y,"click",(function(){if(null==c&&null!=u||null!=c&&null==u)C();else{var e;try{e=nm(c)?c(a,t.getOption()):B2(l.value,g)}catch(JA){throw C(),new Error("Data view format error "+JA)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),C()}})),v.innerHTML=s[1],y.innerHTML=s[2],y.style.cssText=v.style.cssText=m,!i.get("readOnly")&&f.appendChild(y),f.appendChild(v),r.appendChild(o),r.appendChild(a),r.appendChild(f),a.style.height=n.clientHeight-80+"px",n.appendChild(r),this._dom=r},t.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(y2);function V2(e,t){return Yf(e,(function(e,n){var i=t&&t[n];if(sm(i)&&!tm(i)){sm(e)&&!tm(e)||(e={value:e});var r=null!=i.name&&null==e.name;return e=Uf(e,i),r&&delete e.name,e}return e}))}mL({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(e,t){var n=[];qf(e.newOption.series,(function(e){var i=t.getSeriesByName(e.name)[0];if(i){var r=i.get("data");n.push({name:e.name,data:V2(e.data,r)})}else n.push(Wf({type:"scatter"},e))})),t.mergeOption(Uf({series:n},e.newOption))}));const z2=G2;var H2=qf,W2=jb();function U2(e){var t=W2(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var j2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.onclick=function(e,t){!function(e){W2(e).snapshots=null}(e),t.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(y2);mL({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(e,t){t.resetOption("recreate")}));const $2=j2;var K2=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],q2=function(){function e(e,t,n){var i=this;this._targetInfoList=[];var r=X2(t,e);qf(Z2,(function(e,t){(!n||!n.include||jf(n.include,t)>=0)&&e(r,i._targetInfoList)}))}return e.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,(function(e,t,n){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var i=e5[e.brushType](0,n,t);e.__rangeOffset={offset:n5[e.brushType](i.values,e.range,[1,1]),xyMinMax:i.xyMinMax}}})),e},e.prototype.matchOutputRanges=function(e,t,n){qf(e,(function(e){var i=this.findTargetInfo(e,t);i&&!0!==i&&qf(i.coordSyses,(function(i){var r=e5[e.brushType](1,i,e.range,!0);n(e,r.values,i,t)}))}),this)},e.prototype.setInputRanges=function(e,t){qf(e,(function(e){var n=this.findTargetInfo(e,t);if(e.range=e.range||[],n&&!0!==n){e.panelId=n.panelId;var i=e5[e.brushType](0,n.coordSys,e.coordRange),r=e.__rangeOffset;e.range=r?n5[e.brushType](i.values,r.offset,function(e,t){var n=r5(e),i=r5(t),r=[n[0]/i[0],n[1]/i[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}(i.xyMinMax,r.xyMinMax)):i.values}}),this)},e.prototype.makePanelOpts=function(e,t){return Yf(this._targetInfoList,(function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:VY(i),isTargetByCursor:HY(i,e,n.coordSysModel),getLinearBrushOtherExtent:zY(i)}}))},e.prototype.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return!0===i||i&&jf(i.coordSyses,t.coordinateSystem)>=0},e.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=X2(t,e),r=0;r<n.length;r++){var o=n[r],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var a=0;a<Q2.length;a++)if(Q2[a](i,o))return o}return!0},e}();function Y2(e){return e[0]>e[1]&&e.reverse(),e}function X2(e,t){return Kb(e,t,{includeMainTypes:K2})}var Z2={grid:function(e,t){var n=e.xAxisModels,i=e.yAxisModels,r=e.gridModels,o=_m(),s={},a={};(n||i||r)&&(qf(n,(function(e){var t=e.axis.grid.model;o.set(t.id,t),s[t.id]=!0})),qf(i,(function(e){var t=e.axis.grid.model;o.set(t.id,t),a[t.id]=!0})),qf(r,(function(e){o.set(e.id,e),s[e.id]=!0,a[e.id]=!0})),o.each((function(e){var r=e.coordinateSystem,o=[];qf(r.getCartesians(),(function(e,t){(jf(n,e.getAxis("x").model)>=0||jf(i,e.getAxis("y").model)>=0)&&o.push(e)})),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:o[0],coordSyses:o,getPanelRect:J2.grid,xAxisDeclared:s[e.id],yAxisDeclared:a[e.id]})})))},geo:function(e,t){qf(e.geoModels,(function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:J2.geo})}))}},Q2=[function(e,t){var n=e.xAxisModel,i=e.yAxisModel,r=e.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],J2={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(oI(e)),t}},e5={lineX:em(t5,0),lineY:em(t5,1),rect:function(e,t,n,i){var r=e?t.pointToData([n[0][0],n[1][0]],i):t.dataToPoint([n[0][0],n[1][0]],i),o=e?t.pointToData([n[0][1],n[1][1]],i):t.dataToPoint([n[0][1],n[1][1]],i),s=[Y2([r[0],o[0]]),Y2([r[1],o[1]])];return{values:s,xyMinMax:s}},polygon:function(e,t,n,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:Yf(n,(function(n){var o=e?t.pointToData(n,i):t.dataToPoint(n,i);return r[0][0]=Math.min(r[0][0],o[0]),r[1][0]=Math.min(r[1][0],o[1]),r[0][1]=Math.max(r[0][1],o[0]),r[1][1]=Math.max(r[1][1],o[1]),o})),xyMinMax:r}}};function t5(e,t,n,i){var r=n.getAxis(["x","y"][e]),o=Y2(Yf([0,1],(function(e){return t?r.coordToData(r.toLocalCoord(i[e]),!0):r.toGlobalCoord(r.dataToCoord(i[e]))}))),s=[];return s[e]=o,s[1-e]=[NaN,NaN],{values:o,xyMinMax:s}}var n5={lineX:em(i5,0),lineY:em(i5,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return Yf(e,(function(e,i){return[e[0]-n[0]*t[i][0],e[1]-n[1]*t[i][1]]}))}};function i5(e,t,n,i){return[t[0]-i[e]*n[0],t[1]-i[e]*n[1]]}function r5(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}const o5=q2;var s5,a5,l5=qf,u5=Ib+"toolbox-dataZoom_",c5=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.render=function(e,t,n,i){this._brushController||(this._brushController=new GY(n.getZr()),this._brushController.on("brush",Jf(this._onBrush,this)).mount()),function(e,t,n,i,r){var o=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(o="dataZoomSelect"===i.key&&i.dataZoomSelectActive);n._isZoomActive=o,e.setIconStatus("zoom",o?"emphasis":"normal");var s=new o5(h5(e),t,{include:["grid"]}),a=s.makePanelOpts(r,(function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"}));n._brushController.setPanels(a).enableBrush(!(!o||!a.length)&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()})}(e,t,this,i,n),function(e,t){e.setIconStatus("back",function(e){return U2(e).length}(t)>1?"emphasis":"normal")}(e,t)},t.prototype.onclick=function(e,t,n){d5[n].call(this)},t.prototype.remove=function(e,t){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,t){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var t=e.areas;if(e.isEnd&&t.length){var n={},i=this.ecModel;this._brushController.updateCovers([]),new o5(h5(this.model),i,{include:["grid"]}).matchOutputRanges(t,i,(function(e,t,n){if("cartesian2d"===n.type){var i=e.brushType;"rect"===i?(r("x",n,t[0]),r("y",n,t[1])):r({lineX:"x",lineY:"y"}[i],n,t)}})),function(e,t){var n=U2(e);H2(t,(function(t,i){for(var r=n.length-1;r>=0&&!n[r][i];r--);if(r<0){var o=e.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var s=o.getPercentRange();n[0][i]={dataZoomId:i,start:s[0],end:s[1]}}}})),n.push(t)}(i,n),this._dispatchZoomAction(n)}function r(e,t,r){var o=t.getAxis(e),s=o.model,a=function(e,t,n){var i;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){n.getAxisModel(e,t.componentIndex)&&(i=n)})),i}(e,s,i),l=a.findRepresentativeAxisProxy(s).getMinMaxSpan();null==l.minValueSpan&&null==l.maxValueSpan||(r=Eq(0,r.slice(),o.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),a&&(n[a.id]={dataZoomId:a.id,startValue:r[0],endValue:r[1]})}},t.prototype._dispatchZoomAction=function(e){var t=[];l5(e,(function(e,n){t.push(Vf(e))})),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(y2),d5={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(function(e){var t=U2(e),n=t[t.length-1];t.length>1&&t.pop();var i={};return H2(n,(function(e,n){for(var r=t.length-1;r>=0;r--)if(e=t[r][n]){i[n]=e;break}})),i}(this.ecModel))}};function h5(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}s5="dataZoom",a5=function(e){var t=e.getComponent("toolbox",0),n=["feature","dataZoom"];if(t&&null!=t.get(n)){var i=t.getModel(n),r=[],o=Kb(e,h5(i));return l5(o.xAxisModels,(function(e){return s(e,"xAxis","xAxisIndex")})),l5(o.yAxisModels,(function(e){return s(e,"yAxis","yAxisIndex")})),r}function s(e,t,n){var o=e.componentIndex,s={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:u5+t+o};s[n]=o,r.push(s)}},vm(null==ND.get(s5)&&a5),ND.set(s5,a5);const p5=c5;const g5=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(vD);function f5(e){var t=e.get("confine");return null!=t?!!t:"richText"===e.get("renderMode")}function m5(e){if(Cf.domSupported)for(var t=document.documentElement.style,n=0,i=e.length;n<i;n++)if(e[n]in t)return e[n]}var v5=m5(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function y5(e,t){if(!e)return t;t=XR(t,!0);var n=e.indexOf(t);return(e=-1===n?t:"-"+e.slice(0,n)+"-"+t).toLowerCase()}var w5=y5(m5(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),C5=y5(v5,"transform"),b5="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Cf.transform3dSupported?"will-change:transform;":"");function S5(e,t,n){var i=e.toFixed(0)+"px",r=t.toFixed(0)+"px";if(!Cf.transformSupported)return n?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=Cf.transform3dSupported,s="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return n?"top:0;left:0;"+C5+":"+s+";":[["top",0],["left",0],[v5,s]]}function x5(e,t,n){var i=[],r=e.get("transitionDuration"),o=e.get("backgroundColor"),s=e.get("shadowBlur"),a=e.get("shadowColor"),l=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),c=e.getModel("textStyle"),d=JT(e,"html"),h=l+"px "+u+"px "+s+"px "+a;return i.push("box-shadow:"+h),t&&r&&i.push(function(e,t){var n="cubic-bezier(0.23,1,0.32,1)",i=" "+e/2+"s "+n,r="opacity"+i+",visibility"+i;return t||(i=" "+e+"s "+n,r+=Cf.transformSupported?","+C5+i:",left"+i+",top"+i),w5+":"+r}(r,n)),o&&i.push("background-color:"+o),qf(["width","color","radius"],(function(t){var n="border-"+t,r=XR(n),o=e.get(r);null!=o&&i.push(n+":"+o+("color"===t?"":"px"))})),i.push(function(e){var t=[],n=e.get("fontSize"),i=e.getTextColor();i&&t.push("color:"+i),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(3*n/2)+"px");var r=e.get("textShadowColor"),o=e.get("textShadowBlur")||0,s=e.get("textShadowOffsetX")||0,a=e.get("textShadowOffsetY")||0;return r&&o&&t.push("text-shadow:"+s+"px "+a+"px "+o+"px "+r),qf(["decoration","align"],(function(n){var i=e.get(n);i&&t.push("text-"+n+":"+i)})),t.join(";")}(c)),null!=d&&i.push("padding:"+ZR(d).join("px ")+"px"),i.join(";")+";"}function M5(e,t,n,i,r){var o=t&&t.painter;if(n){var s=o&&o.getViewportRoot();s&&function(e,t,n,i,r){lv(av,t,i,r,!0)&&lv(e,n,av[0],av[1])}(e,s,n,i,r)}else{e[0]=i,e[1]=r;var a=o&&o.getViewportRootOffset();a&&(e[0]+=a.offsetLeft,e[1]+=a.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var _5=function(){function e(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Cf.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=e.getZr(),r=t.appendTo,o=r&&(im(r)?document.querySelector(r):um(r)?r:nm(r)&&r(e.getDom()));M5(this._styleCoord,i,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(n),this._api=e,this._container=o;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!s._enterable){var t=i.handler;wv(i.painter.getViewportRoot(),e,!0),t.dispatch("mousemove",e)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return e.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),n=function(e,t){var n=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return n?t?n[t]:n:null}(t,"position"),i=t.style;"absolute"!==i.position&&"absolute"!==n&&(i.position="relative")}var r=e.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r,this.el.className=e.get("className")||""},e.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,r=this._styleCoord;n.innerHTML?i.cssText=b5+x5(e,!this._firstShow,this._longHide)+S5(r[0],r[1],!0)+"border-color:"+nD(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(e,t,n,i,r){var o=this.el;if(null!=e){var s="";if(im(r)&&"item"===n.get("trigger")&&!f5(n)&&(s=function(e,t,n){if(!im(n)||"inside"===n)return"";var i=e.get("backgroundColor"),r=e.get("borderWidth");t=nD(t);var o,s,a="left"===(o=n)?"right":"right"===o?"left":"top"===o?"bottom":"top",l=Math.max(1.5*Math.round(r),6),u="",c=C5+":";jf(["left","right"],a)>-1?(u+="top:50%",c+="translateY(-50%) rotate("+(s="left"===a?-225:-45)+"deg)"):(u+="left:50%",c+="translateX(-50%) rotate("+(s="top"===a?225:45)+"deg)");var d=s*Math.PI/180,h=l+r,p=h*Math.abs(Math.cos(d))+h*Math.abs(Math.sin(d)),g=t+" solid "+r+"px;";return'<div style="'+["position:absolute;width:"+l+"px;height:"+l+"px;z-index:-1;",(u+=";"+a+":-"+Math.round(100*((p-Math.SQRT2*r)/2+Math.SQRT2*r-(p-h)/2))/100+"px")+";"+c+";","border-bottom:"+g,"border-right:"+g,"background-color:"+i+";"].join("")+'"></div>'}(n,i,r)),im(e))o.innerHTML=e+s;else if(e){o.innerHTML="",tm(e)||(e=[e]);for(var a=0;a<e.length;a++)um(e[a])&&e[a].parentNode!==o&&o.appendChild(e[a]);if(s&&o.childNodes.length){var l=document.createElement("div");l.innerHTML=s,o.appendChild(l)}}}else o.innerHTML=""},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},e.prototype.moveTo=function(e,t){var n=this._styleCoord;if(M5(n,this._zr,this._container,e,t),null!=n[0]&&null!=n[1]){var i=this.el.style;qf(S5(n[0],n[1]),(function(e){i[e[0]]=e[1]}))}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Cf.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return e._longHide=!0}),500)},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Jf(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},e}();const R5=_5;var D5=function(){function e(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),A5(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return e.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(e,t,n,i,r){var o=this;sm(e)&&sT(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new bM({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:JT(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),qf(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(e){o.el.style[e]=n.get(e)})),qf(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(e){o.el.style[e]=s.get(e)||0})),this._zr.add(this.el);var a=this;this.el.on("mouseover",(function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0})),this.el.on("mouseout",(function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1}))},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),n=T5(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},e.prototype.moveTo=function(e,t){var n=this.el;if(n){var i=this._styleCoord;A5(i,this._zr,e,t),e=i[0],t=i[1];var r=n.style,o=P5(r.borderWidth||0),s=T5(r);n.x=e+o+s.left,n.y=t+o+s.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Jf(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function P5(e){return Math.max(0,e)}function T5(e){var t=P5(e.shadowBlur||0),n=P5(e.shadowOffsetX||0),i=P5(e.shadowOffsetY||0);return{left:P5(t-n),right:P5(t+n),top:P5(t-i),bottom:P5(t+i)}}function A5(e,t,n,i){e[0]=n,e[1]=i,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}const E5=D5;var I5=new oM({shape:{x:-1,y:-1,width:2,height:2}}),k5=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.init=function(e,t){if(!Cf.node&&t.getDom()){var n,i=e.getComponent("tooltip"),r=this._renderMode="auto"===(n=i.get("renderMode"))?Cf.domSupported?"html":"richText":n||"html";this._tooltipContent="richText"===r?new E5(t):new R5(t,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(e,t,n){if(!Cf.node&&n.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n;var i=this._tooltipContent;i.update(e),i.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?II(this,"_updatePosition",50,"fixRate"):kI(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");a0("itemTooltip",this._api,Jf((function(t,n,i){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,i):"leave"===t&&this._hide(i))}),this))},t.prototype._keepShow=function(){var e=this._tooltipModel,t=this._ecModel,n=this._api,i=e.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==i&&"click"!==i){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&r.manuallyShowTip(e,t,n,{x:r._lastX,y:r._lastY,dataByCoordSys:r._lastDataByCoordSys})}))}},t.prototype.manuallyShowTip=function(e,t,n,i){if(i.from!==this.uid&&!Cf.node&&n.getDom()){var r=L5(i,n);this._ticket="";var o=i.dataByCoordSys,s=function(e,t,n){var i=qb(e).queryOptionMap,r=i.keys()[0];if(!r||"series"===r)return;var o=Zb(t,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),s=o.models[0];if(!s)return;var a,l=n.getViewOfComponentModel(s);if(l.group.traverse((function(t){var n=SM(t).tooltipConfig;if(n&&n.name===e.name)return a=t,!0})),a)return{componentMainType:r,componentIndex:s.componentIndex,el:a}}(i,t,n);if(s){var a=s.el.getBoundingRect().clone();a.applyTransform(s.el.transform),this._tryShow({offsetX:a.x+a.width/2,offsetY:a.y+a.height/2,target:s.el,position:i.position,positionDefault:"bottom"},r)}else if(i.tooltip&&null!=i.x&&null!=i.y){var l=I5;l.x=i.x,l.y=i.y,l.update(),SM(l).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:l},r)}else if(o)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:o,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,i))return;var u=p0(i,t),c=u.point[0],d=u.point[1];null!=c&&null!=d&&this._tryShow({offsetX:c,offsetY:d,target:u.el,position:i.position,positionDefault:"bottom"},r)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},r))}},t.prototype.manuallyHideTip=function(e,t,n,i){var r=this._tooltipContent;this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(L5(i,n))},t.prototype._manuallyAxisShowTip=function(e,t,n,i){var r=i.seriesIndex,o=i.dataIndex,s=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=s){var a=t.getSeriesByIndex(r);if(a)if("axis"===F5([a.getData().getItemModel(o),a,(a.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:i.position}),!0}},t.prototype._tryShow=function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;if(i&&i.length)this._showAxisTooltip(i,e);else if(n){var r,o;if("legend"===SM(n).ssrType)return;this._lastDataByCoordSys=null,Mk(n,(function(e){return null!=SM(e).dataIndex?(r=e,!0):null!=SM(e).tooltipConfig?(o=e,!0):void 0}),!0),r?this._showSeriesItemTooltip(e,r,t):o?this._showComponentItemTooltip(e,o,t):this._hide(t)}else this._lastDataByCoordSys=null,this._hide(t)}},t.prototype._showOrMove=function(e,t){var n=e.get("showDelay");t=Jf(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},t.prototype._showAxisTooltip=function(e,t){var n=this._ecModel,i=this._tooltipModel,r=[t.offsetX,t.offsetY],o=F5([t.tooltipOption],i),s=this._renderMode,a=[],l=WT("section",{blocks:[],noHeader:!0}),u=[],c=new eA;qf(e,(function(e){qf(e.dataByAxis,(function(e){var t=n.getComponent(e.axisDim+"Axis",e.axisIndex),r=e.value;if(t&&null!=r){var o=KJ(r,t.axis,n,e.seriesDataIndices,e.valueLabelOpt),d=WT("section",{header:o,noHeader:!ym(o),sortBlocks:!0,blocks:[]});l.blocks.push(d),qf(e.seriesDataIndices,(function(l){var h=n.getSeriesByIndex(l.seriesIndex),p=l.dataIndexInside,g=h.getDataParams(p);if(!(g.dataIndex<0)){g.axisDim=e.axisDim,g.axisIndex=e.axisIndex,g.axisType=e.axisType,g.axisId=e.axisId,g.axisValue=Dz(t.axis,{value:r}),g.axisValueLabel=o,g.marker=c.makeTooltipMarker("item",nD(g.color),s);var f=tT(h.formatTooltip(p,!0,null)),m=f.frag;if(m){var v=F5([h],i).get("valueFormatter");d.blocks.push(v?Wf({valueFormatter:v},m):m)}f.text&&u.push(f.text),a.push(g)}}))}}))})),l.blocks.reverse(),u.reverse();var d=t.position,h=o.get("order"),p=YT(l,c,s,h,n.get("useUTC"),o.get("textStyle"));p&&u.unshift(p);var g="richText"===s?"\n\n":"<br/>",f=u.join(g);this._showOrMove(o,(function(){this._updateContentNotChangedOnAxis(e,a)?this._updatePosition(o,d,r[0],r[1],this._tooltipContent,a):this._showTooltipContent(o,f,a,Math.random()+"",r[0],r[1],d,null,c)}))},t.prototype._showSeriesItemTooltip=function(e,t,n){var i=this._ecModel,r=SM(t),o=r.seriesIndex,s=i.getSeriesByIndex(o),a=r.dataModel||s,l=r.dataIndex,u=r.dataType,c=a.getData(u),d=this._renderMode,h=e.positionDefault,p=F5([c.getItemModel(l),a,s&&(s.coordinateSystem||{}).model],this._tooltipModel,h?{position:h}:null),g=p.get("trigger");if(null==g||"item"===g){var f=a.getDataParams(l,u),m=new eA;f.marker=m.makeTooltipMarker("item",nD(f.color),d);var v=tT(a.formatTooltip(l,!1,u)),y=p.get("order"),w=p.get("valueFormatter"),C=v.frag,b=C?YT(w?Wf({valueFormatter:w},C):C,m,d,y,i.get("useUTC"),p.get("textStyle")):v.text,S="item_"+a.name+"_"+l;this._showOrMove(p,(function(){this._showTooltipContent(p,b,f,S,e.offsetX,e.offsetY,e.position,e.target,m)})),n({type:"showTip",dataIndexInside:l,dataIndex:c.getRawIndex(l),seriesIndex:o,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,t,n){var i="html"===this._renderMode,r=SM(t),o=r.tooltipConfig.option||{},s=o.encodeHTMLContent;if(im(o)){o={content:o,formatter:o},s=!0}s&&i&&o.content&&((o=Vf(o)).content=hv(o.content));var a=[o],l=this._ecModel.getComponent(r.componentMainType,r.componentIndex);l&&a.push(l),a.push({formatter:o.content});var u=e.positionDefault,c=F5(a,this._tooltipModel,u?{position:u}:null),d=c.get("content"),h=Math.random()+"",p=new eA;this._showOrMove(c,(function(){var n=Vf(c.get("formatterParams")||{});this._showTooltipContent(c,d,n,h,e.offsetX,e.offsetY,e.position,t,p)})),n({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,t,n,i,r,o,s,a,l){if(this._ticket="",e.get("showContent")&&e.get("show")){var u=this._tooltipContent;u.setEnterable(e.get("enterable"));var c=e.get("formatter");s=s||e.get("position");var d=t,h=this._getNearestPoint([r,o],n,e.get("trigger"),e.get("borderColor")).color;if(c)if(im(c)){var p=e.ecModel.get("useUTC"),g=tm(n)?n[0]:n;d=c,g&&g.axisType&&g.axisType.indexOf("time")>=0&&(d=IR(g.axisValue,d,p)),d=tD(d,n,!0)}else if(nm(c)){var f=Jf((function(t,i){t===this._ticket&&(u.setContent(i,l,e,h,s),this._updatePosition(e,s,r,o,u,n,a))}),this);this._ticket=i,d=c(n,i,f)}else d=c;u.setContent(d,l,e,h,s),u.show(e,h),this._updatePosition(e,s,r,o,u,n,a)}},t.prototype._getNearestPoint=function(e,t,n,i){return"axis"===n||tm(t)?{color:i||("html"===this._renderMode?"#fff":"none")}:tm(t)?void 0:{color:i||t.color||t.borderColor}},t.prototype._updatePosition=function(e,t,n,i,r,o,s){var a=this._api.getWidth(),l=this._api.getHeight();t=t||e.get("position");var u=r.getSize(),c=e.get("align"),d=e.get("verticalAlign"),h=s&&s.getBoundingRect().clone();if(s&&h.applyTransform(s.transform),nm(t)&&(t=t([n,i],o,r.el,h,{viewSize:[a,l],contentSize:u.slice()})),tm(t))n=ub(t[0],a),i=ub(t[1],l);else if(sm(t)){var p=t;p.width=u[0],p.height=u[1];var g=uD(p,{width:a,height:l});n=g.x,i=g.y,c=null,d=null}else if(im(t)&&s){var f=function(e,t,n,i){var r=n[0],o=n[1],s=Math.ceil(Math.SQRT2*i)+8,a=0,l=0,u=t.width,c=t.height;switch(e){case"inside":a=t.x+u/2-r/2,l=t.y+c/2-o/2;break;case"top":a=t.x+u/2-r/2,l=t.y-o-s;break;case"bottom":a=t.x+u/2-r/2,l=t.y+c+s;break;case"left":a=t.x-r-s,l=t.y+c/2-o/2;break;case"right":a=t.x+u+s,l=t.y+c/2-o/2}return[a,l]}(t,h,u,e.get("borderWidth"));n=f[0],i=f[1]}else{f=function(e,t,n,i,r,o,s){var a=n.getSize(),l=a[0],u=a[1];null!=o&&(e+l+o+2>i?e-=l+o:e+=o);null!=s&&(t+u+s>r?t-=u+s:t+=s);return[e,t]}(n,i,r,a,l,c?null:20,d?null:20);n=f[0],i=f[1]}if(c&&(n-=O5(c)?u[0]/2:"right"===c?u[0]:0),d&&(i-=O5(d)?u[1]/2:"bottom"===d?u[1]:0),f5(e)){f=function(e,t,n,i,r){var o=n.getSize(),s=o[0],a=o[1];return e=Math.min(e+s,i)-s,t=Math.min(t+a,r)-a,e=Math.max(e,0),t=Math.max(t,0),[e,t]}(n,i,r,a,l);n=f[0],i=f[1]}r.moveTo(n,i)},t.prototype._updateContentNotChangedOnAxis=function(e,t){var n=this._lastDataByCoordSys,i=this._cbParamsList,r=!!n&&n.length===e.length;return r&&qf(n,(function(n,o){var s=n.dataByAxis||[],a=(e[o]||{}).dataByAxis||[];(r=r&&s.length===a.length)&&qf(s,(function(e,n){var o=a[n]||{},s=e.seriesDataIndices||[],l=o.seriesDataIndices||[];(r=r&&e.value===o.value&&e.axisType===o.axisType&&e.axisId===o.axisId&&s.length===l.length)&&qf(s,(function(e,t){var n=l[t];r=r&&e.seriesIndex===n.seriesIndex&&e.dataIndex===n.dataIndex})),i&&qf(e.seriesDataIndices,(function(e){var n=e.seriesIndex,o=t[n],s=i[n];o&&s&&s.data!==o.data&&(r=!1)}))}))})),this._lastDataByCoordSys=e,this._cbParamsList=t,!!r},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,t){!Cf.node&&t.getDom()&&(kI(this,"_updatePosition"),this._tooltipContent.dispose(),c0("itemTooltip",t))},t.type="tooltip",t}(fA);function F5(e,t,n){var i,r=t.ecModel;n?(i=new aR(n,r,r),i=new aR(t.option,i,r)):i=t;for(var o=e.length-1;o>=0;o--){var s=e[o];s&&(s instanceof aR&&(s=s.get("tooltip",!0)),im(s)&&(s={formatter:s}),s&&(i=new aR(s,i,r)))}return i}function L5(e,t){return e.dispatchAction||Jf(t.dispatchAction,t)}function O5(e){return"center"===e||"middle"===e}const N5=k5;var B5=["rect","polygon","keep","clear"];function G5(e,t){var n=kb(e?e.brush:[]);if(n.length){var i=[];qf(n,(function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];t instanceof Array&&(i=i.concat(t))}));var r=e&&e.toolbox;tm(r)&&(r=r[0]),r||(r={feature:{}},e.toolbox=[r]);var o=r.feature||(r.feature={}),s=o.brush||(o.brush={}),a=s.type||(s.type=[]);a.push.apply(a,i),function(e){var t={};qf(e,(function(e){t[e]=1})),e.length=0,qf(t,(function(t,n){e.push(n)}))}(a),t&&!a.length&&a.push.apply(a,B5)}}var V5=qf;function z5(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function H5(e,t,n){var i={};return V5(t,(function(t){var r=i[t]=function(){var e=function(){};return e.prototype.__hidden=e.prototype,new e}();V5(e[t],(function(e,i){if(C$.isValidType(i)){var o={type:i,visual:e};n&&n(o,t),r[i]=new C$(o),"opacity"===i&&((o=Vf(o)).type="colorAlpha",r.__hidden.__alphaForOpacity=new C$(o))}}))})),i}function W5(e,t,n){var i;qf(n,(function(e){t.hasOwnProperty(e)&&z5(t[e])&&(i=!0)})),i&&qf(n,(function(n){t.hasOwnProperty(n)&&z5(t[n])?e[n]=Vf(t[n]):delete e[n]}))}var U5={lineX:j5(0),lineY:j5(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&GW(n.range,e[0],e[1])},rect:function(e,t,n){var i=n.range;if(!e||i.length<=1)return!1;var r=e.x,o=e.y,s=e.width,a=e.height,l=i[0];return!!(GW(i,r,o)||GW(i,r+s,o)||GW(i,r,o+a)||GW(i,r+s,o+a)||Uv.create(e).contain(l[0],l[1])||pI(r,o,r+s,o,i)||pI(r,o,r,o+a,i)||pI(r+s,o,r+s,o+a,i)||pI(r,o+a,r+s,o+a,i))||void 0}}};function j5(e){var t=["x","y"],n=["width","height"];return{point:function(t,n,i){if(t){var r=i.range;return $5(t[e],r)}},rect:function(i,r,o){if(i){var s=o.range,a=[i[t[e]],i[t[e]]+i[n[e]]];return a[1]<a[0]&&a.reverse(),$5(a[0],s)||$5(a[1],s)||$5(s[0],a)||$5(s[1],a)}}}}function $5(e,t){return t[0]<=e&&e<=t[1]}var K5=["inBrush","outOfBrush"],q5="__ecBrushSelect",Y5="__ecInBrushSelectEvent";function X5(e){e.eachComponent({mainType:"brush"},(function(t){(t.brushTargetManager=new o5(t.option,e)).setInputRanges(t.areas,e)}))}function Z5(e,t,n){var i,r,o=[];e.eachComponent({mainType:"brush"},(function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),X5(e),e.eachComponent({mainType:"brush"},(function(t,n){var s={brushId:t.id,brushIndex:n,brushName:t.name,areas:Vf(t.areas),selected:[]};o.push(s);var a=t.option,l=a.brushLink,u=[],c=[],d=[],h=!1;n||(i=a.throttleType,r=a.throttleDelay);var p=Yf(t.areas,(function(e){var t=e3[e.brushType],n=Uf({boundingRect:t?t(e):void 0},e);return n.selectors=function(e){var t=e.brushType,n={point:function(i){return U5[t].point(i,n,e)},rect:function(i){return U5[t].rect(i,n,e)}};return n}(n),n})),g=H5(t.option,K5,(function(e){e.mappingMethod="fixed"}));function f(e){return"all"===l||!!u[e]}function m(e){return!!e.length}tm(l)&&qf(l,(function(e){u[e]=1})),e.eachSeries((function(n,i){var r=d[i]=[];"parallel"===n.subType?function(e,t){var n=e.coordinateSystem;h=h||n.hasAxisBrushed(),f(t)&&n.eachActiveState(e.getData(),(function(e,t){"active"===e&&(c[t]=1)}))}(n,i):function(n,i,r){if(!n.brushSelector||function(e,t){var n=e.option.seriesIndex;return null!=n&&"all"!==n&&(tm(n)?jf(n,t)<0:t!==n)}(t,i))return;if(qf(p,(function(i){t.brushTargetManager.controlSeries(i,n,e)&&r.push(i),h=h||m(r)})),f(i)&&m(r)){var o=n.getData();o.each((function(e){J5(n,r,o,e)&&(c[e]=1)}))}}(n,i,r)})),e.eachSeries((function(e,t){var n={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};s.selected.push(n);var i=d[t],r=e.getData(),o=f(t)?function(e){return c[e]?(n.dataIndex.push(r.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(t){return J5(e,i,r,t)?(n.dataIndex.push(r.getRawIndex(t)),"inBrush"):"outOfBrush"};(f(t)?h:m(i))&&function(e,t,n,i,r,o){var s,a={};function l(e){return wk(n,s,e)}function u(e,t){bk(n,s,e,t)}function c(e,c){s=null==o?e:c;var d=n.getRawDataItem(s);if(!d||!1!==d.visualMap)for(var h=i.call(r,e),p=t[h],g=a[h],f=0,m=g.length;f<m;f++){var v=g[f];p[v]&&p[v].applyVisual(e,l,u)}}qf(e,(function(e){var n=C$.prepareVisualTypes(t[e]);a[e]=n})),null==o?n.each(c):n.each([o],c)}(K5,g,r,o)}))})),function(e,t,n,i,r){if(!r)return;var o=e.getZr();if(o[Y5])return;o[q5]||(o[q5]=Q5);var s=II(o,q5,n,t);s(e,i)}(t,i,r,o,n)}function Q5(e,t){if(!e.isDisposed()){var n=e.getZr();n[Y5]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[Y5]=!1}}function J5(e,t,n,i){for(var r=0,o=t.length;r<o;r++){var s=t[r];if(e.brushSelector(i,n,s.selectors,s))return!0}}var e3={rect:function(e){return t3(e.range)},polygon:function(e){for(var t,n=e.range,i=0,r=n.length;i<r;i++){t=t||[[1/0,-1/0],[1/0,-1/0]];var o=n[i];o[0]<t[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&t3(t)}};function t3(e){return new Uv(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var n3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new GY(t.getZr())).on("brush",Jf(this._onBrush,this)).mount()},t.prototype.render=function(e,t,n,i){this.model=e,this._updateController(e,t,n,i)},t.prototype.updateTransform=function(e,t,n,i){X5(t),this._updateController(e,t,n,i)},t.prototype.updateVisual=function(e,t,n,i){this.updateTransform(e,t,n,i)},t.prototype.updateView=function(e,t,n,i){this._updateController(e,t,n,i)},t.prototype._updateController=function(e,t,n,i){(!i||i.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var t=this.model.id,n=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:t,areas:Vf(n),$from:t}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:Vf(n),$from:t})},t.type="brush",t}(fA);const i3=n3;function r3(e,t){return zf({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new aR(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}const o3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.areas=[],n.brushOption={},n}return vf(t,e),t.prototype.optionUpdated=function(e,t){var n=this.option;!t&&W5(n,e,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:"#ddd"},i.hasOwnProperty("liftZ")||(i.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=Yf(e,(function(e){return r3(this.option,e)}),this))},t.prototype.setBrushOption=function(e){this.brushOption=r3(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(vD);var s3=["rect","polygon","lineX","lineY","keep","clear"],a3=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vf(t,e),t.prototype.render=function(e,t,n){var i,r,o;t.eachComponent({mainType:"brush"},(function(e){i=e.brushType,r=e.brushOption.brushMode||"single",o=o||!!e.areas.length})),this._brushType=i,this._brushMode=r,qf(e.get("type",!0),(function(t){e.setIconStatus(t,("keep"===t?"multiple"===r:"clear"===t?o:t===i)?"emphasis":"normal")}))},t.prototype.updateView=function(e,t,n){this.render(e,t,n)},t.prototype.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return qf(e.get("type",!0),(function(e){t[e]&&(n[e]=t[e])})),n},t.prototype.onclick=function(e,t,n){var i=this._brushType,r=this._brushMode;"clear"===n?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},t.getDefaultOption=function(e){return{show:!0,type:s3.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(y2);const l3=a3;var u3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return vf(t,e),t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(vD),c3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.render=function(e,t,n){if(this.group.removeAll(),e.get("show")){var i=this.group,r=e.getModel("textStyle"),o=e.getModel("subtextStyle"),s=e.get("textAlign"),a=pm(e.get("textBaseline"),e.get("textVerticalAlign")),l=new bM({style:G_(r,{text:e.get("text"),fill:r.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),c=e.get("subtext"),d=new bM({style:G_(o,{text:c,fill:o.getTextColor(),y:u.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),h=e.get("link"),p=e.get("sublink"),g=e.get("triggerEvent",!0);l.silent=!h&&!g,d.silent=!p&&!g,h&&l.on("click",(function(){iD(h,"_"+e.get("target"))})),p&&d.on("click",(function(){iD(p,"_"+e.get("subtarget"))})),SM(l).eventData=SM(d).eventData=g?{componentType:"title",componentIndex:e.componentIndex}:null,i.add(l),c&&i.add(d);var f=i.getBoundingRect(),m=e.getBoxLayoutParams();m.width=f.width,m.height=f.height;var v=uD(m,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));s||("middle"===(s=e.get("left")||e.get("right"))&&(s="center"),"right"===s?v.x+=v.width:"center"===s&&(v.x+=v.width/2)),a||("center"===(a=e.get("top")||e.get("bottom"))&&(a="middle"),"bottom"===a?v.y+=v.height:"middle"===a&&(v.y+=v.height/2),a=a||"top"),i.x=v.x,i.y=v.y,i.markRedraw();var y={align:s,verticalAlign:a};l.setStyle(y),d.setStyle(y),f=i.getBoundingRect();var w=v.margin,C=e.getItemStyle(["color","opacity"]);C.fill=e.get("backgroundColor");var b=new oM({shape:{x:f.x-w[3],y:f.y-w[0],width:f.width+w[1]+w[3],height:f.height+w[0]+w[2],r:e.get("borderRadius")},style:C,subPixelOptimize:!0,silent:!0});i.add(b)}},t.type="title",t}(fA);var d3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode="box",n}return vf(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),this._initData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,t=this.option,n=t.data||[],i=t.axisType,r=this._names=[];"category"===i?(e=[],qf(n,(function(t,n){var i,o=zb(Ob(t),"");sm(t)?(i=Vf(t)).value=n:i=n,e.push(i),r.push(o)}))):e=n;var o={category:"ordinal",time:"time",value:"number"}[i]||"number";(this._data=new uB([{name:"value",type:o}],this)).initData(e,r)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(vD);const h3=d3;var p3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.type="timeline.slider",t.defaultOption=cR(h3.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(h3);$f(p3,eT.prototype);const g3=p3;const f3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.type="timeline",t}(fA);var m3=function(e){function t(t,n,i,r){var o=e.call(this,t,n,i)||this;return o.type=r||"value",o}return vf(t,e),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(Xz);const v3=m3;var y3=Math.PI,w3=jb(),C3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.init=function(e,t){this.api=t},t.prototype.render=function(e,t,n){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var i=this._layout(e,n),r=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),s=this._axis=this._createAxis(i,e);e.formatTooltip=function(e){return WT("nameValue",{noName:!0,value:s.scale.getLabel({value:e})})},qf(["AxisLine","AxisTick","Control","CurrentPointer"],(function(t){this["_render"+t](i,r,s,e)}),this),this._renderAxisLabel(i,o,s,e),this._position(i,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,t){var n,i,r,o,s=e.get(["label","position"]),a=e.get("orient"),l=function(e,t){return uD(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}(e,t),u={horizontal:"center",vertical:(n=null==s||"auto"===s?"horizontal"===a?l.y+l.height/2<t.getHeight()/2?"-":"+":l.x+l.width/2<t.getWidth()/2?"+":"-":im(s)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][s]:s)>=0||"+"===n?"left":"right"},c={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},d={horizontal:0,vertical:y3/2},h="vertical"===a?l.height:l.width,p=e.getModel("controlStyle"),g=p.get("show",!0),f=g?p.get("itemSize"):0,m=g?p.get("itemGap"):0,v=f+m,y=e.get(["label","rotate"])||0;y=y*y3/180;var w=p.get("position",!0),C=g&&p.get("showPlayBtn",!0),b=g&&p.get("showPrevBtn",!0),S=g&&p.get("showNextBtn",!0),x=0,M=h;"left"===w||"bottom"===w?(C&&(i=[0,0],x+=v),b&&(r=[x,0],x+=v),S&&(o=[M-f,0],M-=v)):(C&&(i=[M-f,0],M-=v),b&&(r=[0,0],x+=v),S&&(o=[M-f,0],M-=v));var _=[x,M];return e.get("inverse")&&_.reverse(),{viewRect:l,mainLength:h,orient:a,rotation:d[a],labelRotation:y,labelPosOpt:n,labelAlign:e.get(["label","align"])||u[a],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||c[a],playPosition:i,prevBtnPosition:r,nextBtnPosition:o,axisExtent:_,controlSize:f,controlGap:m}},t.prototype._position=function(e,t){var n=this._mainGroup,i=this._labelGroup,r=e.viewRect;if("vertical"===e.orient){var o=[1,0,0,1,0,0],s=r.x,a=r.y+r.height;Tv(o,o,[-s,-a]),Av(o,o,-y3/2),Tv(o,o,[s,a]),(r=r.clone()).applyTransform(o)}var l=m(r),u=m(n.getBoundingRect()),c=m(i.getBoundingRect()),d=[n.x,n.y],h=[i.x,i.y];h[0]=d[0]=l[0][0];var p,g=e.labelPosOpt;null==g||im(g)?(v(d,u,l,1,p="+"===g?0:1),v(h,c,l,1,1-p)):(v(d,u,l,1,p=g>=0?0:1),h[1]=d[1]+g);function f(e){e.originX=l[0][0]-e.x,e.originY=l[1][0]-e.y}function m(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function v(e,t,n,i,r){e[i]+=n[i][r]-t[i][r]}n.setPosition(d),i.setPosition(h),n.rotation=i.rotation=e.rotation,f(n),f(i)},t.prototype._createAxis=function(e,t){var n=t.getData(),i=t.get("axisType"),r=function(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new qV({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new sz({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new ZV}}(t,i);r.getTicks=function(){return n.mapArray(["value"],(function(e){return{value:e}}))};var o=n.getDataExtent("value");r.setExtent(o[0],o[1]),r.calcNiceTicks();var s=new v3("value",r,e.axisExtent,i);return s.model=t,s},t.prototype._createGroup=function(e){var t=this[e]=new eb;return this.group.add(t),t},t.prototype._renderAxisLine=function(e,t,n,i){var r=n.getExtent();if(i.get(["lineStyle","show"])){var o=new yE({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:Wf({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});t.add(o);var s=this._progressLine=new yE({shape:{x1:r[0],x2:this._currentPointer?this._currentPointer.x:r[0],y1:0,y2:0},style:Uf({lineCap:"round",lineWidth:o.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});t.add(s)}},t.prototype._renderAxisTick=function(e,t,n,i){var r=this,o=i.getData(),s=n.scale.getTicks();this._tickSymbols=[],qf(s,(function(e){var s=n.dataToCoord(e.value),a=o.getItemModel(e.value),l=a.getModel("itemStyle"),u=a.getModel(["emphasis","itemStyle"]),c=a.getModel(["progress","itemStyle"]),d={x:s,y:0,onclick:Jf(r._changeTimeline,r,e.value)},h=b3(a,l,t,d);h.ensureState("emphasis").style=u.getItemStyle(),h.ensureState("progress").style=c.getItemStyle(),g_(h);var p=SM(h);a.get("tooltip")?(p.dataIndex=e.value,p.dataModel=i):p.dataIndex=p.dataModel=null,r._tickSymbols.push(h)}))},t.prototype._renderAxisLabel=function(e,t,n,i){var r=this;if(n.getLabelModel().get("show")){var o=i.getData(),s=n.getViewLabels();this._tickLabels=[],qf(s,(function(i){var s=i.tickValue,a=o.getItemModel(s),l=a.getModel("label"),u=a.getModel(["emphasis","label"]),c=a.getModel(["progress","label"]),d=n.dataToCoord(i.tickValue),h=new bM({x:d,y:0,rotation:e.labelRotation-e.rotation,onclick:Jf(r._changeTimeline,r,s),silent:!1,style:G_(l,{text:i.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});h.ensureState("emphasis").style=G_(u),h.ensureState("progress").style=G_(c),t.add(h),g_(h),w3(h).dataIndex=s,r._tickLabels.push(h)}))}},t.prototype._renderControl=function(e,t,n,i){var r=e.controlSize,o=e.rotation,s=i.getModel("controlStyle").getItemStyle(),a=i.getModel(["emphasis","controlStyle"]).getItemStyle(),l=i.getPlayState(),u=i.get("inverse",!0);function c(e,n,l,u){if(e){var c=VC(pm(i.get(["controlStyle",n+"BtnSize"]),r),r),d=function(e,t,n,i){var r=i.style,o=hI(e.get(["controlStyle",t]),i||{},new Uv(n[0],n[1],n[2],n[3]));r&&o.setStyle(r);return o}(i,n+"Icon",[0,-c/2,c,c],{x:e[0],y:e[1],originX:r/2,originY:0,rotation:u?-o:0,rectHover:!0,style:s,onclick:l});d.ensureState("emphasis").style=a,t.add(d),g_(d)}}c(e.nextBtnPosition,"next",Jf(this._changeTimeline,this,u?"-":"+")),c(e.prevBtnPosition,"prev",Jf(this._changeTimeline,this,u?"+":"-")),c(e.playPosition,l?"stop":"play",Jf(this._handlePlayClick,this,!l),!0)},t.prototype._renderCurrentPointer=function(e,t,n,i){var r=i.getData(),o=i.getCurrentIndex(),s=r.getItemModel(o).getModel("checkpointStyle"),a=this,l={onCreate:function(e){e.draggable=!0,e.drift=Jf(a._handlePointerDrag,a),e.ondragend=Jf(a._handlePointerDragend,a),S3(e,a._progressLine,o,n,i,!0)},onUpdate:function(e){S3(e,a._progressLine,o,n,i)}};this._currentPointer=b3(s,s,this._mainGroup,{},this._currentPointer,l)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,t){var n=this._toAxisCoord(e)[0],i=db(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.x=n,this._currentPointer.markRedraw();var r=this._progressLine;r&&(r.shape.x2=n,r.dirty());var o=this._findNearestTick(n),s=this.model;(t||o!==s.getCurrentIndex()&&s.get("realtime"))&&this._changeTimeline(o)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var t=e.model;e._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return sI(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var t,n=this.model.getData(),i=1/0,r=this._axis;return n.each(["value"],(function(n,o){var s=r.dataToCoord(n),a=Math.abs(s-e);a<i&&(i=a,t=o)})),t},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),t=this._tickSymbols,n=this._tickLabels;if(t)for(var i=0;i<t.length;i++)t&&t[i]&&t[i].toggleState("progress",i<e);if(n)for(i=0;i<n.length;i++)n&&n[i]&&n[i].toggleState("progress",w3(n[i]).dataIndex<=e)},t.type="timeline.slider",t}(f3);function b3(e,t,n,i,r,o){var s=t.get("color");r?(r.setColor(s),n.add(r),o&&o.onUpdate(r)):((r=Ok(e.get("symbol"),-1,-1,2,2,s)).setStyle("strokeNoScale",!0),n.add(r),o&&o.onCreate(r));var a=t.getItemStyle(["color"]);r.setStyle(a),i=zf({rectHover:!0,z2:100},i,!0);var l=Nk(e.get("symbolSize"));i.scaleX=l[0]/2,i.scaleY=l[1]/2;var u=Bk(e.get("symbolOffset"),l);u&&(i.x=(i.x||0)+u[0],i.y=(i.y||0)+u[1]);var c=e.get("symbolRotate");return i.rotation=(c||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function S3(e,t,n,i,r,o){if(!e.dragging){var s=r.getModel("checkpointStyle"),a=i.dataToCoord(r.getData().get("value",n));if(o||!s.get("animation",!0))e.attr({x:a,y:0}),t&&t.attr({shape:{x2:a}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:a,y:0},l),t&&t.animateTo({shape:{x2:a}},l)}}}const x3=C3;function M3(e){var t=e&&e.timeline;tm(t)||(t=t?[t]:[]),qf(t,(function(e){e&&function(e){var t=e.type,n={number:"value",time:"time"};n[t]&&(e.axisType=n[t],delete e.type);if(_3(e),R3(e,"controlPosition")){var i=e.controlStyle||(e.controlStyle={});R3(i,"position")||(i.position=e.controlPosition),"none"!==i.position||R3(i,"show")||(i.show=!1,delete i.position),delete e.controlPosition}qf(e.data||[],(function(e){sm(e)&&!tm(e)&&(!R3(e,"value")&&R3(e,"name")&&(e.value=e.name),_3(e))}))}(e)}))}function _3(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),i=e.label||e.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};qf(i,(function(e,t){o[t]||R3(r,t)||(r[t]=e)})),n.label&&!R3(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function R3(e,t){return e.hasOwnProperty(t)}function D3(e,t){if(!e)return!1;for(var n=tm(e)?e:[e],i=0;i<n.length;i++)if(n[i]&&n[i][t])return!0;return!1}function P3(e){Fb(e,"label",["show"])}var T3=jb(),A3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.createdBySelf=!1,n}return vf(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),this._mergeOption(e,n,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Cf.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,t){this._mergeOption(e,t,!1,!1)},t.prototype._mergeOption=function(e,t,n,i){var r=this.mainType;n||t.eachSeries((function(e){var n=e.get(this.mainType,!0),o=T3(e)[r];n&&n.data?(o?o._mergeOption(n,t,!0):(i&&P3(n),qf(n.data,(function(e){e instanceof Array?(P3(e[0]),P3(e[1])):P3(e)})),Wf(o=this.createMarkerModelFromSeries(n,this,t),{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),o.__hostSeries=e),T3(e)[r]=o):T3(e)[r]=null}),this)},t.prototype.formatTooltip=function(e,t,n){var i=this.getData(),r=this.getRawValue(e),o=i.getName(e);return WT("section",{header:this.name,blocks:[WT("nameValue",{name:o,value:r,noName:!o,noValue:null==r})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,t){var n=eT.prototype.getDataParams.call(this,e,t),i=this.__hostSeries;return i&&(n.seriesId=i.id,n.seriesName=i.name,n.seriesType=i.subType),n},t.getMarkerModelFromSeries=function(e,t){return T3(e)[t]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(vD);$f(A3,eT.prototype);const E3=A3;const I3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(E3);function k3(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function F3(e,t,n,i,r,o){var s=[],a=mB(t,i)?t.getCalculationInfo("stackResultDimension"):i,l=V3(t,a,e),u=t.indicesOfNearest(a,l)[0];s[r]=t.get(n,u),s[o]=t.get(a,u);var c=t.get(i,u),d=hb(t.get(i,u));return(d=Math.min(d,20))>=0&&(s[o]=+s[o].toFixed(d)),[s,c]}var L3={min:em(F3,"min"),max:em(F3,"max"),average:em(F3,"average"),median:em(F3,"median")};function O3(e,t){if(t){var n=e.getData(),i=e.coordinateSystem,r=i&&i.dimensions;if(!function(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}(t)&&!tm(t.coord)&&tm(r)){var o=N3(t,n,i,e);if((t=Vf(t)).type&&L3[t.type]&&o.baseAxis&&o.valueAxis){var s=jf(r,o.baseAxis.dim),a=jf(r,o.valueAxis.dim),l=L3[t.type](n,o.baseDataDim,o.valueDataDim,s,a);t.coord=l[0],t.value=l[1]}else t.coord=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis]}if(null!=t.coord&&tm(r))for(var u=t.coord,c=0;c<2;c++)L3[u[c]]&&(u[c]=V3(n,n.mapDimension(r[c]),u[c]));else t.coord=[];return t}}function N3(e,t,n,i){var r={};return null!=e.valueIndex||null!=e.valueDim?(r.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,r.valueAxis=n.getAxis(function(e,t){var n=e.getData().getDimensionInfo(t);return n&&n.coordDim}(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim),r.valueDataDim=t.mapDimension(r.valueAxis.dim)),r}function B3(e,t){return!(e&&e.containData&&t.coord&&!k3(t))||e.containData(t.coord)}function G3(e,t){return e?function(e,n,i,r){return aT(r<2?e.coord&&e.coord[r]:e.value,t[r])}:function(e,n,i,r){return aT(e.value,t[r])}}function V3(e,t,n){if("average"===n){var i=0,r=0;return e.each(t,(function(e,t){isNaN(e)||(i+=e,r++)})),i/r}return"median"===n?e.getMedian(t):e.getDataExtent(t)["max"===n?1:0]}var z3=jb(),H3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.init=function(){this.markerGroupMap=_m()},t.prototype.render=function(e,t,n){var i=this,r=this.markerGroupMap;r.each((function(e){z3(e).keep=!1})),t.eachSeries((function(e){var r=E3.getMarkerModelFromSeries(e,i.type);r&&i.renderSeries(e,r,t,n)})),r.each((function(e){!z3(e).keep&&i.group.remove(e.group)}))},t.prototype.markKeep=function(e){z3(e).keep=!0},t.prototype.toggleBlurSeries=function(e,t){var n=this;qf(e,(function(e){var i=E3.getMarkerModelFromSeries(e,n.type);i&&i.getData().eachItemGraphicEl((function(e){e&&(t?i_(e):r_(e))}))}))},t.type="marker",t}(fA);const W3=H3;function U3(e,t,n){var i=t.coordinateSystem;e.each((function(r){var o,s=e.getItemModel(r),a=ub(s.get("x"),n.getWidth()),l=ub(s.get("y"),n.getHeight());if(isNaN(a)||isNaN(l)){if(t.getMarkerPosition)o=t.getMarkerPosition(e.getValues(e.dimensions,r));else if(i){var u=e.get(i.dimensions[0],r),c=e.get(i.dimensions[1],r);o=i.dataToPoint([u,c])}}else o=[a,l];isNaN(a)||(o[0]=a),isNaN(l)||(o[1]=l),e.setItemLayout(r,o)}))}var j3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=E3.getMarkerModelFromSeries(e,"markPoint");t&&(U3(t.getData(),e,n),this.markerGroupMap.get(e.id).updateLayout())}),this)},t.prototype.renderSeries=function(e,t,n,i){var r=e.coordinateSystem,o=e.id,s=e.getData(),a=this.markerGroupMap,l=a.get(o)||a.set(o,new TB),u=function(e,t,n){var i;i=e?Yf(e&&e.dimensions,(function(e){return Wf(Wf({},t.getData().getDimensionInfo(t.getData().mapDimension(e))||{}),{name:e,ordinalMeta:null})})):[{name:"value",type:"float"}];var r=new uB(i,n),o=Yf(n.get("data"),em(O3,t));e&&(o=Zf(o,em(B3,e)));var s=G3(!!e,i);return r.initData(o,null,s),r}(r,e,t);t.setData(u),U3(t.getData(),e,i),u.each((function(e){var n=u.getItemModel(e),i=n.getShallow("symbol"),r=n.getShallow("symbolSize"),o=n.getShallow("symbolRotate"),a=n.getShallow("symbolOffset"),l=n.getShallow("symbolKeepAspect");if(nm(i)||nm(r)||nm(o)||nm(a)){var c=t.getRawValue(e),d=t.getDataParams(e);nm(i)&&(i=i(c,d)),nm(r)&&(r=r(c,d)),nm(o)&&(o=o(c,d)),nm(a)&&(a=a(c,d))}var h=n.getModel("itemStyle").getItemStyle(),p=Ck(s,"color");h.fill||(h.fill=p),u.setItemVisual(e,{symbol:i,symbolSize:r,symbolRotate:o,symbolOffset:a,symbolKeepAspect:l,style:h})})),l.updateData(u),this.group.add(l.group),u.eachItemGraphicEl((function(e){e.traverse((function(e){SM(e).dataModel=t}))})),this.markKeep(l),l.group.silent=t.get("silent")||e.get("silent")},t.type="markPoint",t}(W3);const $3=j3;const K3=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(E3);var q3=jb(),Y3=function(e,t,n,i){var r,o=e.getData();if(tm(i))r=i;else{var s=i.type;if("min"===s||"max"===s||"average"===s||"median"===s||null!=i.xAxis||null!=i.yAxis){var a=void 0,l=void 0;if(null!=i.yAxis||null!=i.xAxis)a=t.getAxis(null!=i.yAxis?"y":"x"),l=hm(i.yAxis,i.xAxis);else{var u=N3(i,o,t,e);a=u.valueAxis,l=V3(o,vB(o,u.valueDataDim),s)}var c="x"===a.dim?0:1,d=1-c,h=Vf(i),p={coord:[]};h.type=null,h.coord=[],h.coord[d]=-1/0,p.coord[d]=1/0;var g=n.get("precision");g>=0&&om(l)&&(l=+l.toFixed(Math.min(g,20))),h.coord[c]=p.coord[c]=l,r=[h,p,{type:s,valueIndex:i.valueIndex,value:l}]}else r=[]}var f=[O3(e,r[0]),O3(e,r[1]),Wf({},r[2])];return f[2].type=f[2].type||null,zf(f[2],f[0]),zf(f[2],f[1]),f};function X3(e){return!isNaN(e)&&!isFinite(e)}function Z3(e,t,n,i){var r=1-e,o=i.dimensions[e];return X3(t[r])&&X3(n[r])&&t[e]===n[e]&&i.getAxis(o).containData(t[e])}function Q3(e,t){if("cartesian2d"===e.type){var n=t[0].coord,i=t[1].coord;if(n&&i&&(Z3(1,n,i,e)||Z3(0,n,i,e)))return!0}return B3(e,t[0])&&B3(e,t[1])}function J3(e,t,n,i,r){var o,s=i.coordinateSystem,a=e.getItemModel(t),l=ub(a.get("x"),r.getWidth()),u=ub(a.get("y"),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(e.getValues(e.dimensions,t));else{var c=s.dimensions,d=e.get(c[0],t),h=e.get(c[1],t);o=s.dataToPoint([d,h])}if($B(s,"cartesian2d")){var p=s.getAxis("x"),g=s.getAxis("y");c=s.dimensions;X3(e.get(c[0],t))?o[0]=p.toGlobalCoord(p.getExtent()[n?0:1]):X3(e.get(c[1],t))&&(o[1]=g.toGlobalCoord(g.getExtent()[n?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];e.setItemLayout(t,o)}var e4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=E3.getMarkerModelFromSeries(e,"markLine");if(t){var i=t.getData(),r=q3(t).from,o=q3(t).to;r.each((function(t){J3(r,t,!0,e,n),J3(o,t,!1,e,n)})),i.each((function(e){i.setItemLayout(e,[r.getItemLayout(e),o.getItemLayout(e)])})),this.markerGroupMap.get(e.id).updateLayout()}}),this)},t.prototype.renderSeries=function(e,t,n,i){var r=e.coordinateSystem,o=e.id,s=e.getData(),a=this.markerGroupMap,l=a.get(o)||a.set(o,new TK);this.group.add(l.group);var u=function(e,t,n){var i;i=e?Yf(e&&e.dimensions,(function(e){return Wf(Wf({},t.getData().getDimensionInfo(t.getData().mapDimension(e))||{}),{name:e,ordinalMeta:null})})):[{name:"value",type:"float"}];var r=new uB(i,n),o=new uB(i,n),s=new uB([],n),a=Yf(n.get("data"),em(Y3,t,e,n));e&&(a=Zf(a,em(Q3,e)));var l=G3(!!e,i);return r.initData(Yf(a,(function(e){return e[0]})),null,l),o.initData(Yf(a,(function(e){return e[1]})),null,l),s.initData(Yf(a,(function(e){return e[2]}))),s.hasItemOption=!0,{from:r,to:o,line:s}}(r,e,t),c=u.from,d=u.to,h=u.line;q3(t).from=c,q3(t).to=d,t.setData(h);var p=t.get("symbol"),g=t.get("symbolSize"),f=t.get("symbolRotate"),m=t.get("symbolOffset");function v(t,n,r){var o=t.getItemModel(n);J3(t,n,r,e,i);var a=o.getModel("itemStyle").getItemStyle();null==a.fill&&(a.fill=Ck(s,"color")),t.setItemVisual(n,{symbolKeepAspect:o.get("symbolKeepAspect"),symbolOffset:pm(o.get("symbolOffset",!0),m[r?0:1]),symbolRotate:pm(o.get("symbolRotate",!0),f[r?0:1]),symbolSize:pm(o.get("symbolSize"),g[r?0:1]),symbol:pm(o.get("symbol",!0),p[r?0:1]),style:a})}tm(p)||(p=[p,p]),tm(g)||(g=[g,g]),tm(f)||(f=[f,f]),tm(m)||(m=[m,m]),u.from.each((function(e){v(c,e,!0),v(d,e,!1)})),h.each((function(e){var t=h.getItemModel(e).getModel("lineStyle").getLineStyle();h.setItemLayout(e,[c.getItemLayout(e),d.getItemLayout(e)]),null==t.stroke&&(t.stroke=c.getItemVisual(e,"style").fill),h.setItemVisual(e,{fromSymbolKeepAspect:c.getItemVisual(e,"symbolKeepAspect"),fromSymbolOffset:c.getItemVisual(e,"symbolOffset"),fromSymbolRotate:c.getItemVisual(e,"symbolRotate"),fromSymbolSize:c.getItemVisual(e,"symbolSize"),fromSymbol:c.getItemVisual(e,"symbol"),toSymbolKeepAspect:d.getItemVisual(e,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(e,"symbolOffset"),toSymbolRotate:d.getItemVisual(e,"symbolRotate"),toSymbolSize:d.getItemVisual(e,"symbolSize"),toSymbol:d.getItemVisual(e,"symbol"),style:t})})),l.updateData(h),u.line.eachItemGraphicEl((function(e){SM(e).dataModel=t,e.traverse((function(e){SM(e).dataModel=t}))})),this.markKeep(l),l.group.silent=t.get("silent")||e.get("silent")},t.type="markLine",t}(W3);const t4=e4;const n4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(E3);var i4=jb(),r4=function(e,t,n,i){var r=i[0],o=i[1];if(r&&o){var s=O3(e,r),a=O3(e,o),l=s.coord,u=a.coord;l[0]=hm(l[0],-1/0),l[1]=hm(l[1],-1/0),u[0]=hm(u[0],1/0),u[1]=hm(u[1],1/0);var c=Hf([{},s,a]);return c.coord=[s.coord,a.coord],c.x0=s.x,c.y0=s.y,c.x1=a.x,c.y1=a.y,c}};function o4(e){return!isNaN(e)&&!isFinite(e)}function s4(e,t,n,i){var r=1-e;return o4(t[r])&&o4(n[r])}function a4(e,t){var n=t.coord[0],i=t.coord[1],r={coord:n,x:t.x0,y:t.y0},o={coord:i,x:t.x1,y:t.y1};return $B(e,"cartesian2d")?!(!n||!i||!s4(1,n,i)&&!s4(0,n,i))||function(e,t,n){return!(e&&e.containZone&&t.coord&&n.coord&&!k3(t)&&!k3(n))||e.containZone(t.coord,n.coord)}(e,r,o):B3(e,r)||B3(e,o)}function l4(e,t,n,i,r){var o,s=i.coordinateSystem,a=e.getItemModel(t),l=ub(a.get(n[0]),r.getWidth()),u=ub(a.get(n[1]),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition){var c=e.getValues(["x0","y0"],t),d=e.getValues(["x1","y1"],t),h=s.clampData(c),p=s.clampData(d),g=[];"x0"===n[0]?g[0]=h[0]>p[0]?d[0]:c[0]:g[0]=h[0]>p[0]?c[0]:d[0],"y0"===n[1]?g[1]=h[1]>p[1]?d[1]:c[1]:g[1]=h[1]>p[1]?c[1]:d[1],o=i.getMarkerPosition(g,n,!0)}else{var f=[y=e.get(n[0],t),w=e.get(n[1],t)];s.clampData&&s.clampData(f,f),o=s.dataToPoint(f,!0)}if($B(s,"cartesian2d")){var m=s.getAxis("x"),v=s.getAxis("y"),y=e.get(n[0],t),w=e.get(n[1],t);o4(y)?o[0]=m.toGlobalCoord(m.getExtent()["x0"===n[0]?0:1]):o4(w)&&(o[1]=v.toGlobalCoord(v.getExtent()["y0"===n[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];return o}var u4=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],c4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=E3.getMarkerModelFromSeries(e,"markArea");if(t){var i=t.getData();i.each((function(t){var r=Yf(u4,(function(r){return l4(i,t,r,e,n)}));i.setItemLayout(t,r),i.getItemGraphicEl(t).setShape("points",r)}))}}),this)},t.prototype.renderSeries=function(e,t,n,i){var r=e.coordinateSystem,o=e.id,s=e.getData(),a=this.markerGroupMap,l=a.get(o)||a.set(o,{group:new eb});this.group.add(l.group),this.markKeep(l);var u=function(e,t,n){var i,r,o=["x0","y0","x1","y1"];if(e){var s=Yf(e&&e.dimensions,(function(e){var n=t.getData();return Wf(Wf({},n.getDimensionInfo(n.mapDimension(e))||{}),{name:e,ordinalMeta:null})}));r=Yf(o,(function(e,t){return{name:e,type:s[t%2].type}})),i=new uB(r,n)}else i=new uB(r=[{name:"value",type:"float"}],n);var a=Yf(n.get("data"),em(r4,t,e,n));e&&(a=Zf(a,em(a4,e)));var l=e?function(e,t,n,i){return aT(e.coord[Math.floor(i/2)][i%2],r[i])}:function(e,t,n,i){return aT(e.value,r[i])};return i.initData(a,null,l),i.hasItemOption=!0,i}(r,e,t);t.setData(u),u.each((function(t){var n=Yf(u4,(function(n){return l4(u,t,n,e,i)})),o=r.getAxis("x").scale,a=r.getAxis("y").scale,l=o.getExtent(),c=a.getExtent(),d=[o.parse(u.get("x0",t)),o.parse(u.get("x1",t))],h=[a.parse(u.get("y0",t)),a.parse(u.get("y1",t))];db(d),db(h);var p=!!(l[0]>d[1]||l[1]<d[0]||c[0]>h[1]||c[1]<h[0]);u.setItemLayout(t,{points:n,allClipped:p});var g=u.getItemModel(t).getModel("itemStyle").getItemStyle(),f=Ck(s,"color");g.fill||(g.fill=f,im(g.fill)&&(g.fill=mw(g.fill,.4))),g.stroke||(g.stroke=f),u.setItemVisual(t,"style",g)})),u.diff(i4(l).data).add((function(e){var t=u.getItemLayout(e);if(!t.allClipped){var n=new dE({shape:{points:t.points}});u.setItemGraphicEl(e,n),l.group.add(n)}})).update((function(e,n){var i=i4(l).data.getItemGraphicEl(n),r=u.getItemLayout(e);r.allClipped?i&&l.group.remove(i):(i?D_(i,{shape:{points:r.points}},t,e):i=new dE({shape:{points:r.points}}),u.setItemGraphicEl(e,i),l.group.add(i))})).remove((function(e){var t=i4(l).data.getItemGraphicEl(e);l.group.remove(t)})).execute(),u.eachItemGraphicEl((function(e,n){var i=u.getItemModel(n),r=u.getItemVisual(n,"style");e.useStyle(u.getItemVisual(n,"style")),N_(e,B_(i),{labelFetcher:t,labelDataIndex:n,defaultText:u.getName(n)||"",inheritColor:im(r.fill)?mw(r.fill,1):"#000"}),w_(e,i),f_(e,null,null,i.get(["emphasis","disabled"])),SM(e).dataModel=t})),i4(l).data=u,l.group.silent=t.get("silent")||e.get("silent")},t.type="markArea",t}(W3);const d4=c4;var h4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return vf(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},t.prototype._updateSelector=function(e){var t=e.selector,n=this.ecModel;!0===t&&(t=e.selector=["all","inverse"]),tm(t)&&qf(t,(function(e,i){im(e)&&(e={type:e}),t[i]=zf(e,function(e,t){return"all"===t?{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(n,e.type))}))},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),t=!0;break}}!t&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var t=[],n=[];e.eachRawSeries((function(i){var r,o=i.name;if(n.push(o),i.legendVisualProvider){var s=i.legendVisualProvider.getAllNames();e.isSeriesFiltered(i)||(n=n.concat(s)),s.length?t=t.concat(s):r=!0}else r=!0;r&&Hb(i)&&t.push(i.name)})),this._availableNames=n;var i=this.get("data")||t,r=_m(),o=Yf(i,(function(e){return(im(e)||om(e))&&(e={name:e}),r.get(e.name)?null:(r.set(e.name,!0),new aR(e,this,this.ecModel))}),this);this._data=Zf(o,(function(e){return!!e}))},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var t=this.option.selected;"single"===this.get("selectedMode")&&qf(this._data,(function(e){t[e.get("name")]=!1}));t[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,t=this.option.selected;qf(e,(function(e){t[e.get("name",!0)]=!0}))},t.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;qf(e,(function(e){var n=e.get("name",!0);t.hasOwnProperty(n)||(t[n]=!0),t[n]=!t[n]}))},t.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&jf(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(vD);const p4=h4;var g4=em,f4=qf,m4=eb,v4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return vf(t,e),t.prototype.init=function(){this.group.add(this._contentGroup=new m4),this.group.add(this._selectorGroup=new m4),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,t,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var r=e.get("align"),o=e.get("orient");r&&"auto"!==r||(r="right"===e.get("left")&&"vertical"===o?"right":"left");var s=e.get("selector",!0),a=e.get("selectorPosition",!0);!s||a&&"auto"!==a||(a="horizontal"===o?"end":"start"),this.renderInner(r,e,t,n,s,o,a);var l=e.getBoxLayoutParams(),u={width:n.getWidth(),height:n.getHeight()},c=e.get("padding"),d=uD(l,u,c),h=this.layoutInner(e,r,d,i,s,a),p=uD(Uf({width:h.width,height:h.height},l),u,c);this.group.x=p.x-h.x,this.group.y=p.y-h.y,this.group.markRedraw(),this.group.add(this._backgroundEl=x2(h,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,t,n,i,r,o,s){var a=this.getContentGroup(),l=_m(),u=t.get("selectedMode"),c=[];n.eachRawSeries((function(e){!e.get("legendHoverLink")&&c.push(e.id)})),f4(t.getData(),(function(r,o){var s=r.get("name");if(!this.newlineDisabled&&(""===s||"\n"===s)){var d=new m4;return d.newline=!0,void a.add(d)}var h=n.getSeriesByName(s)[0];if(!l.get(s)){if(h){var p=h.getData(),g=p.getVisual("legendLineStyle")||{},f=p.getVisual("legendIcon"),m=p.getVisual("style"),v=this._createItem(h,s,o,r,t,e,g,m,f,u,i);v.on("click",g4(y4,s,null,i,c)).on("mouseover",g4(C4,h.name,null,i,c)).on("mouseout",g4(b4,h.name,null,i,c)),n.ssr&&v.eachChild((function(e){var t=SM(e);t.seriesIndex=h.seriesIndex,t.dataIndex=o,t.ssrType="legend"})),l.set(s,!0)}else n.eachRawSeries((function(a){if(!l.get(s)&&a.legendVisualProvider){var d=a.legendVisualProvider;if(!d.containName(s))return;var h=d.indexOfName(s),p=d.getItemVisual(h,"style"),g=d.getItemVisual(h,"legendIcon"),f=cw(p.fill);f&&0===f[3]&&(f[3]=.2,p=Wf(Wf({},p),{fill:vw(f,"rgba")}));var m=this._createItem(a,s,o,r,t,e,{},p,g,u,i);m.on("click",g4(y4,null,s,i,c)).on("mouseover",g4(C4,null,s,i,c)).on("mouseout",g4(b4,null,s,i,c)),n.ssr&&m.eachChild((function(e){var t=SM(e);t.seriesIndex=a.seriesIndex,t.dataIndex=o,t.ssrType="legend"})),l.set(s,!0)}}),this);0}}),this),r&&this._createSelector(r,t,i,o,s)},t.prototype._createSelector=function(e,t,n,i,r){var o=this.getSelectorGroup();f4(e,(function(e){var i=e.type,r=new bM({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});o.add(r),N_(r,{normal:t.getModel("selectorLabel"),emphasis:t.getModel(["emphasis","selectorLabel"])},{defaultText:e.title}),g_(r)}))},t.prototype._createItem=function(e,t,n,i,r,o,s,a,l,u,c){var d=e.visualDrawType,h=r.get("itemWidth"),p=r.get("itemHeight"),g=r.isSelected(t),f=i.get("symbolRotate"),m=i.get("symbolKeepAspect"),v=i.get("icon"),y=function(e,t,n,i,r,o,s){function a(e,t){"auto"===e.lineWidth&&(e.lineWidth=t.lineWidth>0?2:0),f4(e,(function(n,i){"inherit"===e[i]&&(e[i]=t[i])}))}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=0===e.lastIndexOf("empty",0)?"fill":"stroke",d=l.getShallow("decal");u.decal=d&&"inherit"!==d?pF(d,s):i.decal,"inherit"===u.fill&&(u.fill=i[r]);"inherit"===u.stroke&&(u.stroke=i[c]);"inherit"===u.opacity&&(u.opacity=("fill"===r?i:n).opacity);a(u,i);var h=t.getModel("lineStyle"),p=h.getLineStyle();if(a(p,n),"auto"===u.fill&&(u.fill=i.fill),"auto"===u.stroke&&(u.stroke=i.fill),"auto"===p.stroke&&(p.stroke=i.fill),!o){var g=t.get("inactiveBorderWidth"),f=u[c];u.lineWidth="auto"===g?i.lineWidth>0&&f?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),p.stroke=h.get("inactiveColor"),p.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:p}}(l=v||l||"roundRect",i,s,a,d,g,c),w=new m4,C=i.getModel("textStyle");if(!nm(e.getLegendIcon)||v&&"inherit"!==v){var b="inherit"===v&&e.getData().getVisual("symbol")?"inherit"===f?e.getData().getVisual("symbolRotate"):f:0;w.add(function(e){var t=e.icon||"roundRect",n=Ok(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);n.setStyle(e.itemStyle),n.rotation=(e.iconRotate||0)*Math.PI/180,n.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2);return n}({itemWidth:h,itemHeight:p,icon:l,iconRotate:b,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:m}))}else w.add(e.getLegendIcon({itemWidth:h,itemHeight:p,icon:l,iconRotate:f,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:m}));var S="left"===o?h+5:-5,x=o,M=r.get("formatter"),_=t;im(M)&&M?_=M.replace("{name}",null!=t?t:""):nm(M)&&(_=M(t));var R=g?C.getTextColor():i.get("inactiveColor");w.add(new bM({style:G_(C,{text:_,x:S,y:p/2,fill:R,align:x,verticalAlign:"middle"},{inheritColor:R})}));var D=new oM({shape:w.getBoundingRect(),style:{fill:"transparent"}}),P=i.getModel("tooltip");return P.get("show")&&mI({el:D,componentModel:r,itemName:t,itemTooltipOption:P.option}),w.add(D),w.eachChild((function(e){e.silent=!0})),D.silent=!u,this.getContentGroup().add(w),g_(w),w.__legendDataIndex=n,w},t.prototype.layoutInner=function(e,t,n,i,r,o){var s=this.getContentGroup(),a=this.getSelectorGroup();lD(e.get("orient"),s,e.get("itemGap"),n.width,n.height);var l=s.getBoundingRect(),u=[-l.x,-l.y];if(a.markRedraw(),s.markRedraw(),r){lD("horizontal",a,e.get("selectorItemGap",!0));var c=a.getBoundingRect(),d=[-c.x,-c.y],h=e.get("selectorButtonGap",!0),p=e.getOrient().index,g=0===p?"width":"height",f=0===p?"height":"width",m=0===p?"y":"x";"end"===o?d[p]+=l[g]+h:u[p]+=c[g]+h,d[1-p]+=l[f]/2-c[f]/2,a.x=d[0],a.y=d[1],s.x=u[0],s.y=u[1];var v={x:0,y:0};return v[g]=l[g]+h+c[g],v[f]=Math.max(l[f],c[f]),v[m]=Math.min(0,c[m]+d[1-p]),v}return s.x=u[0],s.y=u[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(fA);function y4(e,t,n,i){b4(e,t,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),C4(e,t,n,i)}function w4(e){for(var t,n=e.getZr().storage.getDisplayList(),i=0,r=n.length;i<r&&!(t=n[i].states.emphasis);)i++;return t&&t.hoverLayer}function C4(e,t,n,i){w4(n)||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:i})}function b4(e,t,n,i){w4(n)||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:i})}const S4=v4;function x4(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0}))}function M4(e,t,n){var i,r={},o="toggleSelected"===e;return n.eachComponent("legend",(function(n){o&&null!=i?n[i?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?n[e]():(n[e](t.name),i=n.isSelected(t.name)),qf(n.getData(),(function(e){var t=e.get("name");if("\n"!==t&&""!==t){var i=n.isSelected(t);r.hasOwnProperty(t)?r[t]=r[t]&&i:r[t]=i}}))})),"allSelect"===e||"inverseSelect"===e?{selected:r}:{name:t.name,selected:r}}function _4(e){e.registerComponentModel(p4),e.registerComponentView(S4),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,x4),e.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(e){e.registerAction("legendToggleSelect","legendselectchanged",em(M4,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",em(M4,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",em(M4,"inverseSelect")),e.registerAction("legendSelect","legendselected",em(M4,"select")),e.registerAction("legendUnSelect","legendunselected",em(M4,"unSelect"))}(e)}function R4(e,t,n){var i=[1,1];i[e.getOrient().index]=0,hD(t,n,{type:"box",ignoreSize:!!i})}const D4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(t,n,i){var r=pD(t);e.prototype.init.call(this,t,n,i),R4(this,t,r)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),R4(this,this.option,t)},t.type="legend.scroll",t.defaultOption=cR(p4.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(p4);var P4=eb,T4=["width","height"],A4=["x","y"],E4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return vf(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new P4),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new P4)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(t,n,i,r,o,s,a){var l=this;e.prototype.renderInner.call(this,t,n,i,r,o,s,a);var u=this._controllerGroup,c=n.get("pageIconSize",!0),d=tm(c)?c:[c,c];p("pagePrev",0);var h=n.getModel("pageTextStyle");function p(e,t){var i=e+"DataIndex",o=hI(n.get("pageIcons",!0)[n.getOrient().name][t],{onclick:Jf(l._pageGo,l,i,n,r)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});o.name=e,u.add(o)}u.add(new bM({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1)},t.prototype.layoutInner=function(e,t,n,i,r,o){var s=this.getSelectorGroup(),a=e.getOrient().index,l=T4[a],u=A4[a],c=T4[1-a],d=A4[1-a];r&&lD("horizontal",s,e.get("selectorItemGap",!0));var h=e.get("selectorButtonGap",!0),p=s.getBoundingRect(),g=[-p.x,-p.y],f=Vf(n);r&&(f[l]=n[l]-p[l]-h);var m=this._layoutContentAndController(e,i,f,a,l,c,d,u);if(r){if("end"===o)g[a]+=m[l]+h;else{var v=p[l]+h;g[a]-=v,m[u]-=v}m[l]+=p[l]+h,g[1-a]+=m[d]+m[c]/2-p[c]/2,m[c]=Math.max(m[c],p[c]),m[d]=Math.min(m[d],p[d]+g[1-a]),s.x=g[0],s.y=g[1],s.markRedraw()}return m},t.prototype._layoutContentAndController=function(e,t,n,i,r,o,s,a){var l=this.getContentGroup(),u=this._containerGroup,c=this._controllerGroup;lD(e.get("orient"),l,e.get("itemGap"),i?n.width:null,i?null:n.height),lD("horizontal",c,e.get("pageButtonItemGap",!0));var d=l.getBoundingRect(),h=c.getBoundingRect(),p=this._showController=d[r]>n[r],g=[-d.x,-d.y];t||(g[i]=l[a]);var f=[0,0],m=[-h.x,-h.y],v=pm(e.get("pageButtonGap",!0),e.get("itemGap",!0));p&&("end"===e.get("pageButtonPosition",!0)?m[i]+=n[r]-h[r]:f[i]+=h[r]+v);m[1-i]+=d[o]/2-h[o]/2,l.setPosition(g),u.setPosition(f),c.setPosition(m);var y={x:0,y:0};if(y[r]=p?n[r]:d[r],y[o]=Math.max(d[o],h[o]),y[s]=Math.min(0,h[s]+m[1-i]),u.__rectSize=n[r],p){var w={x:0,y:0};w[r]=Math.max(n[r]-h[r]-v,0),w[o]=y[o],u.setClipPath(new oM({shape:w})),u.__rectSize=w[r]}else c.eachChild((function(e){e.attr({invisible:!0,silent:!0})}));var C=this._getPageInfo(e);return null!=C.pageIndex&&D_(l,{x:C.contentPosition[0],y:C.contentPosition[1]},p?e:null),this._updatePageInfoView(e,C),y},t.prototype._pageGo=function(e,t,n){var i=this._getPageInfo(t)[e];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:t.id})},t.prototype._updatePageInfoView=function(e,t){var n=this._controllerGroup;qf(["pagePrev","pageNext"],(function(i){var r=null!=t[i+"DataIndex"],o=n.childOfName(i);o&&(o.setStyle("fill",r?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),o.cursor=r?"pointer":"default")}));var i=n.childOfName("pageText"),r=e.get("pageFormatter"),o=t.pageIndex,s=null!=o?o+1:0,a=t.pageCount;i&&r&&i.setStyle("text",im(r)?r.replace("{current}",null==s?"":s+"").replace("{total}",null==a?"":a+""):r({current:s,total:a}))},t.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,r=e.getOrient().index,o=T4[r],s=A4[r],a=this._findTargetItemIndex(t),l=n.children(),u=l[a],c=l.length,d=c?1:0,h={contentPosition:[n.x,n.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return h;var p=y(u);h.contentPosition[r]=-p.s;for(var g=a+1,f=p,m=p,v=null;g<=c;++g)(!(v=y(l[g]))&&m.e>f.s+i||v&&!w(v,f.s))&&(f=m.i>f.i?m:v)&&(null==h.pageNextDataIndex&&(h.pageNextDataIndex=f.i),++h.pageCount),m=v;for(g=a-1,f=p,m=p,v=null;g>=-1;--g)(v=y(l[g]))&&w(m,v.s)||!(f.i<m.i)||(m=f,null==h.pagePrevDataIndex&&(h.pagePrevDataIndex=f.i),++h.pageCount,++h.pageIndex),f=v;return h;function y(e){if(e){var t=e.getBoundingRect(),n=t[s]+e[s];return{s:n,e:n+t[o],i:e.__legendDataIndex}}}function w(e,t){return e.e>=t&&e.s<=t+i}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild((function(i,r){var o=i.__legendDataIndex;null==n&&null!=o&&(n=r),o===e&&(t=r)})),null!=t?t:n):0;var t,n},t.type="legend.scroll",t}(S4);const I4=E4;function k4(e){ML(_4),e.registerComponentModel(D4),e.registerComponentView(I4),function(e){e.registerAction("legendScroll","legendscroll",(function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(n)}))}))}(e)}const F4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.type="dataZoom.inside",t.defaultOption=cR(r2.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(r2);var L4=jb();function O4(e,t){if(t){e.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function N4(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function B4(e,t,n,i){return e.coordinateSystem.containPoint([n,i])}function G4(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,(function(e,t){var n=L4(t),i=n.coordSysRecordMap||(n.coordSysRecordMap=_m());i.each((function(e){e.dataZoomInfoMap=null})),e.eachComponent({mainType:"dataZoom",subType:"inside"},(function(e){qf(e2(e).infoList,(function(n){var r=n.model.uid,o=i.get(r)||i.set(r,function(e,t){var n={model:t,containsPoint:em(B4,t),dispatchAction:em(N4,e),dataZoomInfoMap:null,controller:null},i=n.controller=new cW(e.getZr());return qf(["pan","zoom","scrollMove"],(function(e){i.on(e,(function(t){var i=[];n.dataZoomInfoMap.each((function(r){if(t.isAvailableBehavior(r.model.option)){var o=(r.getRange||{})[e],s=o&&o(r.dzReferCoordSysInfo,n.model.mainType,n.controller,t);!r.model.get("disabled",!0)&&s&&i.push({dataZoomId:r.model.id,start:s[0],end:s[1]})}})),i.length&&n.dispatchAction(i)}))})),n}(t,n.model));(o.dataZoomInfoMap||(o.dataZoomInfoMap=_m())).set(e.uid,{dzReferCoordSysInfo:n,model:e,getRange:null})}))})),i.each((function(e){var t,n=e.controller,r=e.dataZoomInfoMap;if(r){var o=r.keys()[0];null!=o&&(t=r.get(o))}if(t){var s=function(e){var t,n="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return e.each((function(e){var o=e.model,s=!o.get("disabled",!0)&&(!o.get("zoomLock",!0)||"move");i[n+s]>i[n+t]&&(t=s),r=r&&o.get("preventDefaultMouseMove",!0)})),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}(r);n.enable(s.controlType,s.opt),n.setPointerChecker(e.containsPoint),II(e,"dispatchAction",t.model.get("throttle",!0),"fixRate")}else O4(i,e)}))}))}var V4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return vf(t,e),t.prototype.render=function(t,n,i){e.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),function(e,t,n){L4(e).coordSysRecordMap.each((function(e){var i=e.dataZoomInfoMap.get(t.uid);i&&(i.getRange=n)}))}(i,t,{pan:Jf(z4.pan,this),zoom:Jf(z4.zoom,this),scrollMove:Jf(z4.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){!function(e,t){for(var n=L4(e).coordSysRecordMap,i=n.keys(),r=0;r<i.length;r++){var o=i[r],s=n.get(o),a=s.dataZoomInfoMap;if(a){var l=t.uid;a.get(l)&&(a.removeKey(l),a.keys().length||O4(n,s))}}}(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(a2),z4={zoom:function(e,t,n,i){var r=this.range,o=r.slice(),s=e.axisModels[0];if(s){var a=W4[t](null,[i.originX,i.originY],s,n,e),l=(a.signal>0?a.pixelStart+a.pixelLength-a.pixel:a.pixel-a.pixelStart)/a.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/i.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Eq(0,o,[0,100],0,c.minSpan,c.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:H4((function(e,t,n,i,r,o){var s=W4[i]([o.oldX,o.oldY],[o.newX,o.newY],t,r,n);return s.signal*(e[1]-e[0])*s.pixel/s.pixelLength})),scrollMove:H4((function(e,t,n,i,r,o){return W4[i]([0,0],[o.scrollDelta,o.scrollDelta],t,r,n).signal*(e[1]-e[0])*o.scrollDelta}))};function H4(e){return function(t,n,i,r){var o=this.range,s=o.slice(),a=t.axisModels[0];if(a)return Eq(e(s,a,t,n,i,r),s,[0,100],"all"),this.range=s,o[0]!==s[0]||o[1]!==s[1]?s:void 0}}var W4={grid:function(e,t,n,i,r){var o=n.axis,s={},a=r.model.coordinateSystem.getRect();return e=e||[0,0],"x"===o.dim?(s.pixel=t[0]-e[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s},polar:function(e,t,n,i,r){var o=n.axis,s={},a=r.model.coordinateSystem,l=a.getRadiusAxis().getExtent(),u=a.getAngleAxis().getExtent();return e=e?a.pointToCoord(e):[0,0],t=a.pointToCoord(t),"radiusAxis"===n.mainType?(s.pixel=t[0]-e[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=o.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=o.inverse?-1:1),s},singleAxis:function(e,t,n,i,r){var o=n.axis,s=r.model.coordinateSystem.getRect(),a={};return e=e||[0,0],"horizontal"===o.orient?(a.pixel=t[0]-e[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a}};const U4=V4;function j4(e){m2(e),e.registerComponentModel(F4),e.registerComponentView(U4),G4(e)}const $4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=cR(r2.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(r2);var K4=oM,q4="horizontal",Y4="vertical",X4=["line","bar","candlestick","scatter"],Z4={easing:"cubicOut",duration:100,delay:0},Q4=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return vf(t,e),t.prototype.init=function(e,t){this.api=t,this._onBrush=Jf(this._onBrush,this),this._onBrushEnd=Jf(this._onBrushEnd,this)},t.prototype.render=function(t,n,i,r){if(e.prototype.render.apply(this,arguments),II(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show")){if(t.noTarget())return this._clear(),void this.group.removeAll();r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){kI(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var t=this._displayables.sliderGroup=new eb;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,n=e.get("brushSelect")?7:0,i=this._findCoordRect(),r={width:t.getWidth(),height:t.getHeight()},o=this._orient===q4?{right:r.width-i.x-i.width,top:r.height-30-7-n,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},s=pD(e.option);qf(["right","top","width","height"],(function(e){"ph"===s[e]&&(s[e]=o[e])}));var a=uD(s,r);this._location={x:a.x,y:a.y},this._size=[a.width,a.height],this._orient===Y4&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,t=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get("inverse"),o=this._displayables.sliderGroup,s=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==q4||r?n===q4&&r?{scaleY:s?1:-1,scaleX:-1}:n!==Y4||r?{scaleY:s?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:s?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:s?1:-1,scaleX:1});var a=e.getBoundingRect([o]);e.x=t.x-a.x,e.y=t.y-a.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,n=this._displayables.sliderGroup,i=e.get("brushSelect");n.add(new K4({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var r=new K4({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:Jf(this._onClickPanel,this)}),o=this.api.getZr();i?(r.on("mousedown",this._onBrushStart,this),r.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),n.add(r)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var t=this._size,n=this._shadowSize||[],i=e.series,r=i.getRawData(),o=i.getShadowDim&&i.getShadowDim(),s=o&&r.getDimensionInfo(o)?i.getShadowDim():e.otherDim;if(null!=s){var a=this._shadowPolygonPts,l=this._shadowPolylinePts;if(r!==this._shadowData||s!==this._shadowDim||t[0]!==n[0]||t[1]!==n[1]){var u=r.getDataExtent(s),c=.3*(u[1]-u[0]);u=[u[0]-c,u[1]+c];var d,h=[0,t[1]],p=[0,t[0]],g=[[t[0],0],[0,0]],f=[],m=p[1]/(r.count()-1),v=0,y=Math.round(r.count()/t[0]);r.each([s],(function(e,t){if(y>0&&t%y)v+=m;else{var n=null==e||isNaN(e)||""===e,i=n?0:lb(e,u,h,!0);n&&!d&&t?(g.push([g[g.length-1][0],0]),f.push([f[f.length-1][0],0])):!n&&d&&(g.push([v,0]),f.push([v,0])),g.push([v,i]),f.push([v,i]),v+=m,d=n}})),a=this._shadowPolygonPts=g,l=this._shadowPolylinePts=f}this._shadowData=r,this._shadowDim=s,this._shadowSize=[t[0],t[1]];for(var w=this.dataZoomModel,C=0;C<3;C++){var b=S(1===C);this._displayables.sliderGroup.add(b),this._displayables.dataShadowSegs.push(b)}}}function S(e){var t=w.getModel(e?"selectedDataBackground":"dataBackground"),n=new eb,i=new dE({shape:{points:a},segmentIgnoreThreshold:1,style:t.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),r=new gE({shape:{points:l},segmentIgnoreThreshold:1,style:t.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(i),n.add(r),n}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var n,i=this.ecModel;return e.eachTargetAxis((function(r,o){qf(e.getAxisProxy(r,o).getTargetSeriesModels(),(function(e){if(!n&&!(!0!==t&&jf(X4,e.get("type"))<0)){var s,a=i.getComponent(Q1(r),o).axis,l=function(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}(r),u=e.coordinateSystem;null!=l&&u.getOtherAxis&&(s=u.getOtherAxis(a).inverse),l=e.getData().mapDimension(l),n={thisAxis:a,series:e,thisDim:r,otherDim:l,otherAxisInverse:s}}}),this)}),this),n}},t.prototype._renderHandle=function(){var e=this.group,t=this._displayables,n=t.handles=[null,null],i=t.handleLabels=[null,null],r=this._displayables.sliderGroup,o=this._size,s=this.dataZoomModel,a=this.api,l=s.get("borderRadius")||0,u=s.get("brushSelect"),c=t.filler=new K4({silent:u,style:{fill:s.get("fillerColor")},textConfig:{position:"inside"}});r.add(c),r.add(new K4({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:l},style:{stroke:s.get("dataBackgroundColor")||s.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),qf([0,1],(function(t){var o=s.get("handleIcon");!kk[o]&&o.indexOf("path://")<0&&o.indexOf("image://")<0&&(o="path://"+o);var a=Ok(o,-1,0,2,2,null,!0);a.attr({cursor:J4(this._orient),draggable:!0,drift:Jf(this._onDragMove,this,t),ondragend:Jf(this._onDragEnd,this),onmouseover:Jf(this._showDataInfo,this,!0),onmouseout:Jf(this._showDataInfo,this,!1),z2:5});var l=a.getBoundingRect(),u=s.get("handleSize");this._handleHeight=ub(u,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,a.setStyle(s.getModel("handleStyle").getItemStyle()),a.style.strokeNoScale=!0,a.rectHover=!0,a.ensureState("emphasis").style=s.getModel(["emphasis","handleStyle"]).getItemStyle(),g_(a);var c=s.get("handleColor");null!=c&&(a.style.fill=c),r.add(n[t]=a);var d=s.getModel("textStyle");e.add(i[t]=new bM({silent:!0,invisible:!0,style:G_(d,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:d.getTextColor(),font:d.getFont()}),z2:10}))}),this);var d=c;if(u){var h=ub(s.get("moveHandleSize"),o[1]),p=t.moveHandle=new oM({style:s.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:h}}),g=.8*h,f=t.moveHandleIcon=Ok(s.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);f.silent=!0,f.y=o[1]+h/2-.5,p.ensureState("emphasis").style=s.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(o[1]/2,Math.max(h,10));(d=t.moveZone=new oM({invisible:!0,shape:{y:o[1]-m,height:h+m}})).on("mouseover",(function(){a.enterEmphasis(p)})).on("mouseout",(function(){a.leaveEmphasis(p)})),r.add(p),r.add(f),r.add(d)}d.attr({draggable:!0,cursor:J4(this._orient),drift:Jf(this._onDragMove,this,"all"),ondragstart:Jf(this._showDataInfo,this,!0),ondragend:Jf(this._onDragEnd,this),onmouseover:Jf(this._showDataInfo,this,!0),onmouseout:Jf(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[lb(e[0],[0,100],t,!0),lb(e[1],[0,100],t,!0)]},t.prototype._updateInterval=function(e,t){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),s=[0,100];Eq(t,i,r,n.get("zoomLock")?"all":e,null!=o.minSpan?lb(o.minSpan,s,r,!0):null,null!=o.maxSpan?lb(o.maxSpan,s,r,!0):null);var a=this._range,l=this._range=db([lb(i[0],r,s,!0),lb(i[1],r,s,!0)]);return!a||a[0]!==l[0]||a[1]!==l[1]},t.prototype._updateView=function(e){var t=this._displayables,n=this._handleEnds,i=db(n.slice()),r=this._size;qf([0,1],(function(e){var i=t.handles[e],o=this._handleHeight;i.attr({scaleX:o/2,scaleY:o/2,x:n[e]+(e?-1:1),y:r[1]/2-o/2})}),this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]});var o={x:i[0],width:i[1]-i[0]};t.moveHandle&&(t.moveHandle.setShape(o),t.moveZone.setShape(o),t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",o.x+o.width/2));for(var s=t.dataShadowSegs,a=[0,i[0],i[1],r[0]],l=0;l<s.length;l++){var u=s[l],c=u.getClipPath();c||(c=new oM,u.setClipPath(c)),c.setShape({x:a[l],y:0,width:a[l+1]-a[l],height:r[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var t=this.dataZoomModel,n=this._displayables,i=n.handleLabels,r=this._orient,o=["",""];if(t.get("showDetail")){var s=t.findRepresentativeAxisProxy();if(s){var a=s.getAxisModel().axis,l=this._range,u=e?s.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:s.getDataValueWindow();o=[this._formatLabel(u[0],a),this._formatLabel(u[1],a)]}}var c=db(this._handleEnds.slice());function d(e){var t=oI(n.handles[e].parent,this.group),s=aI(0===e?"right":"left",t),a=this._handleWidth/2+5,l=sI([c[e]+(0===e?-a:a),this._size[1]/2],t);i[e].setStyle({x:l[0],y:l[1],verticalAlign:r===q4?"middle":s,align:r===q4?s:"center",text:o[e]})}d.call(this,0),d.call(this,1)},t.prototype._formatLabel=function(e,t){var n=this.dataZoomModel,i=n.get("labelFormatter"),r=n.get("labelPrecision");null!=r&&"auto"!==r||(r=t.getPixelPrecision());var o=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(r,20));return nm(i)?i(e,o):im(i)?i.replace("{value}",o):o},t.prototype._showDataInfo=function(e){e=this._dragging||e;var t=this._displayables,n=t.handleLabels;n[0].attr("invisible",!e),n[1].attr("invisible",!e),t.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](t.moveHandle,1)},t.prototype._onDragMove=function(e,t,n,i){this._dragging=!0,bv(i.event);var r=sI([t,n],this._displayables.sliderGroup.getLocalTransform(),!0),o=this._updateInterval(e,r[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),o&&s&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var t=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var i=this._handleEnds,r=(i[0]+i[1])/2,o=this._updateInterval("all",n[0]-r);this._updateView(),o&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var t=e.offsetX,n=e.offsetY;this._brushStart=new Fv(t,n),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var t=this._displayables.brushRect;if(this._brushing=!1,t){t.attr("ignore",!0);var n=t.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(n.width)<5)){var i=this._getViewExtent(),r=[0,100];this._range=db([lb(n.x,i,r,!0),lb(n.x+n.width,i,r,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(bv(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,t){var n=this._displayables,i=this.dataZoomModel,r=n.brushRect;r||(r=n.brushRect=new K4({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(r)),r.attr("ignore",!1);var o=this._brushStart,s=this._displayables.sliderGroup,a=s.transformCoordToLocal(e,t),l=s.transformCoordToLocal(o.x,o.y),u=this._size;a[0]=Math.max(Math.min(u[0],a[0]),0),r.setShape({x:l[0],y:0,width:a[0]-l[0],height:u[1]})},t.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?Z4:null,start:t[0],end:t[1]})},t.prototype._findCoordRect=function(){var e,t=e2(this.dataZoomModel).infoList;if(!e&&t.length){var n=t[0].model.coordinateSystem;e=n.getRect&&n.getRect()}if(!e){var i=this.api.getWidth(),r=this.api.getHeight();e={x:.2*i,y:.2*r,width:.6*i,height:.6*r}}return e},t.type="dataZoom.slider",t}(a2);function J4(e){return"vertical"===e?"ns-resize":"ew-resize"}const e6=Q4;function t6(e){e.registerComponentModel($4),e.registerComponentView(e6),m2(e)}var n6={get:function(e,t,n){var i=Vf((i6[e]||{})[t]);return n&&tm(i)?i[i.length-1]:i}},i6={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const r6=n6;var o6=C$.mapVisual,s6=C$.eachVisual,a6=tm,l6=qf,u6=db,c6=lb,d6=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return vf(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.optionUpdated=function(e,t){var n=this.option;!t&&W5(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=Jf(e,this),this.controllerVisuals=H5(this.option.controller,t,e),this.targetVisuals=H5(this.option.target,t,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,n){t.push(n)})):t=kb(e),t},t.prototype.eachTargetSeries=function(e,t){qf(this.getTargetSeriesIndices(),(function(n){var i=this.ecModel.getSeriesByIndex(n);i&&e.call(t,i)}),this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries((function(n){n===e&&(t=!0)})),t},t.prototype.formatValueText=function(e,t,n){var i,r=this.option,o=r.precision,s=this.dataBound,a=r.formatter;n=n||["<",">"],tm(e)&&(e=e.slice(),i=!0);var l=t?e:i?[u(e[0]),u(e[1])]:u(e);return im(a)?a.replace("{value}",i?l[0]:l).replace("{value2}",i?l[1]:l):nm(a)?i?a(e[0],e[1]):a(e):i?e[0]===s[0]?n[0]+" "+l[1]:e[1]===s[1]?n[1]+" "+l[0]:l[0]+" - "+l[1]:l;function u(e){return e===s[0]?"min":e===s[1]?"max":(+e).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var e=this.option,t=u6([e.min,e.max]);this._dataExtent=t},t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(null!=t)return e.getDimensionIndex(t);for(var n=e.dimensions,i=n.length-1;i>=0;i--){var r=n[i],o=e.getDimensionInfo(r);if(!o.isCalculationCoord)return o.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},i=t.target||(t.target={}),r=t.controller||(t.controller={});zf(i,n),zf(r,n);var o=this.isCategory();function s(n){a6(t.color)&&!n.inRange&&(n.inRange={color:t.color.slice().reverse()}),n.inRange=n.inRange||{color:e.get("gradientColor")}}s.call(this,i),s.call(this,r),function(e,t,n){var i=e[t],r=e[n];i&&!r&&(r=e[n]={},l6(i,(function(e,t){if(C$.isValidType(t)){var n=r6.get(t,"inactive",o);null!=n&&(r[t]=n,"color"!==t||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}})))}.call(this,i,"inRange","outOfRange"),function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,i=this.get("inactiveColor"),r=this.getItemSymbol()||"roundRect";l6(this.stateList,(function(s){var a=this.itemSize,l=e[s];l||(l=e[s]={color:o?i:[i]}),null==l.symbol&&(l.symbol=t&&Vf(t)||(o?r:[r])),null==l.symbolSize&&(l.symbolSize=n&&Vf(n)||(o?a[0]:[a[0],a[0]])),l.symbol=o6(l.symbol,(function(e){return"none"===e?r:e}));var u=l.symbolSize;if(null!=u){var c=-1/0;s6(u,(function(e){e>c&&(c=e)})),l.symbolSize=o6(u,(function(e){return c6(e,[0,c],[0,a[0]],!0)}))}}),this)}.call(this,r)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(vD);const h6=d6;var p6=[20,140],g6=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=p6[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=p6[1])},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):tm(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),qf(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)}),this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=db((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries((function(n){var i=[],r=n.getData();r.each(this.getDataDimensionIndex(r),(function(t,n){e[0]<=t&&t<=e[1]&&i.push(n)}),this),t.push({seriesId:n.id,dataIndex:i})}),this),t},t.prototype.getVisualMeta=function(e){var t=f6(this,"outOfRange",this.getExtent()),n=f6(this,"inRange",this.option.range.slice()),i=[];function r(t,n){i.push({value:t,color:e(t,n)})}for(var o=0,s=0,a=n.length,l=t.length;s<l&&(!n.length||t[s]<=n[0]);s++)t[s]<n[o]&&r(t[s],"outOfRange");for(var u=1;o<a;o++,u=0)u&&i.length&&r(n[o],"outOfRange"),r(n[o],"inRange");for(u=1;s<l;s++)(!n.length||n[n.length-1]<t[s])&&(u&&(i.length&&r(i[i.length-1].value,"outOfRange"),u=0),r(t[s],"outOfRange"));var c=i.length;return{stops:i,outerColors:[c?i[0].color:"transparent",c?i[c-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=cR(h6.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(h6);function f6(e,t,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],o=[],s=0;s<=200&&r<n[1];s++)o.push(r),r+=i;return o.push(n[1]),o}const m6=g6;var v6=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return vf(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,n,i){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,t,n,i):this.group.removeAll()},t.prototype.renderBackground=function(e){var t=this.visualMapModel,n=ZR(t.get("padding")||0),i=e.getBoundingRect();e.add(new oM({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,t,n){var i=(n=n||{}).forceState,r=this.visualMapModel,o={};if("color"===t){var s=r.get("contentColor");o.color=s}function a(e){return o[e]}function l(e,t){o[e]=t}var u=r.controllerVisuals[i||r.getValueState(e)];return qf(C$.prepareVisualTypes(u),(function(i){var r=u[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",r=u.__alphaForOpacity),C$.dependsOn(i,t)&&r&&r.applyVisual(e,a,l)})),o[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,n=this.api;cD(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},t.prototype.doRender=function(e,t,n,i){},t.type="visualMap",t}(fA);const y6=v6;var w6=[["left","right","width"],["top","bottom","height"]];function C6(e,t,n){var i=e.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:t.getWidth(),height:t.getHeight()},s="horizontal"===i.orient?1:0,a=w6[s],l=[0,null,10],u={},c=0;c<3;c++)u[w6[1-s][c]]=l[c],u[a[c]]=2===c?n[0]:i[a[c]];var d=[["x","width",3],["y","height",0]][s],h=uD(u,o,i.padding);return a[(h.margin[d[2]]||0)+h[d[0]]+.5*h[d[1]]<.5*o[d[1]]?0:1]}function b6(e,t){return qf(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}var S6=lb,x6=qf,M6=Math.min,_6=Math.max,R6=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return vf(t,e),t.prototype.init=function(t,n){e.prototype.init.call(this,t,n),this._hoverLinkFromSeriesMouseOver=Jf(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Jf(this._hideIndicator,this)},t.prototype.doRender=function(e,t,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,n){if(t){var i=t[1-n];i=null!=i?i+"":"";var r=this.visualMapModel,o=r.get("textGap"),s=r.itemSize,a=this._shapes.mainGroup,l=this._applyTransform([s[0]/2,0===n?-o:s[1]+o],a),u=this._applyTransform(0===n?"bottom":"top",a),c=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new bM({style:G_(d,{x:l[0],y:l[1],verticalAlign:"horizontal"===c?"middle":u,align:"horizontal"===c?u:"center",text:i})}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,r=this._orient,o=this._useHandle,s=C6(t,this.api,i),a=n.mainGroup=this._createBarGroup(s),l=new eb;a.add(l),l.add(n.outOfRange=D6()),l.add(n.inRange=D6(null,o?T6(this._orient):null,Jf(this._dragHandle,this,"all",!1),Jf(this._dragHandle,this,"all",!0))),l.setClipPath(new oM({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var u=t.textStyleModel.getTextRect("\u56fd"),c=_6(u.width,u.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(t,a,0,i,c,r),this._createHandle(t,a,1,i,c,r)),this._createIndicator(t,a,i,c,r),e.add(a)},t.prototype._createHandle=function(e,t,n,i,r,o){var s=Jf(this._dragHandle,this,n,!1),a=Jf(this._dragHandle,this,n,!0),l=VC(e.get("handleSize"),i[0]),u=Ok(e.get("handleIcon"),-l/2,-l/2,l,l,null,!0),c=T6(this._orient);u.attr({cursor:c,draggable:!0,drift:s,ondragend:a,onmousemove:function(e){bv(e.event)}}),u.x=i[0]/2,u.useStyle(e.getModel("handleStyle").getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),C_(u,!0),t.add(u);var d=this.visualMapModel.textStyleModel,h=new bM({cursor:c,draggable:!0,drift:s,onmousemove:function(e){bv(e.event)},ondragend:a,style:G_(d,{x:0,y:0,text:""})});h.ensureState("blur").style={opacity:.1},h.stateTransition={duration:200},this.group.add(h);var p=[l,0],g=this._shapes;g.handleThumbs[n]=u,g.handleLabelPoints[n]=p,g.handleLabels[n]=h},t.prototype._createIndicator=function(e,t,n,i,r){var o=VC(e.get("indicatorSize"),n[0]),s=Ok(e.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);s.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var a=e.getModel("indicatorStyle").getItemStyle();if(s instanceof Zx){var l=s.style;s.useStyle(Wf({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},a))}else s.useStyle(a);t.add(s);var u=this.visualMapModel.textStyleModel,c=new bM({silent:!0,invisible:!0,style:G_(u,{x:0,y:0,text:""})});this.group.add(c);var d=[("horizontal"===r?i/2:6)+n[0]/2,0],h=this._shapes;h.indicator=s,h.indicatorLabel=c,h.indicatorLabelPoint=d,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,n,i){if(this._useHandle){if(this._dragging=!t,!t){var r=this._applyTransform([n,i],this._shapes.mainGroup,!0);this._updateInterval(e,r[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():P6(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[S6(t[0],n,i,!0),S6(t[1],n,i,!0)]},t.prototype._updateInterval=function(e,t){t=t||0;var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];Eq(t,i,r,e,0);var o=n.getExtent();this._dataInterval=[S6(i[0],r,o,!0),S6(i[1],r,o,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,n=t.getExtent(),i=this._shapes,r=[0,t.itemSize[1]],o=e?r:this._handleEnds,s=this._createBarVisual(this._dataInterval,n,o,"inRange"),a=this._createBarVisual(n,n,r,"outOfRange");i.inRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),i.outOfRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),this._updateHandle(o,s)},t.prototype._createBarVisual=function(e,t,n,i){var r={forceState:i,convertOpacityToAlpha:!0},o=this._makeColorGradient(e,r),s=[this.getControllerVisual(e[0],"symbolSize",r),this.getControllerVisual(e[1],"symbolSize",r)],a=this._createBarPoints(n,s);return{barColor:new EE(0,0,0,1,o),barPoints:a,handlesColor:[o[0].color,o[o.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var n=[],i=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var r=1;r<100;r++){var o=e[0]+i*r;if(o>e[1])break;n.push({color:this.getControllerVisual(o,"color",t),offset:r/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},t.prototype._createBarPoints=function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new eb("horizontal"!==t||n?"horizontal"===t&&n?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==t||n?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,o=n.handleLabels,s=i.itemSize,a=i.getExtent();x6([0,1],(function(l){var u=r[l];u.setStyle("fill",t.handlesColor[l]),u.y=e[l];var c=S6(e[l],[0,s[1]],a,!0),d=this.getControllerVisual(c,"symbolSize");u.scaleX=u.scaleY=d/s[0],u.x=s[0]-d/2;var h=sI(n.handleLabelPoints[l],oI(u,this.group));o[l].setStyle({x:h[0],y:h[1],text:i.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this)}},t.prototype._showIndicator=function(e,t,n,i){var r=this.visualMapModel,o=r.getExtent(),s=r.itemSize,a=[0,s[1]],l=this._shapes,u=l.indicator;if(u){u.attr("invisible",!1);var c=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),d=this.getControllerVisual(e,"symbolSize"),h=S6(e,o,a,!0),p=s[0]-d/2,g={x:u.x,y:u.y};u.y=h,u.x=p;var f=sI(l.indicatorLabelPoint,oI(u,this.group)),m=l.indicatorLabel;m.attr("invisible",!1);var v=this._applyTransform("left",l.mainGroup),y="horizontal"===this._orient;m.setStyle({text:(n||"")+r.formatValueText(t),verticalAlign:y?v:"middle",align:y?"center":v});var w={x:p,y:h,style:{fill:c}},C={style:{x:f[0],y:f[1]}};if(r.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var b={duration:100,easing:"cubicInOut",additive:!0};u.x=g.x,u.y=g.y,u.animateTo(w,b),m.animateTo(C,b)}else u.attr(w),m.attr(C);this._firstShowIndicator=!1;var S=this._shapes.handleLabels;if(S)for(var x=0;x<S.length;x++)this.api.enterBlur(S[x])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);i[1]=M6(_6(0,i[1]),n[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var r=[0,i[1]],o=n.getExtent();e=M6(_6(r[0],e),r[1]);var s=function(e,t,n){var i=6,r=e.get("hoverLinkDataSize");r&&(i=S6(r,t,n,!0)/2);return i}(n,o,r),a=[e-s,e+s],l=S6(e,r,o,!0),u=[S6(a[0],r,o,!0),S6(a[1],r,o,!0)];a[0]<r[0]&&(u[0]=-1/0),a[1]>r[1]&&(u[1]=1/0),t&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",s):u[1]===1/0?this._showIndicator(l,u[0],"> ",s):this._showIndicator(l,l,"\u2248 ",s));var c=this._hoverLinkDataIndices,d=[];(t||P6(n))&&(d=this._hoverLinkDataIndices=n.findTargetDataIndices(u));var h=function(e,t){var n={},i={};return r(e||[],n),r(t||[],i,n),[o(n),o(i)];function r(e,t,n){for(var i=0,r=e.length;i<r;i++){var o=zb(e[i].seriesId,null);if(null==o)return;for(var s=kb(e[i].dataIndex),a=n&&n[o],l=0,u=s.length;l<u;l++){var c=s[l];a&&a[c]?a[c]=null:(t[o]||(t[o]={}))[c]=1}}}function o(e,t){var n=[];for(var i in e)if(e.hasOwnProperty(i)&&null!=e[i])if(t)n.push(+i);else{var r=o(e[i],!0);r.length&&n.push({seriesId:i,dataIndex:r})}return n}}(c,d);this._dispatchHighDown("downplay",b6(h[0],n)),this._dispatchHighDown("highlight",b6(h[1],n))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t;if(Mk(e.target,(function(e){var n=SM(e);if(null!=n.dataIndex)return t=n,!0}),!0),t){var n=this.ecModel.getSeriesByIndex(t.seriesIndex),i=this.visualMapModel;if(i.isTargetSeries(n)){var r=n.getData(t.dataType),o=r.getStore().get(i.getDataDimensionIndex(r),t.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var n=0;n<t.length;n++)this.api.leaveBlur(t[n])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",b6(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,n,i){var r=oI(t,i?null:this.group);return tm(e)?sI(e,r,n):aI(e,r,n)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(y6);function D6(e,t,n,i){return new dE({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){bv(e.event)},ondragend:i})}function P6(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function T6(e){return"vertical"===e?"ns-resize":"ew-resize"}const A6=R6;var E6={type:"selectDataRange",event:"dataRangeSelected",update:"update"},I6=function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))},k6=[{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",(function(t){var i=e.pipelineContext;!t.isTargetSeries(e)||i&&i.large||n.push(function(e,t,n,i){var r={};return qf(e,(function(e){var n=C$.prepareVisualTypes(t[e]);r[e]=n})),{progress:function(e,o){var s,a;function l(e){return wk(o,a,e)}function u(e,t){bk(o,a,e,t)}null!=i&&(s=o.getDimensionIndex(i));for(var c=o.getStore();null!=(a=e.next());){var d=o.getRawDataItem(a);if(!d||!1!==d.visualMap)for(var h=null!=i?c.get(s,a):a,p=n(h),g=t[p],f=r[p],m=0,v=f.length;m<v;m++){var y=f[m];g[y]&&g[y].applyVisual(h,l,u)}}}}}(t.stateList,t.targetVisuals,Jf(t.getValueState,t),t.getDataDimensionIndex(e.getData())))})),n}},{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),i=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var r=t.getVisualMeta(Jf(F6,null,e,t))||{stops:[],outerColors:[]},o=t.getDataDimensionIndex(n);o>=0&&(r.dimension=o,i.push(r))}})),e.getData().setVisual("visualMeta",i)}}];function F6(e,t,n,i){for(var r=t.targetVisuals[i],o=C$.prepareVisualTypes(r),s={color:Ck(e.getData(),"color")},a=0,l=o.length;a<l;a++){var u=o[a],c=r["opacity"===u?"__alphaForOpacity":u];c&&c.applyVisual(n,d,h)}return s.color;function d(e){return s[e]}function h(e,t){s[e]=t}}var L6=qf;function O6(e){var t=e&&e.visualMap;tm(t)||(t=t?[t]:[]),L6(t,(function(e){if(e){N6(e,"splitList")&&!N6(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&tm(t)&&L6(t,(function(e){sm(e)&&(N6(e,"start")&&!N6(e,"min")&&(e.min=e.start),N6(e,"end")&&!N6(e,"max")&&(e.max=e.end))}))}}))}function N6(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var B6=!1;function G6(e){B6||(B6=!0,e.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})),e.registerAction(E6,I6),qf(k6,(function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)})),e.registerPreprocessor(O6))}function V6(e){e.registerComponentModel(m6),e.registerComponentView(A6),G6(e)}var z6=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._pieceList=[],n}return vf(t,e),t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],H6[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var r=this.option.categories;this.resetVisual((function(e,t){"categories"===i?(e.mappingMethod="category",e.categories=Vf(r)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=Yf(this._pieceList,(function(e){return e=Vf(e),"inRange"!==t&&(e.visual=null),e})))}))},t.prototype.completeVisualOption=function(){var t=this.option,n={},i=C$.listVisualTypes(),r=this.isCategory();function o(e,t,n){return e&&e[t]&&e[t].hasOwnProperty(n)}qf(t.pieces,(function(e){qf(i,(function(t){e.hasOwnProperty(t)&&(n[t]=1)}))})),qf(n,(function(e,n){var i=!1;qf(this.stateList,(function(e){i=i||o(t,e,n)||o(t.target,e,n)}),this),!i&&qf(this.stateList,(function(e){(t[e]||(t[e]={}))[n]=r6.get(n,"inRange"===e?"active":"inactive",r)}))}),this),e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var n=this.option,i=this._pieceList,r=(t?n:e).selected||{};if(n.selected=r,qf(i,(function(e,t){var n=this.getSelectedMapKey(e);r.hasOwnProperty(n)||(r[n]=!0)}),this),"single"===n.selectedMode){var o=!1;qf(i,(function(e,t){var n=this.getSelectedMapKey(e);r[n]&&(o?r[n]=!1:o=!0)}),this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=Vf(e)},t.prototype.getValueState=function(e){var t=C$.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[],n=this._pieceList;return this.eachTargetSeries((function(i){var r=[],o=i.getData();o.each(this.getDataDimensionIndex(o),(function(t,i){C$.findPieceIndex(t,n)===e&&r.push(i)}),this),t.push({seriesId:i.id,dataIndex:r})}),this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var t=[],n=["",""],i=this,r=this._pieceList.slice();if(r.length){var o=r[0].interval[0];o!==-1/0&&r.unshift({interval:[-1/0,o]}),(o=r[r.length-1].interval[1])!==1/0&&r.push({interval:[o,1/0]})}else r.push({interval:[-1/0,1/0]});var s=-1/0;return qf(r,(function(e){var t=e.interval;t&&(t[0]>s&&a([s,t[0]],"outOfRange"),a(t.slice()),s=t[1])}),this),{stops:t,outerColors:n}}function a(r,o){var s=i.getRepresentValue({interval:r});o||(o=i.getValueState(s));var a=e(s,o);r[0]===-1/0?n[0]=a:r[1]===1/0?n[1]=a:t.push({value:r[0],color:a},{value:r[1],color:a})}},t.type="visualMap.piecewise",t.defaultOption=cR(h6.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(h6),H6={splitNumber:function(e){var t=this.option,n=Math.min(t.precision,20),i=this.getExtent(),r=t.splitNumber;r=Math.max(parseInt(r,10),1),t.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(n)!==o&&n<5;)n++;t.precision=n,o=+o.toFixed(n),t.minOpen&&e.push({interval:[-1/0,i[0]],close:[0,0]});for(var s=0,a=i[0];s<r;a+=o,s++){var l=s===r-1?i[1]:a+o;e.push({interval:[a,l],close:[1,1]})}t.maxOpen&&e.push({interval:[i[1],1/0],close:[0,0]}),Mb(e),qf(e,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(e){var t=this.option;qf(t.categories,(function(t){e.push({text:this.formatValueText(t,!0),value:t})}),this),W6(t,e)},pieces:function(e){var t=this.option;qf(t.pieces,(function(t,n){sm(t)||(t={value:t});var i={text:"",index:n};if(null!=t.label&&(i.text=t.label),t.hasOwnProperty("value")){var r=i.value=t.value;i.interval=[r,r],i.close=[1,1]}else{for(var o=i.interval=[],s=i.close=[0,0],a=[1,0,1],l=[-1/0,1/0],u=[],c=0;c<2;c++){for(var d=[["gte","gt","min"],["lte","lt","max"]][c],h=0;h<3&&null==o[c];h++)o[c]=t[d[h]],s[c]=a[h],u[c]=2===h;null==o[c]&&(o[c]=l[c])}u[0]&&o[1]===1/0&&(s[0]=0),u[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(i.value=o[0])}i.visual=C$.retrieveVisuals(t),e.push(i)}),this),W6(t,e),Mb(e),qf(e,(function(e){var t=e.close,n=[["<","\u2264"][t[1]],[">","\u2265"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,n)}),this)}};function W6(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}const U6=z6;const j6=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return vf(t,e),t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),i=t.textStyleModel,r=i.getFont(),o=i.getTextColor(),s=this._getItemAlign(),a=t.itemSize,l=this._getViewData(),u=l.endsText,c=hm(t.get("showLabel",!0),!u);u&&this._renderEndsText(e,u[0],a,c,s),qf(l.viewPieceList,(function(i){var l=i.piece,u=new eb;u.onclick=Jf(this._onItemClick,this,l),this._enableHoverLink(u,i.indexInModelPieceList);var d=t.getRepresentValue(l);if(this._createItemSymbol(u,d,[0,0,a[0],a[1]]),c){var h=this.visualMapModel.getValueState(d);u.add(new bM({style:{x:"right"===s?-n:a[0]+n,y:a[1]/2,text:l.text,verticalAlign:"middle",align:s,font:r,fill:o,opacity:"outOfRange"===h?.5:1}}))}e.add(u)}),this),u&&this._renderEndsText(e,u[1],a,c,s),lD(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var n=this;e.on("mouseover",(function(){return i("highlight")})).on("mouseout",(function(){return i("downplay")}));var i=function(e){var i=n.visualMapModel;i.option.hoverLink&&n.api.dispatchAction({type:e,batch:b6(i.findTargetDataIndices(t),i)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return C6(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},t.prototype._renderEndsText=function(e,t,n,i,r){if(t){var o=new eb,s=this.visualMapModel.textStyleModel;o.add(new bM({style:G_(s,{x:i?"right"===r?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:i?r:"center",text:t})})),e.add(o)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=Yf(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),n=e.get("text"),i=e.get("orient"),r=e.get("inverse");return("horizontal"===i?r:!r)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},t.prototype._createItemSymbol=function(e,t,n){e.add(Ok(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},t.prototype._onItemClick=function(e){var t=this.visualMapModel,n=t.option,i=n.selectedMode;if(i){var r=Vf(n.selected),o=t.getSelectedMapKey(e);"single"===i||!0===i?(r[o]=!0,qf(r,(function(e,t){r[t]=t===o}))):r[o]=!r[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})}},t.type="visualMap.piecewise",t}(y6);function $6(e){e.registerComponentModel(U6),e.registerComponentView(j6),G6(e)}var K6={label:{enabled:!0},decal:{show:!1}},q6=jb(),Y6={};function X6(e,t){var n=e.getModel("aria");if(n.get("enabled")){var i=Vf(K6);zf(i.label,e.getLocaleModel().get("aria"),!1),zf(n.option,i,!1),function(){if(n.getModel("decal").get("show")){var t=_m();e.eachSeries((function(e){if(!e.isColorBySeries()){var n=t.get(e.type);n||(n={},t.set(e.type,n)),q6(e).scope=n}})),e.eachRawSeries((function(t){if(!e.isSeriesFiltered(t))if(nm(t.enableAriaDecal))t.enableAriaDecal();else{var n=t.getData();if(t.isColorBySeries()){var i=UD(t.ecModel,t.name,Y6,e.getSeriesCount()),r=n.getVisual("decal");n.setVisual("decal",u(r,i))}else{var o=t.getRawData(),s={},a=q6(t).scope;n.each((function(e){var t=n.getRawIndex(e);s[t]=e}));var l=o.count();o.each((function(e){var i=s[e],r=o.getName(e)||e+"",c=UD(t.ecModel,r,a,l),d=n.getItemVisual(i,"decal");n.setItemVisual(i,"decal",u(d,c))}))}}function u(e,t){var n=e?Wf(Wf({},t),e):t;return n.dirty=!0,n}}))}}(),function(){var i=t.getZr().dom;if(!i)return;var s=e.getLocaleModel().get("aria"),a=n.getModel("label");if(a.option=Uf(a.option,s),!a.get("enabled"))return;if(a.get("description"))return void i.setAttribute("aria-label",a.get("description"));var l,u=e.getSeriesCount(),c=a.get(["data","maxCount"])||10,d=a.get(["series","maxCount"])||10,h=Math.min(u,d);if(u<1)return;var p=function(){var t=e.get("title");t&&t.length&&(t=t[0]);return t&&t.text}();l=p?r(a.get(["general","withTitle"]),{title:p}):a.get(["general","withoutTitle"]);var g=[];l+=r(u>1?a.get(["series","multiple","prefix"]):a.get(["series","single","prefix"]),{seriesCount:u}),e.eachSeries((function(e,t){if(t<h){var n=void 0,i=e.get("name")?"withName":"withoutName";n=r(n=u>1?a.get(["series","multiple",i]):a.get(["series","single",i]),{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:o(e.subType)});var s=e.getData();if(s.count()>c)n+=r(a.get(["data","partialData"]),{displayCnt:c});else n+=a.get(["data","allData"]);for(var l=a.get(["data","separator","middle"]),d=a.get(["data","separator","end"]),p=[],f=0;f<s.count();f++)if(f<c){var m=s.getName(f),v=s.getValues(f),y=a.get(["data",m?"withName":"withoutName"]);p.push(r(y,{name:m,value:v.join(l)}))}n+=p.join(l)+d,g.push(n)}}));var f=a.getModel(["series","multiple","separator"]),m=f.get("middle"),v=f.get("end");l+=g.join(m)+v,i.setAttribute("aria-label",l)}()}function r(e,t){if(!im(e))return e;var n=e;return qf(t,(function(e,t){n=n.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)})),n}function o(t){var n=e.getLocaleModel().get(["series","typeNames"]);return n[t]||n.chart}}function Z6(e){if(e&&e.aria){var t=e.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},qf(["description","general","series","data"],(function(e){null!=t[e]&&(t.label[e]=t[e])}))}}var Q6={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},J6=function(){function e(e){var t;if(null==(this._condVal=im(e)?new RegExp(e):(t=e,"[object RegExp]"===Pf.call(t)?e:null))){0,sT("")}}return e.prototype.evaluate=function(e){var t=typeof e;return im(t)?this._condVal.test(e):!!om(t)&&this._condVal.test(e+"")},e}(),e8=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),t8=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},e}(),n8=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},e}(),i8=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),r8=function(){function e(){}return e.prototype.evaluate=function(){for(var e=!!this.valueParser,t=(0,this.getValue)(this.valueGetterParam),n=e?this.valueParser(t):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(e?n:t))return!1;return!0},e}();function o8(e,t){if(!0===e||!1===e){var n=new e8;return n.value=e,n}return a8(e)||sT(""),e.and?s8("and",e,t):e.or?s8("or",e,t):e.not?function(e,t){var n=e.not,i="";0;a8(n)||sT(i);var r=new i8;r.child=o8(n,t),r.child||sT(i);return r}(e,t):function(e,t){for(var n="",i=t.prepareGetValue(e),r=[],o=Qf(e),s=e.parser,a=s?uT(s):null,l=0;l<o.length;l++){var u=o[l];if("parser"!==u&&!t.valueGetterAttrMap.get(u)){var c=Tm(Q6,u)?Q6[u]:u,d=e[u],h=a?a(d):d,p=gT(c,h)||"reg"===c&&new J6(h);p||sT(n),r.push(p)}}r.length||sT(n);var g=new r8;return g.valueGetterParam=i,g.valueParser=a,g.getValue=t.getValue,g.subCondList=r,g}(e,t)}function s8(e,t,n){var i=t[e];tm(i)||sT(""),i.length||sT("");var r="and"===e?new t8:new n8;return r.children=Yf(i,(function(e){return o8(e,n)})),r.children.length||sT(""),r}function a8(e){return sm(e)&&!Kf(e)}var l8=function(){function e(e,t){this._cond=o8(e,t)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();var u8={type:"echarts:filter",transform:function(e){for(var t,n,i,r=e.upstream,o=(n=e.config,i={valueGetterAttrMap:_m({dimension:!0}),prepareGetValue:function(e){var t=e.dimension;Tm(e,"dimension")||sT("");var n=r.getDimensionInfo(t);return n||sT(""),{dimIdx:n.index}},getValue:function(e){return r.retrieveValueFromItem(t,e.dimIdx)}},new l8(n,i)),s=[],a=0,l=r.count();a<l;a++)t=r.getRawDataItem(a),o.evaluate()&&s.push(t);return{data:s}}};var c8={type:"echarts:sort",transform:function(e){var t=e.upstream,n=e.config,i="",r=kb(n);r.length||sT(i);var o=[];qf(r,(function(e){var n=e.dimension,r=e.order,s=e.parser,a=e.incomparable;if(null==n&&sT(i),"asc"!==r&&"desc"!==r&&sT(i),a&&"min"!==a&&"max"!==a){0,sT("")}if("asc"!==r&&"desc"!==r){0,sT("")}var l=t.getDimensionInfo(n);l||sT(i);var u=s?uT(s):null;s&&!u&&sT(i),o.push({dimIdx:l.index,parser:u,comparator:new hT(r,a)})}));var s=t.sourceFormat;s!==xD&&s!==MD&&sT(i);for(var a=[],l=0,u=t.count();l<u;l++)a.push(t.getRawDataItem(l));return a.sort((function(e,n){for(var i=0;i<o.length;i++){var r=o[i],s=t.retrieveValueFromItem(e,r.dimIdx),a=t.retrieveValueFromItem(n,r.dimIdx);r.parser&&(s=r.parser(s),a=r.parser(a));var l=r.comparator.evaluate(s,a);if(0!==l)return l}return 0})),{data:a}}};var d8=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return vf(t,e),t.prototype.init=function(t,n,i){e.prototype.init.call(this,t,n,i),this._sourceManager=new LT(this),OT(this)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),OT(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:PD},t}(vD),h8=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return vf(t,e),t.type="dataset",t}(fA);var p8=bx.CMD;function g8(e,t){return Math.abs(e-t)<1e-5}function f8(e){var t,n,i,r,o,s=e.data,a=e.len(),l=[],u=0,c=0,d=0,h=0;function p(e,n){t&&t.length>2&&l.push(t),t=[e,n]}function g(e,n,i,r){g8(e,i)&&g8(n,r)||t.push(e,n,i,r,i,r)}function f(e,n,i,r,o,s){var a=Math.abs(n-e),l=4*Math.tan(a/4)/3,u=n<e?-1:1,c=Math.cos(e),d=Math.sin(e),h=Math.cos(n),p=Math.sin(n),g=c*o+i,f=d*s+r,m=h*o+i,v=p*s+r,y=o*l*u,w=s*l*u;t.push(g-y*d,f+w*c,m+y*p,v-w*h,m,v)}for(var m=0;m<a;){var v=s[m++],y=1===m;switch(y&&(d=u=s[m],h=c=s[m+1],v!==p8.L&&v!==p8.C&&v!==p8.Q||(t=[d,h])),v){case p8.M:u=d=s[m++],c=h=s[m++],p(d,h);break;case p8.L:g(u,c,n=s[m++],i=s[m++]),u=n,c=i;break;case p8.C:t.push(s[m++],s[m++],s[m++],s[m++],u=s[m++],c=s[m++]);break;case p8.Q:n=s[m++],i=s[m++],r=s[m++],o=s[m++],t.push(u+2/3*(n-u),c+2/3*(i-c),r+2/3*(n-r),o+2/3*(i-o),r,o),u=r,c=o;break;case p8.A:var w=s[m++],C=s[m++],b=s[m++],S=s[m++],x=s[m++],M=s[m++]+x;m+=1;var _=!s[m++];n=Math.cos(x)*b+w,i=Math.sin(x)*S+C,y?p(d=n,h=i):g(u,c,n,i),u=Math.cos(M)*b+w,c=Math.sin(M)*S+C;for(var R=(_?-1:1)*Math.PI/2,D=x;_?D>M:D<M;D+=R){f(D,_?Math.max(D+R,M):Math.min(D+R,M),w,C,b,S)}break;case p8.R:d=u=s[m++],h=c=s[m++],n=d+s[m++],i=h+s[m++],p(n,h),g(n,h,n,i),g(n,i,d,i),g(d,i,d,h),g(d,h,n,h);break;case p8.Z:t&&g(u,c,d,h),u=d,c=h}}return t&&t.length>2&&l.push(t),l}function m8(e,t,n,i,r,o,s,a,l,u){if(g8(e,n)&&g8(t,i)&&g8(r,s)&&g8(o,a))l.push(s,a);else{var c=2/u,d=c*c,h=s-e,p=a-t,g=Math.sqrt(h*h+p*p);h/=g,p/=g;var f=n-e,m=i-t,v=r-s,y=o-a,w=f*f+m*m,C=v*v+y*y;if(w<d&&C<d)l.push(s,a);else{var b=h*f+p*m,S=-h*v-p*y;if(w-b*b<d&&b>=0&&C-S*S<d&&S>=0)l.push(s,a);else{var x=[],M=[];Ly(e,n,r,s,.5,x),Ly(t,i,o,a,.5,M),m8(x[0],M[0],x[1],M[1],x[2],M[2],x[3],M[3],l,u),m8(x[4],M[4],x[5],M[5],x[6],M[6],x[7],M[7],l,u)}}}}function v8(e,t,n){var i=e[t],r=e[1-t],o=Math.abs(i/r),s=Math.ceil(Math.sqrt(o*n)),a=Math.floor(n/s);0===a&&(a=1,s=n);for(var l=[],u=0;u<s;u++)l.push(a);var c=n-s*a;if(c>0)for(u=0;u<c;u++)l[u%s]+=1;return l}function y8(e,t,n){for(var i=e.r0,r=e.r,o=e.startAngle,s=e.endAngle,a=Math.abs(s-o),l=a*r,u=r-i,c=l>Math.abs(u),d=v8([l,u],c?0:1,t),h=(c?a:u)/d.length,p=0;p<d.length;p++)for(var g=(c?u:a)/d[p],f=0;f<d[p];f++){var m={};c?(m.startAngle=o+h*p,m.endAngle=o+h*(p+1),m.r0=i+g*f,m.r=i+g*(f+1)):(m.startAngle=o+g*f,m.endAngle=o+g*(f+1),m.r0=i+h*p,m.r=i+h*(p+1)),m.clockwise=e.clockwise,m.cx=e.cx,m.cy=e.cy,n.push(m)}}function w8(e,t,n,i){return e*i-n*t}function C8(e,t,n,i,r,o,s,a){var l=n-e,u=i-t,c=s-r,d=a-o,h=w8(c,d,l,u);if(Math.abs(h)<1e-6)return null;var p=w8(e-r,t-o,c,d)/h;return p<0||p>1?null:new Fv(p*l+e,p*u+t)}function b8(e,t,n){var i=new Fv;Fv.sub(i,n,t),i.normalize();var r=new Fv;return Fv.sub(r,e,t),r.dot(i)}function S8(e,t){var n=e[e.length-1];n&&n[0]===t[0]&&n[1]===t[1]||e.push(t)}function x8(e){var t=e.points,n=[],i=[];qS(t,n,i);var r=new Uv(n[0],n[1],i[0]-n[0],i[1]-n[1]),o=r.width,s=r.height,a=r.x,l=r.y,u=new Fv,c=new Fv;return o>s?(u.x=c.x=a+o/2,u.y=l,c.y=l+s):(u.y=c.y=l+s/2,u.x=a,c.x=a+o),function(e,t,n){for(var i=e.length,r=[],o=0;o<i;o++){var s=e[o],a=e[(o+1)%i],l=C8(s[0],s[1],a[0],a[1],t.x,t.y,n.x,n.y);l&&r.push({projPt:b8(l,t,n),pt:l,idx:o})}if(r.length<2)return[{points:e},{points:e}];r.sort((function(e,t){return e.projPt-t.projPt}));var u=r[0],c=r[r.length-1];if(c.idx<u.idx){var d=u;u=c,c=d}var h=[u.pt.x,u.pt.y],p=[c.pt.x,c.pt.y],g=[h],f=[p];for(o=u.idx+1;o<=c.idx;o++)S8(g,e[o].slice());for(S8(g,p),S8(g,h),o=c.idx+1;o<=u.idx+i;o++)S8(f,e[o%i].slice());return S8(f,h),S8(f,p),[{points:g},{points:f}]}(t,u,c)}function M8(e,t,n,i){if(1===n)i.push(t);else{var r=Math.floor(n/2),o=e(t);M8(e,o[0],r,i),M8(e,o[1],n-r,i)}return i}function _8(e,t){var n,i=[],r=e.shape;switch(e.type){case"rect":!function(e,t,n){for(var i=e.width,r=e.height,o=i>r,s=v8([i,r],o?0:1,t),a=o?"width":"height",l=o?"height":"width",u=o?"x":"y",c=o?"y":"x",d=e[a]/s.length,h=0;h<s.length;h++)for(var p=e[l]/s[h],g=0;g<s[h];g++){var f={};f[u]=h*d,f[c]=g*p,f[a]=d,f[l]=p,f.x+=e.x,f.y+=e.y,n.push(f)}}(r,t,i),n=oM;break;case"sector":y8(r,t,i),n=rE;break;case"circle":y8({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},t,i),n=rE;break;default:var o=e.getComputedTransform(),s=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,a=Yf(function(e,t){var n=f8(e),i=[];t=t||1;for(var r=0;r<n.length;r++){var o=n[r],s=[],a=o[0],l=o[1];s.push(a,l);for(var u=2;u<o.length;){var c=o[u++],d=o[u++],h=o[u++],p=o[u++],g=o[u++],f=o[u++];m8(a,l,c,d,h,p,g,f,s,t),a=g,l=f}i.push(s)}return i}(e.getUpdatedPathProxy(),s),(function(e){return function(e){for(var t=[],n=0;n<e.length;)t.push([e[n++],e[n++]]);return t}(e)})),l=a.length;if(0===l)M8(x8,{points:a[0]},t,i);else if(l===t)for(var u=0;u<l;u++)i.push({points:a[u]});else{var c=0,d=Yf(a,(function(e){var t=[],n=[];qS(e,t,n);var i=(n[1]-t[1])*(n[0]-t[0]);return c+=i,{poly:e,area:i}}));d.sort((function(e,t){return t.area-e.area}));var h=t;for(u=0;u<l;u++){var p=d[u];if(h<=0)break;var g=u===l-1?h:Math.ceil(p.area/c*t);g<0||(M8(x8,{points:p.poly},g,i),h-=g)}}n=dE}if(!n)return function(e,t){for(var n=[],i=0;i<t;i++)n.push(OA(e));return n}(e,t);var f,m,v=[];for(u=0;u<i.length;u++){var y=new n;y.setShape(i[u]),f=e,(m=y).setStyle(f.style),m.z=f.z,m.z2=f.z2,m.zlevel=f.zlevel,v.push(y)}return v}function R8(e,t){var n=e.length,i=t.length;if(n===i)return[e,t];for(var r=[],o=[],s=n<i?e:t,a=Math.min(n,i),l=Math.abs(i-n)/6,u=(a-2)/6,c=Math.ceil(l/u)+1,d=[s[0],s[1]],h=l,p=2;p<a;){var g=s[p-2],f=s[p-1],m=s[p++],v=s[p++],y=s[p++],w=s[p++],C=s[p++],b=s[p++];if(h<=0)d.push(m,v,y,w,C,b);else{for(var S=Math.min(h,c-1)+1,x=1;x<=S;x++){var M=x/S;Ly(g,m,y,C,M,r),Ly(f,v,w,b,M,o),g=r[3],f=o[3],d.push(r[1],o[1],r[2],o[2],g,f),m=r[5],v=o[5],y=r[6],w=o[6]}h-=S-1}}return s===e?[d,t]:[e,d]}function D8(e,t){for(var n=e.length,i=e[n-2],r=e[n-1],o=[],s=0;s<t.length;)o[s++]=i,o[s++]=r;return o}function P8(e){for(var t=0,n=0,i=0,r=e.length,o=0,s=r-2;o<r;s=o,o+=2){var a=e[s],l=e[s+1],u=e[o],c=e[o+1],d=a*c-u*l;t+=d,n+=(a+u)*d,i+=(l+c)*d}return 0===t?[e[0]||0,e[1]||0]:[n/t/3,i/t/3,t]}function T8(e,t,n,i){for(var r=(e.length-2)/6,o=1/0,s=0,a=e.length,l=a-2,u=0;u<r;u++){for(var c=6*u,d=0,h=0;h<a;h+=2){var p=0===h?c:(c+h-2)%l+2,g=e[p]-n[0],f=e[p+1]-n[1],m=t[h]-i[0]-g,v=t[h+1]-i[1]-f;d+=m*m+v*v}d<o&&(o=d,s=u)}return s}function A8(e){for(var t=[],n=e.length,i=0;i<n;i+=2)t[i]=e[n-i-2],t[i+1]=e[n-i-1];return t}function E8(e){return e.__isCombineMorphing}var I8="__mOriginal_";function k8(e,t,n){var i=I8+t,r=e[i]||e[t];e[i]||(e[i]=e[t]);var o=n.replace,s=n.after,a=n.before;e[t]=function(){var e,t=arguments;return a&&a.apply(this,t),e=o?o.apply(this,t):r.apply(this,t),s&&s.apply(this,t),e}}function F8(e,t){var n=I8+t;e[n]&&(e[t]=e[n],e[n]=null)}function L8(e,t){for(var n=0;n<e.length;n++)for(var i=e[n],r=0;r<i.length;){var o=i[r],s=i[r+1];i[r++]=t[0]*o+t[2]*s+t[4],i[r++]=t[1]*o+t[3]*s+t[5]}}function O8(e,t){var n=e.getUpdatedPathProxy(),i=t.getUpdatedPathProxy(),r=function(e,t){for(var n,i,r,o=[],s=[],a=0;a<Math.max(e.length,t.length);a++){var l=e[a],u=t[a],c=void 0,d=void 0;l?u?(i=c=(n=R8(l,u))[0],r=d=n[1]):(d=D8(r||l,l),c=l):(c=D8(i||u,u),d=u),o.push(c),s.push(d)}return[o,s]}(f8(n),f8(i)),o=r[0],s=r[1],a=e.getComputedTransform(),l=t.getComputedTransform();a&&L8(o,a),l&&L8(s,l),k8(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var u=function(e,t,n,i){for(var r,o=[],s=0;s<e.length;s++){var a=e[s],l=t[s],u=P8(a),c=P8(l);null==r&&(r=u[2]<0!==c[2]<0);var d=[],h=[],p=0,g=1/0,f=[],m=a.length;r&&(a=A8(a));for(var v=6*T8(a,l,u,c),y=m-2,w=0;w<y;w+=2){var C=(v+w)%y+2;d[w+2]=a[C]-u[0],d[w+3]=a[C+1]-u[1]}if(d[0]=a[v]-u[0],d[1]=a[v+1]-u[1],n>0)for(var b=i/n,S=-i/2;S<=i/2;S+=b){var x=Math.sin(S),M=Math.cos(S),_=0;for(w=0;w<a.length;w+=2){var R=d[w],D=d[w+1],P=l[w]-c[0],T=l[w+1]-c[1],A=P*M-T*x,E=P*x+T*M;f[w]=A,f[w+1]=E;var I=A-R,k=E-D;_+=I*I+k*k}if(_<g){g=_,p=S;for(var F=0;F<f.length;F++)h[F]=f[F]}}else for(var L=0;L<m;L+=2)h[L]=l[L]-c[0],h[L+1]=l[L+1]-c[1];o.push({from:d,to:h,fromCp:u,toCp:c,rotation:-p})}return o}(o,s,10,Math.PI),c=[];k8(t,"buildPath",{replace:function(e){for(var n=t.__morphT,i=1-n,r=[],o=0;o<u.length;o++){var s=u[o],a=s.from,l=s.to,d=s.rotation*n,h=s.fromCp,p=s.toCp,g=Math.sin(d),f=Math.cos(d);qm(r,h,p,n);for(var m=0;m<a.length;m+=2){var v=a[m],y=a[m+1],w=v*i+(x=l[m])*n,C=y*i+(M=l[m+1])*n;c[m]=w*f-C*g+r[0],c[m+1]=w*g+C*f+r[1]}var b=c[0],S=c[1];e.moveTo(b,S);for(m=2;m<a.length;){var x=c[m++],M=c[m++],_=c[m++],R=c[m++],D=c[m++],P=c[m++];b===x&&S===M&&_===D&&R===P?e.lineTo(D,P):e.bezierCurveTo(x,M,_,R,D,P),b=D,S=P}}}})}function N8(e,t,n){if(!e||!t)return t;var i=n.done,r=n.during;return O8(e,t),t.__morphT=0,t.animateTo({__morphT:1},Uf({during:function(e){t.dirtyShape(),r&&r(e)},done:function(){F8(t,"buildPath"),F8(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),i&&i()}},n)),t}function B8(e,t,n,i,r,o){e=r===n?0:Math.round(32767*(e-n)/(r-n)),t=o===i?0:Math.round(32767*(t-i)/(o-i));for(var s,a=0,l=32768;l>0;l/=2){var u=0,c=0;(e&l)>0&&(u=1),(t&l)>0&&(c=1),a+=l*l*(3*u^c),0===c&&(1===u&&(e=l-1-e,t=l-1-t),s=e,e=t,t=s)}return a}function G8(e){var t=1/0,n=1/0,i=-1/0,r=-1/0,o=Yf(e,(function(e){var o=e.getBoundingRect(),s=e.getComputedTransform(),a=o.x+o.width/2+(s?s[4]:0),l=o.y+o.height/2+(s?s[5]:0);return t=Math.min(a,t),n=Math.min(l,n),i=Math.max(a,i),r=Math.max(l,r),[a,l]}));return Yf(o,(function(o,s){return{cp:o,z:B8(o[0],o[1],t,n,i,r),path:e[s]}})).sort((function(e,t){return e.z-t.z})).map((function(e){return e.path}))}function V8(e){return _8(e.path,e.count)}function z8(e){return tm(e[0])}function H8(e,t){for(var n=[],i=e.length,r=0;r<i;r++)n.push({one:e[r],many:[]});for(r=0;r<t.length;r++){var o=t[r].length,s=void 0;for(s=0;s<o;s++)n[s%i].many.push(t[r][s])}var a=0;for(r=i-1;r>=0;r--)if(!n[r].many.length){var l=n[a].many;if(l.length<=1){if(!a)return n;a=0}o=l.length;var u=Math.ceil(o/2);n[r].many=l.slice(u,o),n[a].many=l.slice(0,u),a++}return n}var W8={clone:function(e){for(var t=[],n=1-Math.pow(1-e.path.style.opacity,1/e.count),i=0;i<e.count;i++){var r=OA(e.path);r.setStyle("opacity",n),t.push(r)}return t},split:null};function U8(e,t,n,i,r,o){if(e.length&&t.length){var s=__("update",i,r);if(s&&s.duration>0){var a,l,u=i.getModel("universalTransition").get("delay"),c=Object.assign({setToFinal:!0},s);z8(e)&&(a=e,l=t),z8(t)&&(a=t,l=e);for(var d=a?a===e:e.length>t.length,h=a?H8(l,a):H8(d?t:e,[d?e:t]),p=0,g=0;g<h.length;g++)p+=h[g].many.length;var f=0;for(g=0;g<h.length;g++)m(h[g],d,f,p),f+=h[g].many.length}}function m(e,t,i,r,s){var a=e.many,l=e.one;if(1!==a.length||s)for(var d=Uf({dividePath:W8[n],individualDelay:u&&function(e,t,n,o){return u(e+i,r)}},c),h=t?function(e,t,n){var i=[];!function e(t){for(var n=0;n<t.length;n++){var r=t[n];E8(r)?e(r.childrenRef()):r instanceof Ux&&i.push(r)}}(e);var r=i.length;if(!r)return{fromIndividuals:[],toIndividuals:[],count:0};var o=(n.dividePath||V8)({path:t,count:r});if(o.length!==r)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};i=G8(i),o=G8(o);for(var s=n.done,a=n.during,l=n.individualDelay,u=new IC,c=0;c<r;c++){var d=i[c],h=o[c];h.parent=t,h.copyTransform(u),l||O8(d,h)}function p(e){for(var t=0;t<o.length;t++)o[t].addSelfToZr(e)}function g(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,F8(t,"addSelfToZr"),F8(t,"removeSelfFromZr")}t.__isCombineMorphing=!0,t.childrenRef=function(){return o},k8(t,"addSelfToZr",{after:function(e){p(e)}}),k8(t,"removeSelfFromZr",{after:function(e){for(var t=0;t<o.length;t++)o[t].removeSelfFromZr(e)}});var f=o.length;if(l){var m=f,v=function(){0===--m&&(g(),s&&s())};for(c=0;c<f;c++){var y=l?Uf({delay:(n.delay||0)+l(c,f,i[c],o[c]),done:v},n):n;N8(i[c],o[c],y)}}else t.__morphT=0,t.animateTo({__morphT:1},Uf({during:function(e){for(var n=0;n<f;n++){var i=o[n];i.__morphT=t.__morphT,i.dirtyShape()}a&&a(e)},done:function(){g();for(var t=0;t<e.length;t++)F8(e[t],"updateTransform");s&&s()}},n));return t.__zr&&p(t.__zr),{fromIndividuals:i,toIndividuals:o,count:f}}(a,l,d):function(e,t,n){var i=t.length,r=[],o=n.dividePath||V8;if(E8(e)){!function e(t){for(var n=0;n<t.length;n++){var i=t[n];E8(i)?e(i.childrenRef()):i instanceof Ux&&r.push(i)}}(e.childrenRef());var s=r.length;if(s<i)for(var a=0,l=s;l<i;l++)r.push(OA(r[a++%s]));r.length=i}else{r=o({path:e,count:i});var u=e.getComputedTransform();for(l=0;l<r.length;l++)r[l].setLocalTransform(u);if(r.length!==i)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}r=G8(r),t=G8(t);var c=n.individualDelay;for(l=0;l<i;l++){var d=c?Uf({delay:(n.delay||0)+c(l,i,r[l],t[l])},n):n;N8(r[l],t[l],d)}return{fromIndividuals:r,toIndividuals:t,count:t.length}}(l,a,d),p=h.fromIndividuals,g=h.toIndividuals,f=p.length,v=0;v<f;v++){y=u?Uf({delay:u(v,f)},c):c;o(p[v],g[v],t?a[v]:e.one,t?e.one:a[v],y)}else{var y,w=t?a[0]:l,C=t?l:a[0];if(E8(w))m({many:[w],one:C},!0,i,r,!0);else N8(w,C,y=u?Uf({delay:u(i,r)},c):c),o(w,C,w,C,y)}}}function j8(e){if(!e)return[];if(tm(e)){for(var t=[],n=0;n<e.length;n++)t.push(j8(e[n]));return t}var i=[];return e.traverse((function(e){e instanceof Ux&&!e.disableMorphing&&!e.invisible&&!e.ignore&&i.push(e)})),i}var $8=1e4,K8=0,q8=1,Y8=2,X8=jb();function Z8(e,t,n,i){var r=function(e,t){for(var n=e.dimensions,i=0;i<n.length;i++){var r=e.getDimensionInfo(n[i]);if(r&&0===r.otherDims[t])return n[i]}}(e,i?"itemChildGroupId":"itemGroupId");if(r){var o=function(e,t,n){var i=e.getDimensionInfo(n),r=i&&i.ordinalMeta;if(i){var o=e.get(i.name,t);return r&&r.categories[o]||o+""}}(e,t,r);return o}var s=e.getRawDataItem(t),a=i?"childGroupId":"groupId";return s&&s[a]?s[a]+"":i?void 0:n||e.getId(t)}function Q8(e){var t=[];return qf(e,(function(e){var n=e.data,i=e.dataGroupId;if(!(n.count()>$8))for(var r=n.getIndices(),o=0;o<r.length;o++)t.push({data:n,groupId:Z8(n,o,i,!1),childGroupId:Z8(n,o,i,!0),divide:e.divide,dataIndex:o})})),t}function J8(e,t,n){e.traverse((function(e){e instanceof Ux&&P_(e,{style:{opacity:0}},t,{dataIndex:n,isFrom:!0})}))}function e7(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function t7(e){e.stopAnimation(),e.isGroup&&e.traverse((function(e){e.stopAnimation()}))}function n7(e,t,n){var i=__("update",n,t);i&&e.traverse((function(e){if(e instanceof GS){var t=function(e){return M_(e).oldStyle}(e);t&&e.animateFrom({style:t},i)}}))}function i7(e,t,n){var i=Q8(e),r=Q8(t);function o(e,t,n,i,r){(n||e)&&t.animateFrom({style:n&&n!==e?Wf(Wf({},n.style),e.style):e.style},r)}var s=!1,a=K8,l=_m(),u=_m();i.forEach((function(e){e.groupId&&l.set(e.groupId,!0),e.childGroupId&&u.set(e.childGroupId,!0)}));for(var c=0;c<r.length;c++){var d=r[c].groupId;if(u.get(d)){a=q8;break}var h=r[c].childGroupId;if(h&&l.get(h)){a=Y8;break}}function p(e,t){return function(n){var i=n.data,r=n.dataIndex;return t?i.getId(r):e?a===q8?n.childGroupId:n.groupId:a===Y8?n.childGroupId:n.groupId}}var g=function(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++){var r=e[i],o=t[i];if(r.data.getId(r.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}(i,r),f={};if(!g)for(c=0;c<r.length;c++){var m=r[c],v=m.data.getItemGraphicEl(m.dataIndex);v&&(f[v.id]=!0)}function y(e,t){var n=i[t],a=r[e],l=a.data.hostModel,u=n.data.getItemGraphicEl(n.dataIndex),c=a.data.getItemGraphicEl(a.dataIndex);u!==c?u&&f[u.id]||c&&(t7(c),u?(t7(u),e7(u),s=!0,U8(j8(u),j8(c),a.divide,l,e,o)):J8(c,l,e)):c&&n7(c,a.dataIndex,l)}new BN(i,r,p(!0,g),p(!1,g),null,"multiple").update(y).updateManyToOne((function(e,t){var n=r[e],a=n.data,l=a.hostModel,u=a.getItemGraphicEl(n.dataIndex),c=Zf(Yf(t,(function(e){return i[e].data.getItemGraphicEl(i[e].dataIndex)})),(function(e){return e&&e!==u&&!f[e.id]}));u&&(t7(u),c.length?(qf(c,(function(e){t7(e),e7(e)})),s=!0,U8(j8(c),j8(u),n.divide,l,e,o)):J8(u,l,n.dataIndex))})).updateOneToMany((function(e,t){var n=i[t],a=n.data.getItemGraphicEl(n.dataIndex);if(!a||!f[a.id]){var l=Zf(Yf(e,(function(e){return r[e].data.getItemGraphicEl(r[e].dataIndex)})),(function(e){return e&&e!==a})),u=r[e[0]].data.hostModel;l.length&&(qf(l,(function(e){return t7(e)})),a?(t7(a),e7(a),s=!0,U8(j8(a),j8(l),n.divide,u,e[0],o)):qf(l,(function(t){return J8(t,u,e[0])})))}})).updateManyToMany((function(e,t){new BN(t,e,(function(e){return i[e].data.getId(i[e].dataIndex)}),(function(e){return r[e].data.getId(r[e].dataIndex)})).update((function(n,i){y(e[n],t[i])})).execute()})).execute(),s&&qf(t,(function(e){var t=e.data.hostModel,i=t&&n.getViewOfSeriesModel(t),r=__("update",t,0);i&&t.isAnimationEnabled()&&r&&r.duration>0&&i.group.traverse((function(e){e instanceof Ux&&!e.animators.length&&e.animateFrom({style:{opacity:0}},r)}))}))}function r7(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function o7(e){return tm(e)?e.sort().join(","):e}function s7(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function a7(e,t){var n=_m(),i=_m(),r=_m();return qf(e.oldSeries,(function(t,n){var o=e.oldDataGroupIds[n],s=e.oldData[n],a=r7(t),l=o7(a);i.set(l,{dataGroupId:o,data:s}),tm(a)&&qf(a,(function(e){r.set(e,{key:l,dataGroupId:o,data:s})}))})),qf(t.updatedSeries,(function(e){if(e.isUniversalTransitionEnabled()&&e.isAnimationEnabled()){var t=e.get("dataGroupId"),o=e.getData(),s=r7(e),a=o7(s),l=i.get(a);if(l)n.set(a,{oldSeries:[{dataGroupId:l.dataGroupId,divide:s7(l.data),data:l.data}],newSeries:[{dataGroupId:t,divide:s7(o),data:o}]});else if(tm(s)){0;var u=[];qf(s,(function(e){var t=i.get(e);t.data&&u.push({dataGroupId:t.dataGroupId,divide:s7(t.data),data:t.data})})),u.length&&n.set(a,{oldSeries:u,newSeries:[{dataGroupId:t,data:o,divide:s7(o)}]})}else{var c=r.get(s);if(c){var d=n.get(c.key);d||(d={oldSeries:[{dataGroupId:c.dataGroupId,data:c.data,divide:s7(c.data)}],newSeries:[]},n.set(c.key,d)),d.newSeries.push({dataGroupId:t,data:o,divide:s7(o)})}}}})),n}function l7(e,t){for(var n=0;n<e.length;n++){if(null!=t.seriesIndex&&t.seriesIndex===e[n].seriesIndex||null!=t.seriesId&&t.seriesId===e[n].id)return n}}ML([function(e){e.registerPainter("canvas",yO)}]),ML([function(e){e.registerPainter("svg",FN)}]),ML([function(e){e.registerChartView(rG),e.registerSeriesModel(wB),e.registerLayout(oG("line",!0)),e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,lG("line"))},function(e){e.registerChartView(KG),e.registerSeriesModel(SG),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,em(fG,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,mG("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,lG("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)}))}))},function(e){e.registerChartView(lV),e.registerSeriesModel(gV),Sk("pie",e.registerAction),e.registerLayout(em(QG,"pie")),e.registerProcessor(eV("pie")),e.registerProcessor(function(e){return{seriesType:e,reset:function(e,t){var n=e.getData();n.filterSelf((function(e){var t=n.mapDimension("value"),i=n.get(t,e);return!(om(i)&&!isNaN(i)&&i<0)}))}}}("pie"))},function(e){ML(OH),e.registerSeriesModel(mV),e.registerChartView(SV),e.registerLayout(oG("scatter"))},function(e){ML(nW),e.registerChartView(HH),e.registerSeriesModel(UH),e.registerLayout(NH),e.registerProcessor(eV("radar")),e.registerPreprocessor(VH)},function(e){ML(XU),e.registerChartView(RU),e.registerSeriesModel(PU),e.registerLayout(AU),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,TU),Sk("map",e.registerAction)},function(e){e.registerChartView(fj),e.registerSeriesModel(kj),e.registerLayout(Lj),e.registerVisual(Oj),function(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=e.dataIndex,i=t.getData().tree.getNodeByDataIndex(n);i.isExpand=!i.isExpand}))})),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t,n){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var i=$U(t.coordinateSystem,e,void 0,n);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}))}(e)},function(e){e.registerSeriesModel(zj),e.registerChartView(r$),e.registerVisual(S$),e.registerLayout(L$),function(e){for(var t=0;t<Nj.length;t++)e.registerAction({type:Nj[t],update:"updateView"},Am);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},(function(t,n){var i=Pj(e,["treemapZoomToNode","treemapRootToNode"],t);if(i){var r=t.getViewRoot();r&&(e.direction=Aj(r,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}}))}))}(e)},function(e){e.registerChartView(VK),e.registerSeriesModel(YK),e.registerProcessor(z$),e.registerVisual(H$),e.registerVisual(U$),e.registerLayout(nK),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,cK),e.registerLayout(hK),e.registerCoordinateSystem("graphView",{dimensions:FU.dimensions,create:pK}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Am),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Am),e.registerAction(XK,(function(e,t,n){t.eachComponent({mainType:"series",query:e},(function(t){var i=$U(t.coordinateSystem,e,void 0,n);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}))},function(e){e.registerChartView(nq),e.registerSeriesModel(iq)},function(e){e.registerChartView(aq),e.registerSeriesModel(uq),e.registerLayout(cq),e.registerProcessor(eV("funnel"))},function(e){ML(YY),e.registerChartView(mq),e.registerSeriesModel(wq),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,Sq)},function(e){e.registerChartView(eX),e.registerSeriesModel(nX),e.registerLayout(iX),e.registerVisual(fX),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))},function(e){e.registerSeriesModel(yX),e.registerChartView(_X),e.registerLayout(DX),e.registerTransform(PX)},function(e){e.registerChartView(zX),e.registerSeriesModel(WX),e.registerPreprocessor(UX),e.registerVisual(ZX),e.registerLayout(eZ)},function(e){e.registerChartView(oZ),e.registerSeriesModel(aZ),e.registerLayout(oG("effectScatter"))},function(e){e.registerChartView(bZ),e.registerSeriesModel(RZ),e.registerLayout(wZ),e.registerVisual(TZ)},function(e){e.registerChartView(FZ),e.registerSeriesModel(LZ)},function(e){e.registerChartView(iQ),e.registerSeriesModel(rQ),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,em(fG,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,mG("pictorialBar"))},function(e){e.registerChartView(sQ),e.registerSeriesModel(lQ),e.registerLayout(uQ),e.registerProcessor(eV("themeRiver"))},function(e){e.registerChartView(vQ),e.registerSeriesModel(CQ),e.registerLayout(em(SQ,"sunburst")),e.registerProcessor(em(eV,"sunburst")),e.registerVisual(MQ),function(e){e.registerAction({type:pQ,update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,n){var i=Pj(e,[pQ],t);if(i){var r=t.getViewRoot();r&&(e.direction=Aj(r,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}}))})),e.registerAction({type:gQ,update:"none"},(function(e,t,n){e=Wf({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t){var n=Pj(e,[gQ],t);n&&(e.dataIndex=n.node.dataIndex)})),n.dispatchAction(Wf(e,{type:"highlight"}))})),e.registerAction({type:fQ,update:"updateView"},(function(e,t,n){e=Wf({},e),n.dispatchAction(Wf(e,{type:"downplay"}))}))}(e)},function(e){e.registerChartView(vJ),e.registerSeriesModel(PQ)}]),ML((function(e){ML(OH),ML(b0)})),ML((function(e){ML(b0),MH.registerAxisPointerClass("PolarAxisPointer",M0),e.registerCoordinateSystem("polar",z0),e.registerComponentModel(_0),e.registerComponentView(o1),LV(e,"angle",D0,i1),LV(e,"radius",P0,r1),e.registerComponentView(q0),e.registerComponentView(J0),e.registerLayout(em(n1,"bar"))})),ML(XU),ML((function(e){ML(b0),MH.registerAxisPointerClass("SingleAxisPointer",P1),e.registerComponentView(T1),e.registerComponentView(d1),e.registerComponentModel(p1),LV(e,"single",p1,p1.defaultOption),e.registerCoordinateSystem("single",b1)})),ML(YY),ML((function(e){e.registerComponentModel(E1),e.registerComponentView(k1),e.registerCoordinateSystem("calendar",N1)})),ML((function(e){e.registerComponentModel(H1),e.registerComponentView(j1),e.registerPreprocessor((function(e){var t=e.graphic;tm(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])}))})),ML((function(e){e.registerComponentModel(S2),e.registerComponentView(_2),C2("saveAsImage",D2),C2("magicType",I2),C2("dataView",z2),C2("dataZoom",p5),C2("restore",$2),ML(v2)})),ML((function(e){ML(b0),e.registerComponentModel(g5),e.registerComponentView(N5),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Am),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Am)})),ML(b0),ML((function(e){e.registerComponentView(i3),e.registerComponentModel(o3),e.registerPreprocessor(G5),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,Z5),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(e,t){t.eachComponent({mainType:"brush",query:e},(function(t){t.setAreas(e.areas)}))})),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Am),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Am),C2("brush",l3)})),ML((function(e){e.registerComponentModel(u3),e.registerComponentView(c3)})),ML((function(e){e.registerComponentModel(g3),e.registerComponentView(x3),e.registerSubTypeDefaulter("timeline",(function(){return"slider"})),function(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(e,t,n){var i=t.getComponent("timeline");return i&&null!=e.currentIndex&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),Uf({currentIndex:i.option.currentIndex},e)})),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)}))}(e),e.registerPreprocessor(M3)})),ML((function(e){e.registerComponentModel(I3),e.registerComponentView($3),e.registerPreprocessor((function(e){D3(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})}))})),ML((function(e){e.registerComponentModel(K3),e.registerComponentView(t4),e.registerPreprocessor((function(e){D3(e.series,"markLine")&&(e.markLine=e.markLine||{})}))})),ML((function(e){e.registerComponentModel(n4),e.registerComponentView(d4),e.registerPreprocessor((function(e){D3(e.series,"markArea")&&(e.markArea=e.markArea||{})}))})),ML((function(e){ML(_4),ML(k4)})),ML((function(e){ML(j4),ML(t6)})),ML(j4),ML(t6),ML((function(e){ML(V6),ML($6)})),ML(V6),ML($6),ML((function(e){e.registerPreprocessor(Z6),e.registerVisual(e.PRIORITY.VISUAL.ARIA,X6)})),ML((function(e){e.registerTransform(u8),e.registerTransform(c8)})),ML((function(e){e.registerComponentModel(d8),e.registerComponentView(h8)})),ML((function(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,n){qf(kb(n.seriesTransition),(function(e){qf(kb(e.to),(function(e){for(var t=n.updatedSeries,i=0;i<t.length;i++)(null!=e.seriesIndex&&e.seriesIndex===t[i].seriesIndex||null!=e.seriesId&&e.seriesId===t[i].id)&&(t[i][rA]=!0)}))}))})),e.registerUpdateLifecycle("series:transition",(function(e,t,n){var i=X8(t);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var r=n.seriesTransition;if(r)qf(kb(r),(function(e){!function(e,t,n,i){var r=[],o=[];qf(kb(e.from),(function(e){var n=l7(t.oldSeries,e);n>=0&&r.push({dataGroupId:t.oldDataGroupIds[n],data:t.oldData[n],divide:s7(t.oldData[n]),groupIdDim:e.dimension})})),qf(kb(e.to),(function(e){var i=l7(n.updatedSeries,e);if(i>=0){var r=n.updatedSeries[i].getData();o.push({dataGroupId:t.oldDataGroupIds[i],data:r,divide:s7(r),groupIdDim:e.dimension})}})),r.length>0&&o.length>0&&i7(r,o,i)}(e,i,n,t)}));else{var o=a7(i,n);qf(o.keys(),(function(e){var n=o.get(e);i7(n.oldSeries,n.newSeries,t)}))}qf(n.updatedSeries,(function(e){e[rA]&&(e[rA]=!1)}))}for(var s=e.getSeries(),a=i.oldSeries=[],l=i.oldDataGroupIds=[],u=i.oldData=[],c=0;c<s.length;c++){var d=s[c].getData();d.count()<$8&&(a.push(s[c]),l.push(s[c].get("dataGroupId")),u.push(d))}}))})),ML(cO);const u7=e=>{let{id:t,option:n}=e;return(0,o.useEffect)((()=>{const e=function(e,t,n){var i=!(n&&n.ssr);if(i){var r=dL(e);if(r)return r}var o=new XF(e,t,n);return o.id="ec_"+uL++,aL[o.id]=o,i&&Qb(e,cL,o.id),jF(o),vF.trigger("afterinit",o),o}(document.getElementById(t));return e.setOption(n),()=>{e.dispose()}}),[t,n]),(0,dl.jsx)("div",{id:t,style:{width:"100%",height:"500px"}})},c7=e=>{let{ticker:t}=e;const[n,i]=(0,o.useState)("7d"),[r,s]=(0,o.useState)([]);return(0,o.useEffect)((()=>{(async()=>{try{const e=await((e,t)=>{let n="1d",i=7;if("14d"==t)i=14;else if("1mo"==t){const e=new Date;i=cs(e,rs(e,1))}else if("6mo"==t){const e=new Date;n="1w",i=fs(e,rs(e,6))}return Cs.get(`/time_series?ticker=${e}&interval=${n}&page_size=${i}`)})(t,n),i=e.data.data.sort(((e,t)=>e.t-t.t)).map((e=>({...e,l:0==e.l?Math.min(e.h,e.c,e.o):e.l})));s(i)}catch(e){console.error("Error fetching candle time series: ",e)}})()}),[t,n]),(0,dl.jsxs)("div",{children:[(0,dl.jsx)(bg,{value:n,options:eg,onChange:e=>i(e)}),(0,dl.jsx)(u7,{id:"candles-chart",option:gf(r,t)})]})},d7=e=>{let{ticker:t}=e;const[n,i]=(0,o.useState)("1d"),[r,s]=(0,o.useState)([]);return(0,o.useEffect)((()=>{(async()=>{try{const e=await((e,t)=>{let n="1h",i=24;if("5d"==t)i=120;else if("1mo"==t){const e=new Date;n="1d",i=cs(e,rs(e,1))}else if("1y"==t){const e=new Date;n="1d",i=fs(e,vs(e,1))}return Cs.get(`/time_series?ticker=${e}&interval=${n}&page_size=${i}`)})(t,n),i=e.data.data.sort(((e,t)=>e.t-t.t));s(i)}catch(e){console.error("Error fetching line time series: ",e)}})()}),[t,n]),(0,dl.jsxs)("div",{children:[(0,dl.jsx)(bg,{value:n,options:tg,onChange:e=>i(e)}),(0,dl.jsx)(u7,{id:"line-chart",option:ff(r,t)})]})};const h7=function(){const[e,t]=(0,o.useState)("AUD/USD");return(0,dl.jsxs)(Oi,{children:[(0,dl.jsx)(Jp,{ticker:e,setTickers:t}),(0,dl.jsx)(c7,{ticker:e}),(0,dl.jsx)(d7,{ticker:e})]})},p7=Un((()=>({})),{})(h7),g7=Fi("div")((e=>{let{theme:t}=e;return Li.AH`
    background: ${t.palette.background.default};

    nav {
      height: 50px;
      ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #333;
      }

      li {
        float: left;
      }

      li a {
        display: block;
        color: white;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
      }

      li a:hover:not(.active) {
        background-color: #111;
      }

      .active {
        background-color: #04aa6d;
      }
    }

    .outlet {
      padding: 5px;
      height: calc(100% - 110px);
      display: flex;
      flex-flow: column;
    }
  `}));const f7=function(){return(0,dl.jsxs)(g7,{children:[(0,dl.jsx)("nav",{children:(0,dl.jsxs)("ul",{children:[(0,dl.jsx)("li",{children:(0,dl.jsx)(Vt,{to:"/",children:"Home"})}),(0,dl.jsx)("li",{children:(0,dl.jsx)(Vt,{to:"/grid",children:"Grid"})}),(0,dl.jsx)("li",{children:(0,dl.jsx)(Vt,{to:"/about",children:"About"})})]})}),(0,dl.jsx)("div",{className:"outlet",children:(0,dl.jsx)(wt,{})})]})};var m7=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const i=t?this.allAsyncListeners:this.allSyncListeners;let r=i.get(e);return!r&&n&&(r=new Set,i.set(e,r)),r}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.getListeners(e,n,!0).add(t)}removeEventListener(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.getListeners(e,n,!1);if(i&&(i.delete(t),0===i.size)){(n?this.allAsyncListeners:this.allSyncListeners).delete(e)}}addGlobalListener(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const t=e.event;t instanceof Event&&(e.eventPath=t.composedPath())}const i=(n,i)=>n.forEach((n=>{if(!i.has(n))return;const r=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>n(e))):()=>n(e);t?this.dispatchAsync(r):r()})),r=this.getListeners(n,t,!1)??new Set,o=new Set(r);o.size>0&&i(o,r);new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach((i=>{const r=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>i(n,e))):()=>i(n,e);t?this.dispatchAsync(r):r()}))}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const e=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(e):e(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach((e=>e()))}};function v7(e){if(e&&e.length)return e[e.length-1]}function y7(e,t,n){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every(((e,i)=>n?n(e,t[i]):t[i]===e))}function w7(e,t){const n=e.indexOf(t);n>=0&&(e[n]=e[e.length-1],e.pop())}function C7(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function b7(e,t,n){e.splice(n,0,t)}function S7(e,t,n){!function(e,t){for(let n=0;n<t.length;n++)C7(e,t[n])}(e,t),t.slice().reverse().forEach((t=>b7(e,t,n)))}function x7(e,t){return e.indexOf(t)>-1}function M7(e,t){null!=t&&null!=e&&t.forEach((t=>e.push(t)))}var _7="__ag_Grid_Stop_Propagation",R7=["touchstart","touchend","touchmove","touchcancel","scroll"],D7={};function P7(e){e[_7]=!0}function T7(e){return!0===e[_7]}var A7=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t=>{if("boolean"===typeof D7[t])return D7[t];const n=document.createElement(e[t]||"div");return D7[t="on"+t]=t in n}})();function E7(e,t,n){let i=t;for(;i;){const t=e.getDomData(i,n);if(t)return t;i=i.parentElement}return null}function I7(e,t){return!(!t||!e)&&function(e){const t=e;if(t.path)return t.path;if(t.composedPath)return t.composedPath();return function(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}(t)}(t).indexOf(e)>=0}var k7=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.gridId=e.context.getGridId(),this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t){this.localEventService||(this.localEventService=new m7),this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const i in t){const r=t[i];r&&n.push(this._setupListener(e,i,r))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;e instanceof HTMLElement?function(e,t,n,i){const r=x7(R7,n)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,n,i,r)}(this.getFrameworkOverrides(),e,t,n):e.addEventListener(t,n);const i=()=>(e.removeEventListener(t,n),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter((e=>e!==i)),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const n=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter((e=>e!==n)),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,i=e=>{if(e.changeSet){if(e.changeSet&&e.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=e.changeSet.id}const i={type:"gridPropertyChanged",changeSet:e.changeSet,source:e.source};t(i)};e.forEach((e=>this.setupGridOptionListener(e,i)))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}},F7=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=t=>{this.frameworkOverrides.wrapOutgoing((()=>e(t)))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(t,n)=>{this.frameworkOverrides.wrapOutgoing((()=>e(t,n)))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}};function L7(e){return null==e||""===e?null:e}function O7(e){return null!=e&&(""!==e||arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function N7(e){return!O7(e)}function B7(e){return null==e||0===e.length}function G7(e){return null!=e&&"function"===typeof e.toString?e.toString():null}function V7(e){if(void 0===e)return;if(null===e||""===e)return null;if("number"===typeof e)return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function z7(e){if(void 0!==e)return null!==e&&""!==e&&H7(e)}function H7(e){return"boolean"===typeof e?e:"string"===typeof e&&("TRUE"===e.toUpperCase()||""==e)}function W7(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function U7(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=null==e,r=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function o(e,t){return e>t?1:e<t?-1:0}if("string"!==typeof e)return o(e,t);if(!n)return o(e,t);try{return e.localeCompare(t)}catch(JA){return o(e,t)}}function j7(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach((e=>t.push(e))),t}return Object.values(e)}var $7=new Set(["__proto__","constructor","prototype"]);function K7(e,t){if(null!=e)if(Array.isArray(e))for(let n=0;n<e.length;n++)t(n.toString(),e[n]);else for(const[n,i]of Object.entries(e))t(n,i)}function q7(e){const t={},n=Object.keys(e);for(let i=0;i<n.length;i++){if($7.has(n[i]))continue;const r=n[i],o=e[r];t[r]=o}return t}function Y7(e,t){if(!e)return;const n=e,i={};return Object.keys(n).forEach((e=>{if(t&&t.indexOf(e)>=0||$7.has(e))return;const r=n[e],o=J7(r)&&r.constructor===Object;i[e]=o?Y7(r):r})),i}function X7(e){if(!e)return[];const t=Object;if("function"===typeof t.values)return t.values(e);const n=[];for(const i in e)e.hasOwnProperty(i)&&e.propertyIsEnumerable(i)&&n.push(e[i]);return n}function Z7(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];O7(t)&&K7(t,((t,r)=>{if($7.has(t))return;let o=e[t];if(o!==r){if(i){if(null==o&&null!=r){"object"===typeof r&&r.constructor===Object&&(o={},e[t]=o)}}J7(r)&&J7(o)&&!Array.isArray(o)?Z7(o,r,n,i):(n||void 0!==r)&&(e[t]=r)}}))}function Q7(e,t,n){if(!t||!e)return;if(!n)return e[t];const i=t.split(".");let r=e;for(let o=0;o<i.length;o++){if(null==r)return;r=r[i[o]]}return r}function J7(e){return"object"===typeof e&&null!==e}var e9={resizable:!0,sortable:!0},t9=0;function n9(){return t9++}function i9(e){return e instanceof r9}var r9=class extends k7{constructor(e,t,n,i){super(),this.isColumn=!0,this.instanceId=n9(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new m7,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){void 0!==e.sort?"asc"!==e.sort&&"desc"!==e.sort||(this.sort=e.sort):"asc"!==e.initialSort&&"desc"!==e.initialSort||(this.sort=e.initialSort);const t=e.sortIndex,n=e.initialSortIndex;void 0!==t?null!==t&&(this.sortIndex=t):null!==n&&(this.sortIndex=n);const i=e.hide,r=e.initialHide;this.visible=void 0!==i?!i:!r,void 0!==e.pinned?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const o=e.flex,s=e.initialFlex;void 0!==o?this.flex=o:void 0!==s&&(this.flex=s)}setColDef(e,t,n){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=O7(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=O7(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??20,this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=O7(this.colDef.tooltipField)||O7(this.colDef.tooltipValueGetter)||O7(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=V7(e.width),i=V7(e.initialWidth);return t=null!=n?n:null!=i?i:200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(N7(this.colDef)||N7(this.colDef.showRowGroup))return!1;const t=!0===this.colDef.showRowGroup,n=this.colDef.showRowGroup===e;return t||n}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(e,t){this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new F7(this.frameworkOverrides));const n=this.frameworkEventListenerService?.wrap(t)??t;this.columnEventService.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(t)??t;this.columnEventService.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){const t=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1}isCellEditable(e){if(e.group)if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1;return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??e9[e]}isColumnFunc(e,t){if("boolean"===typeof t)return t;if("function"===typeof t){return t(this.createColumnFunctionCallbackParams(e))}return!1}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return N7(this.sort)}isSorting(){return O7(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,n){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const i=this.createColumnEvent("filterChanged",t);n&&Z7(i,n),this.columnEventService.dispatchEvent(i)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){this.pinned=!0===e||"left"===e?"left":"right"===e?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(e,t){const n=!0===e;this.visible!==n&&(this.visible=n,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(N7(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(N7(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}};function o9(e){return e instanceof s9}var s9=class extends k7{constructor(e,t,n,i){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=n9(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=n,this.level=i}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some((e=>e.isVisible()))}isPadding(){return this.padding}setExpanded(e){this.expanded=void 0!==e&&e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach((t=>{i9(t)?e.push(t):o9(t)&&t.addLeafColumns(e)}))}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((t=>t.addEventListener("visibleChanged",e))),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach((t=>t.removeEventListener("visibleChanged",e))),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let o=0,s=i.length;o<s;o++){const r=i[o];if(!r.isVisible())continue;const s=r.getColumnGroupShow();"open"===s?(e=!0,n=!0):"closed"===s?(t=!0,n=!0):(e=!0,t=!0)}const r=e&&t&&n;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach((n=>{o9(n)&&n.isPadding()?t(n.children):e.push(n)}))};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},a9={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},l9={};function u9(e,t){l9[t]||(e(),l9[t]=!0)}function c9(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.log("AG Grid: "+e,...n)}function d9(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];u9((()=>console.warn("AG Grid: "+e,...n)),e+n?.join(""))}function h9(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];u9((()=>console.error("AG Grid: "+e,...n)),e+n?.join(""))}function p9(e){return!!(e&&e.constructor&&e.call&&e.apply)}function g9(e){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.length>0&&window.setTimeout((()=>e.forEach((e=>e()))),t)}(e,400)}var f9=[],m9=!1;function v9(e){f9.push(e),m9||(m9=!0,window.setTimeout((()=>{const e=f9.slice();f9.length=0,m9=!1,e.forEach((e=>e()))}),0))}function y9(e,t){let n;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];const s=this;window.clearTimeout(n),n=window.setTimeout((function(){e.apply(s,r)}),t)}}function w9(e,t){let n=0;return function(){const i=(new Date).getTime();if(!(i-n<t)){n=i;for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];e.apply(this,o)}}}var C9=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=G7(e);let n=0;for(;;){let i;if(e?(i=e,0!==n&&(i+="_"+n)):t?(i=t,0!==n&&(i+="_"+n)):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}}},b9="ag-Grid-AutoColumn";function S9(e){const t=[],n=e=>{for(let i=0;i<e.length;i++){const r=e[i];i9(r)?t.push(r):o9(r)&&n(r.getChildren())}};return n(e),t}function x9(e){return e.reduce(((e,t)=>e+t.getActualWidth()),0)}function M9(e,t,n){const i={};if(!t)return;P9(null,t,(e=>{i[e.getInstanceId()]=e})),n&&P9(null,n,(e=>{i[e.getInstanceId()]=null}));const r=Object.values(i).filter((e=>null!=e));e.destroyBeans(r)}function _9(e){return e.getId().startsWith(b9)}function R9(e){let t=[];if(e instanceof Array){e.some((e=>"string"!==typeof e))?d9("if colDef.type is supplied an array it should be of type 'string[]'"):t=e}else"string"===typeof e?t=e.split(","):d9("colDef.type should be of type 'string' | 'string[]'");return t}var D9=class extends k7{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,n,i){const r=new C9,{existingCols:o,existingGroups:s,existingColKeys:a}=this.extractExistingTreeData(n);r.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,o,r,s,i),u=this.findMaxDept(l,0),c=this.balanceColumnTree(l,0,u,r);return P9(null,c,((e,t)=>{o9(e)&&e.setupExpandable(),e.setOriginalParent(t)})),{columnTree:c,treeDept:u}}extractExistingTreeData(e){const t=[],n=[],i=[];return e&&P9(null,e,(e=>{if(o9(e)){const t=e;n.push(t)}else{const n=e;i.push(n.getId()),t.push(n)}})),{existingCols:t,existingGroups:n,existingColKeys:i}}createForAutoGroups(e,t){const n=[],i=this.findDepth(t);return e.forEach((e=>{let t=e;for(let n=i-1;n>=0;n--){const i=new s9(null,`FAKE_PATH_${e.getId()}}_${n}`,!0,n);this.createBean(i),i.setChildren([t]),t.setOriginalParent(i),t=i}0===i&&e.setOriginalParent(null),n.push(t)})),[n,i]}findDepth(e){let t=0,n=e;for(;n&&n[0]&&o9(n[0]);)t++,n=n[0].getChildren();return t}balanceColumnTree(e,t,n,i){const r=[];for(let o=0;o<e.length;o++){const s=e[o];if(o9(s)){const e=s,o=this.balanceColumnTree(e.getChildren(),t+1,n,i);e.setChildren(o),r.push(e)}else{let o,a;for(let e=n-1;e>=t;e--){const e=i.getUniqueKey(null,null),n=this.createMergedColGroupDef(null),r=new s9(n,e,!0,t);this.createBean(r),a&&a.setChildren([r]),a=r,o||(o=a)}if(o&&a){r.push(o);if(e.some((e=>o9(e)))){a.setChildren([s]);continue}a.setChildren(e);break}r.push(s)}}return r}findMaxDept(e,t){let n=t;for(let i=0;i<e.length;i++){const r=e[i];if(o9(r)){const e=r,i=this.findMaxDept(e.getChildren(),t+1);n<i&&(n=i)}}return n}recursivelyCreateColumns(e,t,n,i,r,o,s){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const u=e[l];this.isColumnGroup(u)?a[l]=this.createColumnGroup(n,u,t,i,r,o,s):a[l]=this.createColumn(n,u,i,r,s)}return a}createColumnGroup(e,t,n,i,r,o,s){const a=this.createMergedColGroupDef(t),l=r.getUniqueKey(a.groupId||null,null),u=new s9(a,l,!1,n);this.createBean(u);const c=this.findExistingGroup(t,o);c&&o.splice(c.idx,1);const d=c?.group;d&&u.setExpanded(d.isExpanded());const h=this.recursivelyCreateColumns(a.children,n+1,e,i,r,o,s);return u.setChildren(h),u}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,n,i,r){const o=this.findExistingColumn(t,n);o&&n?.splice(o.idx,1);let s=o?.column;if(s){const e=this.addColumnDefaultAndTypes(t,s.getColId());s.setColDef(e,t,r),this.applyColumnState(s,e,r)}else{const n=i.getUniqueKey(t.colId,t.field),r=this.addColumnDefaultAndTypes(t,n);s=new r9(r,t,n,e),this.createBean(s)}return this.dataTypeService?.addColumnListeners(s),s}applyColumnState(e,t,n){const i=V7(t.flex);void 0!==i&&e.setFlex(i);if(e.getFlex()<=0){const i=V7(t.width);if(null!=i)e.setActualWidth(i,n);else{const t=e.getActualWidth();e.setActualWidth(t,n)}}void 0!==t.sort&&("asc"==t.sort||"desc"==t.sort?e.setSort(t.sort,n):e.setSort(void 0,n));const r=V7(t.sortIndex);void 0!==r&&e.setSortIndex(r);const o=z7(t.hide);void 0!==o&&e.setVisible(!o,n),void 0!==t.pinned&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let n=0;n<t.length;n++){const i=t[n].getUserProvidedColDef();if(!i)continue;if(null!=e.colId){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(null!=e.field){if(i.field===e.field)return{idx:n,column:t[n]}}else if(i===e)return{idx:n,column:t[n]}}}findExistingGroup(e,t){if(null!=e.groupId)for(let n=0;n<t.length;n++){const i=t[n];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:n,group:i}}}addColumnDefaultAndTypes(e,t){const n={};Z7(n,this.gos.get("defaultColDef"),!1,!0);const i=this.updateColDefAndGetColumnType(n,e,t);i&&this.assignColumnTypes(i,n),Z7(n,e,!1,!0);const r=this.gos.get("autoGroupColumnDef"),o=this.gos.isColumnsSortingCoupledToGroup();return e.rowGroup&&r&&o&&Z7(n,{sort:r.sort,initialSort:r.initialSort},!1,!0),this.dataTypeService?.validateColDef(n),n}updateColDefAndGetColumnType(e,t,n){const i=this.dataTypeService?.updateColDefAndGetColumnType(e,t,n),r=t.type??i??e.type;return e.type=r,r?R9(r):void 0}assignColumnTypes(e,t){if(!e.length)return;const n=Object.assign({},a9);K7(this.gos.get("columnTypes")||{},((e,t)=>{if(e in n)d9(`the column type '${e}' is a default column type and cannot be overridden.`);else{t.type&&d9("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),n[e]=t}})),e.forEach((e=>{const i=n[e.trim()];i?Z7(t,i,!1,!0):d9("colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")}))}isColumnGroup(e){return void 0!==e.children}};function P9(e,t,n){if(t)for(let i=0;i<t.length;i++){const r=t[i];o9(r)&&P9(r,r.getChildren(),n),n(r,e)}}var T9=class extends k7{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],(e=>this.refreshAll(A9(e.source)))),this.addManagedPropertyListener("autoGroupColumnDef",(e=>this.onAutoGroupColumnDefChanged(A9(e.source)))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],(e=>this.recreateColumnDefs(A9(e.source)))),this.addManagedPropertyListener("pivotMode",(e=>this.setPivotMode(this.gos.get("pivotMode"),A9(e.source)))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e,t){const n=e?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire();const i=this.colDefCols?.list,r=this.colDefCols?.tree,o=this.columnFactory.createColumnTree(this.colDefs,!0,r,t);M9(this.context,this.colDefCols?.tree,o.columnTree);const s=o.columnTree,a=o.treeDept,l=S9(s),u={};l.forEach((e=>u[e.getId()]=e)),this.colDefCols={tree:s,treeDepth:a,list:l,map:u},this.funcColsService.extractCols(t,i),this.ready=!0,this.refreshCols();e&&!this.showingPivotResult&&!this.gos.get("maintainColumnOrder")&&this.orderColsLikeColDefCols(),this.visibleColsService.refresh(t),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(t),n&&(this.changeEventsDispatching=!0,n(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(t),"gridInitializing"===t&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(){if(!this.colDefCols)return;const e=this.cols?.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.restoreColOrder(),this.positionLockedCols(),this.showRowGroupColsService?.refresh(),this.quickFilterService?.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear();!y7(e,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=null!=e,e){const{map:t,list:n,tree:i,treeDepth:r}=e;this.cols={list:n.slice(),map:{...t},tree:i.slice(),treeDepth:r};e.list.some((e=>void 0!==this.cols?.map[e.getColId()]))||(this.lastPivotOrder=null)}else{const{map:e,list:t,tree:n,treeDepth:i}=this.colDefCols;this.cols={list:t.slice(),map:{...e},tree:n.slice(),treeDepth:i}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter((n=>{const i=_9(n);if(e){const e=t&&x7(t,n);return i||e}return i||n.isVisible()}))}addAutoCols(){var e;null!=this.autoCols&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),(e=this.cols).map={},e.list.forEach((t=>e.map[t.getId()]=t)))}createAutoCols(){const e=this.gos.isGroupUseEntireRow(this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),n=this.funcColsService.getRowGroupColumns(),i=()=>{this.autoCols&&(M9(this.context,this.autoCols.tree),this.autoCols=null)};if(!(n.length>0||this.gos.get("treeData"))||t||e||!this.autoColService)return void i();const r=this.autoColService.createAutoCols(n)??[],o=(s=r,a=this.autoCols?.list||null,y7(s,a,((e,t)=>e.getColId()===t.getColId())));var s,a;const l=this.cols.treeDepth,u=this.autoCols?this.autoCols.treeDepth:-1;if(o&&u==l)return;i();const[c,d]=this.columnFactory.createForAutoGroups(r,this.cols?.tree);this.autoCols={list:r,tree:c,treeDepth:d,map:{}};const h=e=>{if(!e)return null;const t=e.filter((e=>!_9(e)));return[...r,...t]};this.lastOrder=h(this.lastOrder),this.lastPivotOrder=h(this.lastPivotOrder)}refreshAll(e){this.isReady()&&(this.refreshCols(),this.visibleColsService.refresh(e))}setColsVisible(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;this.columnApplyStateService.applyColumnState({state:e.map((e=>({colId:"string"===typeof e?e:e.getColId(),hide:!t})))},n)}setColsPinned(e,t,n){if(!this.cols)return;if(B7(e))return;if(this.gos.isDomLayout("print"))return void d9("Changing the column pinning status is not allowed with domLayout='print'");let i;this.columnAnimationService.start(),i=!0===t||"left"===t?"left":"right"===t?"right":null;const r=[];e.forEach((e=>{if(!e)return;const t=this.getCol(e);t&&t.getPinned()!==i&&(t.setPinned(i),r.push(t))})),r.length&&(this.visibleColsService.refresh(n),this.eventDispatcher.columnPinned(r,n)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,n){let i;i=o9(e)?e.getId():e||"",this.columnGroupStateService.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColGroup(e){let t=null;return P9(null,this.cols?.tree,(n=>{o9(n)&&n.getId()===e&&(t=n)})),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||0===t)return!1;if(-1===t)return!0;return t>this.funcColsService.getRowGroupColumns().findIndex((t=>t.getColId()===e.getColId()))}isSuppressAutoCol(){if("custom"===this.gos.get("groupDisplayType"))return!0;return"custom"===this.gos.get("treeDataDisplayType")}setAutoHeightActive(){if(this.autoHeightActive=this.cols.list.some((e=>e.isVisible()&&e.isAutoHeight())),this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;this.gos.isRowModelType("clientSide")||this.gos.isRowModelType("serverSide")||d9("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map(((e,t)=>[e,t])));if(!this.cols.list.some((e=>t.has(e))))return;const n=new Map(this.cols.list.map((e=>[e,!0]))),i=e.filter((e=>n.has(e))),r=new Map(i.map((e=>[e,!0]))),o=this.cols.list.filter((e=>!r.has(e))),s=i.slice();o.forEach((e=>{let t=e.getOriginalParent();if(!t)return void s.push(e);const n=[];for(;!n.length&&t;){t.getLeafColumns().forEach((e=>{const t=s.indexOf(e)>=0,i=n.indexOf(e)<0;t&&i&&n.push(e)})),t=t.getOriginalParent()}if(!n.length)return void s.push(e);const i=n.map((e=>s.indexOf(e))),r=Math.max(...i);b7(s,e,r+1)})),this.cols.list=s}orderColsLikeColDefCols(){if(!this.colDefCols||!this.cols)return;const e=this.colDefCols.list.filter((e=>this.cols.list.indexOf(e)>=0)),t=this.cols.list.filter((t=>e.indexOf(t)<0));this.cols.list=[...t,...e],this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}sortColsLikeKeys(e){if(null==this.cols)return;let t=[];const n={};e.forEach((e=>{if(n[e])return;const i=this.cols.map[e];i&&(t.push(i),n[e]=!0)}));let i=0;this.cols.list.forEach((e=>{const r=e.getColId();if(null!=n[r])return;r.startsWith(b9)?b7(t,e,i++):t.push(e)})),t=this.columnMoveService.placeLockedColumns(t),this.columnMoveService.doesMovePassMarryChildren(t)?this.cols.list=t:d9("Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}sortColsLikeCols(e){if(!e||e.length<=1)return;e.filter((e=>this.cols.list.indexOf(e)<0)).length>0||e.sort(((e,t)=>this.cols.list.indexOf(e)-this.cols.list.indexOf(t)))}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const i=this.columnFactory.addColumnDefaultAndTypes(n,e.getColId());return e.setColDef(i,n,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach((e=>e())),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,n){S7(this.cols?.list,e,t),this.visibleColsService.refresh(n)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list:this.lastOrder=this.cols?.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort(((e,t)=>this.lastOrder.indexOf(e)-this.lastOrder.indexOf(t))):this.lastOrder&&e.sort(((e,t)=>this.cols.list.indexOf(e)-this.cols.list.indexOf(t)));const t=this.funcColsService.getRowGroupColumns(),n=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,n)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){return this.colDefCols?.treeDepth>0}setColSpanActive(){this.colSpanActive=this.cols.list.some((e=>null!=e.getColDef().colSpan))}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.ready&&(this.refreshCols(),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return!e||!this.gos.get("treeData")||(d9("Pivot mode not available with treeData."),!1)}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!B7(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(!0,e))}setColumnDefs(e,t){const n=!!this.colDefs;this.colDefs=e,this.createColsFromColDefs(n,t)}destroy(){M9(this.context,this.colDefCols?.tree),M9(this.context,this.autoCols?.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){return this.colDefCols?.list?this.colDefCols.list:null}getCols(){return this.cols?.list??[]}getAllCols(){const e=this.pivotResultColsService.getPivotResultCols(),t=e?.list;return[].concat(this.colDefCols?.list||[],this.autoCols?.list||[],t||[])}getColsForKeys(e){if(!e)return[];return e.map((e=>this.getCol(e))).filter((e=>null!=e))}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return null==e?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(null==t)return null;const{map:n,list:i}=t;if("string"==typeof e&&n[e])return n[e];for(let r=0;r<i.length;r++)if(E9(i[r],e))return i[r];return this.getAutoCol(e)}getAutoCol(e){return null==this.autoCols?null:this.autoCols.list.find((t=>E9(t,e)))||null}getAutoCols(){return this.autoCols?.list||null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const n of t){if(!n)continue;const t=n.getGroupRowCount()||0;for(let i=0;i<t;i++){const t=n.getGroupRowCtrlAtIndex(i),r=e[i];if(t){const n=this.getColumnGroupHeaderRowHeight(t);(null==r||n>r)&&(e[i]=n)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let n=0;const i=e.getHeaderCtrls();for(const r of i){const e=r.getColumn();if(e.isAutoHeaderHeight()){const t=e.getAutoHeaderHeight();null!=t&&t>n&&(n=t)}}return Math.max(t,n)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.visibleColsService.getAllCols().filter((e=>e.isAutoHeaderHeight())).map((e=>e.getAutoHeaderHeight()||0));return Math.max(e,...t)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if("fitCellContents"!==e?.type)return;const{colIds:t,skipHeader:n}=e;setTimeout((()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:n,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",n)}))}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}};function A9(e){return"gridOptionsUpdated"===e?"gridOptionsChanged":e}function E9(e,t){const n=e===t,i=e.getColDef()===t,r=e.getColId()==t;return n||i||r}var I9=class extends k7{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.autoSizeCols(e)));const{colKeys:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:r,source:o="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered())return this.timesDelayed++,void setTimeout((()=>this.autoSizeCols(e)));this.timesDelayed=0;const s=[];let a=-1;const l=null!=n?n:this.gos.get("skipHeaderOnAutoSize"),u=null!=i?i:l;for(;0!==a;){a=0;const e=[];t.forEach((t=>{if(!t)return;const n=this.columnModel.getCol(t);if(!n)return;if(s.indexOf(n)>=0)return;const i=this.autoWidthCalculator.getPreferredWidthForColumn(n,l);if(i>0){const e=this.normaliseColumnWidth(n,i);n.setActualWidth(e,o),s.push(n),a++}e.push(n)})),e.length&&this.visibleColsService.refresh(o)}u||this.autoSizeColumnGroupsByColumns(t,o,r),this.eventDispatcher.columnResized(s,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const i=new Set;let r;this.columnModel.getColsForKeys(e).forEach((e=>{let t=e.getParent();for(;t&&t!=n;)t.isPadding()||i.add(t),t=t.getParent()}));for(const o of i){for(const e of this.ctrlsService.getHeaderRowContainerCtrls())if(r=e.getHeaderCtrlForColumn(o),r)break;r&&r.resizeLeafColumnsToFit(t)}return[]}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.autoSizeAllColumns(e,t)));const n=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:n,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const n=e.getMinWidth();t<n&&(t=n);const i=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=i),t}},k9=class extends k7{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>C7(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>C7(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>C7(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupCols.slice(0);const n=this.columnModel.getColDefCol(t);return n?[n]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return B7(this.rowGroupCols)}setColumnAggFunc(e,t,n){if(!e)return;const i=this.columnModel.getColDefCol(e);i&&(i.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[i],n))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,((e,n)=>this.setRowGroupActive(e,n,t)),t)}setRowGroupActive(e,t,n){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,n),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,n),e||this.gos.get("suppressMakeColumnVisibleAfterUnGroup")||this.columnModel.setColsVisible([t],!0,n))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,(e=>this.setRowGroupActive(!0,e,t)),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,(e=>this.setRowGroupActive(!1,e,t)),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,(e=>e.setPivotActive(!0,t)),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,((e,n)=>{n.setPivotActive(e,t)}),t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,(e=>e.setPivotActive(!1,t)),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,((e,n)=>this.setValueActive(e,n,t)),t)}setValueActive(e,t,n){if(e!==t.isValueActive()&&(t.setValueActive(e,n),e&&!t.getAggFunc()&&this.aggFuncService)){const e=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(e)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,(e=>this.setValueActive(!0,e,t)),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,(e=>this.setValueActive(!1,e,t)),"columnValueChanged",t)}moveRowGroupColumn(e,t,n){if(this.isRowGroupEmpty())return;const i=this.rowGroupCols[e],r=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,i),this.eventDispatcher.rowGroupChanged(r,n)}setColList(e,t,n,i,r,o,s){if(B7(this.columnModel.getCols()))return;const a=new Map;t.forEach(((e,t)=>a.set(e,t))),t.length=0,O7(e)&&e.forEach((e=>{const n=this.columnModel.getColDefCol(e);n&&t.push(n)})),t.forEach(((e,t)=>{const n=a.get(e);void 0!==n?i&&n!==t||a.delete(e):a.set(e,0)}));(this.columnModel.getColDefCols()||[]).forEach((e=>{const n=t.indexOf(e)>=0;o(n,e)})),r&&this.columnModel.refreshCols(),this.visibleColsService.refresh(s),this.eventDispatcher.columnChanged(n,[...a.keys()],s)}updateColList(e,t,n,i,r,o,s){if(!e||B7(e))return;let a=!1;const l=new Set;e.forEach((e=>{if(!e)return;const i=this.columnModel.getColDefCol(e);if(i){if(l.add(i),n){if(t.indexOf(i)>=0)return;t.push(i)}else{const e=t.indexOf(i);if(e<0)return;for(let n=e+1;n<t.length;n++)l.add(t[n]);C7(t,i)}r(i),a=!0}})),a&&(i&&this.columnModel.refreshCols(),this.visibleColsService.refresh(s),this.eventDispatcher.genericColumnEvent(o,Array.from(l),s))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,((t,n)=>t.setValueActive(n,e)),(()=>{}),(()=>{}),(e=>{const t=e.aggFunc;return null===t||""===t?null:void 0!==t?!!t:void 0}),(e=>null!=e.initialAggFunc&&""!=e.initialAggFunc)),this.valueCols.forEach((e=>{const t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?e.setAggFunc(t.aggFunc):e.getAggFunc()||e.setAggFunc(t.initialAggFunc)}))}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,((t,n)=>t.setRowGroupActive(n,e)),(e=>e.rowGroupIndex),(e=>e.initialRowGroupIndex),(e=>e.rowGroup),(e=>e.initialRowGroup))}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,((t,n)=>t.setPivotActive(n,e)),(e=>e.pivotIndex),(e=>e.initialPivotIndex),(e=>e.pivot),(e=>e.initialPivot))}extractColsCommon(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach((n=>{const u=e.indexOf(n)<0,c=n.getColDef(),d=z7(o(c)),h=z7(s(c)),p=V7(i(c)),g=V7(r(c));let f;if(f=void 0!==d?d:void 0!==p?null!==p&&p>=0:u?void 0!==h?h:!!(void 0!==g)&&(null!=g&&g>=0):t.indexOf(n)>=0,f){(u?null!=p||null!=g:null!=p)?a.push(n):l.push(n)}}));const u=e=>{const t=i(e.getColDef()),n=r(e.getColDef());return null!=t?t:n};a.sort(((e,t)=>{const n=u(e),i=u(t);return n===i?0:n<i?-1:1}));const c=[].concat(a);return t.forEach((e=>{l.indexOf(e)>=0&&c.push(e)})),l.forEach((e=>{c.indexOf(e)<0&&c.push(e)})),t.forEach((e=>{c.indexOf(e)<0&&n(e,!1)})),c.forEach((e=>{t.indexOf(e)<0&&n(e,!0)})),c}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},i=(e,t,i,r,o,s)=>{const a=this.columnModel.getColDefCols();if(!t.length||!a)return[];const l=Object.keys(e),u=new Set(l),c=new Set(l),d=new Set(t.map((e=>{const t=e.getColId();return c.delete(t),t})).concat(l)),h=[],p={};let g=0;for(let n=0;n<a.length;n++){const e=a[n].getColId();d.has(e)&&(h.push(e),p[e]=g++)}let f=1e3,m=!1,v=0;const y=t=>{const n=p[t];for(let i=v;i<n;i++){const t=h[i];c.has(t)&&(e[t][o]=f++,c.delete(t))}v=n};t.forEach((t=>{const a=t.getColId();if(u.has(a))y(a),e[a][o]=f++;else{const l=t.getColDef();if(null===l[o]||void 0===l[o]&&null==l[s]){if(!m){l[i]||void 0===l[i]&&l[r]?y(a):(c.forEach((t=>{e[t][o]=f+p[t]})),f+=h.length,m=!0)}n[a]||(n[a]={colId:a}),n[a][o]=f++}}}))};return i(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),i(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(n)}},F9=class extends k7{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const n=this.columnModel.getColDefCols()||[];if(B7(n))return!1;if(e&&e.state&&!e.state.forEach)return d9("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const i=this.funcColsService.getModifyColumnsNoEventsCallbacks(),r=(n,r,o)=>{const s=this.compareColumnStatesAndDispatchEvents(t),a=r.slice(),l={},u={},c=[],d=[];let h=0;const p=this.funcColsService.getRowGroupColumns().slice(),g=this.funcColsService.getPivotColumns().slice();n.forEach((n=>{const r=n.colId||"";if(r.startsWith(b9))return c.push(n),void d.push(n);const s=o(r);s?(this.syncColumnWithStateItem(s,n,e.defaultState,l,u,!1,t,i),C7(a,s)):(d.push(n),h+=1)}));const f=n=>this.syncColumnWithStateItem(n,null,e.defaultState,l,u,!1,t,i);a.forEach(f),this.funcColsService.sortRowGroupColumns(L9.bind(this,l,p)),this.funcColsService.sortPivotColumns(L9.bind(this,u,g)),this.columnModel.refreshCols();const m=(this.columnModel.getAutoCols()||[]).slice();return c.forEach((n=>{const r=this.columnModel.getAutoCol(n.colId);C7(m,r),this.syncColumnWithStateItem(r,n,e.defaultState,null,null,!0,t,i)})),m.forEach(f),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),s(),{unmatchedAndAutoStates:d,unmatchedCount:h}};this.columnAnimationService.start();let{unmatchedAndAutoStates:o,unmatchedCount:s}=r(e.state||[],n,(e=>this.columnModel.getColDefCol(e)));if(o.length>0||O7(e.defaultState)){const e=this.pivotResultColsService.getPivotResultCols(),t=e?.list;s=r(o,t||[],(e=>this.pivotResultColsService.getPivotResultCol(e))).unmatchedCount}return this.columnAnimationService.finish(),0===s}resetColumnState(e){if(B7(this.columnModel.getColDefCols()))return;const t=S9(this.columnModel.getColDefColTree()),n=[];let i=1e3,r=1e3,o=[];const s=this.columnModel.getAutoCols();s&&(o=o.concat(s)),t&&(o=o.concat(t)),o.forEach((e=>{const t=this.getColumnStateFromColDef(e);N7(t.rowGroupIndex)&&t.rowGroup&&(t.rowGroupIndex=i++),N7(t.pivotIndex)&&t.pivot&&(t.pivotIndex=r++),n.push(t)})),this.applyColumnState({state:n,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(e,t)=>null!=e?e:null!=t?t:null,n=e.getColDef(),i=t(n.sort,n.initialSort),r=t(n.sortIndex,n.initialSortIndex),o=t(n.hide,n.initialHide),s=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let u=t(n.rowGroupIndex,n.initialRowGroupIndex),c=t(n.rowGroup,n.initialRowGroup);null!=u||null!=c&&0!=c||(u=null,c=null);let d=t(n.pivotIndex,n.initialPivotIndex),h=t(n.pivot,n.initialPivot);null!=d||null!=h&&0!=h||(d=null,h=null);const p=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:r,hide:o,pinned:s,width:a,flex:l,rowGroup:c,rowGroupIndex:u,pivot:h,pivotIndex:d,aggFunc:p}}syncColumnWithStateItem(e,t,n,i,r,o,s,a){if(!e)return;const l=(e,i)=>{const r={value1:void 0,value2:void 0};let o=!1;return t&&(void 0!==t[e]&&(r.value1=t[e],o=!0),O7(i)&&void 0!==t[i]&&(r.value2=t[i],o=!0)),!o&&n&&(void 0!==n[e]&&(r.value1=n[e]),O7(i)&&void 0!==n[i]&&(r.value2=n[i])),r},u=l("hide").value1;void 0!==u&&e.setVisible(!u,s);const c=l("pinned").value1;void 0!==c&&e.setPinned(c);const d=e.getColDef().minWidth??20,h=l("flex").value1;if(void 0!==h&&e.setFlex(h),null==h){const t=l("width").value1;null!=t&&null!=d&&t>=d&&e.setActualWidth(t,s)}const p=l("sort").value1;void 0!==p&&("desc"===p||"asc"===p?e.setSort(p,s):e.setSort(void 0,s));const g=l("sortIndex").value1;if(void 0!==g&&e.setSortIndex(g),o||!e.isPrimary())return;const f=l("aggFunc").value1;void 0!==f&&("string"===typeof f?(e.setAggFunc(f),e.isValueActive()||(e.setValueActive(!0,s),a.addValueCol(e))):(O7(f)&&d9("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,s),a.removeValueCol(e))));const{value1:m,value2:v}=l("rowGroup","rowGroupIndex");void 0===m&&void 0===v||("number"===typeof v||m?(e.isRowGroupActive()||(e.setRowGroupActive(!0,s),a.addGroupCol(e)),i&&"number"===typeof v&&(i[e.getId()]=v)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,s),a.removeGroupCol(e)));const{value1:y,value2:w}=l("pivot","pivotIndex");void 0===y&&void 0===w||("number"===typeof w||y?(e.isPivotActive()||(e.setPivotActive(!0,s),a.addPivotCol(e)),r&&"number"===typeof w&&(r[e.getId()]=w)):e.isPivotActive()&&(e.setPivotActive(!1,s),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach((e=>{null!=e.colId&&t.push(e.colId)})),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},n=this.columnGetStateService.getColumnState(),i={};return n.forEach((e=>{i[e.colId]=e})),()=>{const r=this.columnModel.getAllCols(),o=(t,n,i,r)=>{if(y7(n.map(r),i.map(r)))return;const o=new Set(n);i.forEach((e=>{o.delete(e)||o.add(e)}));const s=[...o];this.eventService.dispatchEvent({type:t,columns:s,column:1===s.length?s[0]:null,source:e})},s=e=>{const t=[];return r.forEach((n=>{const r=i[n.getColId()];r&&e(r,n)&&t.push(n)})),t},a=e=>e.getColId();o("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),o("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const l=s(((e,t)=>{const n=null!=e.aggFunc,i=n!=t.isValueActive(),r=n&&e.aggFunc!=t.getAggFunc();return i||r}));l.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",l,e);this.eventDispatcher.columnResized(s(((e,t)=>e.width!=t.getActualWidth())),!0,e);this.eventDispatcher.columnPinned(s(((e,t)=>e.pinned!=t.getPinned())),e);this.eventDispatcher.columnVisible(s(((e,t)=>e.hide==t.isVisible())),e);const u=s(((e,t)=>e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex()));u.length>0&&this.sortController.dispatchSortChangedEvents(e,u),this.normaliseColumnMovedEventForColumnState(n,e)}}normaliseColumnMovedEventForColumnState(e,t){const n=this.columnGetStateService.getColumnState(),i={};n.forEach((e=>i[e.colId]=e));const r={};e.forEach((e=>{i[e.colId]&&(r[e.colId]=!0)}));const o=e.filter((e=>r[e.colId])),s=n.filter((e=>r[e.colId])),a=[];s.forEach(((e,t)=>{const n=o&&o[t];if(n&&n.colId!==e.colId){const e=this.columnModel.getCol(n.colId);e&&a.push(e)}})),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},L9=(e,t,n,i)=>{const r=e[n.getId()],o=e[i.getId()],s=null!=r,a=null!=o;if(s&&a)return r-o;if(s)return-1;if(a)return 1;const l=t.indexOf(n),u=t.indexOf(i),c=l>=0;return c&&u>=0?l-u:c?-1:1},O9=class extends k7{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,n){const i=this.columnModel.getCols();if(!i)return;const r=i[e];this.moveColumns([r],t,n)}moveColumns(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=this.columnModel.getCols();if(!r)return;if(this.columnAnimationService.start(),t>r.length-e.length)return d9("tried to insert columns in invalid location, toIndex = ",t),void d9("remember that you should not count the moving columns when calculating the new index");const o=this.columnModel.getColsForKeys(e);!this.doesMovePassRules(o,t)||(this.columnModel.moveInCols(o,t,n),this.eventDispatcher.columnMoved({movedColumns:o,source:n,toIndex:t,finished:i}),this.columnAnimationService.finish())}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){return!!this.doesMovePassMarryChildren(e)&&!!this.doesMovePassLockedPositions(e)}getProposedColumnOrder(e,t){const n=this.columnModel.getCols().slice();return S7(n,e,t),n}doesMovePassLockedPositions(e){const t=this.gos.get("enableRtl");let n=t?1:-1,i=!0;return e.forEach((e=>{const r=(e=>e?"left"===e||!0===e?-1:1:0)(e.getColDef().lockPosition);t?r>n&&(i=!1):r<n&&(i=!1),n=r})),i}doesMovePassMarryChildren(e){let t=!0;return P9(null,this.columnModel.getColTree(),(n=>{if(!o9(n))return;const i=n,r=i.getColGroupDef();if(!(r&&r.marryChildren))return;const o=[];i.getLeafColumns().forEach((t=>{const n=e.indexOf(t);o.push(n)}));Math.max.apply(Math,o)-Math.min.apply(Math,o)>i.getLeafColumns().length-1&&(t=!1)})),t}placeLockedColumns(e){const t=[],n=[],i=[];e.forEach((e=>{const r=e.getColDef().lockPosition;"right"===r?i.push(e):"left"===r||!0===r?t.push(e):n.push(e)}));return this.gos.get("enableRtl")?[...i,...n,...t]:[...t,...n,...i]}},N9=/[&<>"']/g,B9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function G9(e){const t=String.fromCharCode;function n(e,n){return t(e>>n&63|128)}function i(e){if(0==(4294967168&e))return t(e);let i="";return 0==(4294965248&e)?i=t(e>>6&31|192):0==(4294901760&e)?(!function(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),i=t(e>>12&15|224),i+=n(e,6)):0==(4292870144&e)&&(i=t(e>>18&7|240),i+=n(e,12),i+=n(e,6)),i+=t(63&e|128),i}const r=function(e){const t=[];if(!e)return[];const n=e.length;let i,r,o=0;for(;o<n;)i=e.charCodeAt(o++),i>=55296&&i<=56319&&o<n?(r=e.charCodeAt(o++),56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),o--)):t.push(i);return t}(e),o=r.length;let s,a=-1,l="";for(;++a<o;)s=r[a],l+=i(s);return l}function V9(e,t){if(null==e)return null;const n=e.toString().toString();return t?n:n.replace(N9,(e=>B9[e]))}var z9=class extends k7{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t);return n?this.wrapHeaderNameWithAggFunc(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){const i=t?t.getColGroupDef():null;return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,r){const o=e.headerValueGetter;if(o){const s=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:r});return"function"===typeof o?o(s):"string"===typeof o?this.expressionService.evaluate(o,s):(d9("headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?(s=e.field)&&null!=s?s.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map((e=>e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):""))).join(" "):null:"";var s}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const n=e.getColDef().pivotValueColumn;let i,r=null;if(O7(n)){const o=this.funcColsService.getValueColumns(),s=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===o.length,a=void 0!==e.getColDef().pivotTotalColumnIds;if(s&&!a)return t;r=n?n.getAggFunc():null,i=!0}else{const t=e.isValueActive(),n=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();t&&n?(r=e.getAggFunc(),i=!0):i=!1}if(i){const e="string"===typeof r?r:"func";return`${this.localeService.getLocaleTextFunc()(e,e)}(${t})`}return t}},H9=class extends k7{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){M9(this.context,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return null!=this.pivotResultCols}lookupPivotResultCol(e,t){if(null==this.pivotResultCols)return null;const n=this.columnModel.getColDefCol(t);let i=null;return this.pivotResultCols.list.forEach((t=>{const r=t.getColDef().pivotKeys,o=t.getColDef().pivotValueColumn;y7(r,e)&&o===n&&(i=t)})),i}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){if(this.columnModel.isReady()&&(null!=e||null!=this.pivotResultCols)){if(e){this.processPivotResultColDef(e);const n=this.columnFactory.createColumnTree(e,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,t);M9(this.context,this.pivotResultCols?.tree,n.columnTree);const i=n.columnTree,r=n.treeDept,o=S9(i),s={};this.pivotResultCols={tree:i,treeDepth:r,list:o,map:s},this.pivotResultCols.list.forEach((e=>this.pivotResultCols.map[e.getId()]=e)),this.previousPivotResultCols=null}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null;this.columnModel.refreshCols(),this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),n=this.gos.get("processPivotResultColGroupDef");if(!t&&!n)return;const i=e=>{e.forEach((e=>{if(O7(e.children)){const t=e;n&&n(t),i(t.children)}else{t&&t(e)}}))};e&&i(e)}},W9=class extends k7{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,n,i){const r=[];e.forEach((e=>{const n=this.columnModel.getColDefCol(e.key)||this.columnModel.getCol(e.key);if(!n)return;r.push({width:e.newWidth,ratios:[1],columns:[n]});if("shift"===this.gos.get("colResizeDefault")&&(t=!t),t){const t=this.visibleColsService.getColAfter(n);if(!t)return;const i=n.getActualWidth()-e.newWidth,o=t.getActualWidth()+i;r.push({width:o,ratios:[1],columns:[t]})}})),0!==r.length&&this.resizeColumnSets({resizeSets:r,finished:n,source:i})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every((e=>this.checkMinAndMaxWidthsForSet(e))))){if(n){const e=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(e,n,i)}return}const r=[],o=[];t.forEach((e=>{const{width:t,columns:n,ratios:s}=e,a={},l={};n.forEach((e=>o.push(e)));let u=!0,c=0;for(;u;){if(c++,c>1e3){h9("infinite loop in resizeColumnSets");break}u=!1;const e=[];let i=0,r=t;n.forEach(((t,n)=>{if(l[t.getId()])r-=a[t.getId()];else{e.push(t);const r=s[n];i+=r}}));const o=1/i;e.forEach(((n,i)=>{let c;i===e.length-1?c=r:(c=Math.round(s[i]*t*o),r-=c);const d=n.getMinWidth(),h=n.getMaxWidth();c<d?(c=d,l[n.getId()]=!0,u=!0):h>0&&c>h&&(c=h,l[n.getId()]=!0,u=!0),a[n.getId()]=c}))}n.forEach((e=>{const t=a[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,i),r.push(e))}))}));const s=r.length>0;let a=[];s&&(a=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.visibleColsService.setLeftValues(i),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const l=o.concat(a);(s||n)&&this.eventDispatcher.columnResized(l,n,i,a)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:n}=e;let i=0,r=0,o=!0;t.forEach((e=>{const t=e.getMinWidth();i+=t||0;const n=e.getMaxWidth();n>0?r+=n:o=!1}));return n>=i&&(!o||n<=r)}refreshFlexedColumns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const n=this.visibleColsService.getCenterCols();let i=-1;if(e.resizingCols){const t=new Set(e.resizingCols);for(let e=n.length-1;e>=0;e--)if(t.has(n[e])){i=e;break}}let r=0,o=[],s=0,a=0;for(let h=0;h<n.length;h++){n[h].getFlex()&&h>i?(o.push(n[h]),a+=n[h].getFlex(),s+=n[h].getMinWidth()):r+=n[h].getActualWidth()}if(!o.length)return[];let l=[];r+s>this.flexViewportWidth&&(o.forEach((e=>e.setActualWidth(e.getMinWidth(),t))),l=o,o=[]);const u=[];let c;e:for(;;){c=this.flexViewportWidth-r;const e=c/a;for(let n=0;n<o.length;n++){const i=o[n],s=e*i.getFlex();let c=0;const d=i.getMinWidth(),h=i.getMaxWidth();if(s<d?c=d:s>h&&(c=h),c){i.setActualWidth(c,t),w7(o,i),a-=i.getFlex(),l.push(i),r+=i.getActualWidth();continue e}u[n]=Math.floor(s)}break}let d=c;return o.forEach(((e,n)=>{e.setActualWidth(Math.min(u[n],d),t),l.push(e),d-=u[n]})),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,o),o}sizeColumnsToFit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sizeColumnsToFit",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.sizeColumnsToFit(e,t,n,i)));const r={};i&&i?.columnLimits?.forEach((e=>{let{key:t,...n}=e;r["string"===typeof t?t:t.getColId()]=n}));const o=this.visibleColsService.getAllCols(),s=e===x9(o);if(e<=0||!o.length||s)return;const a=[],l=[];o.forEach((e=>{!0===e.getColDef().suppressSizeToFit?l.push(e):a.push(e)}));const u=a.slice(0);let c=!1;const d=e=>{C7(a,e),l.push(e)};for(a.forEach((e=>{e.resetActualWidth(t);const n=r?.[e.getId()],o=n?.minWidth??i?.defaultMinWidth,s=n?.maxWidth??i?.defaultMaxWidth,a=e.getActualWidth();"number"===typeof o&&a<o?e.setActualWidth(o,t,!0):"number"===typeof s&&a>s&&e.setActualWidth(s,t,!0)}));!c;){c=!0;const n=e-x9(l);if(n<=0)a.forEach((e=>{const n=r?.[e.getId()]?.minWidth??i?.defaultMinWidth;"number"!==typeof n?e.setMinimum(t):e.setActualWidth(n,t,!0)}));else{const e=n/x9(a);let o=n;for(let n=a.length-1;n>=0;n--){const s=a[n],l=r?.[s.getId()],u=l?.minWidth??i?.defaultMinWidth,h=l?.maxWidth??i?.defaultMaxWidth,p=s.getMinWidth(),g=s.getMaxWidth(),f="number"===typeof u&&u>p?u:p,m="number"===typeof h&&h<g?h:g;let v=Math.round(s.getActualWidth()*e);v<f?(v=f,d(s),c=!1):v>m?(v=m,d(s),c=!1):0===n&&(v=o),s.setActualWidth(v,t,!0),o-=v}}}u.forEach((e=>{e.fireColumnWidthChangedEvent(t)})),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),n||this.eventDispatcher.columnResized(u,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout((()=>{if("fitGridWidth"===t){const{columnLimits:t,defaultMinWidth:n,defaultMaxWidth:i}=e,r=t?.map((e=>{let{colId:t,minWidth:n,maxWidth:i}=e;return{key:t,minWidth:n,maxWidth:i}}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:i,columnLimits:r})}else"fitProvidedWidth"===t&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")}))}};function U9(e,t){return e+"_"+t}function j9(e){return e instanceof $9}var $9=class extends k7{constructor(e,t,n,i){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=n,this.providedColumnGroup=e,this.pinned=i}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return U9(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every((e=>e.isMoving()))}checkLeft(){if(this.displayedChildren.forEach((e=>{j9(e)&&e.checkLeft()})),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const e=v7(this.displayedChildren).getLeft();this.setLeft(e)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach((t=>{e+=t.getActualWidth()})),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach((t=>{t.isResizable()&&(e=!0)})),e}getMinWidth(){let e=0;return this.displayedChildren.forEach((t=>{e+=t.getMinWidth()})),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach((t=>{i9(t)?e.push(t):j9(t)&&t.addDisplayedLeafColumns(e)}))}addLeafColumns(e){this.children.forEach((t=>{i9(t)?e.push(t):j9(t)&&t.addLeafColumns(e)}))}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;null!=e&&e.isPadding();)e=e.getParent();if(!(!!e&&e.getProvidedColumnGroup().isExpandable()))return this.displayedChildren=this.children,void this.dispatchLocalEvent({type:"displayedChildrenChanged"});this.children.forEach((t=>{if(j9(t)&&(!t.displayedChildren||!t.displayedChildren.length))return;switch(t.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(t);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(t);break;default:this.displayedChildren.push(t)}})),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},K9=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return n="number"!==typeof t?0:t+1,this.existingIds[e]=n,n}},q9=class extends k7{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=X9(this.treeLeft),this.columnsCenter=X9(this.treeCenter),this.columnsRight=X9(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter((e=>e.isAutoHeight())),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols()}updateBodyWidths(){const e=x9(this.columnsCenter),t=x9(this.columnsLeft),n=x9(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e;(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,n;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,n=this.columnsRight?v7(this.columnsRight):null):(t=this.columnsLeft?v7(this.columnsLeft):null,n=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach((i=>{i.setLastLeftPinned(i===t,e),i.setFirstRightPinned(i===n,e)}))}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter((e=>"left"==e.getPinned())),n=e.filter((e=>"right"==e.getPinned())),i=e.filter((e=>"left"!=e.getPinned()&&"right"!=e.getPinned())),r=new K9;this.treeLeft=this.createGroups({columns:t,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:n,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:i,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],n=[],i=[];for(const r of e){const e=r.getPinned();e?!0===e||"left"===e?t.push(r):i.push(r):n.push(r)}this.ariaOrderColumns=t.concat(n).concat(i)}getAriaColIndex(e){let t;return t=j9(e)?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach((e=>{e.forEach((e=>{if(j9(e)){e.checkLeft()}}))}))}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const t=this.columnModel.getCols().slice(0),n=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach((i=>{if(n){let t=x9(i);i.forEach((n=>{t-=n.getActualWidth(),n.setLeft(t,e)}))}else{let t=0;i.forEach((n=>{n.setLeft(t,e),t+=n.getActualWidth()}))}!function(e,t){for(let n=0;n<t.length;n++)w7(e,t[n])}(t,i)})),t.forEach((t=>{t.setLeft(null,e)}))}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,n,i){const r=[];let o=null;for(let s=0;s<t.length;s++){const a=t[s],l=t.length-s,u=Math.min(a.getColSpan(e),l),c=[a];if(u>1){const e=u-1;for(let n=1;n<=e;n++)c.push(t[s+n]);s+=e}let d;if(n?(d=!1,c.forEach((e=>{n(e)&&(d=!0)}))):d=!0,d){if(0===r.length&&o){!!i&&i(a)&&r.push(o)}r.push(a)}o=a}return r}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),n=t.indexOf(e);return n>0?t[n-1]:null}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),r="After"===t?v7(i):i[0],o=`getCol${t}`;for(;;){const t=this[o](r);if(!t)return null;const i=this.getColGroupAtLevel(t,n);if(i!==e)return i}}getColGroupAtLevel(e,t){let n,i,r=e.getParent();for(;;){if(n=r.getProvidedColumnGroup().getLevel(),i=r.getPaddingLevel(),n+i<=t)break;r=r.getParent()}return r}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=e=>{this.colsAndGroupsMap[e.getUniqueId()]=e};Y9(this.treeCenter,!1,e),Y9(this.treeLeft,!1,e),Y9(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){Y9(this.getAllTrees(),!1,(e=>{j9(e)&&e.calculateDisplayedColumns()}))}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const i=this[t[n]]();if(i.length)return e?v7(i):i[0]}return null}getColumnGroup(e,t){if(!e)return null;if(j9(e))return e;const n=this.getAllTrees(),i="number"===typeof t;let r=null;return Y9(n,!1,(n=>{if(j9(n)){const o=n;let s;s=i?e===o.getGroupId()&&t===o.getPartId():e===o.getGroupId(),s&&(r=o)}})),r}getColAfter(e){const t=this.getAllCols(),n=t.indexOf(e);return n<t.length-1?t[n+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return x9(this.columnsLeft)}getDisplayedColumnsRightWidth(){return x9(this.columnsRight)}isColAtEdge(e,t){const n=this.getAllCols();if(!n.length)return!1;const i="first"===t;let r;if(j9(e)){const t=e.getDisplayedLeafColumns();if(!t.length)return!1;r=i?t[0]:v7(t)}else r=e;return(i?n[0]:v7(n))===r}createGroups(e){const{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:r,isStandaloneStructure:o}=e,s=this.mapOldGroupsById(r),a=[];let l=t;for(;l.length;){const e=l;l=[];let t=0;const r=r=>{const u=t;t=r;const c=e[u],d=(j9(c)?c.getProvidedColumnGroup():c).getOriginalParent();if(null==d){for(let t=u;t<r;t++)a.push(e[t]);return}const h=this.createColGroup(d,n,s,i,o);for(let t=u;t<r;t++)h.addChild(e[t]);l.push(h)};for(let n=1;n<e.length;n++){const i=e[n],o=(j9(i)?i.getProvidedColumnGroup():i).getOriginalParent(),s=e[t];o!==(j9(s)?s.getProvidedColumnGroup():s).getOriginalParent()&&r(n)}t<e.length&&r(e.length)}return o||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,n,i,r){const o=e.getGroupId(),s=t.getInstanceIdForKey(o);let a=n[U9(o,s)];return a&&a.getProvidedColumnGroup()!==e&&(a=null),O7(a)?a.reset():(a=new $9(e,o,s,i),r||this.createBean(a)),a}mapOldGroupsById(e){const t={},n=e=>{e.forEach((e=>{if(j9(e)){const i=e;t[e.getUniqueId()]=i,n(i.getChildren())}}))};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach((e=>{if(e.setParent(t),j9(e)){const t=e;this.setupParentsIntoCols(t.getChildren(),t)}}))}};function Y9(e,t,n){if(e)for(let i=0;i<e.length;i++){const r=e[i];if(j9(r)){Y9(t?r.getDisplayedChildren():r.getChildren(),t,n)}n(r)}}function X9(e){const t=[];return Y9(e,!0,(e=>{i9(e)&&t.push(e)})),t}var Z9=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd"],Q9=[...Z9,"scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],J9={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},eee=class{};eee.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],eee.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],eee.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],eee.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],eee.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading"],eee.OTHER_PROPERTIES=["suppressStickyTotalRow"],eee.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"],eee.ALL_PROPERTIES=[...eee.ARRAY_PROPERTIES,...eee.OBJECT_PROPERTIES,...eee.STRING_PROPERTIES,...eee.NUMBER_PROPERTIES,...eee.FUNCTION_PROPERTIES,...eee.BOOLEAN_PROPERTIES,...eee.OTHER_PROPERTIES];var tee=eee,nee=class{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}};nee.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",nee.PUBLIC_EVENTS=Z9,nee.EVENT_CALLBACKS=Q9.map((e=>nee.getCallbackForEvent(e))),nee.BOOLEAN_PROPERTIES=tee.BOOLEAN_PROPERTIES,nee.ALL_PROPERTIES=tee.ALL_PROPERTIES,nee.ALL_PROPERTIES_AND_CALLBACKS=[...nee.ALL_PROPERTIES,...nee.EVENT_CALLBACKS],nee.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(nee.ALL_PROPERTIES_AND_CALLBACKS);var iee=nee;var ree,oee,see,aee,lee,uee,cee,dee,hee,pee=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1)return void t.forEach((e=>this.addCssClass(e)));if(!0!==this.cssClassStates[e]&&e.length){const t=this.getGui();t&&t.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1)return void t.forEach((e=>this.removeCssClass(e)));if(!1!==this.cssClassStates[e]&&e.length){const t=this.getGui();t&&t.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return!!t&&t.classList.contains(e)}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1)return void n.forEach((e=>this.addOrRemoveCssClass(e,t)))}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}};function gee(e,t,n){null==n||"string"===typeof n&&""==n?mee(e,t):fee(e,t,n)}function fee(e,t,n){e.setAttribute(vee(t),n.toString())}function mee(e,t){e.removeAttribute(vee(t))}function vee(e){return`aria-${e}`}function yee(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function wee(e,t){gee(e,"label",t)}function Cee(e,t){gee(e,"labelledby",t)}function bee(e,t){gee(e,"live",t)}function See(e,t){gee(e,"hidden",t)}function xee(e,t){fee(e,"expanded",t)}function Mee(e,t){fee(e,"rowcount",t)}function _ee(e,t){fee(e,"rowindex",t)}function Ree(e,t){fee(e,"colcount",t)}function Dee(e,t){fee(e,"colindex",t)}function Pee(e,t){fee(e,"sort",t)}function Tee(e){mee(e,"sort")}function Aee(e,t){gee(e,"selected",t)}function Eee(e,t){return void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}function Iee(){return void 0===ree&&(ree=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),ree}function kee(){if(void 0===oee)if(Iee()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(oee=null!=e[1]?parseFloat(e[1]):0)}else oee=0;return oee}function Fee(){if(void 0===see){const e=window;see=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return see}function Lee(){return void 0===aee&&(aee=/(firefox)/i.test(navigator.userAgent)),aee}function Oee(){return void 0===lee&&(lee=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),lee}function Nee(){return void 0===uee&&(uee=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),uee}function Bee(){return!Iee()||kee()>=15}function Gee(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return-1!==t||null!==n&&(""!==n||Lee())?t.toString():null}function Vee(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;0===n&&0===t.clientWidth&&(n=null),t.parentNode&&t.parentNode.removeChild(t),null!=n&&(dee=n,cee=0===n)}function zee(){return null==cee&&Vee(),cee}var Hee="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Wee(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),i=t.call(e,Hee),r=ote(e);return n&&!i&&r}function Uee(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||See(e,!t)}function jee(e,t){const n="disabled",i=t?e=>e.setAttribute(n,""):e=>e.removeAttribute(n);i(e),pte(e.querySelectorAll("input"),(e=>i(e)))}function $ee(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof n){if(++i>n)break}else if(e===n)break}return!1}function Kee(e){const{height:t,width:n,borderTopWidth:i,borderRightWidth:r,borderBottomWidth:o,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:c,marginTop:d,marginRight:h,marginBottom:p,marginLeft:g,boxSizing:f}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(c||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(g||"0"),boxSizing:f}}function qee(e){const t=Kee(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function Yee(e){const t=Kee(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function Xee(e){const{height:t,marginBottom:n,marginTop:i}=Kee(e);return Math.floor(t+n+i)}function Zee(e){const{width:t,marginLeft:n,marginRight:i}=Kee(e);return Math.floor(t+n+i)}function Qee(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:r,borderBottomWidth:o}=Kee(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(r||0),bottom:t.bottom+(o||0)}}function Jee(){if("boolean"===typeof hee)return hee;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,hee=0===Math.floor(e.scrollLeft),document.body.removeChild(e),hee}function ete(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n),Fee()&&!Jee()&&(n=e.scrollWidth-e.clientWidth-n)),n}function tte(e,t,n){n&&(Jee()?t*=-1:(Iee()||Fee())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function nte(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function ite(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function rte(e){return!!e.offsetParent}function ote(e){const t=e;if(t.checkVisibility)return t.checkVisibility({checkVisibilityCSS:!0});return!(!rte(e)||"visible"!==window.getComputedStyle(e).visibility)}function ste(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function ate(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):lte(e,t)}function lte(e,t){t=cte(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function ute(e,t){t=cte(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function cte(e){return"number"===typeof e?`${e}px`:e}function dte(e){return e instanceof Node||e instanceof HTMLElement}function hte(e,t,n){null==n||""===n?e.removeAttribute(t):e.setAttribute(t,n.toString())}function pte(e,t){if(null!=e)for(let n=0;n<e.length;n++)t(e[n])}var gte=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},fte=class e extends k7{constructor(e,t,n,i){super(),this.parentComp=e,this.tooltipShowDelayOverride=t,this.tooltipHideDelayOverride=n,this.shouldDisplayTooltip=i,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupService=e.popupService,this.userComponentFactory=e.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.parentComp.getGui();0===this.tooltipTrigger&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),1===this.tooltipTrigger&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return t<0&&d9(`${e} should not be lower than 0`),Math.max(200,t)}getTooltipDelay(e){return"show"===e?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return e&&"hover"!==e?1:0}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),Nee()||(e.isLocked?this.showTooltipTimeoutId=window.setTimeout((()=>{this.prepareToShowTooltip(t)}),100):this.prepareToShowTooltip(t))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,n=this.parentComp.getGui(),i=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&i?.contains(t)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(t){if(0!=this.state||e.isLocked)return;let n=0;t&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=1}isLastTooltipHiddenRecently(){return(new Date).getTime()-e.lastTooltipHideTime<1e3}setToDoNothing(e){e||2!==this.state||this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e={...this.parentComp.getTooltipParams()};if(!O7(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())return void this.setToDoNothing();this.state=2,this.tooltipInstanceCount++;const t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(t)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=(new Date).getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(2!==this.state||this.tooltipInstanceCount!==e)return void this.destroyBean(t);const n=t.getGui();this.tooltipComp=t,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");const i=this.localeService.getLocaleTextFunc(),r=this.popupService.addPopup({eChild:n,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltip(),1===this.tooltipTrigger){const e=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:e,columnMoved:e})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(n,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),1===this.tooltipTrigger&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(n,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:n,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=this.gos.getActiveDomElement();return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...e,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=0===this.tooltipTrigger?1e3:0;window.setTimeout((()=>{e(),this.destroyBean(t)}),n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach((e=>{e&&e()})),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){e.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout((()=>{this.unlockService(),this.setToDoNothing()}),100)}unlockService(){e.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};fte.isLocked=!1;var mte=fte,vte=class extends k7{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",n=this.ctrl.getGui();n&&(null!=e&&""!=e?n.setAttribute(t,e):n.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){if(null!=this.tooltipManager)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new mte(e,this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,t=e.getColumn?.(),n=e.getColDef?.(),i=e.getRowNode?.();return{location:e.getLocation(),colDef:n,column:t,rowIndex:e.getRowIndex?.(),node:i,data:i?.data,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?.(),hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},yte=new gte,wte=null,Cte=class e extends k7{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=yte.next(),this.cssClassManager=new pee((()=>this.eGui)),this.componentSelectors=new Map((t??[]).map((e=>[e.selector,e]))),e&&this.setTemplate(e)}preWireBeans(e){super.preWireBeans(e)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){const{newTooltipText:t,showDelayOverride:n,hideDelayOverride:i,location:r,shouldDisplayTooltip:o}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==t&&(this.tooltipText=t);const s=()=>this.tooltipText;null!=t&&(this.tooltipFeature=this.createBean(new vte({getTooltipValue:s,getGui:()=>this.getGui(),getLocation:()=>r??"UNKNOWN",getColDef:e?.getColDef,getColumn:e?.getColumn,getTooltipShowDelayOverride:null!=n?()=>n:void 0,getTooltipHideDelayOverride:null!=i?()=>i:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(void 0===t&&(t=this.getDataRefAttribute(e)),t){const r=this[t];if(r===wte)this[t]=i??e;else{const e=n&&n[t];this.suppressDataRefValidation||e||d9(`Issue with data-ref: ${t} on ${this.constructor.name} with ${r}`)}}}createChildComponentsFromTags(e,t){(function(e){if(null==e)return[];const t=[];return pte(e,(e=>t.push(e))),t})(e.childNodes).forEach((n=>{if(!(n instanceof HTMLElement))return;const i=this.createComponentFromElement(n,(e=>{e.getGui()&&this.copyAttributesFromNode(n,e.getGui())}),t);if(i){if(i.addItems&&n.children.length){this.createChildComponentsFromTags(n,t);const e=Array.prototype.slice.call(n.children);i.addItems(e)}this.swapComponentForNode(i,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,t)}))}createComponentFromElement(t,n,i){const r=t.nodeName,o=this.getDataRefAttribute(t),s=0===r.indexOf("AG-"),a=s?this.componentSelectors.get(r):null;let l=null;if(a){e.elementGettingCreated=t;const r=i&&o?i[o]:void 0;l=new a.component(r),l.setParentComponent(this),this.createBean(l,null,n)}else s&&d9(`Missing selector: ${r}`);return this.applyElementsToComponent(t,o,i,l),l}copyAttributesFromNode(e,t){!function(e,t){if(e)for(let n=0;n<e.length;n++){const i=e[n];t(i.name,i.value)}}(e.attributes,((e,n)=>t.setAttribute(e,n)))}swapComponentForNode(e,t,n){const i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach((e=>e.setAttribute("tabindex",t.toString())))}setTemplate(e,t,n){const i=ste(e);this.setTemplateFromElement(i,t,n)}setTemplateFromElement(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let r=0;r<t.length;r++){const e=t[r];this.componentSelectors.set(e.selector,e)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return null==e?null:(n||(n=this.eGui),dte(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};n&&i&&i.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};n&&i&&i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||See(e,!t)}(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;Uee(this.eGui,e,{skipAriaHidden:n});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc((()=>this.eGui.removeEventListener(e,t)))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}},bte={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},Ste=(()=>{const e=new Set(Object.values(bte));return e.add("eye"),e})();function xte(e,t,n,i){let r=null;const o=n&&n.getColDef().icons;if(o&&(r=o[e]),t&&!r){const n=t.get("icons");n&&(r=n[e])}if(!r){const t=document.createElement("span");let n=bte[e]??(Ste.has(e)?e:void 0);return n||(i?n=e:(d9(`Did not find icon ${e}`),n="")),t.setAttribute("class",`ag-icon ag-icon-${n}`),t.setAttribute("unselectable","on"),yee(t,"presentation"),t}{let e;if("function"===typeof r)e=r();else{if("string"!==typeof r)throw new Error("icon from grid options needs to be a string or a function");e=r}if("string"===typeof e)return ste(e);if(dte(e))return e;d9("iconRenderer should return back a string or a dom object")}}function Mte(e,t,n){if(0===n)return!1;const i=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(i,r)<=n}var _te=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new m7,this.eElement=e,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",i,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push((()=>{this.eElement.removeEventListener("touchstart",n,{passive:!0}),this.eElement.removeEventListener("touchmove",i,{passive:!0}),this.eElement.removeEventListener("touchend",r,{passive:!1})}))}getActiveTouch(e){for(let t=0;t<e.length;t++){if(e[t].identifier===this.touchStart.identifier)return e[t]}return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout((()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const t={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(t)}}),500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!Mte(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const e={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0){if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const e={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(e),this.lastTapTime=null}else this.lastTapTime=e}else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach((e=>e()))}};function Rte(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var Dte=`<span class="ag-sort-indicator-container">\n        ${Rte("Order","order")}\n        ${Rte("Asc","ascending-icon")}\n        ${Rte("Desc","descending-icon")}\n        ${Rte("Mixed","mixed-icon")}\n        ${Rte("None","none-icon")}\n    </span>`,Pte=class extends Cte{constructor(e){super(),this.eSortOrder=wte,this.eSortAsc=wte,this.eSortDesc=wte,this.eSortMixed=wte,this.eSortNone=wte,e||this.setTemplate(Dte)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,n,i,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=r}setupSort(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,n){if(null==t)return;const i=xte(e,this.gos,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t="asc"===e;Uee(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t="desc"===e;Uee(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),n=null===e||void 0===e;Uee(this.eSortNone,!t&&n,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gos.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e="mixed"===this.sortController.getDisplaySortForColumn(this.column);Uee(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,n=e.some((e=>this.sortController.getDisplaySortIndexForColumn(e)??!1)),i=t>=0&&n;Uee(this.eSortOrder,i,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():nte(this.eSortOrder)}},Tte={selector:"AG-SORT-INDICATOR",component:Pte},Ate=class extends Cte{constructor(){super(...arguments),this.eFilter=wte,this.eFilterButton=wte,this.eSortIndicator=wte,this.eMenu=wte,this.eLabel=wte,this.eText=wte,this.eSortOrder=wte,this.eSortAsc=wte,this.eSortDesc=wte,this.eSortMixed=wte,this.eSortNone=wte,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&t.enableFilterButton==e.enableFilterButton&&t.enableFilterIcon==e.enableFilterIcon&&(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??'<div class="ag-cell-label-container" role="presentation">\n        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">\n            <span data-ref="eText" class="ag-header-cell-text"></span>\n            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>\n        </div>\n    </div>';return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[Tte]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=V9(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,n){if(null==t)return;const i=xte(e,this.gos,n);i&&t.appendChild(i)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new _te(this.getGui(),!0),n=this.shouldSuppressMenuHide(),i=n&&O7(this.eMenu),r=i?new _te(this.eMenu,!0):t;if(this.params.enableMenu){const e=i?"tap":"longTap",t=e=>this.params.showColumnMenuAfterMouseClick(e.touchStart);this.addManagedListeners(r,{[e]:t})}if(this.params.enableSorting){const e=e=>{const t=e.touchStart.target;n&&(this.eMenu?.contains(t)||this.eFilterButton?.contains(t))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:e})}if(this.params.enableFilterButton){const e=new _te(this.eFilterButton,!0);this.addManagedListeners(e,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc((()=>e.destroy()))}this.addDestroyFunc((()=>t.destroy())),i&&this.addDestroyFunc((()=>r.destroy()))}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return ite(this.eMenu),void(this.eMenu=void 0);const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,n=this.menuService.isLegacyMenuEnabled();if(e&&!n){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new Pte(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=(new Date).getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:e=>{const t=this.params.column.isMoving(),n=(new Date).getTime()-this.lastMovingChanged<50;if(!(t||n)){const t="ctrl"===this.gos.get("multiSortKey")?e.ctrlKey||e.metaKey:e.shiftKey;this.params.progressSort(t)}}});const e=()=>{const e=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc","asc"===e),this.addOrRemoveCssClass("ag-header-cell-sorted-desc","desc"===e),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!e),this.params.column.getColDef().showRowGroup){const e=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),t=e?.every((e=>this.params.column.getSort()==e.getSort())),n=!t;this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",n)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,n){if(!e)return ite(t),!1;const i=this.params.column;return this.addInIcon("filter",t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Uee(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},Ete=class extends Cte{constructor(){super('<div class="ag-header-group-cell-label" role="presentation">\n            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>'),this.agOpened=wte,this.agClosed=wte,this.agLabel=wte}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&d9("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=e=>{if(T7(e))return;const t=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),t,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=e=>{P7(e)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const n=this.params.columnGroup.getProvidedColumnGroup(),i=this.updateIconVisibility.bind(this);this.addManagedListeners(n,{expandedChanged:i,expandableChanged:i})}addTouchAndClickListeners(e,t){const n=new _te(e,!0);this.addManagedListeners(n,{tap:t}),this.addDestroyFunc((()=>n.destroy())),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const e=this.params.columnGroup.isExpanded();Uee(this.agOpened,e),Uee(this.agClosed,!e)}else Uee(this.agOpened,!1),Uee(this.agClosed,!1)}addInIcon(e,t){const n=xte(e,this.gos,null);n&&t.appendChild(n)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return Uee(this.agOpened,!1),void Uee(this.agClosed,!1)}setupLabel(){const{displayName:e,columnGroup:t}=this.params;if(O7(e)){const t=V9(e,!0);this.agLabel.textContent=t}this.addOrRemoveCssClass("ag-sticky-label",!t.getColGroupDef()?.suppressStickyLabel)}},Ite=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(Ite||{}),kte=class e{static register(t){e.__register(t,!0,void 0)}static registerModules(t){e.__registerModules(t,!0,void 0)}static __register(t,n,i){e.runVersionChecks(t),void 0!==i?(e.areGridScopedModules=!0,void 0===e.gridModulesMap[i]&&(e.gridModulesMap[i]={}),e.gridModulesMap[i][t.moduleName]=t):e.globalModulesMap[t.moduleName]=t,e.setModuleBased(n)}static __unRegisterGridModules(t){delete e.gridModulesMap[t]}static __registerModules(t,n,i){e.setModuleBased(n),t&&t.forEach((t=>e.__register(t,n,i)))}static isValidModuleVersion(t){const[n,i]=t.version.split(".")||[],[r,o]=e.currentModuleVersion.split(".")||[];return n===r&&i===o}static runVersionChecks(t){e.currentModuleVersion||(e.currentModuleVersion=t.version);const n=e=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${e} Please update all modules to the same version.`;if(t.version?e.isValidModuleVersion(t)||h9(n(`'${t.moduleName}' is version ${t.version} but the other modules are version ${e.currentModuleVersion}.`)):h9(n(`'${t.moduleName}' is incompatible.`)),t.validate){const e=t.validate();if(!e.isValid){h9(`${e.message}`)}}}static setModuleBased(t){void 0===e.moduleBased?e.moduleBased=t:e.moduleBased!==t&&(h9("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),h9("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){e.isBundled=!0}static __assertRegistered(t,n,i){if(this.__isRegistered(t,i))return!0;let r;if(e.isBundled)r=`AG Grid: unable to use ${n} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(e.moduleBased||void 0===e.moduleBased){const o=Object.entries(Ite).find((e=>{let[n,i]=e;return i===t}))?.[0];r=`AG Grid: unable to use ${n} as the ${o} is not registered${e.areGridScopedModules?` for gridId: ${i}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${o} } from '${t}';\n    \n    ModuleRegistry.registerModules([ ${o} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else r=`AG Grid: unable to use ${n} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';`;return h9(r),!1}static __isRegistered(t,n){return!!e.globalModulesMap[t]||!!e.gridModulesMap[n]?.[t]}static __getRegisteredModules(t){return[...j7(e.globalModulesMap),...j7(e.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return j7(e.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!e.moduleBased}};kte.globalModulesMap={},kte.gridModulesMap={},kte.areGridScopedModules=!1;var Fte=kte,Lte=class extends Cte{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const n=document.createElement("span");n.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(n),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),i=e.formatValue(n),r=O7(i)?i:n,o=t>=0;this.eDelta.textContent=o?"\u2191"+r:"\u2193"+r,this.eDelta.classList.toggle("ag-value-change-delta-up",o),this.eDelta.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{e===this.refreshCount&&this.hideDeltaValue()}),2e3)}))}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),nte(this.eDelta)}refresh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.value;if(n===this.lastValue)return!1;if(O7(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:O7(e.value)?this.eValue.textContent=n:nte(this.eValue),this.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"===typeof n&&"number"===typeof this.lastValue){const t=n-this.lastValue;this.showDelta(e,t)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},Ote=class extends Cte{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)}),3e3)}))}refresh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.value;return N7(n)&&(n=""),n!==this.lastValue&&(!this.filterManager?.isSuppressFlashingCellsBecauseFiltering()&&(t||this.addSlideAnimation(),this.lastValue=n,O7(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:O7(e.value)?this.eCurrent.textContent=n:nte(this.eCurrent),!0))}},Nte=class{};Nte.BACKSPACE="Backspace",Nte.TAB="Tab",Nte.ENTER="Enter",Nte.ESCAPE="Escape",Nte.SPACE=" ",Nte.LEFT="ArrowLeft",Nte.UP="ArrowUp",Nte.RIGHT="ArrowRight",Nte.DOWN="ArrowDown",Nte.DELETE="Delete",Nte.F2="F2",Nte.PAGE_UP="PageUp",Nte.PAGE_DOWN="PageDown",Nte.PAGE_HOME="Home",Nte.PAGE_END="End",Nte.A="KeyA",Nte.C="KeyC",Nte.D="KeyD",Nte.V="KeyV",Nte.X="KeyX",Nte.Y="KeyY",Nte.Z="KeyZ";var Bte=class extends Cte{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:r}=this.config;null!=r&&this.setDisabled(r),null!=e&&this.setLabelSeparator(e),null!=t&&this.setLabel(t),null!=n&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){nte(this.eLabel),"string"===typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(Uee(this.eLabel,!1),yee(this.eLabel,"presentation")):(Uee(this.eLabel,!0),yee(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e||(this.label=e,this.refreshLabel()),this}setLabelAlignment(e){const t=this.getGui().classList;return t.toggle("ag-label-align-left","left"===e),t.toggle("ag-label-align-right","right"===e),t.toggle("ag-label-align-top","top"===e),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return null==this.label||ate(this.eLabel,e),this}setDisabled(e){e=!!e;const t=this.getGui();return jee(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},Gte=class extends Bte{constructor(e,t,n,i){super(e,t,n),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;null!=e&&this.setWidth(e),null!=t&&this.setValue(t),null!=n&&this.onValueChange(n),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();null==n||""==n||null!==e.getAttribute("aria-label")?Cee(e,""):Cee(e,t??"")}setAriaLabel(e){return wee(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return lte(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e||(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}},Vte=class extends Gte{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"input";super(e,e?.template??`\n            <div role="presentation">\n                <div data-ref="eLabel" class="ag-input-field-label"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${i} data-ref="eInput" class="ag-input-field-input"></${i}>\n                </div>\n            </div>`,[],t),this.inputType=n,this.displayFieldTag=i,this.eLabel=wte,this.eWrapper=wte,this.eInput=wte}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;null!=e&&this.setInputName(e),null!=t&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return ate(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){return this.eInput.maxLength=e,this}setInputPlaceholder(e){return hte(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return wee(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return jee(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(!0===e)hte(this.eInput,"autocomplete",null);else{const t="string"===typeof e?e:"off";hte(this.eInput,"autocomplete",t)}return this}},zte=class extends Vte{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ag-checkbox",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"checkbox"),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;"boolean"===typeof e&&this.setReadOnly(e),"boolean"===typeof t&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return void 0===this.selected||!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){return this.getInputElement().name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"===typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const i=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)}},Hte={selector:"AG-CHECKBOX",component:zte},Wte=class extends Cte{constructor(){super('\n            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[Hte]),this.eCheckbox=wte}init(e){this.params=e,this.updateCheckbox(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),bee(t,"polite"),this.addManagedListeners(t,{click:e=>{if(P7(e),this.eCheckbox.isDisabled())return;const t=this.eCheckbox.getValue();this.onCheckboxChanged(t)},dblclick:e=>{P7(e)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:e=>{if(e.key===Nte.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===this.gos.getActiveDomElement()&&this.eCheckbox.toggle();const t=this.eCheckbox.getValue();this.onCheckboxChanged(t),e.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;if(e.node.group&&e.column)if("boolean"===typeof e.value)t=e.value;else{const i=e.column.getColId();i.startsWith(b9)?t=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[i]?t=e.value??void 0:n=!1}else t=e.value??void 0;if(!n)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(t);const i=null!=e.disabled?e.disabled:!e.column?.isCellEditable(e.node);this.eCheckbox.setDisabled(i);const r=this.localeService.getLocaleTextFunc(),o=Eee(r,t),s=i?o:`${r("ariaToggleCellValue","Press SPACE to toggle cell value")} (${o})`;this.eCheckbox.setInputAriaLabel(s)}onCheckboxChanged(e){const{column:t,node:n,value:i}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t?.getColDef(),data:n.data,node:n,rowIndex:n.rowIndex,rowPinned:n.rowPinned,value:i});const r=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t?.getColDef(),data:n.data,node:n,rowIndex:n.rowIndex,rowPinned:n.rowPinned,value:i,oldValue:i,newValue:e,valueChanged:r})}},Ute=class extends Cte{constructor(){super('<div class="ag-loading">\n            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" data-ref="eLoadingText"></span>\n        </div>'),this.eLoadingIcon=wte,this.eLoadingText=wte}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=xte("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},jte=class extends Cte{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc((()=>Cee(e.eParentOfValue))),Cee(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");wee(this.getGui(),t)}setupLoading(e){const t=this.gos.getDocument().createElement("div");t.classList.add("ag-skeleton-effect");const n=e.node.rowIndex;if(null!=n){const e=75+25*(n%2===0?Math.sin(n):Math.cos(n));t.style.width=`${e}%`}this.getGui().appendChild(t);const i=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");wee(this.getGui(),i)}refresh(e){return!1}destroy(){super.destroy()}},$te=class extends Cte{constructor(){super()}destroy(){super.destroy()}},Kte=class extends $te{init(){const e=L7(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const e=this.localeService.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=e("loadingOoo","Loading...")}))}}},qte=class extends $te{init(){const e=L7(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const e=this.localeService.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=e("noRowsToShow","No Rows To Show")}))}}},Yte=class extends Cte{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Xte=class extends Yte{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=V9(t,!0)}};function Zte(e,t,n,i){let r=t.map(((t,n)=>({value:t,relevance:Qte(e.toLowerCase(),t.toLocaleLowerCase()),idx:n})));if(r.sort(((e,t)=>t.relevance-e.relevance)),n&&(r=r.filter((e=>0!==e.relevance))),r.length>0&&i&&i>0){const e=r[0].relevance*i;r=r.filter((t=>e-t.relevance<0))}const o=[],s=[];for(const a of r)o.push(a.value),s.push(a.idx);return{values:o,indices:s}}function Qte(e,t){const n=e.replace(/\s/g,""),i=t.replace(/\s/g,"");let r=0,o=-1;for(let s=0;s<n.length;s++){const e=i.indexOf(n[s],o+1);-1!==e&&(o=e,r+=100-100*o/1e4*100)}return r}var Jte=class extends k7{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agColumnHeader:Ate,agColumnGroupHeader:Ete,agSortIndicator:Pte,agAnimateShowChangeCellRenderer:Lte,agAnimateSlideCellRenderer:Ote,agLoadingCellRenderer:Ute,agSkeletonCellRenderer:jte,agCheckboxCellRenderer:Wte,agLoadingOverlay:Kte,agNoRowsOverlay:qte,agTooltipComponent:Xte},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");null!=e&&K7(e,((e,t)=>this.registerJsComponent(e,t)))}registerDefaultComponent(e,t){this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const n=(e,t)=>({componentFromFramework:t,component:e}),i=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(null!=i)return n(i,!0);const r=this.jsComps[t];if(r){return n(r,this.getFrameworkOverrides().isFrameworkComponent(r))}const o=this.agGridDefaults[t];if(o)return n(o,!1);const s=this.enterpriseAgDefaultCompsModule[t];return s?Fte.__assertRegistered(s,`AG Grid '${e}' component: ${t}`,this.gridId):u9((()=>{this.warnAboutMissingComponent(e,t)}),"MissingComp"+t),null}warnAboutMissingComponent(e,t){const n=[...Object.keys(this.agGridDefaults).filter((e=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(e))),...Object.keys(this.jsComps)],i=Zte(t,n,!0,.8).values;d9(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),i.length>0&&d9(`         Did you mean: [${i.slice(0,3)}]?`),d9(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},ene=class e{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e((e=>this.onDone(e)),(e=>this.onReject(e)))}static all(t){return t.length?new e((e=>{let n=t.length;const i=new Array(n);t.forEach(((t,r)=>{t.then((t=>{i[r]=t,n--,0===n&&e(i)}))}))})):e.resolve()}static resolve(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new e((e=>e(t)))}then(t){return new e((e=>{1===this.status?e(t(this.resolution)):this.waiters.push((n=>e(t(n))))}))}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach((t=>t(e)))}onReject(e){}},tne={propertyName:"dateComponent",cellRenderer:!1},nne={propertyName:"headerComponent",cellRenderer:!1},ine={propertyName:"headerGroupComponent",cellRenderer:!1},rne={propertyName:"cellRenderer",cellRenderer:!0},one={propertyName:"cellRenderer",cellRenderer:!1},sne={propertyName:"loadingCellRenderer",cellRenderer:!0},ane={propertyName:"cellEditor",cellRenderer:!1},lne={propertyName:"innerRenderer",cellRenderer:!0},une={propertyName:"loadingOverlayComponent",cellRenderer:!1},cne={propertyName:"noRowsOverlayComponent",cellRenderer:!1},dne={propertyName:"tooltipComponent",cellRenderer:!1},hne={propertyName:"filter",cellRenderer:!1},pne={propertyName:"floatingFilterComponent",cellRenderer:!1},gne={propertyName:"toolPanel",cellRenderer:!1},fne={propertyName:"statusPanel",cellRenderer:!1},mne={propertyName:"fullWidthCellRenderer",cellRenderer:!0},vne={propertyName:"loadingCellRenderer",cellRenderer:!0},yne={propertyName:"groupRowRenderer",cellRenderer:!0},wne={propertyName:"detailCellRenderer",cellRenderer:!0},Cne={propertyName:"menuItem",cellRenderer:!1},bne=class e extends k7{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(e){this.agComponentUtils=e.agComponentUtils,this.componentMetadataProvider=e.componentMetadataProvider,this.userComponentRegistry=e.userComponentRegistry,this.frameworkComponentWrapper=e.frameworkComponentWrapper,this.gridOptions=e.gridOptions}getHeaderCompDetails(e,t){return this.getCompDetails(e,nne,"agColumnHeader",t)}getHeaderGroupCompDetails(e){const t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,ine,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,mne,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,vne,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,yne,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,wne,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,lne,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,lne,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,rne,null,t)}getEditorRendererDetails(e,t){return this.getCompDetails(e,one,null,t)}getLoadingCellRendererDetails(e,t){return this.getCompDetails(e,sne,"agSkeletonCellRenderer",t,!0)}getCellEditorDetails(e,t){return this.getCompDetails(e,ane,"agCellEditor",t,!0)}getFilterDetails(e,t,n){return this.getCompDetails(e,hne,n,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,tne,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,une,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,cne,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,dne,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,rne,null,t)}getFloatingFilterCompDetails(e,t,n){return this.getCompDetails(e,pne,n,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,gne,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,fne,null,t,!0)}getMenuItemCompDetails(e,t){return this.getCompDetails(e,Cne,"agMenuItem",t,!0)}getCompDetails(t,n,i,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{propertyName:s,cellRenderer:a}=n;let{compName:l,jsComp:u,fwComp:c,paramsFromSelector:d,popupFromSelector:h,popupPositionFromSelector:p}=e.getCompKeys(this.frameworkOverrides,t,n,r);const g=e=>{const t=this.userComponentRegistry.retrieve(s,e);t&&(u=t.componentFromFramework?void 0:t.component,c=t.componentFromFramework?t.component:void 0)};if(null!=l&&g(l),null==u&&null==c&&null!=i&&g(i),u&&a&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(s,u)),!u&&!c)return void(o&&h9(`Could not find component ${l}, did you forget to configure this component?`));const f=this.mergeParamsWithApplicationProvidedParams(t,n,r,d),m=null==u,v=u||c;return{componentFromFramework:m,componentClass:v,params:f,type:n,popupFromSelector:h,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(v,m,f,n)}}static getCompKeys(e,t,n,i){const{propertyName:r}=n;let o,s,a,l,u,c;if(t){const n=t,d=n[r+"Selector"],h=d?d(i):null,p=t=>{if("string"===typeof t)o=t;else if(null!=t&&!0!==t){e.isFrameworkComponent(t)?a=t:s=t}};h?(p(h.component),l=h.params,u=h.popup,c=h.popupPosition):p(n[r])}return{compName:o,jsComp:s,fwComp:a,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:c}}newAgStackInstance(e,t,n,i){const r=i.propertyName;let o;if(!t)o=new e;else{const t=this.componentMetadataProvider.retrieve(r);o=this.frameworkComponentWrapper.wrap(e,t.mandatoryMethodList,t.optionalMethodList,i)}const s=this.initComponent(o,n);return null==s?ene.resolve(o):s.then((()=>o))}mergeParamsWithApplicationProvidedParams(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=this.gos.getGridCommonParams();Z7(r,n);const o=e&&e[t.propertyName+"Params"];if("function"===typeof o){Z7(r,o(n))}else"object"===typeof o&&Z7(r,o);return Z7(r,i),r}initComponent(e,t){if(this.createBean(e),null!=e.init)return e.init(t)}};function Sne(e){const t=e;return null!=t&&null!=t.getFrameworkComponentInstance?t.getFrameworkComponentInstance():e}var xne=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,e&&e.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){Object.entries(e.providedBeanInstances).forEach((e=>{let[t,n]=e;this.beans[t]=n})),e.beanClasses.forEach((e=>{const t=new e;t.beanName?this.beans[t.beanName]=t:console.error(`Bean ${e.name} is missing beanName`),this.createdBeans.push(t)})),e.derivedBeans?.forEach((e=>{const{beanName:t,bean:n}=e(this);this.beans[t]=n,this.createdBeans.push(n)})),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach((e=>{e.preWireBeans?.(this.beans),e.wireBeans?.(this.beans)})),e.forEach((e=>e.preConstruct?.())),t&&e.forEach(t),e.forEach((e=>e.postConstruct?.()))}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},Mne=class extends xne{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),Fte.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},_ne=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(_ne||{}),Rne=class extends k7{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment}postConstruct(){const e=e=>function(e,t,n){const i=xte(e,t,n);if(i){const{className:e}=i;if("string"===typeof e&&e.indexOf("ag-icon")>-1||"object"===typeof e&&e["ag-icon"])return i}const r=document.createElement("span");return r.appendChild(i),r}(e,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}addDragSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragService.addDragSource(n)}removeDragSource(e){const t=this.dragSourceAndParamsList.find((t=>t.dragSource===e));t&&(this.dragService.removeDragSource(t.params),C7(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach((e=>this.dragService.removeDragSource(e.params))),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted?.(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped?.(),this.lastDropTarget?.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=void 0,this.dragItem=null,this.removeGhost()}onDragging(e,t){const n=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const r=this.dropTargets.filter((t=>this.isMouseOnDropTarget(e,t))),o=this.findCurrentDropTarget(e,r);if(o!==this.lastDropTarget)this.leaveLastTargetIfExists(e,n,i,t),null!==this.lastDropTarget&&null===o&&this.dragSource.onGridExit?.(this.dragItem),null===this.lastDropTarget&&null!==o&&this.dragSource.onGridEnter?.(this.dragItem),this.enterDragTargetIfExists(o,e,n,i,t),this.lastDropTarget=o;else if(o&&o.onDragging){const r=this.createDropTargetEvent(o,e,n,i,t);o.onDragging(r)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}allContainersIntersect(e,t){for(const n of t){const{width:t,height:i,left:r,right:o,top:s,bottom:a}=n.getBoundingClientRect();if(0===t||0===i)return!1;const l=e.clientX>=r&&e.clientX<o,u=e.clientY>=s&&e.clientY<a;if(!l||!u)return!1}return!0}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let i=!1;for(const s of n)if(this.allContainersIntersect(e,s)){i=!0;break}const{eElement:r,type:o}=this.dragSource;return!(t.targetContainsSource&&!t.getContainer().contains(r))&&(i&&t.isInterestedIn(o,r))}findCurrentDropTarget(e,t){const n=t.length;if(0===n)return null;if(1===n)return t[0];const i=this.gos.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const o of i)for(const e of t){if(-1!==(r=this.getAllContainersFromDropTarget(e),[].concat.apply([],r)).indexOf(o))return e}var r;return null}enterDragTargetIfExists(e,t,n,i,r){if(e){if(e.onDragEnter){const o=this.createDropTargetEvent(e,t,n,i,r);e.onDragEnter(o)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,n,i){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const r=this.createDropTargetEvent(this.lastDropTarget,e,t,n,i);this.lastDropTarget.onDragLeave(r)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter((t=>t.getContainer()!==e.getContainer()))}hasExternalDropZones(){return this.dropTargets.some((e=>e.external))}findExternalZone(e){return this.dropTargets.filter((e=>e.external)).find((t=>t.getContainer()===e.getContainer()))||null}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,n=e.clientX;return t===n?null:t>n?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,n=e.clientY;return t===n?null:t>n?0:1}createDropTargetEvent(e,t,n,i,r){const o=e.getContainer(),s=o.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,u=t.clientX-s.left,c=t.clientY-s.top;return this.gos.addGridCommonParams({event:t,x:u,y:c,vDirection:i,hDirection:n,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:o})}positionGhost(e){const t=this.eGhost;if(!t)return;const n=t.getBoundingClientRect().height,i=(document.body?.clientWidth??(window.innerHeight||document.documentElement?.clientWidth||-1))-2,r=(document.body?.clientHeight??(window.innerHeight||document.documentElement?.clientHeight||-1))-2,o=Qee(t.offsetParent),{clientY:s,clientX:a}=e;let l=s-o.top-n/2,u=a-o.left-10;const c=this.gos.getDocument(),d=c.defaultView||window,h=d.pageYOffset||c.documentElement.scrollTop,p=d.pageXOffset||c.documentElement.scrollLeft;i>0&&u+t.clientWidth>i+p&&(u=i+p-t.clientWidth),u<0&&(u=0),r>0&&l+t.clientHeight>r+h&&(l=r+h-t.clientHeight),l<0&&(l=0),t.style.left=`${u}px`,t.style.top=`${l}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=ste('<div class="ag-dnd-ghost ag-unselectable">\n<span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n<div class="ag-dnd-ghost-label"></div>\n</div>'),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost),this.environment.applyThemeClasses(this.eGhost),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const e=this.eGhost.querySelector(".ag-dnd-ghost-label");let t=this.dragSource.dragItemName;p9(t)&&(t=t()),e.innerHTML=V9(t)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const n=this.gos.getDocument();let i=null,r=null;try{i=n.fullscreenElement}catch(JA){}finally{i||(i=this.gos.getRootNode());const e=i.querySelector("body");r=e||(i instanceof ShadowRoot?i:i instanceof Document?i?.documentElement:i)}this.eGhostParent=r,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):d9("Could not find document body, it is needed for dragging columns")}setGhostIcon(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];nte(this.eGhostIcon);let n=null;e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():"notAllowed"),n=this.dropIconMap[e],this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),n===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns")||n&&this.eGhostIcon.appendChild(n)}},Dne=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.shouldSkipVerticalScroll();if(t&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<n.left+i,this.tickRight=e.clientX>n.right-i,this.tickUp=e.clientY<n.top+i&&!t,this.tickDown=e.clientY>n.bottom-i&&!t,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Pne=class extends k7{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady((e=>{const t=e.gridBodyCtrl;this.autoScrollService=new Dne({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:e=>t.getScrollFeature().setVerticalScrollPosition(e),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})}))}getContainer(){return this.eContainer}isInterestedIn(e){return 2===e}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){if(this.funcColsService.getRowGroupColumns().length)return!0;const e=this.filterManager?.isAnyFilterPresent();if(e)return!0;return!!this.sortController.isSortActive()}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const e=[...this.selectionService.getSelectedNodes()].sort(((e,t)=>null==e.rowIndex||null==t.rowIndex?0:this.getRowIndexNumber(e)-this.getRowIndexNumber(t)));if(-1!==e.indexOf(t))return e}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach((e=>{e.setDragging(!0)})),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}isDropZoneWithinThisGrid(e){const t=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return!t.contains(n)}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const n=this.isFromThisGrid(e),i=this.gos.get("rowDragManaged"),r=e.dragItem.rowNodes;i&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!n?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(r[0],t):this.moveRows(r,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(v7(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),n=t&&1===t.highlighted,i=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes;let o=n?1:0;if(this.isFromThisGrid(e))r.forEach((e=>{e.rowTop<i&&(o-=1)})),this.moveRows(r,i,o);else{const e=this.gos.getRowIdCallback();let t=this.clientSideRowModel.getRowIndexAtPixel(i)+1;0===this.clientSideRowModel.getHighlightPosition(i)&&t--,this.clientSideRowModel.updateRowData({add:r.filter((t=>!this.clientSideRowModel.getRowNode(e?.({data:t.data,level:0,rowPinned:t.rowPinned})??t.data.id))).map((e=>e.data)),addIndex:t})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.clientSideRowModel.ensureRowsAtPixel(e,t,n)&&(this.focusService.clearFocusedCell(),this.rangeService?.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer())return void d9("addRowDropZone - A container target needs to be provided");if(this.dragAndDropService.findExternalZone(e))return void d9("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=t=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",t))}),e.onDragLeave&&(t.onDragLeave=t=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",t))}),e.onDragging&&(t.onDragging=t=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",t))}),e.onDragStop&&(t.onDragStop=t=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",t))})),this.dragAndDropService.addDropTarget({isInterestedIn:e=>2===e,getIconName:()=>"move",external:!0,...t})}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),o=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?t=>{n(t),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",t))}:n,onDragLeave:e.onDragLeave?t=>{i(t),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",t))}:i,onDragging:e.onDragging?t=>{r(t),e.onDragging(this.draggingToRowDragEvent("rowDragMove",t))}:r,onDragStop:e.onDragStop?t=>{o(t),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",t))}:o,fromGrid:!0}:{getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:o,fromGrid:!0}}draggingToRowDragEvent(e,t){const n=this.mouseEventService.getNormalisedPosition(t).y;let i,r,o=-1;switch(n>this.pageBoundsService.getCurrentPageHeight()||(o=this.rowModel.getRowIndexAtPixel(n),i=this.rowModel.getRow(o)),t.vDirection){case 1:r="down";break;case 0:r="up";break;default:r=null}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:o,overNode:i,y:n,vDirection:r})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),!this.gos.get("rowDragManaged")||!this.gos.get("suppressMoveWhenRowDragging")&&this.isFromThisGrid(e)||this.isDropZoneWithinThisGrid(e)||this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach((e=>{e.setDragging(!1)}))}},Tne=class extends k7{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find((t=>t.dragSource===e));t&&(this.removeListener(t),C7(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:r}=e;n.addEventListener("mousedown",t);let o=null;const s=this.gos.get("suppressTouch");i&&!s&&(o=t=>{Wee(t.target)||(r&&t.stopPropagation(),this.onTouchStart(e,t))},n.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!i})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const i=t=>this.onTouchUp(t,e.eElement),r=t.target,o=[{target:this.gos.getRootNode(),type:"touchmove",listener:e=>{e.cancelable&&e.preventDefault()},options:{passive:!1}},{target:r,type:"touchmove",listener:t=>this.onTouchMove(t,e.eElement),options:{passive:!0}},{target:r,type:"touchend",listener:i,options:{passive:!0}},{target:r,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(o),0===e.dragStartPixels&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t))return;if(n._alreadyProcessedByDragService)return;if(n._alreadyProcessedByDragService=!0,0!==t.button)return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const i=this.gos.getRootNode(),r=[{target:i,type:"mousemove",listener:t=>this.onMouseMove(t,e.eElement)},{target:i,type:"mouseup",listener:t=>this.onMouseUp(t,e.eElement)},{target:i,type:"contextmenu",listener:e=>e.preventDefault()}];this.addTemporaryEvents(r),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach((e=>{const{target:t,type:n,listener:i,options:r}=e;t.addEventListener(n,i,r)})),this.dragEndFunctions.push((()=>{e.forEach((e=>{const{target:t,type:n,listener:i,options:r}=e;t.removeEventListener(n,i,r)}))}))}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams;return Mte(e,t,O7(n)?n:4)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){if(Iee()){const e=this.gos.getDocument();e.getSelection()?.removeAllRanges()}this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),n="mousemove"===e.type;return t&&n&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,n=t?.tagName.toLocaleLowerCase();return!!n?.match("^a$|textarea|input|select|button")}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((e=>e())),this.dragEndFunctions.length=0}},Ane=class extends Cte{constructor(e,t,n,i,r,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=r,this.suppressVisibilityChange=o,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(xte("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new kne(this,this.beans,this.rowNode,this.column):new Ine(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const e=this.beans.selectionService.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&d9("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:e=>{e?.preventDefault()}})[0]);const n=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const e=this.getDragItem(),t=e.rowNodes?.length||1,i=this.getRowDragText(this.column);return i?i(e,t):1===t?this.cellValueFn():`${t} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},Ene=class extends k7{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let e=!0,n=!1;this.column&&(e=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=p9(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,t),this.parent.setVisible(e,t)):(this.parent.setDisplayed(e,t),this.parent.setVisible(!0,t))}}},Ine=class extends Ene{constructor(e,t,n,i){super(e,n,i),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},kne=class extends Ene{constructor(e,t,n,i){super(e,n,i),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),t=e&&e.shouldPreventRowMove(),n=this.gos.get("suppressRowDrag"),i=this.beans.dragAndDropService.hasExternalDropZones(),r=t&&!i||n;this.setDisplayedOrVisible(r)}},Fne=new Set(["localEventService","__objectId","sticky"]),Lne=class e{constructor(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const n=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const i=this.createDataChangedEvent(e,n,t);this.localEventService?.dispatchEvent(i)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return null==this.rowIndex?(h9("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new e(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(e,t){const n=O7(this.id)?this.createDaemonNode():null,i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);const r=this.createDataChangedEvent(e,i,!1);this.localEventService?.dispatchEvent(r)}checkRowSelectable(){const e=this.beans.gos.get("isRowSelectable");this.setRowSelectable(!e||e(this))}setRowSelectable(e,t){if(this.selectable!==e){if(this.selectable=e,this.dispatchRowEvent("selectableChanged"),t)return;if(this.beans.gos.get("groupSelectsChildren")){const e=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:e??!1,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){const n=this.beans.gos.getRowIdCallback();if(n)if(this.data){const t=this.getGroupKeys(!0);this.id=n({data:this.data,parentKeys:t.length>0?t:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&h9(`Row IDs cannot start with ${e.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}getGroupKeys(){const e=[];let t=this;for(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(t=t.parent);t&&t.level>=0;)e.push(t.key),t=t.parent;return e.reverse(),e}isPixelInRange(e){return!(!O7(this.rowTop)||!O7(this.rowHeight))&&(e>=this.rowTop&&e<this.rowTop+this.rowHeight)}updateIfDifferent(e,t,n){this[e]!==t&&(this[e]=t,this.dispatchRowEvent(n))}setFirstChild(e){this.updateIfDifferent("firstChild",e,"firstChildChanged")}setLastChild(e){this.updateIfDifferent("lastChild",e,"lastChildChanged")}setChildIndex(e){this.updateIfDifferent("childIndex",e,"childIndexChanged")}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(null!==e))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(e){this.updateIfDifferent("displayed",e,"displayedChanged")}setDragging(e){this.updateIfDifferent("dragging",e,"draggingChanged")}setHighlighted(e){this.updateIfDifferent("highlighted",e,"rowHighlightChanged")}setHovered(e){this.hovered!==e&&(this.hovered=e)}isHovered(){return this.hovered}setAllChildrenCount(e){this.updateIfDifferent("allChildrenCount",e,"allChildrenCountChanged")}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.dispatchRowEvent("masterChanged"))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,null!=e&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=y9(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,t=!0,n=0;const i=this.__autoHeights;if(null==i)return;if(this.beans.visibleColsService.getAllAutoHeightCols().forEach((r=>{let o=i[r.getId()];if(null==o){if(!this.beans.columnModel.isColSpanActive())return void(e=!0);{let t=[];switch(r.getPinned()){case"left":t=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":t=this.beans.visibleColsService.getRightColsForRow(this);break;case null:t=this.beans.columnViewportService.getColsWithinViewport(this)}if(t.includes(r))return void(e=!0);o=-1}}else t=!1;o>n&&(n=o)})),e)return;if((t||n<10)&&(n=this.beans.gos.getRowHeightForNode(this).height),n==this.rowHeight)return;this.setRowHeight(n);const r=this.beans.rowModel;r.onRowHeightChangedDebounced&&r.onRowHeightChangedDebounced()}setRowIndex(e){this.updateIfDifferent("rowIndex",e,"rowIndexChanged")}setUiLevel(e){this.updateIfDifferent("uiLevel",e,"uiLevelChanged")}setExpanded(e,t,n){if(this.expanded===e)return;this.expanded=e,this.dispatchRowEvent("expandedChanged");const i={...this.createGlobalRowEvent("rowGroupOpened"),expanded:e,event:t||null};this.beans.rowNodeEventThrottle.dispatchExpanded(i,n),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return this.beans.gos.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(e,t,n){const i=(()=>"string"!==typeof e?e:this.beans.columnModel.getCol(e)??this.beans.columnModel.getColDefCol(e))(),r=this.getValueFromValueService(i);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:i,colDef:i.getColDef(),data:this.data,node:this,oldValue:r,newValue:t,value:t,source:n}),!1;const o=this.beans.valueService.setValue(this,i,t,n);return this.dispatchCellChangedEvent(i,t,r),this.checkRowSelectable(),o}getValueFromValueService(e){const t=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!t;let i=!1;const r=this.beans.gos.get("groupTotalRow")??this.beans.gos.get("groupIncludeFooter");if("function"!==typeof r)i=!!r;else{i=!!(this.beans.gos.getCallback("groupTotalRow")??this.beans.gos.getCallback("groupIncludeFooter"))({node:this})}const o=this.beans.gos.get("groupSuppressBlankHeader"),s=n&&i&&!o;return this.beans.valueService.getValue(e,this,!1,s)}setGroupValue(e,t){const n=this.beans.columnModel.getCol(e);N7(this.groupData)&&(this.groupData={});const i=n.getColId(),r=this.groupData[i];r!==t&&(this.groupData[i]=t,this.dispatchCellChangedEvent(n,t,r))}setAggData(e){const t=this.aggData;if(this.aggData=e,this.localEventService){const n=e=>{const n=this.aggData?this.aggData[e]:void 0,i=t?t[e]:void 0;if(n===i)return;const r=this.beans.columnModel.getCol(e);r&&this.dispatchCellChangedEvent(r,n,i)};for(const e in this.aggData)n(e);for(const t in e)t in this.aggData||n(t)}}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gos.isRowModelType("serverSide")){const t=this.beans.gos.get("treeData"),n=this.beans.gos.get("isServerSideGroup");e=!this.stub&&!this.footer&&(t?!!n&&n(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return(this.group&&B7(this.childrenAfterGroup))??!1}dispatchCellChangedEvent(e,t,n){const i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.localEventService?.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((t=>t.depthFirstSearch(e))),e(this)}calculateSelectedFromChildren(){let e=!1,t=!1,n=!1;if(!this.childrenAfterGroup?.length)return this.selectable?this.selected:null;for(let i=0;i<this.childrenAfterGroup.length;i++){const r=this.childrenAfterGroup[i];let o=r.isSelected();if(!r.selectable){const e=r.calculateSelectedFromChildren();if(null===e)continue;o=e}switch(o){case!0:e=!0;break;case!1:t=!0;break;default:n=!0}}return n||e&&t?void 0:!!e||!t&&(this.selectable?this.selected:null)}setSelectedInitialValue(e){this.selected=e}dispatchRowEvent(e){const t={type:e,node:this};this.localEventService?.dispatchEvent(t)}selectThisNode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";const i=!this.selectable&&e,r=this.selected===e;if(i||r)return!1;this.selected=e,this.dispatchRowEvent("rowSelected");const o=this.sibling;return o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:t||null,source:n}),!0}setSelected(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";"boolean"!==typeof n?this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:n}):d9("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(e){return this.rowPinned?(d9("cannot select pinned rows"),0):void 0===this.id?(d9("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...e,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return"top"===this.rowPinned||"bottom"===this.rowPinned}isParentOfNode(e){let t=this.parent;for(;t;){if(t===e)return!0;t=t.parent}return!1}addEventListener(e,t){this.localEventService||(this.localEventService=new m7),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new F7(this.beans.frameworkOverrides));const n=this.frameworkEventListenerService?.wrap(t)??t;this.localEventService.addEventListener(e,n)}removeEventListener(e,t){if(!this.localEventService)return;const n=this.frameworkEventListenerService?.unwrap(t)??t;this.localEventService.removeEventListener(e,n),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}getFirstChildOfFirstChild(e){let t=this,n=!0,i=!1,r=null;for(;n&&!i;){const o=t.parent;O7(o)&&t.firstChild?o.rowGroupColumn===e&&(i=!0,r=o):n=!1,t=o}return i?r:null}isFullWidthCell(){if(this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return!!e&&e({rowNode:this})}getRoute(){if(null==this.key)return;const e=[];let t=this;for(;t&&null!=t.key;)e.push(t.key),t=t.parent;return e.reverse()}createFooter(){if(this.sibling)return;const t=new e(this.beans);Object.keys(this).forEach((e=>{Fne.has(e)||(t[e]=this[e])})),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};Lne.ID_PREFIX_ROW_GROUP="row-group-",Lne.ID_PREFIX_TOP_PINNED="t-",Lne.ID_PREFIX_BOTTOM_PINNED="b-",Lne.OBJECT_ID_SEQUENCE=0;var One=Lne,Nne=class extends Cte{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then((()=>{}))??ene.resolve()}afterGuiAttached(e){this.filterWrapper?.filterPromise?.then((t=>{t?.afterGuiAttached?.(e)}))}afterGuiDetached(){this.filterWrapper?.filterPromise?.then((e=>{e?.afterGuiDetached?.()}))}createFilter(e){const{column:t,source:n}=this;this.filterWrapper=this.filterManager?.getOrCreateFilterWrapper(t)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then((i=>{const r=i.getGui();O7(r)||d9(`getGui method from filter returned ${r}; it should be a DOM element.`),this.appendChild(r),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()})}))}onFilterDestroyed(e){"api"!==e.source&&"paramsUpdated"!==e.source||e.column.getId()!==this.column.getId()||!this.columnModel.getColDefCol(this.column)||(nte(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},Bne="ag-resizer-wrapper",Gne=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,Vne=`<div class="${Bne}">\n        ${Gne("eTopLeft","topLeft")}\n        ${Gne("eTop","top")}\n        ${Gne("eTopRight","topRight")}\n        ${Gne("eRight","right")}\n        ${Gne("eBottomRight","bottomRight")}\n        ${Gne("eBottom","bottom")}\n        ${Gne("eBottomLeft","bottomLeft")}\n        ${Gne("eLeft","left")}\n    </div>`,zne=class extends k7{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(n,i)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:i,minHeight:r,height:o,x:s,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0;const c=ote(this.element);if(c){const e=this.findBoundaryElement(),t=window.getComputedStyle(e);if(null!=t.minWidth){const n=e.offsetWidth-this.element.offsetWidth;u=parseInt(t.minWidth,10)-n}if(null!=t.minHeight){const n=e.offsetHeight-this.element.offsetHeight;l=parseInt(t.minHeight,10)-n}}if(this.minHeight=r||l,this.minWidth=n||u,i&&this.setWidth(i),o&&this.setHeight(o),i&&o||this.refreshSize(),e)this.center();else if(s||a)this.offsetElement(s,a);else if(c&&t){let e=this.boundaryEl,t=!0;if(e||(e=this.findBoundaryElement(),t=!1),e){const n=parseFloat(e.style.top),i=parseFloat(e.style.left);t?this.offsetElement(isNaN(i)?0:i,isNaN(n)?0:n):this.setPosition(i,n)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"===typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach((t=>{const n=!!e[t],i=this.getResizerElement(t),r={dragStartPixels:0,eElement:i,onDragStart:e=>this.onResizeStart(e,t),onDragging:this.onResize.bind(this),onDragStop:e=>this.onResizeEnd(e,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(r),this.resizeListeners.push(r),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=n)}))}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;-1!==t&&(this.element.style.width=`${t}px`),-1!==e&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let i=!1;if("string"===typeof e&&-1!==e.indexOf("%"))ute(n,e),e=Xee(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const t=this.getAvailableHeight();t&&e>t&&(e=t)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?ute(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height="number"===typeof e?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:i.top,s=e?0:r.top;let a=0;if(t){const e=this.element.parentElement;if(e){const{bottom:t}=e.getBoundingClientRect();a=t-i.bottom}}return n+s-o-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let i=!1;if("string"===typeof e&&-1!==e.indexOf("%"))lte(t,e),e=Zee(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:t}=this.offsetParent,i=n?this.position.x:this.element.getBoundingClientRect().left;t&&e+i>t&&(e=t-i)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?lte(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width="number"===typeof e?e:parseFloat(e)))}offsetElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&(this.popupService.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const e=this.getAvailableHeight();this.element.style.setProperty("max-height",`${e}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:i,anywhereWithin:r,topBuffer:o}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!n,!!r,s)?0:s,movementY:this.shouldSkipY(t,!!i,o,a)?0:a}}shouldSkipX(e,t,n,i){const r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left;let l=a<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=s.right;return!!l||(l=t?i<0&&e.clientX>a+o.left||i>0&&e.clientX<a+o.left:n?i<0&&e.clientX>s.right||i>0&&e.clientX<a+o.left:i<0&&e.clientX>s.right||i>0&&e.clientX<s.right,l)}shouldSkipY(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;const r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top;let l=a<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=s.bottom;return!!l||(l=t?i<0&&e.clientY>a+o.top+n||i>0&&e.clientY<a+o.top:i<0&&e.clientY>s.bottom||i>0&&e.clientY<s.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const t=(new DOMParser).parseFromString(Vne,"text/html").body;e.appendChild(t.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${Bne}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;n||i||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter((e=>!e.classList.contains("ag-hidden"))):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let i=0;i<e.length;i++){const r=e[i],o=!!r.style.flex&&"0 0 auto"!==r.style.flex;if(r===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(o){const e=window.getComputedStyle(r);e.minHeight&&(s=parseInt(e.minHeight,10)),e.minWidth&&(a=parseInt(e.minWidth,10))}else s=r.offsetHeight,a=r.offsetWidth;t+=s,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const r=n[i];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some((e=>e))}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:r,isBottom:o,isLeft:s}=this.currentResizer,a=r||s,l=o||i,{movementX:u,movementY:c}=this.calculateMouseMovement({e:e,isLeft:s,isTop:i}),d=this.position.x,h=this.position.y;let p=0,g=0;if(a&&u){const e=s?-1:1,t=this.getWidth(),n=t+u*e;let i=!1;s&&(p=t-n,(d+p<=0||n<=this.minWidth)&&(i=!0,p=0)),i||this.setWidth(n)}if(l&&c){const e=i?-1:1,t=this.getHeight(),n=t+c*e;let r=!1;i?(g=t-n,(h+g<=0||n<=this.minHeight)&&(r=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&t<n&&this.getMinSizeOfSiblings().height+n>this.element.parentElement.offsetHeight&&(r=!0),r||this.setHeight(n)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&p||g)&&this.offsetElement(d+p,h+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:r,movementY:o}=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+r,n+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},Hne=class e extends k7{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.eFocusableElement=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:e=>{if(e.defaultPrevented)return;const t=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e.shiftKey);t&&(t.focus(),e.preventDefault())},...t}}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:e=>{e.defaultPrevented||T7(e)||(this.callbacks.shouldStopEventPropagation(e)?P7(e):e.key===Nte.TAB?this.callbacks.onTabKeyDown(e):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(e))}})}};Hne.FOCUS_MANAGED_CLASS="ag-focus-managed";var Wne=Hne,Une={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function jne(e,t){return $ne(e)?(null!=e.debounceMs&&d9("debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:t}function $ne(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var Kne=class extends Cte{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=wte,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new Wne(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new zne(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const n=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(n,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then((()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}setParams(e){this.providedFilterParams=e,this.applyActive=$ne(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=$ne(e),this.resetUiToActiveModel(this.getModel(),(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}resetButtonsPanel(e,t){const{buttons:n,readOnly:i}=t??{},{buttons:r,readOnly:o}=e;if(i===o&&W7(n,r))return;const s=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(nte(this.eButtonsPanel),this.buttonListeners.forEach((e=>e())),this.buttonListeners=[]):s&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!s)return void(this.eButtonsPanel&&ite(this.eButtonsPanel));const a=document.createDocumentFragment(),l=e=>{let t,n;switch(e){case"apply":t=this.translate("applyFilter"),n=e=>this.onBtApply(!1,!1,e);break;case"clear":t=this.translate("clearFilter"),n=()=>this.onBtClear();break;case"reset":t=this.translate("resetFilter"),n=()=>this.onBtReset();break;case"cancel":t=this.translate("cancelFilter"),n=e=>{this.onBtCancel(e)};break;default:return void d9("Unknown button type specified")}const i=ste(`<button\n                    type="${"apply"===e?"submit":"button"}"\n                    data-ref="${e}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${t}\n                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(i,{click:n})),a.append(i)};r.forEach((e=>l(e))),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=jne(this.providedFilterParams,this.getDefaultDebounceMs()),t=y9(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then((()=>{this.updateUiVisibility(),this.applyModel("api")}))}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),(()=>{this.handleCancelEnd(e)}))}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const n=()=>{this.onUiChanged(!1,"prevent"),t?.()};null!=e?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then((()=>this.onUiChanged()))}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(){const e=this.getModelFromUi();if(!this.isModelValid(e))return!1;const t=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(t,e)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(n&&n.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")){const n="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:n})}const{closeOnApply:i}=this.providedFilterParams;i&&this.applyActive&&!e&&!t&&this.close(n)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,n=t&&t.key;let i;"Enter"!==n&&"Space"!==n||(i={keyboardEvent:t}),this.hidePopup(i),this.hidePopup=null}onUiChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const e=this.isModelValid(this.getModelFromUi()),t=this.queryForHtmlElement('[data-ref="applyFilterButton"]');t&&jee(t,!e)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||"toolPanel"===e)return;const t="floatingFilter"===e||"columnFilter"===e,{positionableFeature:n,gos:i}=this;t?(n.restoreLastSize(),n.setResizable(i.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,Une[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},qne=class extends zte{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},Yne=class extends Cte{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),this.unFocusable||this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case Nte.ENTER:if(this.highlightedEl){const e=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(e)}else this.setValue(this.getValue());break;case Nte.DOWN:case Nte.UP:e.preventDefault(),this.navigate(t);break;case Nte.PAGE_DOWN:case Nte.PAGE_UP:case Nte.PAGE_HOME:case Nte.PAGE_END:e.preventDefault(),this.navigateToPage(t)}}navigate(e){const t=e===Nte.DOWN;let n;if(this.highlightedEl){let e=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);e=Math.min(Math.max(e,0),this.itemEls.length-1),n=this.itemEls[e]}else n=this.itemEls[t?0:this.itemEls.length-1];this.highlightItem(n)}navigateToPage(e){if(!this.highlightedEl||0===this.itemEls.length)return;const t=this.itemEls.indexOf(this.highlightedEl),n=this.options.length-1,i=this.itemEls[0].clientHeight,r=Math.floor(this.getGui().clientHeight/i);let o=-1;e===Nte.PAGE_HOME?o=0:e===Nte.PAGE_END?o=n:e===Nte.PAGE_DOWN?o=Math.min(t+r,n):e===Nte.PAGE_UP&&(o=Math.max(t-r,0)),-1!==o&&this.highlightItem(this.itemEls[o])}addOptions(e){return e.forEach((e=>this.addOption(e))),this}addOption(e){const{value:t,text:n}=e,i=n||t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach((e=>{ite(e)})),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(((t,n)=>{var i,r;!function(e,t){fee(e,"posinset",t)}(t,n+1),i=t,r=e.length,fee(i,"setsize",r)}))}renderOption(e,t){const n=this.gos.getDocument(),i=n.createElement("div");yee(i,"option"),i.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const r=n.createElement("span");i.appendChild(r),r.textContent=t,this.unFocusable||(i.tabIndex=-1),this.itemEls.push(i),this.addManagedListeners(i,{mouseover:()=>this.highlightItem(i),mousedown:t=>{t.preventDefault(),t.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new vte({getTooltipValue:()=>t,getGui:()=>i,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(i)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(t),this;const n=this.options.findIndex((t=>t.value===e));if(-1!==n){const e=this.options[n];this.value=e.value,this.displayValue=e.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex((e=>e.value===this.value));-1!==e&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!ote(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),Aee(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:n,clientHeight:i}=t,{offsetTop:r,offsetHeight:o}=e;(r+o>n+i||r<n)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){this.highlightedEl&&ote(this.highlightedEl)&&(this.highlightedEl.classList.remove(this.activeClass),Aee(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},Xne=class extends Gte{constructor(e){if(super(e,e?.template||'\n            <div class="ag-picker-field" role="presentation">\n                <div data-ref="eLabel"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=wte,this.eWrapper=wte,this.eDisplayField=wte,this.eIcon=wte,this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:r,maxPickerWidth:o}=e;null!=t&&(this.pickerGap=t),this.variableWidth=!!i,null!=n&&this.setPickerMaxHeight(n),null!=r&&this.setPickerMinWidth(r),null!=o&&this.setPickerMaxWidth(o)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:i}=this.config;if(n){const e=xte(n,this.gos);e&&this.eIcon.appendChild(e)}null!=i&&this.setInputWidth(i)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),xee(e,!1),this.ariaRole&&yee(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Nte.UP:case Nte.DOWN:case Nte.ENTER:case Nte.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Nte.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:r=!0}=this.config,o={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{const e=this.gos.isNothingFocused();this.beforeHidePicker(),e&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,i),anchorToElement:this.eWrapper};e.style.position="absolute";const s=this.popupService.addPopup(o),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:u,variableWidth:c}=this;c?(l&&(e.style.minWidth=l),e.style.width=cte(Zee(this.eWrapper)),u&&(e.style.maxWidth=u)):ate(e,u??Zee(this.eWrapper));const d=a??`${qee(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",d),this.alignPickerToComponent(),s.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,n=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:n,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;xee(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return ate(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return"number"===typeof e&&(e=`${e}px`),this.minPickerWidth=null==e?void 0:e,this}setPickerMaxWidth(e){return"number"===typeof e&&(e=`${e}px`),this.maxPickerWidth=null==e?void 0:e,this}setPickerMaxHeight(e){return"number"===typeof e&&(e=`${e}px`),this.maxPickerHeight=null==e?void 0:e,this}destroy(){this.hidePicker(),super.destroy()}},Zne=class extends Xne{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;null!=e&&this.addOptions(e),null!=t&&this.setValue(t,!0),n&&null==t&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new Yne("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;var n,i;e.setAttribute("id",t),gee(n=this.getAriaElement(),"controls",(i=e).id),Cee(i,n.id),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===Nte.TAB&&this.hidePicker(),t){case Nte.ENTER:case Nte.UP:case Nte.DOWN:case Nte.PAGE_UP:case Nte.PAGE_DOWN:case Nte.PAGE_HOME:case Nte.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case Nte.ESCAPE:super.onKeyDown(e);break;case Nte.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e)}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach((e=>this.addOption(e))),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(e,t,n){if(this.value===e||!this.listComponent)return this;n||this.listComponent.setValue(e,!0);if(this.listComponent.getValue()===this.getValue())return this;let i=this.listComponent.getDisplayValue();return null==i&&this.config.placeholder&&(i=this.config.placeholder),this.eDisplayField.textContent=i,this.setTooltip({newTooltipText:i??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},Qne={selector:"AG-SELECT",component:Zne},Jne=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach((e=>{if("string"===typeof e)return;[["displayKey"],["displayName"],["predicate","test"]].every((t=>!!t.some((t=>null!=e[t]))||(d9(`ignoring FilterOptionDef as it doesn't contain one of '${t}'`),!1)))?this.customFilterOptions[e.displayKey]=e:this.filterOptions=this.filterOptions.filter((t=>t===e))||[]}))}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const e=this.filterOptions[0];"string"===typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:d9("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else d9("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},eie=class extends Kne{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:e}=t;return null!=e?e:1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:"inRange"===e?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach(((t,n)=>{0===n?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)}))}getModelFromUi(){const e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map((e=>e.getValue()))}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let r;if(n){const n=e,i=t;r=this.areSimpleModelsEqual(n,i)}else{const n=e,i=t;r=n.operator===i.operator&&y7(n.conditions,i.conditions,((e,t)=>this.areSimpleModelsEqual(e,t)))}return r}shouldRefresh(e){const t=this.getModel(),n=t?t.conditions??[t]:null,i=e.filterOptions?.map((e=>"string"===typeof e?e:e.displayKey))??this.getDefaultFilterOptions();return!(n&&!n.every((e=>void 0!==i.find((t=>t===e.type)))))&&!("number"===typeof e.maxNumConditions&&n&&n.length>e.maxNumConditions)}refresh(e){if(!this.shouldRefresh(e))return!1;return!!super.refresh(e)&&(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const t=e;let n=t.conditions;null==n&&(n=[],d9("Filter model is missing 'conditions'"));const i=this.validateAndUpdateConditions(n),r=this.getNumConditions();if(i<r)this.removeConditionsAndOperators(i);else if(i>r)for(let e=r;e<i;e++)this.createJoinOperatorPanel(),this.createOption();const o="OR"===t.operator;this.eJoinOperatorsAnd.forEach((e=>e.setValue(!o,!0))),this.eJoinOperatorsOr.forEach((e=>e.setValue(o,!0))),n.forEach(((e,t)=>{this.eTypes[t].setValue(e.type,!0),this.setConditionIntoUi(e,t)}))}else{const t=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(t.type,!0),this.setConditionIntoUi(t,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),ene.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),d9('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(null==t)return!0;const{operator:n}=t,i=[];if(n){const e=t;i.push(...e.conditions??[])}else i.push(t);return i[n&&"OR"===n?"some":"every"]((t=>this.individualConditionPasses(e,t)))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new Jne,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(d9('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(d9('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(d9('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new Zne);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const n=this.getNumConditions()-1;this.forEachPositionInput(n,(e=>this.resetInput(e))),this.addChangedListeners(e,n)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const i=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,r),this.resetJoinOperatorOr(n,i,r),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const i=this.createManagedBean(new qne);return e.push(i),i.addCssClass("ag-filter-condition-operator"),i.addCssClass(`ag-filter-condition-operator-${n}`),t.appendChild(i.getGui()),i}getDefaultJoinOperator(e){return"AND"===e||"OR"===e?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map((e=>"string"===typeof e?this.createBoilerplateListOption(e):this.createCustomListOption(e)))}putOptionsIntoDropdown(e){this.filterListOptions.forEach((t=>{e.addOption(t)})),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const t=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<t){this.removeConditionsAndOperators(t+1);const n=e+1,i=t-n;i>0&&this.removeConditionsAndOperators(n,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach(((t,n)=>{const i=this.isConditionDisabled(n,e);t.setDisabled(i||this.filterListOptions.length<=1),1===n&&(jee(this.eJoinOperatorPanels[0],i),this.eJoinOperatorsAnd[0].setDisabled(i),this.eJoinOperatorsOr[0].setDisabled(i))})),this.eConditionBodies.forEach(((e,t)=>{Uee(e,this.isConditionBodyVisible(t))}));const n="OR"===(t??this.getJoinOperator());this.eJoinOperatorsAnd.forEach((e=>{e.setValue(!n,!0)})),this.eJoinOperatorsOr.forEach((e=>{e.setValue(n,!0)})),this.forEachInput(((t,n,i,r)=>{this.setElementDisplayed(t,n<r),this.setElementDisabled(t,this.isConditionDisabled(i,e))})),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const n=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,n,t),this.removeComponents(this.eJoinOperatorsAnd,n,t),this.removeComponents(this.eJoinOperatorsOr,n,t)}removeElements(e,t,n){this.removeItems(e,t,n).forEach((e=>ite(e)))}removeComponents(e,t,n){this.removeItems(e,t,n).forEach((e=>{ite(e.getGui()),this.destroyBean(e)}))}removeItems(e,t,n){return null==n?e.splice(t):e.splice(t,n)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{const e=this.getInputs(0)[0];if(!e)return;e instanceof Vte&&e.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,n=-1,i=!1;const r=this.getJoinOperator();for(let s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))-1===t&&(t=s,n=s);else{const e=s<t;(s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1)||e)&&(this.removeConditionsAndOperators(s,1),i=!0,e&&n--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(n,r),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(e,t){let n=this.translate(e);if(p9(this.filterPlaceholder)){const e=this.filterPlaceholder,i=this.eTypes[t].getValue();n=e({filterOptionKey:i,filterOption:this.translate(i),placeholder:n})}else"string"===typeof this.filterPlaceholder&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput(((t,n,i,r)=>{if(!(t instanceof Vte))return;const o=0===n&&r>1?"inRangeStart":0===n?"filterOoo":"inRangeEnd",s=0===n&&r>1?e("ariaFilterFromValue","Filter from value"):0===n?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(o,i)),t.setInputAriaLabel(s)}))}setElementValue(e,t,n){e instanceof Vte&&e.setValue(null!=t?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Cte&&Uee(e.getGui(),t)}setElementDisabled(e,t){e instanceof Cte&&jee(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Vte&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach(((t,n)=>{this.forEachPositionTypeInput(n,t,e)}))}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const i=this.getNumberOfInputs(t),r=this.getInputs(e);for(let o=0;o<r.length;o++){const t=r[o];null!=t&&n(t,o,e,i)}}isConditionDisabled(e,t){return!!this.isReadOnly()||0!==e&&e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){if(e>=this.getNumConditions())return!1;return"empty"!==this.getConditionType(e)&&!this.getValues(e).some((e=>null==e))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach((e=>this.resetType(e))),this.eJoinOperatorsAnd.forEach(((e,t)=>this.resetJoinOperatorAnd(e,t,this.joinOperatorId+t))),this.eJoinOperatorsOr.forEach(((e,t)=>this.resetJoinOperatorOr(e,t,this.joinOperatorId+t))),this.joinOperatorId++,this.forEachInput((e=>this.resetInput(e))),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),ene.resolve()}resetType(e){const t=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(t).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,r){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(i),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach(((e,t)=>this.updateJoinOperatorDisabled(e,t))),this.eJoinOperatorsOr.forEach(((e,t)=>this.updateJoinOperatorDisabled(e,t)))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e);this.forEachInput(((e,i,r)=>{r===t&&this.setElementValue(e,null!=n[i]?n[i]:null)}))}setValueFromFloatingFilter(e){this.forEachInput(((t,n,i)=>{this.setElementValue(t,0===n&&0===i?e:null,!0)}))}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,(e=>{this.attachElementOnChange(e,this.listener)})))}individualConditionPasses(e,t){const n=this.getCellValue(e.node),i=this.mapValuesFromModel(t),r=this.optionsFactory.getCustomOption(t.type),o=this.evaluateCustomFilter(r,i,n);return null!=o?o:null==n?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e)}evaluateCustomFilter(e,t,n){if(null==e)return;const{predicate:i}=e;return null==i||t.some((e=>null==e))?void 0:i(t,n)}isBlank(e){return null==e||"string"===typeof e&&0===e.trim().length}hasInvalidInputs(){return!1}},tie=class extends eie{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":case"notEqual":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const i=this.comparator(),r=null!=e[0]?i(e[0],t):0;switch(n.type){case"equals":return 0===r;case"notEqual":return 0!==r;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const n=i(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&n<=0:r>0&&n<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return d9('Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}};function nie(e){if(e.altKey||e.ctrlKey||e.metaKey)return!1;return 1===e.key?.length}function iie(e,t,n,i,r){const o=i?i.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const s=e.addGridCommonParams({event:t,editing:r,column:i,node:n,data:n.data,colDef:i.getColDef()});if(o){if(o(s))return!0}return!1}var rie=class extends Vte{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ag-text-field",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text")}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=O7(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListeners(this.eInput,{keydown:t=>{nie(t)&&t.key&&!e.test(t.key)&&t.preventDefault()},paste:t=>{const n=t.clipboardData?.getData("text");n&&n.split("").some((t=>!e.test(t)))&&t.preventDefault()}})}},oie={selector:"AG-INPUT-TEXT-FIELD",component:rie},sie=class extends rie{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const e=parseFloat(this.eInput.value),t=isNaN(e)?"":this.normalizeValue(e.toString());this.value!==t&&this.setValue(t)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:n,step:i}=this.config;"number"===typeof e&&this.setPrecision(e),"number"===typeof t&&this.setMin(t),"number"===typeof n&&this.setMax(n),"number"===typeof i&&this.setStep(i)}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}normalizeValue(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));const t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(null==this.precision)return e;if(t){const t=parseFloat(e).toFixed(this.precision);return parseFloat(t).toString()}const n=String(e).split(".");if(n.length>1){if(n[1].length<=this.precision)return e;if(this.precision>0)return`${n[0]}.${n[1].slice(0,this.precision)}`}return n[0]}setMin(e){return this.min===e||(this.min=e,hte(this.eInput,"min",e)),this}setMax(e){return this.max===e||(this.max=e,hte(this.eInput,"max",e)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e||(this.step=e,hte(this.eInput,"step",e)),this}setValue(e,t){return this.setValueOrInputValue((e=>super.setValue(e,t)),(()=>this),e)}setStartValue(e){return this.setValueOrInputValue((e=>super.setValue(e,!0)),(e=>{this.eInput.value=e}),e)}setValueOrInputValue(e,t,n){if(O7(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){i=(n=this.adjustPrecision(n))!=this.normalizeValue(n)}if(i)return t(n)}return e(n)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return"string"===typeof e&&e.includes("e")}},aie={selector:"AG-INPUT-NUMBER-FIELD",component:sie},lie=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],uie=class{constructor(e,t,n){this.localeService=e,this.optionsFactory=t,this.valueFormatter=n}getModelAsString(e){if(!e)return null;const t=null!=e.operator,n=this.localeService.getLocaleTextFunc();if(t){const t=e,i=(t.conditions??[]).map((e=>this.getModelAsString(e))),r="AND"===t.operator?"andCondition":"orCondition";return i.join(` ${n(r,Une[r])} `)}if("blank"===e.type||"notBlank"===e.type)return n(e.type,e.type);{const t=e,i=this.optionsFactory.getCustomOption(t.type),{displayKey:r,displayName:o,numberOfInputs:s}=i||{};return r&&o&&0===s?(n(r,o),o):this.conditionToString(t,i)}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},cie=class extends uie{conditionToString(e,t){const{numberOfInputs:n}=t||{};return"inRange"==e.type||2===n?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:null!=e.filter?this.formatValue(e.filter):`${e.type}`}};function die(e){const{allowedCharPattern:t}=e??{};return t??null}var hie=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],pie=class extends uie{conditionToString(e,t){const{numberOfInputs:n}=t||{};return"inRange"==e.type||2===n?`${e.filter}-${e.filterTo}`:null!=e.filter?`${e.filter}`:`${e.type}`}};function gie(e){const t=e&&e.trim();return""===t?e:t}function fie(e){if("number"===typeof e)return e;if("string"===typeof e){const t=parseInt(e);if(isNaN(t))return;return t}}function mie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return n=>{const i=fie(n);if(!(null==i||i<e||i>t))return i}}function vie(e,t){return e.toString().padStart(t,"0")}function yie(e,t,n){return"number"!==typeof e?"":e.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function wie(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map((e=>vie(e,2))).join(n);return t&&(i+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map((e=>vie(e,2))).join(":")),i}var Cie=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function bie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";const n=vie(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>vie(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Cie(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Cie(e.getDate())}`,DD:()=>vie(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Cie(e.getDay())}`,d:()=>`${e.getDay()}`},s=new RegExp(Object.keys(o).join("|"),"g");return t.replace(s,(e=>e in o?o[e]():e))}function Sie(e){if(!e)return null;const[t,n]=e.split(" ");if(!t)return null;const i=t.split("-").map((e=>parseInt(e,10)));if(3!==i.filter((e=>!isNaN(e))).length)return null;const[r,o,s]=i,a=new Date(r,o-1,s);if(a.getFullYear()!==r||a.getMonth()!==o-1||a.getDate()!==s)return null;if(!n||"00:00:00"===n)return a;const[l,u,c]=n.split(":").map((e=>parseInt(e,10)));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),c>=0&&c<60&&a.setSeconds(c),a}var xie=class{constructor(e,t,n,i,r){this.alive=!0,this.context=e,this.eParent=i;t.getDateCompDetails(n).newAgStackInstance().then((t=>{this.alive?(this.dateComp=t,t&&(i.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),this.tempValue&&t.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled),r?.(this))):e.destroyBean(t)}))}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Uee(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&"function"===typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)}updateParams(e){let t=!1;if(this.dateComp?.refresh&&"function"===typeof this.dateComp.refresh){null!==this.dateComp.refresh(e)&&(t=!0)}if(!t&&this.dateComp?.onParamsUpdated&&"function"===typeof this.dateComp.onParamsUpdated){null!==this.dateComp.onParamsUpdated(e)&&d9("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}}setDateCompDisabled(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)}},Mie=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],_ie=class extends uie{constructor(e,t,n){super(t,n),this.dateFilterParams=e}conditionToString(e,t){const{type:n}=e,{numberOfInputs:i}=t||{},r="inRange"==n||2===i,o=Sie(e.dateFrom),s=Sie(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){return`${null!==o?bie(o,a):"null"}-${null!==s?bie(s,a):"null"}`}return null!=o?bie(o,a):`${n}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},Rie=1/0,Die=class extends k7{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=i,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?v7(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=O7(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),n=e.getOldLeft(),i=this.modifyLeftForPrintLayout(e,n),r=this.modifyLeftForPrintLayout(e,t);this.setLeft(i),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn((()=>{this.actualLeft===r&&this.setLeft(r)}))}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gos.isDomLayout("print"))return t;if("left"===e.getPinned())return t;const n=this.beans.visibleColsService.getColsLeftWidth();if("right"===e.getPinned()){return n+this.beans.visibleColsService.getBodyContainerWidth()+t}return n+t}setLeft(e){if(O7(e)&&(this.eCell.style.left=`${e}px`),j9(this.columnOrGroup)){const e=this.columnOrGroup.getLeafColumns();if(!e.length)return;e.length>1&&(t=this.ariaEl,n=e.length,fee(t,"colspan",n))}var t,n}};function Pie(e,t,n,i){return N7(e)?[]:Aie(e.headerClass,e,t,n,i)}function Tie(e,t,n){e.addOrRemoveCssClass("ag-column-first",n.isColAtEdge(t,"first")),e.addOrRemoveCssClass("ag-column-last",n.isColAtEdge(t,"last"))}function Aie(e,t,n,i,r){if(N7(e))return[];let o;if("function"===typeof e){const s=function(e,t,n,i){return t.addGridCommonParams({colDef:e,column:n,columnGroup:i})}(t,n,i,r);o=e(s)}else o=e;return"string"===typeof o?[o]:Array.isArray(o)?[...o]:[]}var Eie=0,Iie=class e extends k7{constructor(e,t,n){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=e,this.parentRowCtrl=n,this.beans=t,this.instanceId=e.getUniqueId()+"-"+Eie++}wireBeans(e){this.pinnedWidthService=e.pinnedWidthService,this.focusService=e.focusService,this.userComponentFactory=e.userComponentFactory,this.ctrlsService=e.ctrlsService,this.dragAndDropService=e.dragAndDropService,this.menuService=e.menuService}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.focusService.getFocusedHeader();return function(e,t,n,i){const r=i.getDefinition(),o=r&&r.suppressHeaderKeyboardEvent;return!!O7(o)&&!!o(e.addGridCommonParams({colDef:r,column:i,headerRowIndex:n,event:t}))}(this.gos,e,t,n)}getWrapperHasFocus(){return this.gos.getActiveDomElement()===this.eGui}setGui(e){this.eGui=e,this.addDomData(e),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n}=e,{animationFrameService:i,resizeObserverService:r,columnModel:o,gos:s}=this.beans,a=e=>{if(!this.isAlive())return;const{paddingTop:n,paddingBottom:r,borderBottomWidth:l,borderTopWidth:u}=Kee(this.getGui()),c=n+r+l+u,d=t.offsetHeight+c;if(e<5){const n=s.getDocument();if(!n||!n.contains(t)||0==d)return void i.requestAnimationFrame((()=>a(e+1)))}o.setColHeaderHeight(this.column,d)};let l,u=!1;const c=()=>{const e=this.column.isAutoHeaderHeight();e&&!u&&d(),!e&&u&&h()},d=()=>{u=!0,a(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),l=r.observeResize(t,(()=>a(0)))},h=()=>{u=!1,l&&l(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),l=void 0};c(),this.addDestroyFunc((()=>h())),this.addManagedListeners(this.column,{widthChanged:()=>u&&a(0)}),this.addManagedEventListeners({sortChanged:()=>{u&&window.setTimeout((()=>a(0)))}}),n&&n(c)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:i}=this;e&&t&&i&&(Tie(e,t,n.visibleColsService),Dee(i,n.visibleColsService.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){this.resizeFeature&&this.addManagedListeners(e,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=this.focusService.isHeaderFocusSuppressed();this.eGui&&hte(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=this.gos.getActiveDomElement(),n=e.key===Nte.LEFT||e.key===Nte.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey)return;if((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n)return;const i=e.key===Nte.LEFT!==this.gos.get("enableRtl"),r=_ne[i?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const t=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(t,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(r)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e);if(this.column.getPinned()){const e=this.pinnedWidthService.getPinnedLeftWidth(),n=this.pinnedWidthService.getPinnedRightWidth(),i=Yee(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(e+n+t>i){if(!(i>e+n))return 0;t=i-e-n}}return t}getResizeDiff(e){let t=e.key===Nte.LEFT!==this.gos.get("enableRtl");const n=this.column.getPinned(),i=this.gos.get("enableRtl");return n&&i!==("right"===n)&&(t=!t),(t?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout((()=>{this.resizeFeature?.toggleColumnResizing(!1)}),150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case Nte.PAGE_DOWN:case Nte.PAGE_UP:case Nte.PAGE_HOME:case Nte.PAGE_END:t&&e.preventDefault()}}addDomData(t){const n=e.DOM_DATA_KEY_HEADER_CTRL;this.gos.setDomData(t,n,this),this.addDestroyFunc((()=>this.gos.setDomData(t,n,null)))}getGui(){return this.eGui}focus(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const i=e??t;this.gos.get("preventDefaultOnContextMenu")&&i.preventDefault();const r=i9(n)?n:void 0;this.menuService.isHeaderContextMenuEnabled(r)&&this.menuService.showHeaderContextMenu(r,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventService.dispatchEvent({type:e,column:t})}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};Iie.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var kie=Iie,Fie=class extends k7{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};var Lie="32.1.0";var Oie=class extends Cte{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e)return void(this.lastType=this.optionsFactory.getDefaultOption());let t;if(e.operator){t=e.conditions[0]}else t=e;this.lastType=t.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const t=e;return this.isTypeEditable(t.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.optionsFactory=new Jne,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const n=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(n)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:n}=t||{};return null==n||1==n}isTypeEditable(e){return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&["inRange","empty","blank","notBlank"].indexOf(e)<0}getAriaLabel(e){return`${this.columnNameService.getDisplayNameForColumn(e.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},Nie=class extends k7{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=wte,this.valueChangedListener=()=>{}}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new rie(this.params?.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const n=e=>this.valueChangedListener(e);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},Bie=class extends Oie{constructor(){super(...arguments),this.eFloatingFilterInputContainer=wte}postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=$ne(this.params.filterParams),!this.isReadOnly()){const e=jne(this.params.filterParams,this.getDefaultDebounceMs()),t=y9(this.syncUpWithParentFilter.bind(this),e);this.floatingFilterInputService.setValueChangedListener(t)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();nte(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===Nte.ENTER;if(this.applyActive&&!t)return;let n=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(n=gie(n),this.floatingFilterInputService.setValue(n,!0)),this.params.parentFilterInstance((e=>{e&&e.onFloatingFilterChanged(this.getLastType()||null,n||null)}))}setEditable(e){this.floatingFilterInputService.setEditable(e)}},Gie=class extends k7{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new sie),this.eFloatingFilterTextInput=this.createManagedBean(new rie),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),n=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,(e=>this.valueChangedListener(e))),this.setupListeners(n,(e=>this.valueChangedListener(e)))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}};var Vie={version:Lie,moduleName:"@ag-grid-community/filter-core",beans:[class extends k7{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:e=>{let{enabled:t}=e;return this.onAdvancedFilterEnabledChanged(t)},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],(()=>{this.onFilterChanged({source:"api"})})),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",(()=>{this.updateAggFiltering(),this.onFilterChanged()})),this.addManagedPropertyListener("advancedFilterModel",(e=>this.setAdvancedFilterModel(e.currentValue))),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return"function"===typeof e&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return"function"===typeof t&&t(e)}setFilterModel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this.isAdvancedFilterEnabled()?this.warnAdvancedFilters():this.columnFilterService?.setFilterModel(e,t)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){e?this.columnFilterService?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilterService?.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gos.getGroupAggFiltering()&&this.onFilterChanged()}onFilterChanged(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):ene.resolve()).then((()=>{const e={source:t,type:"filterChanged",columns:i};n&&Z7(e,n),this.eventService.dispatchEvent(e),this.columnFilterService?.updateAfterFilterChanged()}))}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gos.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode))&&!(this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode))&&(!(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode))&&(!(this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip))&&!(this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))))}isFilterActive(e){return!!this.columnFilterService?.isFilterActive(e)}getOrCreateFilterWrapper(e){return this.columnFilterService?.getOrCreateFilterWrapper(e)??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){return!this.isAdvancedFilterEnabled()&&!!this.columnFilterService?.isFilterAllowed(e)}getFloatingFilterCompDetails(e,t){return this.columnFilterService?.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){return this.columnFilterService?.getCurrentFloatingFilterParentModel(e)}destroyFilter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this.columnFilterService?.destroyFilter(e,t)}areFilterCompsDifferent(e,t){return!!this.columnFilterService?.areFilterCompsDifferent(e,t)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){this.isAdvancedFilterEnabled()&&(this.dataTypeService?.isPendingInference()?this.advancedFilterModelUpdateQueue.push(e):(this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})))}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return!this.isAdvancedFilterEnabled()&&!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(e,t){if(!this.isAdvancedFilterEnabled())return this.columnFilterService?.getFilterInstance(e,t);this.warnAdvancedFilters()}getColumnFilterInstance(e){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):this.columnFilterService?.getColumnFilterInstance(e)??Promise.resolve(void 0)}warnAdvancedFilters(){d9("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){this.advancedFilterService?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach((e=>this.setAdvancedFilterModel(e))),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){return this.columnFilterService?.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):this.columnFilterService?.setColumnFilterModel(e,t)??Promise.resolve()}}]},zie={version:Lie,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:function(e){return!!e.filterManager?.isAnyFilterPresent()},onFilterChanged:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";e.filterManager?.onFilterChanged({source:t})}},dependantModules:[Vie]},Hie={version:Lie,moduleName:"@ag-grid-community/column-filter",beans:[class extends k7{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...this.gos.get("initialState")?.filter?.filterModel??{}}}setFilterModel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";if(this.dataTypeService?.isPendingInference())return void this.filterModelUpdateQueue.push({model:e,source:t});const n=[],i=this.getFilterModel(!0);if(e){const t=new Set(Object.keys(e));this.allColumnFilters.forEach(((i,r)=>{const o=e[r];n.push(this.setModelOnFilterWrapper(i.filterPromise,o)),t.delete(r)})),t.forEach((t=>{const i=this.columnModel.getColDefCol(t)||this.columnModel.getCol(t);if(!i)return void d9("setFilterModel() - no column found for colId: "+t);if(!i.isFilterAllowed())return void d9("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+t);const r=this.getOrCreateFilterWrapper(i);r?n.push(this.setModelOnFilterWrapper(r.filterPromise,e[t])):d9("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+t)}))}else this.allColumnFilters.forEach((e=>{n.push(this.setModelOnFilterWrapper(e.filterPromise,null))}));ene.all(n).then((()=>{const e=this.getFilterModel(!0),n=[];this.allColumnFilters.forEach(((t,r)=>{W7(i?i[r]:null,e?e[r]:null)||n.push(t.column)})),n.length>0&&this.filterManager?.onFilterChanged({columns:n,source:t})}))}setModelOnFilterWrapper(e,t){return new ene((n=>{e.then((e=>{"function"!==typeof e.setModel&&(d9("filter missing setModel method, which is needed for setFilterModel"),n()),(e.setModel(t)||ene.resolve()).then((()=>n()))}))}))}getFilterModel(e){const t={},{allColumnFilters:n,initialFilterModel:i}=this;return n.forEach(((e,n)=>{const i=this.getModelFromFilterWrapper(e);O7(i)&&(t[n]=i)})),e||Object.entries(i).forEach((e=>{let[i,r]=e;O7(r)&&!n.has(i)&&this.columnModel.getCol(i)?.isFilterAllowed()&&(t[i]=r)})),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?"function"!==typeof t.getModel?(d9("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return!!this.allColumnFilters.size&&(this.allColumnFilters.forEach((e=>this.disposeFilterWrapper(e,"advancedFilterEnabled"))),!0)}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=!!this.gos.getGroupAggFiltering(),t=t=>{if(!t.isPrimary())return!0;const n=!this.columnModel.isPivotActive();return!(!t.isValueActive()||!n)&&(!!this.columnModel.isPivotMode()||e)},n=[],i=[];return this.forEachColumnFilter(((e,r)=>{const o=(e=>!!e&&(e.isFilterActive?e.isFilterActive():(d9("Filter is missing isFilterActive() method"),!1)))(e);o&&(t(r.column)?n.push(e):i.push(e))})).then((()=>{this.activeAggregateFilters=n,this.activeColumnFilters=i}))}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter(((n,i)=>i.column.setFilterActive(n.isFilterActive(),e,t)))}forEachColumnFilter(e){return ene.all(Array.from(this.allColumnFilters.values()).map((t=>t.filterPromise.then((n=>e(n,t))))))}doColumnFiltersPass(e,t,n){const{data:i,aggData:r}=e,o=n?this.activeAggregateFilters:this.activeColumnFilters,s=n?r:i;for(let a=0;a<o.length;a++){const n=o[a];if(null!=n&&n!==t){if("function"!==typeof n.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!n.doesFilterPass({node:e,data:s}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>this.filterManager?.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{filterInstance:t,additionalEventAttributes:n}=e;return this.updateDependentFilters(),this.updateActiveFilters().then((()=>this.updateFilterFlagInColumns("filterChanged",n).then((()=>{this.allColumnFilters.forEach((e=>{e.filterPromise&&e.filterPromise.then((e=>{e&&e!==t&&e.onAnyFilterChanged&&e.onAnyFilterChanged()}))})),this.processingFilterChange=!0}))))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter((e=>{e.onNewRowsLoaded&&e.onNewRowsLoaded()})).then((()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0}))).then((()=>this.updateActiveFilters()))}createValueGetter(e){return t=>{let{node:n}=t;return this.valueService.getValue(e,n,!0)}}createGetValue(e){return(t,n)=>{const i=n?this.columnModel.getCol(n):e;return i?this.valueService.getValue(i,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():null!=this.getModelFromInitialState(e)}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(Fte.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))t="agSetColumnFilter";else{const n=this.dataTypeService?.getBaseDataType(e);t="number"===n?"agNumberColumnFilter":"date"===n||"dateString"===n?"agDateColumnFilter":"agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(Fte.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))t="agSetColumnFloatingFilter";else{const n=this.dataTypeService?.getBaseDataType(e);t="number"===n?"agNumberColumnFloatingFilter":"date"===n||"dateString"===n?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const n=this.getDefaultFilter(e),i=e.getColDef();let r;const o={...this.createFilterParams(e,i),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,e)(),filterChangedCallback:t=>this.filterChangedCallbackFactory(r,e)(t),doesRowPassOtherFilter:e=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(r,e)},s=this.userComponentFactory.getFilterDetails(i,o,n);return s?{filterPromise:()=>{const e=s.newAgStackInstance();return null!=e&&e.then((e=>{r=e,t&&(t.filter=e)})),e},compDetails:s}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:q7(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:n,compDetails:i}=this.createFilterInstance(e,t);return t.filterPromise=n?.()??null,t.compDetails=i,t}onColumnsChanged(){const e=[];this.allColumnFilters.forEach(((t,n)=>{let i;i=t.column.isPrimary()?this.columnModel.getColDefCol(n):this.columnModel.getCol(n),i&&i===t.column||(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(n))}));const t=e.every((e=>"agGroupColumnFilter"===e.getColDef().filter));e.length>0&&!t?this.filterManager?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e?.forEach((e=>{"agGroupColumnFilter"===e.getColDef().filter&&this.getOrCreateFilterWrapper(e)}))}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:t}=this.allColumnFilters.get(e.getColId())??{};return!t||("function"!==typeof t?.isFilterAllowed||t.isFilterAllowed())}getFloatingFilterCompDetails(e,t){const n=t=>{const n=this.getOrCreateFilterWrapper(e)?.filterPromise;null!=n&&n.then((e=>{t(Sne(e))}))},i=e.getColDef(),r={...this.createFilterParams(e,i),filterChangedCallback:()=>n((t=>this.filterChangedCallbackFactory(t,e)()))},o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,hne,r);let s=function(e,t,n){if(null==t)return null;let i=null;const{compName:r,jsComp:o,fwComp:s}=bne.getCompKeys(e,t,hne);r?i={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:null==o&&null==s&&!0===t.filter&&(i=n());return i}(this.frameworkOverrides,i,(()=>this.getDefaultFloatingFilter(e)));null==s&&(s="agReadOnlyFloatingFilter");const a={column:e,filterParams:o,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:n,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(i,a,s)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";const n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],i&&(this.disposeFilterWrapper(i,t),this.filterManager?.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then((n=>{this.destroyBean(n),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})}))}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return n=>{const i={filter:e,additionalEventAttributes:n,columns:[t],source:n?.source??"columnFilter"};this.callOnFilterChangedOutsideRenderCycle(i)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const n=t.column,{compDetails:i}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,i))return void this.destroyFilter(n,"paramsUpdated");const r=n.getColDef().filterParams;t.filterPromise?t.filterPromise.then((e=>{!1===(!e?.refresh||e.refresh({...this.createFilterParams(n,n.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(e,n),filterChangedCallback:this.filterChangedCallbackFactory(e,n),doesRowPassOtherFilter:t=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(e,t),...r}))&&this.destroyFilter(n,"paramsUpdated")})):this.destroyFilter(n,"paramsUpdated")}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:i}=t;return!(n===i||n?.render&&i?.render&&n.render===i.render)}hasFloatingFilters(){return this.columnModel.getCols().some((e=>e.getColDef().floatingFilter))}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then((e=>{const n=Sne(e);t(n)}))}getColumnFilterInstance(e){return new Promise((t=>{this.getFilterInstanceImpl(e).then((e=>{t(Sne(e))}))}))}getFilterInstanceImpl(e){const t=this.columnModel.getColDefCol(e);if(!t)return ene.resolve(void 0);const n=this.getOrCreateFilterWrapper(t)?.filterPromise;return n??ene.resolve(null)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach((e=>{let{model:t,source:n}=e;return this.setFilterModel(t,n)})),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach((e=>{let{key:t,model:n,resolve:i}=e;this.setColumnFilterModel(t,n).then((()=>i()))})),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.dataTypeService?.isPendingInference()){let n=()=>{};const i=new Promise((e=>{n=e}));return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:n}),i}const n=this.columnModel.getColDefCol(e),i=n?this.getOrCreateFilterWrapper(n):null;return i?(r=this.setModelOnFilterWrapper(i.filterPromise,t),new Promise((e=>{r.then((t=>e(t)))}))):Promise.resolve();var r}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}destroy(){super.destroy(),this.allColumnFilters.forEach((e=>this.disposeFilterWrapper(e,"gridDestroyed"))),this.allColumnListeners.clear()}}],dependantModules:[Vie]},Wie={version:Lie,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:function(e){return!!e.filterManager?.isColumnFilterPresent()||!!e.filterManager?.isAggregateFilterPresent()},getFilterInstance:function(e,t,n){return e.filterManager?.getFilterInstance(t,n)},getColumnFilterInstance:function(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)},destroyFilter:function(e,t){const n=e.columnModel.getColDefCol(t);if(n)return e.filterManager?.destroyFilter(n,"api")},setFilterModel:function(e,t){e.frameworkOverrides.wrapIncoming((()=>e.filterManager?.setFilterModel(t)))},getFilterModel:function(e){return e.filterManager?.getFilterModel()??{}},getColumnFilterModel:function(e,t){return e.filterManager?.getColumnFilterModel(t)??null},setColumnFilterModel:function(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()},showColumnFilter:function(e,t){const n=e.columnModel.getCol(t);n?e.menuService.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"}):h9(`column '${t}' not found`)}},dependantModules:[Hie,zie]},Uie={version:Lie,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:class extends kie{constructor(e,t,n){super(e,t,n),this.iconCreated=!1,this.column=e}setComp(e,t,n,i){this.comp=e,this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(),this.addManagedListeners(this.column,{colDefChanged:this.onColDefChanged.bind(this)})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=xte("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new Wne(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();wee(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gos.getActiveDomElement()===this.eGui)return;const t=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(t)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void t.focus();const n=this.findNextColumnWithFloatingFilter(e.shiftKey);n&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:n},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let n=this.column;do{if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break}while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Nte.UP:case Nte.DOWN:t||e.preventDefault();case Nte.LEFT:case Nte.RIGHT:if(t)return;e.stopPropagation();case Nte.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Nte.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const t=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&$ee(e.relatedTarget,"ag-floating-filter");if(t&&n&&e.target===this.eGui){const e=this.lastFocusEvent,t=!(!e||e.key!==Nte.TAB);if(e&&t){const t=e.shiftKey;this.focusService.focusInto(this.eGui,t)}}const i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.column)}setupHover(){this.createManagedBean(new Fie([this.column],this.eGui));const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedEventListeners({columnHoverChanged:e}),e()}setupLeft(){const e=new Die(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter()));e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:e}=this.beans,t=t=>{if("filterDestroyed"===t?.source&&!this.isAlive())return;const n=this.comp.getFloatingFilterComp();n&&n.then((n=>{if(n){const i=e?.getCurrentFloatingFilterParentModel(this.column),r=t?{...t,columns:t.columns??[],source:"api"===t.source?"api":"columnFilter"}:null;n.onParentModelChanged(i,r)}}))};[this.destroySyncListener]=this.addManagedListeners(this.column,{filterChanged:t}),e?.isFilterActive(this.column)&&t(null)}setupWidth(){const e=()=>{const e=`${this.column.getActualWidth()}px`;this.comp.setWidth(e)};this.addManagedListeners(this.column,{widthChanged:e}),e()}setupFilterChangedListener(){this.active&&([this.destroyFilterChangedListener]=this.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){const e=this.active;this.setupActive();const t=!e&&this.active;e&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter())):null,i=this.comp.getFloatingFilterComp();i&&n?i.then((e=>{!e||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(n,t):this.updateFloatingFilterParams(n)})):this.updateCompDetails(n,t)}updateCompDetails(e,t){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(e){if(!e)return;const t=e.params;this.comp.getFloatingFilterComp()?.then((e=>{let n=!1;if(e?.refresh&&"function"===typeof e.refresh){null!==e.refresh(t)&&(n=!0)}if(!n&&e?.onParamsUpdated&&"function"===typeof e.onParamsUpdated){null!==e.onParamsUpdated(t)&&d9("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}}))}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}}}],dependantModules:[Hie]},jie={version:Lie,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:class extends Cte{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>\n            </div>',[oie]),this.eFloatingFilterText=wte}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${n("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){null!=e?this.params.parentFilterInstance((t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})):this.eFloatingFilterText.setValue("")}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}}}],dependantModules:[Uie]},$ie={version:Lie,moduleName:"@ag-grid-community/simple-filter",dependantModules:[Hie],userComponents:[{name:"agTextColumnFilter",classImp:class extends eie{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>null==e?null:e.toString().toLowerCase(),this.defaultMatcher=e=>{let{filterOption:t,value:n,filterText:i}=e;if(null==i)return!1;switch(t){case"contains":return n.indexOf(i)>=0;case"notContains":return n.indexOf(i)<0;case"equals":return n===i;case"notEqual":return n!=i;case"startsWith":return 0===n.indexOf(i);case"endsWith":{const e=n.lastIndexOf(i);return e>=0&&e===n.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new pie(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(d9("textCustomComparator is deprecated, use textMatcher instead."),t=>{let{filterOption:n,value:i,filterText:r}=t;return e(n,i,r)}):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),n={filterType:this.getFilterType(),type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,((e,i,r,o)=>{if(i<o){let i=L7(e.getValue());t&&this.textFilterParams.trimInput&&(i=gie(i)??null,e.setValue(i,!0)),n.push(i)}})),n}getDefaultFilterOptions(){return hie}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),yee(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,n){const i=this.createManagedBean(new rie);i.addCssClass(`ag-filter-${n}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:i}=e||{};return[t||null,n||null].slice(0,this.getNumberOfInputs(i))}evaluateNullValue(e){return!!e&&["notEqual","notContains","blank"].indexOf(e)>=0}evaluateNonNullValue(e,t,n,i){const r=e.map((e=>this.formatter(e)))||[],o=this.formatter(t),{api:s,colDef:a,column:l,context:u,textFormatter:c}=this.textFilterParams;if("blank"===n.type)return this.isBlank(t);if("notBlank"===n.type)return!this.isBlank(t);const d={api:s,colDef:a,column:l,context:u,node:i.node,data:i.data,filterOption:n.type,value:o,textFormatter:c};return r.some((e=>this.matcher({...d,filterText:e})))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}}},{name:"agNumberColumnFilter",classImp:class extends tie{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:i}=e||{};return[this.processValue(t),this.processValue(n)].slice(0,this.getNumberOfInputs(i))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new cie(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return lie}setElementValue(e,t,n){const i=!n&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,i)}createValueElement(){const e=die(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),yee(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,i){const r=this.createManagedBean(i?new rie({allowedCharPattern:i}):new sie);r.addCssClass(`ag-filter-${n}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,((e,n,i,r)=>{n<r&&t.push(this.processValue(this.stringToFloat(e.getValue())))})),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return null==e||isNaN(e)?null:e}stringToFloat(e){if("number"===typeof e)return e;let t=L7(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.getFilterType(),type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput((t=>{t.getInputElement().validity.valid||(e=!0)})),e}}},{name:"agDateColumnFilter",classImp:class extends tie{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=Rie,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:n,type:i}=e||{};return[t&&Sie(t)||null,n&&Sie(n)||null].slice(0,this.getNumberOfInputs(i))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){return null==t||t<e?-1:t>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(t,n)=>{if(null!=e[t]){if(!isNaN(e[t]))return null==e[t]?n:Number(e[t]);d9(`DateFilter ${t} is not a number`)}return n};this.minValidYear=t("minValidYear",1e3),this.maxValidYear=t("maxValidYear",Rie),this.minValidYear>this.maxValidYear&&d9("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Sie(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Sie(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&d9("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new _ie(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new xie(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc((()=>t.destroy())),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return Mie}createValueElement(){const e=this.gos.getDocument().createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,i){const r=this.gos.getDocument().createElement("div");r.classList.add(`ag-filter-${i}`),r.classList.add(`ag-filter-date-${i}`),t.push(r),e.appendChild(r),n.push(this.createDateCompWrapper(r))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){this.removeItems(e,t,n).forEach((e=>e.destroy()))}isValidDateValue(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput(((n,i,r,o)=>{r!==e||!t||i>=o||(t=t&&this.isValidDateValue(n.getDate()))})),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=wie(i[0])),i.length>1&&(n.dateTo=wie(i[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...n}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput((e=>{e.setInputPlaceholder(t),e.setInputAriaLabel(n)}))}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,((e,n,i,r)=>{n<r&&t.push(e.getDate())})),t}translate(e){return"lessThan"===e?super.translate("before"):"greaterThan"===e?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}}},{name:"agDateInput",classImp:class extends Cte{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>\n            </div>',[oie]),this.eDateInput=wte}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:e=>{e.target===this.gos.getActiveDomElement()&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&Iee(),t.type=n?"date":"text";const{minValidYear:i,maxValidYear:r,minValidDate:o,maxValidDate:s}=e.filterParams||{};if(o&&i&&d9("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),s&&r&&d9("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),o&&s){const[e,t]=[o,s].map((e=>e instanceof Date?e:Sie(e)));e&&t&&e.getTime()>t.getTime()&&d9("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}o?o instanceof Date?t.min=bie(o):t.min=o:i&&(t.min=`${i}-01-01`),s?s instanceof Date?t.max=bie(s):t.max=s:r&&(t.max=`${r}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Sie(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(wie(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e&&e.suppressFocus||this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:Fee()||Lee()||Iee()&&kee()>=14.1}}}]},Kie={version:Lie,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[$ie,Uie],userComponents:[{name:"agTextColumnFloatingFilter",classImp:class extends Bie{init(e){super.init(e),this.filterModelFormatter=new pie(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return hie}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new Nie)}}},{name:"agNumberColumnFloatingFilter",classImp:class extends Bie{init(e){super.init(e),this.filterModelFormatter=new cie(this.localeService,this.optionsFactory,e.filterParams?.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){die(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return lie}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=die(e.filterParams),this.allowedCharPattern?this.createManagedBean(new Nie({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Gie)}}},{name:"agDateColumnFloatingFilter",classImp:class extends Oie{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>\n                <div data-ref="eDateWrapper" style="display: flex;"></div>\n            </div>',[oie]),this.eReadOnlyText=wte,this.eDateWrapper=wte}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return Mie}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new _ie(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const t=e;this.dateComp.setDate(Sie(t.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Uee(this.eDateWrapper,e),Uee(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=wie(this.dateComp.getDate());this.params.parentFilterInstance((t=>{if(t){const n=Sie(e);t.onFloatingFilterChanged(this.getLastType()||null,n)}}))}getDateComponentParams(){const e=jne(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:y9(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new xie(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,(e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))})),this.addDestroyFunc((()=>this.dateComp.destroy()))}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}}}]},qie={version:Lie,moduleName:"@ag-grid-community/quick-filter-core",beans:[class extends k7{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",(e=>this.setQuickFilter(e.currentValue))),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],(()=>this.onQuickFilterColumnConfigChanged())),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],(()=>this.setQuickFilterParserAndMatcher()))}refreshQuickFilterCols(){const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),n=this.columnModel.getColDefCols();let i=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:n)??[];t&&(i=i.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?i:i.filter((e=>e.isVisible()||e.isRowGroupActive()))}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every((n=>t?this.doesRowPassQuickFilterCache(e,n):this.doesRowPassQuickFilterNoCache(e,n)))}resetQuickFilterCache(){this.rowModel.forEachNode((e=>e.quickFilterAggregateText=null))}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;this.quickFilterParts=e?t?t(e):e.split(" "):null}parseQuickFilter(e){return O7(e)?this.gos.isRowModelType("clientSide")?e.toUpperCase():(d9("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(null!=e&&"string"!==typeof e)return void d9("Grid option quickFilterText only supports string inputs, received: "+typeof e);const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some((n=>{const i=this.getQuickFilterTextForColumn(n,e);return O7(i)&&i.indexOf(t)>=0}))}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let n;e?(this.checkGenerateQuickFilterAggregateText(t),n=t.quickFilterAggregateText):n=this.getQuickFilterAggregateText(t);const{quickFilterParts:i,matcher:r}=this;return r(i,n)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let n=this.valueService.getValue(e,t,!0);const i=e.getColDef();if(i.getQuickFilterText){const r=this.gos.addGridCommonParams({value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(r)}return O7(n)?n.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach((n=>{const i=this.getQuickFilterTextForColumn(n,e);O7(i)&&t.push(i)})),t.join("\n")}}],dependantModules:[Vie]},Yie={version:Lie,moduleName:"@ag-grid-community/filter",dependantModules:[Kie,jie,{version:Lie,moduleName:"@ag-grid-community/quick-filter",dependantModules:[qie,{version:Lie,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:function(e){return!!e.filterManager?.isQuickFilterPresent()},getQuickFilter:function(e){return e.gos.get("quickFilterText")},resetQuickFilter:function(e){e.filterManager?.resetQuickFilterCache()}},dependantModules:[qie]}]},Wie]},Xie=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(Xie||{}),Zie=class extends k7{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridBodyCon=e.gridBodyCtrl}));const e=this.gos.getDocument();this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}getHeaderPositionForColumn(e,t){let n;if("string"===typeof e?(n=this.columnModel.getCol(e),n||(n=this.visibleColService.getColumnGroup(e))):n=e,!n)return null;const i=this.ctrlsService.getHeaderRowContainerCtrl(),r=i?.getAllCtrls(),o="filter"===v7(r||[]).getType(),s=this.getHeaderRowCount()-1;let a=-1,l=n;for(;l;)a++,l=l.getParent();let u=a;return t&&o&&u===s-1&&u++,-1===u?null:{headerRowIndex:u,column:n}}navigateVertically(e,t,n){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:i}=t,r=t.column,o=this.getHeaderRowCount(),s=0===e;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:u}=s?this.headerPositionUtils.getColumnVisibleParent(r,i):this.headerPositionUtils.getColumnVisibleChild(r,i),c=!1;return a<0&&(a=0,l=r,c=!0),a>=o?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==u&&(this.currentHeaderRowWithoutSpan=u),!(!c&&!l)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:n})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const i=this.focusService.getFocusedHeader(),r=2===e,o=this.gos.get("enableRtl");let s,a;if(-1!==this.currentHeaderRowWithoutSpan?i.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=i.headerRowIndex,r!==o?(a="Before",s=this.headerPositionUtils.findHeader(i,a)):(a="After",s=this.headerPositionUtils.findHeader(i,a)),s||!t)return this.focusService.focusHeaderPosition({headerPosition:s,direction:a,fromTab:t,allowUserOverride:!0,event:n});if(t){const e=this.gos.getCallback("tabToNextHeader");if(e)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:e,headerPosition:s,direction:a})}return this.focusNextHeaderRow(i,a,n)}focusNextHeaderRow(e,t,n){const i=e.headerRowIndex;let r,o=null;if("Before"===t?i>0&&(r=i-1,this.currentHeaderRowWithoutSpan-=1,o=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"end")):(r=i+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),o=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"start")),!o)return!1;const{column:s,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(o.column,o?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"After";if(!e.getPinned()){if(j9(e)){const i=e.getDisplayedLeafColumns();t="Before"===n?v7(i):i[0]}else t=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(t)}}},Qie=class extends k7{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,n){this.comp=e,this.eGui=t,this.createManagedBean(new Wne(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const i=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:i}),this.mockContextMenuForIPad(i),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame((()=>e())),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let t=0;const n=this.columnModel.getGroupRowsHeight().reduce(((e,t)=>e+t),0),i=this.columnModel.getColumnHeaderRowHeight();if(this.filterManager?.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=n,t+=i,this.headerHeight===t)return;this.headerHeight=t;const r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const e=this.visibleColsService.getAllCols().some((e=>e.isSpanHeaderHeight()));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?2:3;(this.headerNavigationService.navigateHorizontally(i,!0,e)||!n&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(n))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case Nte.LEFT:t=2;case Nte.RIGHT:O7(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break;case Nte.UP:t=0;case Nte.DOWN:O7(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(this.gos.getActiveDomElement())||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,n){if(!e&&!n||!this.menuService.isHeaderContextMenuEnabled())return;const{target:i}=e??t;i!==this.eGui&&i!==this.ctrlsService.getHeaderRowContainerCtrl()?.getViewportElement()||this.menuService.showHeaderContextMenu(void 0,e,n)}mockContextMenuForIPad(e){if(!Nee())return;const t=new _te(this.eGui);this.addManagedListeners(t,{longTap:t=>{e(void 0,t.touchStart,t.touchEvent)}}),this.addDestroyFunc((()=>t.destroy()))}},Jie=class extends k7{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=this.gos.isDomLayout("print"),t=this.visibleColsService.getBodyContainerWidth(),n=this.visibleColsService.getColsLeftWidth(),i=this.visibleColsService.getDisplayedColumnsRightWidth();let r;if(e)r=t+n+i;else if(r=t,this.addSpacer){0===(this.gos.get("enableRtl")?n:i)&&this.scrollVisibleService.isVerticalScrollShowing()&&(r+=this.gos.getScrollbarWidth())}this.callback(r)}},ere=class extends k7{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach((e=>{e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?this.columnsToAggregate.push(e):e.isAllowRowGroup()?this.columnsToGroup.push(e):e.isAllowPivot()&&this.columnsToPivot.push(e)))}))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};function tre(e){const{isFromHeader:t,hDirection:n,xPosition:i,fromEnter:r,fakeEvent:o,pinned:s,gos:a,columnModel:l,columnMoveService:u,presentedColsService:c}=e,d=0===n,h=1===n;let{allMovingColumns:p}=e;if(t){const e=[];p.forEach((t=>{let n=null,i=t.getParent();for(;null!=i&&1===i.getDisplayedLeafColumns().length;)n=i,i=i.getParent();if(null!=n){(!!n.getColGroupDef()?.marryChildren?n.getProvidedColumnGroup().getLeafColumns():n.getLeafColumns()).forEach((t=>{e.includes(t)||e.push(t)}))}else e.includes(t)||e.push(t)})),p=e}const g=p.slice();l.sortColsLikeCols(g);const f=function(e){const{movingCols:t,draggingRight:n,xPosition:i,pinned:r,gos:o,columnModel:s,presentedColsService:a}=e,l=o.get("suppressMovableColumns")||t.some((e=>e.getColDef().suppressMovable));if(l)return[];const u=function(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}(a,r),c=s.getCols(),d=u.filter((e=>x7(t,e))),h=u.filter((e=>!x7(t,e))),p=c.filter((e=>!x7(t,e)));let g,f=0,m=i;if(n){let e=0;d.forEach((t=>e+=t.getActualWidth())),m-=e}if(m>0){for(let e=0;e<h.length;e++){if(m-=h[e].getActualWidth(),m<0)break;f++}n&&f++}if(f>0){const e=h[f-1];g=p.indexOf(e)+1}else g=p.indexOf(h[0]),-1===g&&(g=0);const v=[g],y=(e,t)=>e-t;if(n){let e=g+1;const t=c.length-1;for(;e<=t;)v.push(e),e++;v.sort(y)}else{let e=g;const t=c.length-1;let n=c[e];for(;e<=t&&u.indexOf(n)<0;)e++,v.push(e),n=c[e];e=g-1;const i=0;for(;e>=i;)v.push(e),e--;v.sort(y).reverse()}return v}({movingCols:g,draggingRight:h,xPosition:i,pinned:s,gos:a,columnModel:l,presentedColsService:c}),m=function(e,t){const n=t.getCols(),i=(a=e.map((e=>n.indexOf(e))),a.sort(((e,t)=>e-t))),r=i[0],o=v7(i)-r,s=o!==i.length-1;var a;return s?null:r}(g,l);if(0===f.length)return;const v=f[0];let y=null!==m&&!r;if(t&&(y=null!==m),y&&!o){if(d&&v>=m)return;if(h&&v<=m)return}const w=c.getAllCols(),C=[];let b=null;for(let S=0;S<f.length;S++){const e=f[S],t=u.getProposedColumnOrder(g,e);if(!u.doesOrderPassRules(t))continue;const n=t.filter((e=>w.includes(e)));if(null===b)b=n;else if(!y7(n,b))break;const i=ire(t);C.push({move:e,fragCount:i})}return 0!==C.length?(C.sort(((e,t)=>e.fragCount-t.fragCount)),nre(p,C[0].move,"uiColumnMoved",!1,u)):void 0}function nre(e,t,n,i,r){return r.moveColumns(e,t,n,i),i?null:{columns:e,toIndex:t}}function ire(e){function t(e){const t=[];let n=e.getOriginalParent();for(;null!=n;)t.push(n),n=n.getOriginalParent();return t}let n=0;for(let i=0;i<e.length-1;i++){let r=t(e[i]),o=t(e[i+1]);[r,o]=r.length>o.length?[r,o]:[o,r],r.forEach((e=>{-1===o.indexOf(e)&&n++}))}return n}function rre(e,t,n,i,r){const o=r.getHeaderRowContainerCtrl(t)?.getViewportElement();if(!o)return 0;if(n&&(e-=o.getBoundingClientRect().left),i.get("enableRtl")){e=o.clientWidth-e}return null==t&&(e+=r.get("center").getCenterViewportScrollLeft()),e}var ore=class extends k7{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!O7(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridBodyCon=e.gridBodyCtrl}))}getIconName(){const e=this.lastDraggingEvent.dragItem.columns??[];if(this.pinned){return e.some((e=>!e.getColDef().lockPinned||e.getPinned()===this.pinned))?"pinned":"notAllowed"}return e.some((e=>!e.getColDef().lockPinned||!e.isPinned()))?"move":"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(0===e.dragSource.type)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const n=e.dragItem.visibleState,i=(t||[]).filter((e=>n[e.getId()]));this.setColumnsVisible(i,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(e){const i=e.filter((e=>!e.getColDef().lockVisible));this.columnModel.setColsVisible(i,t,n)}}setColumnsPinned(e,t,n){if(e){const i=e.filter((e=>!e.getColDef().lockPinned));this.columnModel.setColsPinned(i,t,n)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(e){if(this.isCenterContainer){const t=this.ctrlsService.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<n+50,this.needToMoveLeft=e>i-50):(this.needToMoveLeft=e<n+50,this.needToMoveRight=e>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastDraggingEvent,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(arguments.length>3&&void 0!==arguments[3]&&arguments[3]){if(this.lastMovedInfo){const{columns:e,toIndex:t}=this.lastMovedInfo;nre(e,t,"uiColumnMoved",!0,this.columnMoveService)}return}if(this.lastDraggingEvent=e,N7(e.hDirection))return;const i=rre(e.x,this.pinned,!1,this.gos,this.ctrlsService);t||this.checkCenterForScrolling(i);const r=this.normaliseDirection(e.hDirection),o=e.dragSource.type,s=tre({allMovingColumns:e.dragSource.getDragItem().columns?.filter((e=>!e.getColDef().lockPinned||e.getPinned()==this.pinned))||[],isFromHeader:1===o,hDirection:r,xPosition:i,pinned:this.pinned,fromEnter:t,fakeEvent:n,gos:this.gos,columnModel:this.columnModel,columnMoveService:this.columnMoveService,presentedColsService:this.visibleColsService});s&&(this.lastMovedInfo=s)}normaliseDirection(e){if(!this.gos.get("enableRtl"))return e;switch(e){case 0:return 1;case 1:return 0;default:h9(`Unknown direction ${e}`)}}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);let t=null;const n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const e=this.lastDraggingEvent.dragItem.columns.filter((e=>!e.getColDef().lockPinned));if(e.length>0&&(this.dragAndDropService.setGhostIcon("pinned"),this.failedMoveAttempts>7)){const t=this.needToMoveLeft?"left":"right";this.setColumnsPinned(e,t,"uiColumnDragged"),this.dragAndDropService.nudge()}}}},sre=class extends k7{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady((e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]]}})),this.moveColumnFeature=this.createManagedBean(new ore(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new ere(this.pinned)),this.dragAndDropService.addDropTarget(this)}isInterestedIn(e){return 1===e||0===e&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&0===e.dragSource.type}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}},are=class extends k7{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,n,i,r){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=r}postConstruct(){const e=[];let t,n;const i=()=>{if(Uee(this.eResize,t),!t)return;const i=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(i),n){const t=this.gos.get("skipHeaderOnAutoSize"),n=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",t)};this.eResize.addEventListener("dblclick",n);const i=new _te(this.eResize);i.addEventListener("doubleTap",n),e.push((()=>{this.eResize.removeEventListener("dblclick",n),i.removeEventListener("doubleTap",n),i.destroy()}))}},r=()=>{e.forEach((e=>e())),e.length=0},o=()=>{const e=this.column.isResizable(),o=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(e!==t||o!==n)&&(t=e,n=o,r(),i())};o(),this.addDestroyFunc(r),this.ctrl.addRefreshFunction(o)}onResizing(e,t){const{column:n,lastResizeAmount:i,resizeStartWidth:r}=this,o=this.normaliseResizeAmount(t),s=[{key:n,newWidth:r+o}];if(this.column.getPinned()){if(this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(o-i)>Yee(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50)return}this.lastResizeAmount=o,this.columnSizeService.setColumnWidths(s,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n="left"!==this.pinned,i="right"===this.pinned;return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}},lre=class extends k7{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(this.gos.getActiveDomElement())&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new zte),this.cbSelectAll.addCssClass("ag-header-select-all"),yee(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),See(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),t=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${n} (${t})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${n} (${t})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return!("multiple"!==this.gos.get("rowSelection"))||(d9(`${e} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(e){const t=this.rowModel.getType();return!("clientSide"!==t&&"serverSide"!==t)||(d9(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox)return;if(!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),n=this.isCurrentPageOnly();let i="uiSelectAll";n?i="uiSelectAllCurrentPage":t&&(i="uiSelectAllFiltered");const r={source:i,justFiltered:t,justCurrentPage:n};e?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;if("function"===typeof e){e=e(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()}))}return!!e&&(this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"))}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},ure=class extends kie{constructor(e,t,n){super(e,t,n),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,n,i){this.comp=e,this.setGui(t),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:e=>this.addRefreshFunction(e)}),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new are(this.getPinned(),this.column,n,e,this)),this.createManagedBean(new Fie([this.column],t)),this.createManagedBean(new Die(this.column,t,this.beans)),this.createManagedBean(new Wne(t,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(t),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListeners(this.column,{colDefChanged:this.refresh.bind(this)}),this.addManagedEventListeners({columnValueChanged:this.onColumnValueChanged.bind(this),columnRowGroupChanged:this.onColumnRowGroupChanged.bind(this),columnPivotChanged:this.onColumnPivotChanged.bind(this),headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}resizeHeader(e,t){if(!this.column.isResizable())return;const n=this.column.getActualWidth(),i=this.column.getMinWidth(),r=this.column.getMaxWidth(),o=Math.min(Math.max(n+e,i),r);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:o}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,column:n,gos:i,ctrlsService:r}=this,o=this.getPinned(),s=t.getBoundingClientRect().left,a=n.getActualWidth(),l=rre(0===e!==i.get("enableRtl")?s-20:s+a+20,o,!0,i,r),u=this.focusService.getFocusedHeader();tre({allMovingColumns:[n],isFromHeader:!0,hDirection:e,xPosition:l,pinned:o,fromEnter:!1,fakeEvent:!1,gos:i,columnModel:this.beans.columnModel,columnMoveService:this.beans.columnMoveService,presentedColsService:this.beans.visibleColsService}),r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),this.isAlive()&&!this.beans.gos.get("ensureDomOrder")||!u||this.restoreFocus(u)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){const e=this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:e=>{this.menuService.showColumnMenu({column:this.column,buttonElement:e,positionBy:"button"})},showColumnMenuAfterMouseClick:e=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:e,positionBy:"mouse"})},showFilter:e=>{this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"columnFilter",positionBy:"button"})},progressSort:e=>{this.beans.sortController.progressSort(this.column,!!e,"uiColumnSorted")},setSort:(e,t)=>{this.beans.sortController.setSortForColumn(this.column,e,!!t,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(e,t)=>{this.setupTooltip(e,t)}});return e}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new lre(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Nte.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===Nte.ENTER&&this.onEnterKeyDown(e),e.key===Nte.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();n&&n instanceof Ate&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n="whenTruncated"===this.gos.get("tooltipShowMode"),i=this.eGui,r=this.column.getColDef();t||!n||r.headerComponent||(t=()=>{const e=i.querySelector(".ag-header-cell-text");return!e||e.scrollWidth>e.clientWidth});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>i,getLocation:()=>"header",getTooltipValue:()=>{if(null!=e)return e;return this.column.getColDef().headerTooltip},shouldDisplayTooltip:t},s=this.createManagedBean(new vte(o));this.refreshFunctions.push((()=>s.refreshToolTip()))}setupClassesFromColDef(){const e=()=>{const e=Pie(this.column.getColDef(),this.gos,this.column,null),t=this.userHeaderClasses;this.userHeaderClasses=new Set(e),e.forEach((e=>{t.has(e)?t.delete(e):this.comp.addOrRemoveCssClass(e,!0)})),t.forEach((e=>this.comp.addOrRemoveCssClass(e,!1)))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:n,displayName:i,dragAndDropService:r,gos:o}=this,{columnModel:s}=n;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:i,onDragStarted:()=>{a=!o.get("suppressDragLeaveHidesColumns"),t.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>t.setMoving(!1,"uiColumnMoved"),onGridEnter:e=>{if(a){const t=e?.columns?.filter((e=>!e.getColDef().lockVisible))||[];s.setColsVisible(t,!0,"uiColumnMoved")}},onGridExit:e=>{if(a){const t=e?.columns?.filter((e=>!e.getColDef().lockVisible))||[];s.setColsVisible(t,!1,"uiColumnMoved")}}};r.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach((e=>e()))}refreshHeaderComp(){const e=this.lookupUserCompDetails();!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass)&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();if(!t)return!1;if(!t.refresh)return!1;return t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const e=this.column.getActualWidth();this.comp.setWidth(`${e}px`)};this.addManagedListeners(this.column,{widthChanged:e}),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListeners(this.column,{movingChanged:e}),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListeners(this.column,{menuVisibleChanged:e}),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(){const e=()=>{const e=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",e),this.refreshAria()};this.addManagedListeners(this.column,{filterActiveChanged:e}),e()}setupWrapTextClass(){const e=()=>{const e=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};e(),this.addRefreshFunction(e)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:i}=this;if(!t.isSpanHeaderHeight())return e.style.removeProperty("top"),e.style.removeProperty("height"),n.addOrRemoveCssClass("ag-header-span-height",!1),void n.addOrRemoveCssClass("ag-header-span-total",!1);const{numberOfParents:r,isSpanningTotal:o}=this.column.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",r>0);const{columnModel:s}=i,a=s.getColumnHeaderRowHeight();if(0===r)return n.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),void e.style.setProperty("height",`${a}px`);n.addOrRemoveCssClass("ag-header-span-total",o);const l=this.beans.columnModel.getGroupRowsHeight();let u=0;for(let c=0;c<r;c++)u+=l[l.length-1-c];e.style.setProperty("top",-u+"px"),e.style.setProperty("height",`${a+u}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(function(e){let t;return t="asc"===e?"ascending":"desc"===e?"descending":"mixed"===e?"other":"none",t}(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(this.beans.gos.getActiveDomElement()))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort(((e,t)=>"filter"===e?-1:t.charCodeAt(0)-e.charCodeAt(0))).map((e=>this.ariaDescriptionProperties.get(e))).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedEventListeners({columnHoverChanged:e}),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const e=e=>this.handleMouseOverChange("mouseenter"===e.type);this.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column)})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof Ate?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},cre=class extends k7{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,n,i){super(),this.eResize=t,this.comp=e,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const e=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(()=>{const t=[];this.columnGroup.getDisplayedLeafColumns().forEach((e=>{e.getColDef().suppressAutoSize||t.push(e.getColId())})),t.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:e,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")}))}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uiColumnResized";const i=this.normaliseDragChange(t),r=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(r,n,e)}getInitialValues(e){const t=this.getColumnsToResize(),n=this.getInitialSizeOfColumns(t),i={columnsToResize:t,resizeStartWidth:n,resizeRatios:this.getSizeRatiosOfColumns(t,n)};let r=null;if(e&&(r=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),r){const e=r.getDisplayedLeafColumns(),t=i.groupAfterColumns=e.filter((e=>e.isResizable())),n=i.groupAfterStartWidth=this.getInitialSizeOfColumns(t);i.groupAfterRatios=this.getSizeRatiosOfColumns(t,n)}else i.groupAfterColumns=void 0,i.groupAfterStartWidth=void 0,i.groupAfterRatios=void 0;return i}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:r,groupAfterStartWidth:o,groupAfterRatios:s}=e;this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=s}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.resizeCols||!this.resizeRatios)return;const i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(i,e,t,n)}resizeColumns(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const{columnsToResize:r,resizeStartWidth:o,resizeRatios:s,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=e,c=[];if(c.push({columns:r,ratios:s,width:t}),a){const e=t-o;c.push({columns:a,ratios:u,width:l-e})}this.columnSizeService.resizeColumnSets({resizeSets:c,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter((e=>e.isResizable()))}getInitialSizeOfColumns(e){return e.reduce(((e,t)=>e+t.getActualWidth()),0)}getSizeRatiosOfColumns(e,t){return e.map((e=>e.getActualWidth()/t))}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},dre=class extends k7{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push((()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)}))}))}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach((e=>e())),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===e)}},hre=class extends kie{constructor(e,t,n){super(e,t,n),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const e=this.getGui();this.setDragSource(e)}},this.column=e}setComp(e,t,n,i){this.comp=e,this.setGui(t),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc((()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))})),this.setupAutoHeight({wrapperElement:i}),this.setupUserComp(),this.addHeaderMouseListeners();const r=this.getParentRowCtrl().getPinned(),o=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Fie(o,t)),this.createManagedBean(new Die(this.column,t,this.beans)),this.createManagedBean(new dre(e,this.column)),this.resizeFeature=this.createManagedBean(new cre(e,n,r,this.column)),this.createManagedBean(new Wne(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(t)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const n=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:n,column:i,gos:r,ctrlsService:o}=this,s=r.get("enableRtl"),a=0===e,l=this.getPinned(),u=n.getBoundingClientRect(),c=u.left,d=u.width,h=rre(a!==s?c-20:c+d+20,l,!0,r,o),p=i.getGroupId(),g=this.focusService.getFocusedHeader();tre({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:h,pinned:l,fromEnter:!1,fakeEvent:!1,gos:r,columnModel:t.columnModel,columnMoveService:t.columnMoveService,presentedColsService:t.visibleColsService});const f=i.getDisplayedLeafColumns(),m=a?f[0]:v7(f);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(m,"auto"),this.isAlive()&&!this.beans.gos.get("ensureDomOrder")||!g||this.restoreFocus(p,i,g)}restoreFocus(e,t,n){const i=t.getLeafColumns();if(!i.length)return;const r=i[0].getParent();if(!r)return;const o=this.findGroupWidthId(r,e);o&&this.focusService.focusHeaderPosition({headerPosition:{...n,column:o}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){const e=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:e=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),e,"gridInitializing")},setTooltip:(e,t)=>{this.setupTooltip(e,t)}}),t=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(t)}addHeaderMouseListeners(){const e=e=>this.handleMouseOverChange("mouseenter"===e.type);this.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column.getProvidedColumnGroup())})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.column.getColGroupDef(),i="whenTruncated"===this.gos.get("tooltipShowMode"),r=this.eGui;t||!i||n?.headerGroupComponent||(t=()=>{const e=r.querySelector(".ag-header-group-text");return!e||e.scrollWidth>e.clientWidth});const o={getColumn:()=>this.column,getGui:()=>r,getLocation:()=>"headerGroup",getTooltipValue:()=>e??(n&&n.headerTooltip),shouldDisplayTooltip:t};n&&(o.getColDef=()=>n),this.createManagedBean(new vte(o))}setupExpandable(){const e=this.column.getProvidedColumnGroup();this.refreshExpanded();const t=this.refreshExpanded.bind(this);this.addManagedListeners(e,{expandedChanged:t,expandableChanged:t})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=Pie(e,this.gos,null,this.column);if(this.column.isPadding()){t.push("ag-header-group-cell-no-group");this.column.getLeafColumns().every((e=>e.isSpanHeaderHeight()))&&t.push("ag-header-span-height")}else t.push("ag-header-group-cell-with-group"),e?.wrapHeaderText&&t.push("ag-header-cell-wrap-text");t.forEach((e=>this.comp.addOrRemoveCssClass(e,!0)))}setupMovingCss(){const e=this.column.getProvidedColumnGroup().getLeafColumns(),t=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());e.forEach((e=>{this.addManagedListeners(e,{movingChanged:t})})),t()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===Nte.ENTER){const e=this.column,t=!e.isExpanded();this.beans.columnModel.setColumnGroupOpened(e.getProvidedColumnGroup(),t,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving())return;if(this.removeDragSource(),!e)return;const{beans:t,column:n,displayName:i,gos:r,dragAndDropService:o}=this,{columnModel:s}=t,a=n.getProvidedColumnGroup().getLeafColumns();let l=!r.get("suppressDragLeaveHidesColumns");const u=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:i,getDragItem:()=>this.getDragItemForGroup(n),onDragStarted:()=>{l=!r.get("suppressDragLeaveHidesColumns"),a.forEach((e=>e.setMoving(!0,"uiColumnDragged")))},onDragStopped:()=>a.forEach((e=>e.setMoving(!1,"uiColumnDragged"))),onGridEnter:e=>{if(l){const{columns:t=[],visibleState:n}=e??{},i=t.filter((e=>!e.getColDef().lockVisible&&(!n||n[e.getColId()])));s.setColsVisible(i,!0,"uiColumnMoved")}},onGridExit:e=>{if(l){const t=e?.columns?.filter((e=>!e.getColDef().lockVisible))||[];s.setColsVisible(t,!1,"uiColumnMoved")}}};o.addDragSource(u,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),n={};t.forEach((e=>n[e.getId()]=e.isVisible()));const i=[];return this.beans.visibleColsService.getAllCols().forEach((e=>{t.indexOf(e)>=0&&(i.push(e),C7(t,e))})),t.forEach((e=>i.push(e))),{columns:i,visibleState:n}}isSuppressMoving(){let e=!1;this.column.getLeafColumns().forEach((t=>{(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)}));return e||this.gos.get("suppressMovableColumns")}},pre=0,gre=class extends k7{constructor(e,t,n){super(),this.instanceId=pre++,this.rowIndex=e,this.pinned=t,this.type=n;const i="group"==n?"ag-header-row-column-group":"filter"==n?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=this.gos.isDomLayout("print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}getInstanceId(){return this.instanceId}areCellsRendered(){return!!this.comp&&this.getHeaderCellCtrls().every((e=>null!=e.getGui()))}setComp(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){const e=this.onRowHeightChanged.bind(this);this.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:e=>this.onVirtualColumnsChanged(e.afterScroll),columnGroupHeaderHeightChanged:e,columnHeaderHeightChanged:e,gridStylesChanged:e,advancedFilterEnabledChanged:e}),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",(e=>this.isEnsureDomOrder=e.currentValue)),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return j7(this.headerCellCtrls).find((t=>t.getColumnGroupChild()===e))}onDisplayedColumnsChanged(){this.isPrintLayout=this.gos.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;if(this.isPrintLayout){return null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null)}return e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,n=[],i=e.getGroupRowsHeight(),r=e.getColumnHeaderRowHeight();n.push(...i),n.push(r),t?.hasFloatingFilters()&&n.push(e.getFloatingFiltersHeight());let o=0;for(let s=0;s<this.rowIndex;s++)o+=n[s];return{topOffset:o,rowHeight:n[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const i of t)this.recycleAndCreateHeaderCtrls(i,e);const n=e=>{const{focusService:t,visibleColsService:n}=this.beans;if(!t.isHeaderWrapperFocused(e))return!1;return n.isVisible(e.getColumnGroupChild())};if(e)for(const[i,r]of e){n(r)?this.headerCellCtrls.set(i,r):this.destroyBean(r)}return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls)return;if(e.isEmptyGroup())return;const n=e.getUniqueId();let i;t&&(i=t.get(n),t.delete(n));if(i&&i.getColumnGroupChild()!=e&&(this.destroyBean(i),i=void 0),null==i)switch(this.type){case"filter":i=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break;case"group":i=this.createBean(new hre(e,this.beans,this));break;default:i=this.createBean(new ure(e,this.beans,this))}this.headerCellCtrls.set(n,i)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:n}=this.beans;return["left",null,"right"].forEach((i=>{const r=n.getHeadersToRender(i,t);e=e.concat(r)})),e}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;return this.getHeaderCellCtrls().find((t=>t.getColumnGroupChild()==e))}focusHeader(e,t){const n=this.findHeaderCellCtrl(e);if(!n)return!1;return n.focus(t)}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach((e=>{this.destroyBean(e)})),this.headerCellCtrls=void 0,super.destroy()}},fre=class extends k7{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:n,advancedFilterEnabledChanged:n}),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new gte,n=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const e=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let n=0;n<e;n++){const e=this.createBean(new gre(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(e)}})(),(()=>{const n=t.next(),i=!this.hidden&&(null==this.columnsRowCtrl||!e||this.columnsRowCtrl.getRowIndex()!==n);(i||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),i&&(this.columnsRowCtrl=this.createBean(new gre(n,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=!!this.filterManager?.hasFloatingFilters()&&!this.hidden;const n=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void n();const i=t.next();if(this.filtersRowCtrl){const t=this.filtersRowCtrl.getRowIndex()!==i;e&&!t||n()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new gre(i,this.pinned,"filter")))})();const i=this.getAllCtrls();this.comp.setCtrls(i),this.restoreFocusOnHeader(n)}getHeaderCtrlForColumn(e){if(i9(e)){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(e)}if(0!==this.groupsRowCtrls.length)for(let t=0;t<this.groupsRowCtrls.length;t++){const n=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(n)return n}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const t=this.getAllCtrls()[e];return t?t.getType():void 0}focusHeader(e,t,n){const i=this.getAllCtrls()[e];return!!i&&i.focusHeader(t,n)}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new sre(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new Jie((e=>this.comp.setCenterWidth(`${e}px`)),!0))}setupPinnedWidth(){if(null==this.pinned)return;const e="left"===this.pinned,t="right"===this.pinned;this.hidden=!0;const n=()=>{const n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==n)return;const i=0==n,r=this.hidden!==i,o=this.gos.get("enableRtl"),s=this.gos.getScrollbarWidth(),a=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?n+s:n;this.comp.setPinnedContainerWidth(`${a}px`),this.comp.setDisplayed(!i),r&&(this.hidden=i,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:n,rightPinnedWidthChanged:n,scrollVisibilityChanged:n,scrollbarWidthChanged:n})}},mre=class extends k7{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e},n=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(n,t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return-1===["normal","print","autoHeight"].indexOf(e)?(d9(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},vre=class extends Cte{constructor(){super('\n            <div class="ag-overlay" role="presentation">\n                <div class="ag-overlay-panel" role="presentation">\n                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>\n                </div>\n            </div>'),this.eOverlayWrapper=wte,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==Nte.TAB||e.defaultPrevented||T7(e))return;if(this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let t=!1;t=e.shiftKey?this.focusService.focusGridView(v7(this.visibleColsService.getAllCols()),!0,!1):this.focusService.focusNextGridCoreContainer(!1),t&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList;n.toggle("ag-layout-auto-height",t.autoHeight),n.toggle("ag-layout-normal",t.normal),n.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new mre(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.focusService.isGridFocused()){const e=this.gos.getActiveDomElement();e&&!this.gos.isNothingFocused()&&(this.elToFocusAfter=e)}e.then((t=>{if(this.activePromise!==e)return void(this.activeOverlay!==t&&(this.destroyBean(t),t=null));if(this.activePromise=null,!t)return;if(this.activeOverlay!==t&&(this.eOverlayWrapper.appendChild(t.getGui()),this.activeOverlay=t,i)){const e=t;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,(t=>{let{currentValue:n}=t;e.refresh?.(this.gos.addGridCommonParams({...n??{}}))}))}const r=this.focusService;n&&r.isGridFocused()&&r.focusInto(this.eOverlayWrapper)}))}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),nte(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),super.destroy()}},yre=class extends Cte{constructor(e,t){super(),this.direction=t,this.eViewport=wte,this.eContainer=wte,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Oee()||Nee())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=zee(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),n=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame((()=>this.setScrollVisible()))}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout((()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null}),400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=arguments.length>3?arguments[3]:void 0;const r=(new Date).getTime();let o=null,s=!1;const a=()=>{const a=(new Date).getTime()-r>n;(e()||a)&&(t(),s=!0,null!=o&&(window.clearInterval(o),o=null),a&&i&&d9(i))};a(),s||(o=window.setInterval(a,10))}((()=>ote(t)),(()=>this.setScrollPosition(e)),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},wre=class extends yre{constructor(){super('<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>\n        </div>',"horizontal"),this.eLeftSpacer=wte,this.eRightSpacer=wte}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new Jie((e=>this.eContainer.style.width=`${e}px`))),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,i=this.gos.getScrollbarWidth();n&&(t+=i),lte(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let r=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(r+=i),lte(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=i)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.gos.getScrollbarWidth()||0,r=n?0:0===i&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),ute(this.getGui(),r),ute(this.eViewport,r),ute(this.eContainer,r),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return ete(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){ote(this.getViewportElement())||this.attemptSettingScrollPosition(e),tte(this.getViewportElement(),e,this.enableRtl)}},Cre=class extends k7{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},bre=class extends yre{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super('<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>\n            </div>\n        </div>',"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new Cre(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,n=e&&this.gos.getScrollbarWidth()||0,i=0===n&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),lte(this.getGui(),i),lte(this.eViewport,i),lte(this.eContainer,i),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,t=e.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),i=t.scrollTop;n!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){t||ote(this.getViewportElement())||this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},Sre=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(Sre||{}),xre=class extends k7{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=y9((()=>this.lastScrollSource[1]=null),500),this.resetLastVScrollDebounced=y9((()=>this.lastScrollSource[0]=null),500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady((e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()}))}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){const e=this.ctrlsService.getParams();this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const t of Object.values(Sre)){const n=e[t];this.registerScrollPartner(n,this.onHScroll.bind(this,t))}}addVerticalScrollListeners(){const e=this.ctrlsService.getParams(),t=this.gos.get("debounceVerticalScrollbar"),n=t?y9(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),i=t?y9(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e.fakeVScrollComp,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){null==this.centerRowsCtrl||(void 0===e&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(Sre),"Viewport"]){if(this.lastScrollSource[1]===t)continue;tte(this.getViewportForSource(t),e,this.enableRtl)}}getViewportForSource(e){return"Viewport"===e?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return null==this.lastScrollSource[t]?(0===t?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const i=ete(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(Math.round(i)),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;t="Viewport"===e?this.eBodyViewport.scrollTop:this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0)||(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,"Viewport"===e?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:1===e?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})}),100)}shouldBlockScrollUpdate(e,t){return!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&!Nee())&&(0===e?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}shouldBlockVerticalScroll(e){const t=qee(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&Jee()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl&&Jee()?e>0?0:n:Math.min(Math.max(e,0),n)),tte(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight;return{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.rowModel.getRowCount();let i=-1;for(let r=0;r<n;r++){const t=this.rowModel.getRow(r);if("function"===typeof e){if(t&&e(t)){i=r;break}}else if(e===t||e===t.data){i=r;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t){if(this.gos.isDomLayout("print"))return;const n=this.rowModel.getRowCount();if("number"!==typeof e||e<0||e>=n)return void d9("Invalid row index for ensureIndexVisible: "+e);const i=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming((()=>{i||this.paginationService?.goToPageWithIndex(e);const n=this.ctrlsService.getGridBodyCtrl(),r=n.getStickyTopHeight(),o=n.getStickyBottomHeight(),s=this.rowModel.getRow(e);let a;do{const e=s.rowTop,n=s.rowHeight,i=this.pageBoundsService.getPixelOffset(),l=s.rowTop-i,u=l+s.rowHeight,c=this.getVScrollPosition(),d=this.heightScaler.getDivStretchOffset(),h=c.top+d,p=c.bottom+d,g=p-h,f=this.heightScaler.getScrollPositionForPixel(l),m=this.heightScaler.getScrollPositionForPixel(u-g),v=Math.min((f+m)/2,l);let y=null;"top"===t?y=f:"bottom"===t?y=m:"middle"===t?y=v:h+r>l?y=f-r:p-o<u&&(y=m+o),null!==y&&(this.setVerticalScrollPosition(y),this.rowRenderer.redraw({afterScroll:!0})),a=e!==s.rowTop||n!==s.rowHeight}while(a);this.animationFrameService.flushAllFrames()}))}ensureColumnVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";const n=this.columnModel.getCol(e);if(!n)return;if(n.isPinned())return;if(!this.visibleColsService.isColDisplayed(n))return;const i=this.getPositionedHorizontalScroll(n,t);this.getFrameworkOverrides().wrapIncoming((()=>{null!==i&&this.centerRowsCtrl.setCenterViewportScrollLeft(i),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}))}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming((()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()}))}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl;let a=(s?n:i)||r,l=s?i:n;"auto"!==t&&(a="start"===t,l="end"===t);const u="middle"===t;if(a||l||u){const{colLeft:t,colMiddle:n,colRight:i}=this.getColumnBounds(e);return u?n-o/2:a?s?i:t:s?t-o:i-o}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:r}=this.getColumnBounds(e),o=this.enableRtl;return{columnBeforeStart:o?t>r:n<r,columnAfterEnd:o?n<i:t>i}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleColsService.getBodyContainerWidth(),i=e.getActualWidth(),r=e.getLeft(),o=t?-1:1,s=t?n-r:r;return{colLeft:s,colMiddle:s+i/2*o,colRight:s+i*o}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}},Mre=class extends k7{wireBeans(e){this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()})),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],(()=>{this.checkViewportAndScrolls()}))}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=Yee(this.gridBodyCtrl.getBodyViewportElement());if(e<=50)return;let t=this.getPinnedColumnsOverflowingViewport(e-50);const n=this.gos.getCallback("processUnpinnedColumns");if(t.length){if(n){t=n({columns:t,viewportWidth:e})}this.columnModel.setColsPinned(t,null,"viewportSizeFeature")}}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(t<e)return[];const n=[...this.visibleColsService.getLeftCols()],i=[...this.visibleColsService.getRightCols()];let r=0,o=0;const s=[];let a=t-0-e;for(;(o<n.length||r<i.length)&&a>0;){if(r<i.length){const e=i[r++];a-=e.getActualWidth(),s.push(e)}if(o<n.length&&a>0){const e=n[o++];a-=e.getActualWidth(),s.push(e)}}return s}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=qee(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==e&&(this.bodyHeight=e,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},_re=class extends k7{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",(e=>{e.currentValue?this.enableFeature():this.disableFeature()})),this.addDestroyFunc((()=>this.disableFeature()));this.gos.get("enableRangeSelection")&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},Rre=class extends Cte{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[Hte]),this.eCheckbox=wte}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),n=Eee(e,t),[i,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],o=e(i,r);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${o} (${n})`)}onClicked(e,t,n){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:n.shiftKey,groupSelectsFiltered:t,event:n,source:"checkboxSelected"})}init(e){this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:e=>P7(e),click:e=>{P7(e);const t=this.gos.get("groupSelectsFiltered"),n=this.eCheckbox.getValue();if(this.shouldHandleIndeterminateState(n,t)){0===this.onClicked(!0,t,e||{})&&this.onClicked(!1,t,e)}else n?this.onClicked(!1,t,e):this.onClicked(!0,t,e||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)});if(this.gos.get("isRowSelectable")||"function"===typeof this.getIsVisible()){const e=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&this.gos.isRowModelType("clientSide")}showOrHideSelect(){let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if("function"===typeof t){const n=this.overrides?.callbackParams;if(this.column){const i=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...n,...i})}else e=t({...n,node:this.rowNode,data:this.rowNode.data})}else e=t??!1;const n=this.column?.getColDef().showDisabledCheckboxes;if(n)return this.eCheckbox.setDisabled(!e),this.setVisible(!0),void this.setDisplayed(!0);this.overrides?.removeHidden?this.setDisplayed(e):this.setVisible(e)}getIsVisible(){return this.overrides?this.overrides.isVisible:this.column?.getColDef()?.checkboxSelection}},Dre=class extends Cte{constructor(e,t,n){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(xte("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",(e=>{e.stopPropagation()})),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const n=()=>{try{const t=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",t),e.dataTransfer.setData("text/plain",t)}catch(JA){}};if(t){t(this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e}))}else n()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},Pre=class extends k7{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,n=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,n,(e=>this.cellComp.addOrRemoveCssClass(e,!0)),(e=>this.cellComp.addOrRemoveCssClass(e,!1))),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if("function"===typeof e.cellStyle){const n=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});t=(0,e.cellStyle)(n)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach((e=>this.cellComp.addOrRemoveCssClass(e,!1))),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach((e=>this.cellComp.addOrRemoveCssClass(e,!0)))}destroy(){super.destroy()}},Tre=class extends k7{constructor(e,t,n,i,r){super(),this.cellCtrl=e,this.beans=t,this.rowNode=i,this.rowCtrl=r}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case Nte.ENTER:this.onEnterKeyDown(e);break;case Nte.F2:this.onF2KeyDown(e);break;case Nte.ESCAPE:this.onEscapeKeyDown(e);break;case Nte.TAB:this.onTabKeyDown(e);break;case Nte.BACKSPACE:case Nte.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Nte.DOWN:case Nte.UP:case Nte.RIGHT:case Nte.LEFT:this.onNavigationKeyDown(e,t)}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:i,rowNode:r}=this,{gos:o,rangeService:s,eventService:a}=i;if(!n.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===Nte.DELETE||!t&&e===Nte.BACKSPACE&&Oee()}(e,o.get("enableCellEditingOnBackspace"))){if(s&&o.get("enableRangeSelection"))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const e=n.getColumn(),t=this.beans.valueService.parseValue(e,r,"",r.getValueFromValueService(e))??null;r.setDataValue(e,t,"cellClear")}}else n.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?Nte.UP:Nte.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(Nte.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Nte.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const t=e.key;" "===t?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(t,e),e.preventDefault())}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){const n=this.rowNode.isSelected(),i=!n;if(i||!t.get("suppressRowDeselection")){const t=this.beans.gos.get("groupSelectsFiltered"),r=this.rowNode.setSelectedParams({newValue:i,rangeSelect:e.shiftKey,groupSelectsFiltered:t,event:e,source:"spaceKey"});void 0===n&&0===r&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:t,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}},Are=class extends k7{constructor(e,t,n){super(),this.cellCtrl=e,this.beans=t,this.column=n}onMouseEvent(e,t){if(!T7(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}onCellClicked(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();const{eventService:t,rangeService:n,gos:i}=this.beans,r=e.ctrlKey||e.metaKey;n&&r&&n.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&n.intersectLastRange(!0);const o=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(o);const s=this.column.getColDef();s.onCellClicked&&window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{s.onCellClicked(o)}))}),0);!((i.get("singleClickEdit")||s.singleClickEdit)&&!i.get("suppressClickEdit"))||e.shiftKey&&0!=n?.getCellRanges().length||this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Nee()||A7("dblclick"))return!1;const e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:i}=this,{eventService:r,frameworkOverrides:o,gos:s}=n,a=t.getColDef(),l=i.createEvent(e,"cellDoubleClicked");r.dispatchEvent(l),"function"===typeof a.onCellDoubleClicked&&window.setTimeout((()=>{o.wrapOutgoing((()=>{a.onCellDoubleClicked(l)}))}),0);!s.get("singleClickEdit")&&!s.get("suppressClickEdit")&&i.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:i}=e,r=e.target,{cellCtrl:o,beans:s}=this,{eventService:a,rangeService:l,focusService:u,gos:c}=s;if(this.isRightClickInExistingRange(e))return;const d=l&&0!=l.getCellRanges().length;if(!i||!d){const t=c.get("enableCellTextSelection")&&e.defaultPrevented,n=(Iee()||t)&&!o.isEditing()&&!Wee(r);o.focusCell(n)}if(i&&d&&!u.isCellFocused(o.getCellPosition())){e.preventDefault();const t=u.getFocusedCell();if(t){const{column:e,rowIndex:n,rowPinned:i}=t,r=s.rowRenderer.getRowByPosition({rowIndex:n,rowPinned:i}),o=r?.getCellCtrl(e);o?.isEditing()&&o.stopEditing(),u.setFocusedCell({column:e,rowIndex:n,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(l){const e=this.cellCtrl.getCellPosition();if(i)l.extendLatestRangeToCell(e);else{const i=t||n;l.setRangeToCell(e,i)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),i=2===e.button||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(n&&i)return!0}return!1}containsWidget(e){return $ee(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}destroy(){super.destroy()}},Ere=class extends k7{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();y7(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce(((e,t)=>e+t.getActualWidth()),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else{let n=this.column;const i=this.column.getPinned();for(let r=0;n&&r<e&&(t.push(n),n=this.beans.visibleColsService.getColAfter(n),n&&!N7(n))&&i===n.getPinned();r++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return e=this.beans.gos.get("enableRtl")&&this.colsSpanning?v7(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;const t=this.beans.visibleColsService.getColsLeftWidth();if("right"===this.column.getPinned()){return t+this.beans.visibleColsService.getBodyContainerWidth()+(e||0)}return t+(e||0)}applyRowSpan(e){if(1===this.rowSpan&&!e)return;const t=this.beans.gos.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${t}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},Ire="ag-cell-range-selected",kre=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Ire,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Ire}-1`,1===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Ire}-2`,2===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Ire}-3`,3===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Ire}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Aee(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.top,i=!t&&e.right,r=!t&&e.bottom,o=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",o)}isSingleCell(){const{rangeService:e}=this.beans;return 1===this.rangeCount&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every((e=>x7([1,0],e.type)))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,n=!1,i=!1,r=!1;const o=this.cellCtrl.getCellPosition().column,s=this.beans.visibleColsService;let a,l;e?(a=s.getColAfter(o),l=s.getColBefore(o)):(a=s.getColBefore(o),l=s.getColAfter(o));const u=this.rangeService.getCellRanges().filter((e=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),e)));a||(r=!0),l||(n=!0);for(let c=0;c<u.length&&!(t&&n&&i&&r);c++){const e=u[c],o=this.rangeService.getRangeStartRow(e),s=this.rangeService.getRangeEndRow(e);!t&&this.beans.rowPositionUtils.sameRow(o,this.cellCtrl.getCellPosition())&&(t=!0),!i&&this.beans.rowPositionUtils.sameRow(s,this.cellCtrl.getCellPosition())&&(i=!0),!r&&a&&e.columns.indexOf(a)<0&&(r=!0),!n&&l&&e.columns.indexOf(l)<0&&(n=!0)}return{top:t,right:n,bottom:i,left:r}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),n=t.length;if(this.rangeCount<1||n<1)return!1;const i=v7(t),r=this.cellCtrl.getCellPosition(),o=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),s=e.get("enableRangeHandle");let a=1===n&&!this.cellCtrl.isEditing()&&(o||s);if(this.hasChartRange){const e=1===t[0].type&&this.rangeService.isCellInSpecificRange(r,t[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",e),a=0===i.type}return a&&null!=i.endRow&&this.rangeService.isContiguousRange(i)&&this.rangeService.isBottomRightCell(i,r)}addSelectionHandle(){const e=this.beans.gos,t=v7(this.rangeService.getCellRanges()).type,n=e.get("enableFillHandle")&&N7(t)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==n&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(n)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},Fre=0,Lre=class e extends k7{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.beans=n,this.rowCtrl=i,this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.instanceId=e.getId()+"-"+Fre++,this.colIdSanitised=V9(this.column.getId()),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new Ere(this,this.beans),this.addDestroyFunc((()=>{this.cellPositionFeature?.destroy(),this.cellPositionFeature=null})),this.cellCustomStyleFeature=new Pre(this,this.beans),this.addDestroyFunc((()=>{this.cellCustomStyleFeature?.destroy(),this.cellCustomStyleFeature=null})),this.cellMouseListenerFeature=new Are(this,this.beans,this.column),this.addDestroyFunc((()=>{this.cellMouseListenerFeature?.destroy(),this.cellMouseListenerFeature=null})),this.cellKeyboardListenerFeature=new Tre(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc((()=>{this.cellKeyboardListenerFeature?.destroy(),this.cellKeyboardListenerFeature=null})),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc((()=>{this.disableTooltipFeature()})));this.beans.rangeService&&this.beans.gos.get("enableRangeSelection")&&(this.cellRangeFeature=new kre(this.beans,this),this.addDestroyFunc((()=>{this.cellRangeFeature?.destroy(),this.cellRangeFeature=null})))}enableTooltipFeature(e,t){const n="whenTruncated"===this.beans.gos.get("tooltipShowMode");t||!n||this.isCellRenderer()||(t=()=>{const e=this.getGui(),t=0===e.children.length?e:e.querySelector(".ag-cell-value");return!t||t.scrollWidth>t.clientWidth});const i={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:null!=e?()=>e:()=>{const e=this.column.getColDef(),t=this.rowNode.data;if(e.tooltipField&&O7(t))return Q7(t,e.tooltipField,this.column.isTooltipFieldContainsDots());const n=e.tooltipValueGetter;return n?n(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:t};this.tooltipFeature=new vte(i,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(e,t,n,i,r){this.cellComp=e,this.eGui=t,this.printLayout=i,this.addDomData(),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.cellPositionFeature?.setComp(t),this.cellCustomStyleFeature?.setComp(e),this.tooltipFeature?.refreshToolTip(),this.cellKeyboardListenerFeature?.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,t),r&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach((e=>e())),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!e)return;const t=e.parentElement,n=this.beans.gos.getRowHeightForNode(this.rowNode).height,i=r=>{if(this.editing)return;if(!this.isAlive())return;const{paddingTop:o,paddingBottom:s,borderBottomWidth:a,borderTopWidth:l}=Kee(t),u=o+s+a+l,c=e.offsetHeight+u;if(r<5){const t=this.beans.gos.getDocument();if(!t||!t.contains(e)||0==c)return void window.setTimeout((()=>i(r+1)),0)}const d=Math.max(c,n);this.rowNode.setRowAutoHeight(d,this.column)},r=()=>i(0);r();const o=this.beans.resizeObserverService.observeResize(e,r);this.addDestroyFunc((()=>{o(),this.rowNode.setRowAutoHeight(void 0,this.column)}))}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}getInstanceId(){return this.instanceId}getColumnIdSanitised(){return this.colIdSanitised}isCellRenderer(){const e=this.column.getColDef();return null!=e.cellRenderer||null!=e.cellRendererSelector}getValueToDisplay(){return this.valueFormatted??this.value}showValue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getValueToDisplay();let n;if(this.rowNode.stub&&null==this.rowNode.groupData?.[this.column.getId()]){const e=this.createCellRendererParams();n=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),e)}else if(this.isCellRenderer()){const e=this.createCellRendererParams();n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),e)}this.cellComp.setRenderDetails(n,t,e),this.cellRangeFeature?.refreshHandle()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return!(null!=this.rowNode.rowPinned)&&("function"===typeof e||!0===e)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||r}startEditing(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{editService:i}=this.beans;this.isCellEditable()&&!this.editing&&i&&(this.cellComp?i.startEditing(this,e,t,n):this.onCellCompAttachedFuncs.push((()=>{this.startEditing(e,t,n)})))}setEditing(e,t){this.editCompDetails=t,this.editing!==e&&(this.editing=e,this.cellRangeFeature?.refreshHandle())}stopRowOrCellEdit(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.stopEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{editService:t}=this.beans;return!(!this.editing||!t)&&t.stopEditing(this,e)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:e=>this.beans.valueService.setValue(this.rowNode,this.column,e),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(e,t,n,i)=>this.registerRowDragger(e,t,i),setTooltip:(e,t)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(e,t),this.tooltipFeature?.refreshToolTip()}})}setFocusOutOnEditor(){this.editing&&this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){this.editing&&this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell(e){if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),n=null!=e&&!!e.newData,i=null!=e&&!!e.suppressFlash||!!t.suppressCellFlash,r=null==t.field&&null==t.valueGetter&&null==t.showRowGroup,o=e&&e.forceRefresh||r||n,s=!!this.cellComp,a=this.updateAndFormatValue(s);if(s){if(o||a){this.showValue(n);const e=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!i&&!e&&(this.beans.gos.get("enableCellChangeFlash")||t.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature?.applyUserStyles(),this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip(),this.cellCustomStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.beans.editService?.stopEditingAndFocus(this,e,t)}flashCell(e){const t=e?.flashDuration??e?.flashDelay,n=e?.fadeDuration??e?.fadeDelay;this.animateCell("data-changed",t,n)}animateCell(e,t,n){if(!this.cellComp)return;const{gos:i}=this.beans;if(t||(t=i.get("cellFlashDuration")),0===t)return;O7(n)||(n=i.get("cellFadeDuration"));const r=`ag-cell-${e}`,o=`ag-cell-${e}-animation`;this.cellComp.addOrRemoveCssClass(r,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming((()=>{window.setTimeout((()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(r,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout((()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")}),n))}),t)}))}onFlashCells(e){if(!this.cellComp)return;const t=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[t]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!e||(!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n)}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}getComp(){return this.cellComp}getValue(){return this.value}addDomData(){const t=this.getGui();this.beans.gos.setDomData(t,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc((()=>this.beans.gos.setDomData(t,e.DOM_DATA_KEY_CELL_CTRL,null)))}createEvent(e,t){return this.beans.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}processCharacter(e){this.cellKeyboardListenerFeature?.processCharacter(e)}onKeyDown(e){this.cellKeyboardListenerFeature?.onKeyDown(e)}onMouseEvent(e,t){this.cellMouseListenerFeature?.onMouseEvent(e,t)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){this.cellComp&&this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:e,column:t,beans:n}=this;Tie(e,t,n.visibleColsService)}refreshAriaColIndex(){const e=this.beans.visibleColsService.getAriaColIndex(this.column);Dee(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.cellComp?"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,t):this.onCellCompAttachedFuncs.push((()=>{this.startRowOrCellEdit(e,t)}))}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onSuppressCellFocusChanged(e){this.eGui&&hte(this.eGui,"tabindex",e?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}onCellFocused(e){if(this.beans.focusService.isCellFocusSuppressed())return;const t=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(t&&e?.forceBrowserFocus&&(this.focusEventToRestore=e));if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",t),t&&e&&e.forceBrowserFocus){let t=this.cellComp.getFocusableElement();if(this.editing){const e=this.beans.focusService.findFocusableElements(t,null,!0);e.length&&(t=e[0])}t.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const n="fullRow"===this.beans.gos.get("editType");t||n||!this.editing||this.stopRowOrCellEdit(),t&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:L7(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)}onColumnHover(){if(!this.cellComp)return;if(!this.beans.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}onColDefChanged(){if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editService?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu");this.beans.eventService.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{t.onCellContextMenu(n)}))}),0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new Rre;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new Dre(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(e,t);const i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc((()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null})))}createRowDragComp(e,t,n){const i=this.beans.gos.get("pagination"),r=this.beans.gos.get("rowDragManaged"),o=this.beans.gos.isRowModelType("clientSide");if(r){if(!o)return void d9("managed row dragging is only allowed in the Client Side Row Model");if(i)return void d9("managed row dragging is not possible when doing pagination")}const s=new Ane((()=>this.value),this.rowNode,this.column,e,t,n);return this.beans.context.createBean(s),s}setSuppressRefreshCell(e){this.suppressRefreshCell=e}getEditCompDetails(){return this.editCompDetails}};Lre.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var Ore=Lre,Nre=0,Bre=class e extends k7{constructor(e,t,n,i,r){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=t,this.gos=t.gos,this.rowNode=e,this.paginationPage=t.paginationService?.getCurrentPage()??0,this.useAnimationFrameForCreate=i,this.printLayout=r,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+Nre++,this.rowId=V9(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=t.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!==typeof this.businessKeyForNodeFunc)return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=V9(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}getInstanceId(){return this.instanceId}updateGui(e,t){"left"===e?this.leftGui=t:"right"===e?this.rightGui=t:"fullWidth"===e?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n){const i={rowComp:e,element:t,containerType:n};this.allRowGuis.push(i),this.updateGui(n,i),this.initialiseRowComp(i),"FullWidthLoading"===this.rowType||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter((t=>t.containerType!==e)),this.updateGui(e,void 0)}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach((e=>e.element.style.display=t))}initialiseRowComp(t){const n=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),n.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const i=t.rowComp;this.getInitialRowClasses(t.containerType).forEach((e=>i.addOrRemoveCssClass(e,!0))),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&xee(t.element,1==this.rowNode.expanded),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),n.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc((()=>n.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null))),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),n.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask((()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=V9(this.rowNode.id),null!=this.rowId&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(v9((()=>{this.onTopChanged()})),this.slideInAnimation[t]=!1);this.fadeInAnimation[t]&&(v9((()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){if(this.gos.get("enableRangeSelection"))return void d9("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");const t=this.beans.localeService.getLocaleTextFunc(),n=new Ane((()=>`1 ${t("rowDragRow","row")}`),this.rowNode,void 0,e.element,void 0,!0),i=this.createBean(n,this.beans.context);this.rowDragComps.push(i)}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType);if("FullWidthDetail"==this.rowType&&!Fte.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map((e=>e?.rowComp?.getFullWidthCellRenderer())):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}getCellElement(e){const t=this.getCellCtrl(e);return t?t.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const e=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),t=!!this.centerGui,n=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return e&&t&&n}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.rowNode.isFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.columnModel.isPivotMode(),r=!!this.rowNode.group&&!this.rowNode.footer&&this.gos.isGroupUseEntireRow(i);this.rowType=e?"FullWidthLoading":n?"FullWidthDetail":t?"FullWidth":r?"FullWidthGroup":"Normal"}updateColumnLists(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isFullWidth())return;e||this.gos.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(t):this.updateColumnListsPending||(this.beans.animationFrameService.createTask((()=>{this.active&&this.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i={list:[],map:{}},r=(e,t)=>{i.list.push(t),i.map[e]=t};return t.forEach((t=>{const n=t.getInstanceId();let i=e.map[n];i||(i=new Ore(t,this.rowNode,this.beans,this)),r(n,i)})),e.list.forEach((e=>{if(null!=i.map[e.getColumn().getInstanceId()])return;this.isCellEligibleToBeRemoved(e,n)?e.destroy():r(e.getColumn().getInstanceId(),e)})),i}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach((t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)}))}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.columnViewportService,t=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const r=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,t){const n=!0;if(e.getColumn().getPinned()!=t)return n;const i=e.isEditing(),r=this.beans.focusService.isCellFocused(e.getCellPosition());if(i||r){const t=e.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(t)>=0)&&n}return n}getDomOrder(){return this.gos.get("ensureDomOrder")||this.gos.isDomLayout("print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",t),this.addManagedPropertyListener("ensureDomOrder",t)}setAnimateFlags(e){if(this.isSticky()||!e)return;const t=O7(this.rowNode.oldRowTop),n=this.beans.visibleColsService.isPinningLeft(),i=this.beans.visibleColsService.isPinningRight();if(t){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=i}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=i}}isEditing(){return this.editingRow}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){const e=(e,t)=>!e||e.rowComp.refreshFullWidth((()=>this.createFullWidthCompDetails(e.element,t).params)),t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),r=e(this.rightGui,"right");return t&&n&&i&&r}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc((()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))})),this.addManagedPropertyListeners(["rowDragEntireRow"],(()=>{this.gos.get("rowDragEntireRow")?this.allRowGuis.forEach((e=>{this.addRowDraggerToRow(e)})):this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)})),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach((e=>e.onRowIndexChanged()))},cellChanged:e=>{this.getAllCellCtrls().forEach((t=>t.onCellChanged(e)))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell())this.beans.rowRenderer.redrawRow(this.rowNode);else if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode)}else this.getAllCellCtrls().forEach((t=>t.refreshCell({suppressFlash:!e.update,newData:!e.update}))),this.allRowGuis.forEach((e=>{this.setRowCompRowId(e.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(e.rowComp)})),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach((t=>{const n=0===e,i=1===e;t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)}))}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e)))}updateExpandedCss(){const e=this.rowNode.isExpandable(),t=1==this.rowNode.expanded;this.allRowGuis.forEach((n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",e),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&t),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!t),xee(n.element,e&&t)}))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:L7(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.allRowGuis.find((t=>t.element.contains(e.target)));if(!((t?t.element:null)===e.target))return;const n=this.rowNode,i=this.beans.focusService.getFocusedCell(),r={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:i&&i.column};this.beans.navigationService.navigateToNextCell(e,e.key,r,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||T7(e))return;const t=this.allRowGuis.find((t=>t.element.contains(e.target))),n=t?t.element:null,i=n===e.target;let r=null;i||(r=this.beans.focusService.findNextFocusableElement(n,!1,e.shiftKey)),(this.isFullWidth()&&i||!r)&&this.beans.navigationService.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find((e=>ote(e.element)))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach((e=>{hte(e.element,"tabindex",t)}))}onFullWidthRowFocused(e){const t=this.rowNode,n=!!e&&(this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned),i=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;i&&(i.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&i.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach((e=>{e!==t&&(n.list.push(e),n.map[e.getColumn().getInstanceId()]=e)})),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t)}}createRowEvent(e,t){return this.gos.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){T7(e)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}onRowMouseDown(e){if(this.lastMouseDownOnDragger=$ee(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,n=this.beans.visibleColsService;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const i=this.getFullWidthElement(),r=e.target;let o=!0;i&&i.contains(r)&&Wee(r)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:t.rowIndex,column:n.getAllCols()[0],rowPinned:t.rowPinned,forceBrowserFocus:o})}onRowClick(e){if(T7(e)||this.lastMouseDownOnDragger)return;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",e));const t=e.ctrlKey||e.metaKey,n=e.shiftKey;if(this.gos.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gos.get("suppressRowClickSelection"))return;const i=this.gos.get("rowMultiSelectWithClick"),r=!this.gos.get("suppressRowDeselection"),o="rowClicked";if(this.rowNode.isSelected())i?this.rowNode.setSelectedParams({newValue:!1,event:e,source:o}):t?r&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:o}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!n,rangeSelect:n,event:e,source:o});else{const r=!i&&!t;this.rowNode.setSelectedParams({newValue:!0,clearSelection:r,rangeSelect:n,event:e,source:o})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gos.isRowSelection()}setupDetailRowAutoHeight(e){if("FullWidthDetail"!==this.rowType)return;if(!this.gos.get("detailRowAutoHeight"))return;const t=()=>{const t=e.clientHeight;if(null!=t&&t>0){const e=()=>{this.rowNode.setRowHeight(t),("clientSide"===this.beans.rowModel.getType()||"serverSide"===this.beans.rowModel.getType())&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(e,0)}},n=this.beans.resizeObserverService.observeResize(e,t);this.addDestroyFunc(n),t()}createFullWidthCompDetails(e,t){const{gos:n,rowNode:i}=this,r=n.addGridCommonParams({fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(e,t,n,i)=>this.addFullWidthRowDragging(e,t,n,i),setTooltip:(e,t)=>this.refreshRowTooltip(e,t)}),o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(r);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(r);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(r);default:return o.getFullWidthCellRendererDetails(r)}}refreshRowTooltip(e,t){if(!this.fullWidthGui)return;const n={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>e,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:t};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new vte(n,this.beans))}addFullWidthRowDragging(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0;if(!this.isFullWidth())return;const r=new Ane((()=>n),this.rowNode,void 0,e,t,i);this.createBean(r,this.beans.context),this.addDestroyFunc((()=>{this.destroyBean(r,this.beans.context)}))}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((e=>{e.rowComp.addOrRemoveCssClass(t,!0),e.rowComp.addOrRemoveCssClass(n,!1)}))}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass("ag-row-first",e)))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass("ag-row-last",t))))}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.stoppingRowEdit||this.beans.rowEditService?.stopEditing(this,e)}setInlineEditingCss(){const e=this.editingRow||this.getAllCellCtrls().some((e=>e.isEditing()));this.allRowGuis.forEach((t=>{t.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),t.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)}))}setEditingRow(e){this.editingRow=e}startRowEditing(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.editingRow||this.beans.rowEditService?.startEditing(this,e,t,n)}getAllCellCtrls(){if(0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length)return this.centerCellCtrls.list;return[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);e&&e.length&&e.forEach((e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!0)))}))}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!0)))}),(e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!1)))}))}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,(e=>e.rowComp.setUserStyles(this.rowStyles)))}getPinnedForContainer(e){return"left"===e||"right"===e?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:t};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){const e=this.gos.get("rowStyle");if(e&&"function"===typeof e)return void d9("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const t=this.gos.getCallback("getRowStyle");let n;if(t){n=t({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})}return n||e?Object.assign({},e,n):this.emptyStyle}onRowSelected(e){const t=!!this.rowNode.isSelected();this.forEachGui(e,(e=>{e.rowComp.addOrRemoveCssClass("ag-row-selected",t),Aee(e.element,t);!e.element.contains(this.gos.getActiveDomElement())||e!==this.centerGui&&e!==this.fullWidthGui||this.announceDescription()}))}announceDescription(){if(this.isRowSelectionBlocked())return;const e=this.rowNode.isSelected();if(e&&this.gos.get("suppressRowDeselection"))return;const t=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(t,"rowSelection")}addHoverFunctionality(e){if(!this.active)return;const{rowNode:t,beans:n,gos:i}=this;this.addManagedListeners(e,{mouseenter:()=>t.onMouseEnter(),mouseleave:()=>t.onMouseLeave()}),this.addManagedListeners(t,{mouseEnter:()=>{n.dragService.isDragging()||i.get("suppressRowHoverHighlight")||(e.classList.add("ag-row-hover"),t.setHovered(!0))},mouseLeave:()=>{e.classList.remove("ag-row-hover"),t.setHovered(!1)}})}roundRowTopToBounds(e){const t=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(null==this.rowNode.rowHeight)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=this.gos.isGetRowHeightFunction()?this.gos.getRowHeightForNode(this.rowNode).height:void 0,r=i?Math.min(n,i)-2+"px":void 0;this.forEachGui(e,(e=>{e.element.style.height=`${t}px`,r&&e.element.style.setProperty("--ag-line-height",r)}))}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}destroyFirstPass(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.active=!1,!e&&this.gos.isAnimateRows()&&!this.isSticky()){if(null!=this.rowNode.rowTop){const e=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(e)}else this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)))}this.rowNode.setHovered(!1);const t=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(t),this.beans.eventService.dispatchEvent(t),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const e=e=>(e.list.forEach((e=>e.destroy())),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,(e=>{e.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),e.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)}))}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const e=this.beans.paginationService?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;return e+this.beans.pageBoundsService.getPixelOffset()*(t?1:-1)}setRowTop(e){if(!this.printLayout&&O7(e)){const t=this.applyPaginationOffset(e),n=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeightService.getRealPixelPosition(t)}px`;this.setRowTopStyle(n)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(this.isSticky())n=t.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,r=this.applyPaginationOffset(i);n=t.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach((t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`)))}getRowNode(){return this.rowNode}getCellCtrl(e){let t=null;return this.getAllCellCtrls().forEach((n=>{n.getColumn()==e&&(t=n)})),null!=t||this.getAllCellCtrls().forEach((n=>{n.getColSpanningList().indexOf(e)>=0&&(t=n)})),t}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(null===t)return;const n=this.beans.headerNavigationService.getHeaderRowCount()+(this.beans.filterManager?.getHeaderRowCount()??0),i=this.rowNode.rowIndex%2===0,r=n+this.rowNode.rowIndex+1;this.forEachGui(e,(e=>{e.rowComp.setRowIndex(t),e.rowComp.addOrRemoveCssClass("ag-row-even",i),e.rowComp.addOrRemoveCssClass("ag-row-odd",!i),_ee(e.element,r)}))}setStoppingRowEdit(e){this.stoppingRowEdit=e}};Bre.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Gre=Bre,Vre=class extends k7{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",A7("touchstart")?"touchstart":"mousedown"].forEach((e=>{const t=this.processMouseEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}))}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||T7(t))return;const n=this.getRowForEvent(t),i=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,void 0,n,i):(i&&i.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!Nee())return;const e=new _te(this.element);this.addManagedListeners(e,{longTap:e=>{const t=this.getRowForEvent(e.touchEvent),n=this.mouseEventService.getRenderedCellForEvent(e.touchEvent);this.handleContextMenuMouseEvent(void 0,e.touchEvent,t,n)}}),this.addDestroyFunc((()=>e.destroy()))}getRowForEvent(e){let t=e.target;for(;t;){const e=this.gos.getDomData(t,Gre.DOM_DATA_KEY_ROW_CTRL);if(e)return e;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,n,i){const r=n?n.getRowNode():null,o=i?i.getColumn():null;let s=null;if(o){const n=e||t;i.dispatchCellContextMenuEvent(n??null),s=this.valueService.getValue(o,r)}const a=this.ctrlsService.getGridBodyCtrl(),l=i?i.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:r,column:o,value:s,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:E7(this.gos,e,Ore.DOM_DATA_KEY_CELL_CTRL),rowCtrl:E7(this.gos,e,Gre.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){const i=e.getRowNode(),r=e.getColumn(),o=e.isEditing();if(!iie(this.gos,n,i,r,o)&&"keydown"===t){!o&&this.navigationService.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,e.isEditing()),nie(n)&&e.processCharacter(n)}"keydown"===t&&this.eventService.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const i=e.getRowNode(),r=this.focusService.getFocusedCell(),o=r&&r.column;if(!iie(this.gos,n,i,o,!1)){const i=n.key;if("keydown"===t)switch(i){case Nte.PAGE_HOME:case Nte.PAGE_END:case Nte.PAGE_UP:case Nte.PAGE_DOWN:this.navigationService.handlePageScrollingKey(n,!0);break;case Nte.UP:case Nte.DOWN:e.onKeyboardNavigate(n);break;case Nte.TAB:e.onTabKeyDown(n)}}"keydown"===t&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey)return;if(t)return;if(!this.mouseEventService.isEventFromThisGrid(e))return;const n=function(e){const{keyCode:t}=e;let n;switch(t){case 65:n=Nte.A;break;case 67:n=Nte.C;break;case 86:n=Nte.V;break;case 68:n=Nte.D;break;case 90:n=Nte.Z;break;case 89:n=Nte.Y;break;default:n=e.code}return n}(e);return n===Nte.A?this.onCtrlAndA(e):n===Nte.C?this.onCtrlAndC(e):n===Nte.D?this.onCtrlAndD(e):n===Nte.V?this.onCtrlAndV(e):n===Nte.X?this.onCtrlAndX(e):n===Nte.Y?this.onCtrlAndY():n===Nte.Z?this.onCtrlAndZ(e):void 0}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:n,rangeService:i}=this;if(i&&n.isRowsToRender()){const[e,r]=[t.isEmpty("top"),t.isEmpty("bottom")],o=e?null:"top";let s,a;r?(s=null,a=n.getRowCount()-1):(s="bottom",a=t.getPinnedBottomRowCount()-1);const l=this.visibleColsService.getAllCols();if(B7(l))return;i.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:a,rowEndPinned:s,columnStart:l[0],columnEnd:v7(l)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:n}=this.getControlsForEventTarget(e.target);t?.isEditing()||n?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:n}=this.getControlsForEventTarget(e.target);t?.isEditing()||n?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:n}=this.getControlsForEventTarget(e.target);t?.isEditing()||n?.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gos.get("undoRedoCellEditing")&&this.undoRedoService&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService?.redo("ui")}},zre=class extends k7{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Uee(this.element,t),lte(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},Hre=class extends k7{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Uee(this.element,t),lte(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},Wre=e=>e.getTopRowCtrls(),Ure=e=>e.getStickyTopRowCtrls(),jre=e=>e.getStickyBottomRowCtrls(),$re=e=>e.getBottomRowCtrls(),Kre=e=>e.getCentreRowCtrls(),qre={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:Kre},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:Kre},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:Kre},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:Kre},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:Wre},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Wre},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Wre},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:Wre},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:Ure},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Ure},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Ure},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:Ure},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:jre},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:jre},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:jre},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:jre},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:$re},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:$re},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:$re},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:$re}};function Yre(e){return qre[e]}var Xre=["center","left","right","fullWidth"],Zre=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Qre=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],Jre=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],eoe=["stickyTopCenter","stickyTopLeft","stickyTopRight"],toe=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],noe=[...eoe,"stickyTopFullWidth",...toe,"stickyBottomFullWidth"],ioe=["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right",...eoe,...toe],roe=class extends k7{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=Yre(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],(()=>{this.viewportSizeFeature=this.createManagedBean(new Mre(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})}))}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,n){this.comp=e,this.eContainer=t,this.eViewport=n,this.createManagedBean(new Vre(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const i=()=>this.onPinnedWidthChanged();this.forContainers(Qre,(()=>{this.pinnedWidthFeature=this.createManagedBean(new zre(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:i})})),this.forContainers(Jre,(()=>{this.pinnedWidthFeature=this.createManagedBean(new Hre(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:i})})),this.forContainers(Xre,(()=>this.createManagedBean(new Cre(this.eContainer,"center"===this.name?n:void 0)))),this.forContainers(ioe,(()=>this.createManagedBean(new _re(this.eContainer)))),this.forContainers(Zre,(()=>this.createManagedBean(new Jie((e=>this.comp.setContainerWidth(`${e}px`)))))),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(noe.indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const e=()=>{const e=this.gos.get("ensureDomOrder"),t=this.gos.isDomLayout("print");this.comp.setDomOrder(e||t)};this.addManagedPropertyListener("domLayout",e),e()}onDisplayedColumnsChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}addPreventScrollWhileDragging(){const e=e=>{this.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc((()=>this.eContainer.removeEventListener("touchmove",e)))}onHorizontalViewportChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,n,e)}getCenterWidth(){return Yee(this.eViewport)}getCenterViewportScrollLeft(){return ete(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc((()=>t()))}isViewportInTheDOMTree(){return rte(this.eViewport)}getViewportScrollLeft(){return ete(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||(e=this.eViewport).clientWidth<e.scrollWidth;var e}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){tte(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(null!=this.options.pinnedType)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||0===t.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const n=this.gos.isDomLayout("print"),i=this.gos.get("embedFullWidthRows")||n,r=t.filter((e=>{const t=e.isFullWidth();return this.options.fullWidth?!i&&t:i||!t}));this.comp.setRowCtrls({rowCtrls:r,useFlushSync:e})}},ooe="ag-force-vertical-scroll",soe=class extends k7{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,n,i,r,o,s){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=r,this.eStickyTop=o,this.eStickyBottom=s,this.eCenterColsViewport=n.querySelector(`.${Yre("center").viewport}`),this.eFullWidthContainer=n.querySelector(`.${Yre("fullWidth").container}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${Yre("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=s.querySelector(`.${Yre("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",(e=>this.setCellTextSelection(e.currentValue))),this.createManagedBean(new mre(this.comp)),this.bodyScrollFeature=this.createManagedBean(new xre(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,r,o,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager?.setupAdvancedFilterHeaderComp(i),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach((e=>{this.addManagedElementListeners(e,{focusin:t=>{const{target:n}=t,i=$ee(n,"ag-root",e);e.classList.toggle("ag-has-focus",!i)},focusout:t=>{const{target:n,relatedTarget:i}=t,r=e.contains(i),o=$ee(i,"ag-root",e);$ee(n,"ag-root",e)||r&&!o||e.classList.remove("ag-has-focus")}})}))}setColumnMovingCss(e){this.comp.setColumnMovingCss("ag-column-moving",e)}setCellTextSelection(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.comp.setCellSelectableCss("ag-selectable",e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=`calc(100% + ${(e&&this.gos.getScrollbarWidth()||0)+(zee()?16:0)}px)`;this.animationFrameService.requestAnimationFrame((()=>this.comp.setBodyViewportWidth(t)))}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=e=>{const n=e.relatedTarget;if(null===Gee(n))return void this.rowRenderer.stopEditing();let i=t.some((e=>e.contains(n)))&&this.mouseEventService.isElementInThisGrid(n);if(!i){const e=this.popupService;i=e.getActivePopups().some((e=>e.contains(n)))||e.isElementWithinCustomPopup(n)}i||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach((t=>this.addManagedElementListeners(t,{focusout:e})))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+(this.filterManager?.getHeaderRowCount()??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,n=-1===t?-1:e+t;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?ooe:null,n=this.gos.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&(i=this.eBodyViewport).clientHeight<i.scrollHeight;var i}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const t=e&&this.gos.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),n=t?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(n,t)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e,r=i||Math.abs(t)>Math.abs(n),o=e.target;r?(this.eStickyTopFullWidthContainer.contains(o)||this.eStickyBottomFullWidthContainer.contains(o))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(n))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;if(this.gos.get("preventDefaultOnContextMenu")){(e||n).preventDefault()}const{target:i}=e||t;i!==this.eBodyViewport&&i!==this.ctrlsService.get("center").getViewportElement()||this.menuService.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Nee())return;const t=new _te(this.eBodyViewport);this.addManagedListeners(t,{longTap:t=>{e(void 0,t.touchStart,t.touchEvent)}}),this.addDestroyFunc((()=>t.destroy()))}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new Pne(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),n=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(n),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(e){const e=this.gos.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${e}px)`)}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const e=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(this.filterManager?.getHeaderHeight()??0),t=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;e>0&&(n+=e),t>0&&(n+=t),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight()+(this.scrollVisibleService.isHorizontalScrollShowing()&&this.gos.getScrollbarWidth()||0);this.comp.setStickyBottomBottom(`${e}px`)}sizeColumnsToFit(e,t){const n=this.isVerticalScrollShowing()?this.gos.getScrollbarWidth():0,i=Yee(this.eGridBody)-n;i>0?this.columnSizeService.sizeColumnsToFit(i,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,100)}),0):100===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,500)}),100):500===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,-1)}),500):d9("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};function aoe(e){return e.map((e=>`<ag-row-container name="${e}"></ag-row-container>`)).join("")}aoe(["topLeft","topCenter","topRight","topFullWidth"]),aoe(["left","center","right","fullWidth"]),aoe(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]),aoe(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]),aoe(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]);var loe=class extends k7{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn((()=>{this.columnAnimationService.executeLaterVMTurn((()=>this.updateImpl()))})):this.updateImpl()}updateImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}},uoe="__ag_grid_instance",coe=class e extends k7{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=e.gridInstanceSequence.next()}wireBeans(e){this.ctrlsService=e.ctrlsService}stampTopLevelGridCompWithGridInstance(e){e[uoe]=this.gridInstanceId}getRenderedCellForEvent(e){return E7(this.gos,e.target,Ore.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){const e=t[uoe];if(O7(e)){return e===this.gridInstanceId}t=t.parentElement}return!1}getCellPositionForEvent(e){const t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){const t=this.gos.isDomLayout("normal"),n=e;let i,r;if(null!=n.clientX||null!=n.clientY?(i=n.clientX,r=n.clientY):(i=n.x,r=n.y),t){const e=this.ctrlsService.getGridBodyCtrl(),t=e.getScrollFeature().getVScrollPosition();i+=e.getScrollFeature().getHScrollPosition().left,r+=t.top}return{x:i,y:r}}};coe.gridInstanceSequence=new gte;var doe=coe,hoe=class extends k7{constructor(){super(),this.beanName="navigationService",this.onPageDown=w9(this.onPageDown,100),this.onPageUp=w9(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridBodyCon=e.gridBodyCtrl}))}handlePageScrollingKey(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.key,i=e.altKey,r=e.ctrlKey||e.metaKey,o=!!this.rangeService&&e.shiftKey,s=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(n){case Nte.PAGE_HOME:case Nte.PAGE_END:r||i||(this.onHomeOrEndKey(n),a=!0);break;case Nte.LEFT:case Nte.RIGHT:case Nte.UP:case Nte.DOWN:if(!s)return!1;!r||i||o||(this.onCtrlUpDownLeftRight(n,s),a=!0);break;case Nte.PAGE_DOWN:case Nte.PAGE_UP:r||i||(a=this.handlePageUpDown(n,s,t))}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.focusService.getFocusedCell()),!!t&&(e===Nte.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0)}navigateTo(e){const{scrollIndex:t,scrollType:n,scrollColumn:i,focusIndex:r,focusColumn:o}=e;O7(i)&&!i.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(i),O7(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,n),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:o,rowPinned:null,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:r,rowPinned:null,column:o})}onPageDown(e){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),i=this.pageBoundsService.getPixelOffset(),r=t.top+n,o=this.rowModel.getRowIndexAtPixel(r+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.pageBoundsService.getPixelOffset(),i=t.top,r=this.rowModel.getRowIndexAtPixel(i+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,r,!0):this.navigateToNextPage(e,r,!0)}navigateToNextPage(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.getViewportHeight(),r=this.pageBoundsService.getFirstRow(),o=this.pageBoundsService.getLastRow(),s=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=n?a?.rowHeight-i-s:i-s,u=a?.rowTop+l;let c,d=this.rowModel.getRowIndexAtPixel(u+s);if(d===e.rowIndex){const i=n?-1:1;t=d=e.rowIndex+i}n?(c="bottom",d<r&&(d=r),t<r&&(t=r)):(c="top",d>o&&(d=o),t>o&&(t=o)),this.isRowTallerThanView(d)&&(t=d,c="top"),this.navigateTo({scrollIndex:t,scrollType:c,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout((()=>{const i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})}),50)}getNextFocusIndexForAutoHeight(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?-1:1,n=this.getViewportHeight(),i=this.pageBoundsService.getLastRow();let r=0,o=e.rowIndex;for(;o>=0&&o<=i;){const e=this.rowModel.getRow(o);if(e){const t=e.rowHeight??0;if(r+t>n)break;r+=t}o+=t}return Math.max(0,Math.min(o,i))}getViewportHeight(){const{gridBodyCtrl:e,center:t}=this.ctrlsService.getParams(),n=e.getScrollFeature().getVScrollPosition(),i=this.gos.getScrollbarWidth();let r=n.bottom-n.top;return t.isHorizontalScrollShowing()&&(r-=i),r}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const n=t.rowHeight;return"number"===typeof n&&n>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:i}=n,r=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:r,focusIndex:i,focusColumn:r})}onHomeOrEndKey(e){const t=e===Nte.PAGE_HOME,n=this.visibleColsService.getAllCols(),i=t?n[0]:v7(n),r=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:i,focusIndex:r,focusColumn:i})}onTabKeyDown(e,t){const n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t);if(!1===i)if(n){const{rowIndex:n,rowPinned:i}=e.getRowPosition();(i?0===n:n===this.pageBoundsService.getFirstRow())&&(0===this.gos.get("headerHeight")||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof Ore&&e.focusCell(!0),(!n&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(n))&&t.preventDefault();else i?t.preventDefault():null===i&&this.focusService.allowFocusForNextGridCoreContainer(n)}tabToNextCell(e,t){const n=this.focusService.getFocusedCell();if(!n)return!1;let i=this.getCellByPosition(n);return!!(i||(i=this.rowRenderer.getRowByPosition(n),i&&i.isFullWidth()))&&!!this.tabToNextCellCommon(i,e,t)}tabToNextCellCommon(e,t,n){let i,r=e.isEditing();if(!r&&e instanceof Ore){const t=e.getRowCtrl();t&&(r=t.isEditing())}return i=r?"fullRow"===this.gos.get("editType")?this.moveToNextEditingRow(e,t,n):this.moveToNextEditingCell(e,t,n):this.moveToNextCellNotEditing(e,t),null===i?i:i||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=e.getCellPosition();e.getGui().focus(),e.stopEditing();const r=this.findNextCellToFocusOn(i,t,!0);return!1===r?null:null!=r&&(r.startEditing(null,!0,n),r.focusCell(!1),!0)}moveToNextEditingRow(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=e.getCellPosition(),r=this.findNextCellToFocusOn(i,t,!0);if(!1===r)return null;if(null==r)return!1;const o=r.getCellPosition(),s=this.isCellEditable(i),a=this.isCellEditable(o),l=o&&i.rowIndex===o.rowIndex&&i.rowPinned===o.rowPinned;if(s&&e.setFocusOutOnEditor(),!l){e.getRowCtrl().stopEditing();r.getRowCtrl().startRowEditing(void 0,void 0,n)}return a?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const n=this.visibleColsService.getAllCols();let i;i=e instanceof Gre?{...e.getRowPosition(),column:t?n[0]:v7(n)}:e.getCellPosition();const r=this.findNextCellToFocusOn(i,t,!1);if(!1===r)return null;if(r instanceof Ore)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),t);return O7(r)}findNextCellToFocusOn(e,t,n){let i=e;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextTabbedCell(i,t);const r=this.gos.getCallback("tabToNextCell");if(O7(r)){const o=r({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(!0===o||null===o)null===o&&d9("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),i=e;else{if(!1===o)return!1;i={rowIndex:o.rowIndex,column:o.column,rowPinned:o.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const e=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:e+i.rowIndex,column:i.column},fromCell:!0}),null}const o="fullRow"===this.gos.get("editType");if(n&&!o){if(!this.isCellEditable(i))continue}this.ensureCellVisible(i);const s=this.getCellByPosition(i);if(!s){const e=this.rowRenderer.getRowByPosition(i);if(!e||!e.isFullWidth()||n)continue;return e}if(!s.isSuppressNavigable())return this.rangeService?.setRangeToCell(i),s}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,n,i){let r=n,o=!1;for(;r&&(r===n||!this.isValidNavigateCell(r));)this.gos.get("enableRtl")?t===Nte.LEFT&&(r=this.getLastCellOfColSpan(r)):t===Nte.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(t,r),o=N7(r);if(o&&e&&e.key===Nte.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),i){const i=this.gos.getCallback("navigateToNextCell");if(O7(i)){const o=i({key:t,previousCellPosition:n,nextCellPosition:r||null,event:e});r=O7(o)?{rowPinned:o.rowPinned,rowIndex:o.rowIndex,column:o.column}:null}}if(!r)return;if(r.rowIndex<0){const t=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:t+r.rowIndex,column:n.column},event:e||void 0,fromCell:!0})}const s=this.getNormalisedPosition(r);s?this.focusPosition(s):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.visibleColsService.getAllCols(),i=this.rowRenderer.getRowByPosition(e);if(!i||!i.isFullWidth())return!1;const r=this.focusService.getFocusedCell(),o={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?v7(n):n[0])};this.focusPosition(o);const s=null!=r&&this.rowPositionUtils.before(o,r);return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:o.column,isFullWidthCell:!0,fromBelow:s}),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const n=t.getColSpanningList();return 1===n.length?e:{rowIndex:e.rowIndex,column:v7(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=this.gos.isGroupRowsSticky(),n=this.rowModel.getRow(e.rowIndex);!(t&&n?.sticky)&&N7(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},poe=class extends k7{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(t);return()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(n)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},goe=class extends k7{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,n){this.showPopup(e,(i=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:i})}),n,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,n){let i=-1,r="left";const o=this.menuService.isLegacyMenuEnabled();!o&&this.gos.get("enableRtl")&&(i=1,r="right");const s=o?void 0:4*i,a=o?void 0:4;this.showPopup(e,(i=>{this.popupService.positionPopupByComponent({type:n,eventSource:t,ePopup:i,nudgeX:s,nudgeY:a,alignSide:r,keepWithinBounds:!0,position:"under",column:e})}),n,t,o)}showPopup(e,t,n,i,r){const o=e?this.createBean(new Nne(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const s=document.createElement("div");let a;yee(s,"presentation"),s.classList.add("ag-menu"),r||s.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(s,{keydown:e=>this.trapFocusWithin(e,s)}),s.appendChild(o?.getGui());const l=this.menuService.isColumnMenuAnchoringEnabled()?i??this.ctrlsService.getGridBodyCtrl().getGui():void 0,u=this.localeService.getLocaleTextFunc(),c=r&&"columnFilter"!==n?u("ariaLabelColumnMenu","Column Menu"):u("ariaLabelColumnFilter","Column Filter"),d=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:t=>{e.setMenuVisible(!1,"contextMenu");const r=t instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),r&&i&&ote(i)){const e=this.focusService.findTabbableParent(i);e&&e.focus()}o?.afterGuiDetached(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e)},positionCallback:()=>t(s),anchorToElement:l,ariaLabel:c});d&&(this.hidePopup=a=d.hideFunc),o.afterInit().then((()=>{t(s),o.afterGuiAttached({container:n,hidePopup:a})})),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==Nte.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},foe=class extends k7{constructor(){super(...arguments),this.beanName="resizeObserverService",this.polyfillFunctions=[]}observeResize(e,t){const n=this.gos.getWindow(),i=()=>{let n=e?.clientWidth??0,i=e?.clientHeight??0,r=!0;const o=()=>{if(r){const r=e?.clientWidth??0,s=e?.clientHeight??0;(r!==n||s!==i)&&(n=r,i=s,t()),this.doNextPolyfillTurn(o)}};return o(),()=>r=!1},r=this.gos.get("suppressBrowserResizeObserver");return!!n.ResizeObserver&&!r?(()=>{const i=new n.ResizeObserver(t);return i.observe(e),()=>i.disconnect()})():this.getFrameworkOverrides().wrapIncoming((()=>i()),"resize-observer")}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;this.polyfillScheduled=!0,window.setTimeout((()=>{const e=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],e.forEach((e=>e()))}),50)}},moe=class extends k7{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&0===e){const e=this.paginationService?.getCurrentPage()??0;e!==this.lastPage&&(this.lastPage=e,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){!1===this.useAnimationFrame&&d9(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,n){this.verifyAnimationFrameOn(n);const i={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],i),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort(((e,n)=>e.index!==n.index?t*(n.index-e.index):n.createOrder-e.createOrder)),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,n=t.list,i=this.createTasksP2,r=i.list,o=this.destroyTasks,s=(new Date).getTime();let a=(new Date).getTime()-s;const l=e<=0,u=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!u.getScrollFeature().scrollGridIfNeeded()){let e;if(n.length)this.sortTaskList(t),e=n.pop().task;else if(r.length)this.sortTaskList(i),e=r.pop().task;else{if(!o.length){this.cancelledTasks.clear();break}e=o.pop()}this.cancelledTasks.has(e)||e()}a=(new Date).getTime()-s}n.length||r.length||o.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=this.gos.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{this.isOn()?t||(t=!0,this.addDestroyTask((()=>{t=!1,e()}))):window.setTimeout(e,0)}}},voe=class extends k7{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode((e=>{e.id&&t.has(e.id)&&(e.expanded=!0)})),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode((t=>{let{expanded:n,id:i}=t;n&&i&&e.push(i)})),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,n,i){e&&(n&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,n,i),e.setExpanded(t,void 0,i))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},yoe=class extends k7{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,n)}getContextMenuPosition(e,t){const n=this.getRowCtrl(e),i=this.getCellGui(n,t);if(!i)return n?{x:0,y:n.getRowYPosition()}:{x:0,y:0};const r=i.getBoundingClientRect();return{x:r.x+r.width/2,y:r.y+r.height/2}}showContextMenu(e){const{rowNode:t}=e,n=e.column;let{anchorToElement:i,value:r}=e;t&&n&&null==r&&(r=t.getValueFromValueService(n)),null==i&&(i=this.getContextMenuAnchorElement(t,n)),this.contextMenuFactory?.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,n??null,r,i)}showColumnChooser(e){this.columnChooserFactory?.showColumnChooser(e)}hidePopupMenu(){this.contextMenuFactory?.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){this.columnChooserFactory?.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:n}=e.getColDef();return!(n??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!e?.getColDef().suppressHeaderContextMenu&&"new"===this.getColumnMenuType()}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Nee()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.filterManager?.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return"new"===this.getColumnMenuType()}isLegacyMenuEnabled(){return"legacy"===this.getColumnMenuType()}isFloatingFilterButtonEnabled(e){const t=e.getColDef(),n=t.floatingFilterComponentParams?.suppressFilterButton;return null!=n&&d9("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==t.suppressFloatingFilterButton?!n:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?!!this.gos.exists("suppressMenuHide")&&e:e}showColumnMenuCommon(e,t,n,i){const{positionBy:r}=t,o=t.column;if("button"===r){const{buttonElement:r}=t;e.showMenuAfterButtonClick(o,r,n,i)}else if("mouse"===r){const{mouseEvent:r}=t;e.showMenuAfterMouseEvent(o,r,n,i)}else o&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto"),this.animationFrameService.requestAnimationFrame((()=>{const t=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);t&&e.showMenuAfterButtonClick(o,t.getAnchorElementForMenu(i),n,!0)})))}getRowCtrl(e){const{rowIndex:t,rowPinned:n}=e||{};if(null!=t)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n})||void 0}getCellGui(e,t){if(!e||!t)return;const n=e.getCellCtrl(t);return n?.getGui()||void 0}getContextMenuAnchorElement(e,t){const n=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),i=this.getRowCtrl(e);if(!i)return n;const r=this.getCellGui(i,t);return r||(i.isFullWidth()?i.getFullWidthElement():n)}},woe={selector:"AG-INPUT-TEXT-AREA",component:class extends Vte{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}}},Coe=class extends Yte{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gos.setDomData(this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params;this.addManagedElementListeners(e,{keydown:e=>{iie(this.gos,e,t.node,t.column,!0)||t.onKeyDown(e)}})}},boe=class extends Yte{constructor(e){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${e.getTemplate()}\n            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=wte}init(e){this.params=e;const t=this.eInput;let n;if(this.cellEditorInput.init(t,e),e.cellStartedEdit){this.focusAfterAttached=!0;const t=e.eventKey;t===Nte.BACKSPACE||e.eventKey===Nte.DELETE?n="":t&&1===t.length?n=t:(n=this.cellEditorInput.getStartValue(),t!==Nte.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,n=this.cellEditorInput.getStartValue();null!=n&&t.setStartValue(n),this.addManagedElementListeners(t.getGui(),{keydown:e=>{const{key:t}=e;t!==Nte.PAGE_UP&&t!==Nte.PAGE_DOWN||e.preventDefault()}})}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Iee()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){const e=this.eInput,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},Soe=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[oie]}init(e,t){this.eInput=e,this.params=t,null!=t.maxLength&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return O7(e)||O7(this.params.value)?this.params.parseValue(e):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=O7(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},xoe=class extends boe{constructor(){super(new Soe)}},Moe=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[aie]}init(e,t){this.eInput=e,this.params=t,null!=t.max&&e.setMax(t.max),null!=t.min&&e.setMin(t.min),null!=t.precision&&e.setPrecision(t.precision),null!=t.step&&e.setStep(t.step);const n=e.getInputElement();t.preventStepping?e.addManagedElementListeners(n,{keydown:this.preventStepping}):t.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")}preventStepping(e){e.key!==Nte.UP&&e.key!==Nte.DOWN||e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!O7(e)&&!O7(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(null==t)return t;if("string"===typeof t){if(""===t)return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){Iee()&&this.eInput.getInputElement().focus({preventScroll:!0})}},_oe={selector:"AG-INPUT-DATE-FIELD",component:class extends rie{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Iee();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?wie(e??null,!1)??void 0:e;return this.min===t||(this.min=t,hte(this.eInput,"min",t)),this}setMax(e){const t=e instanceof Date?wie(e??null,!1)??void 0:e;return this.max===t||(this.max=t,hte(this.eInput,"max",t)),this}setStep(e){return this.step===e||(this.step=e,hte(this.eInput,"step",e)),this}getDate(){if(this.eInput.validity.valid)return Sie(this.getValue())??void 0}setDate(e,t){this.setValue(wie(e??null,!1),t)}}},Roe=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[_oe]}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return O7(e)||O7(this.params.value)?e??null:this.params.value}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return wie(e,!1)}},Doe=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[_oe]}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return O7(e)||O7(this.params.value)?this.params.parseValue(e??""):this.params.value}getStartValue(){return wie(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Sie(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):wie(e??null,!1)??void 0}},Poe=class{constructor(e){this.cellValueChanges=e}},Toe=class extends Poe{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},Aoe=class{constructor(e){this.actionStack=[],this.maxStackSize=e||10,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};function Eoe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,n)),"ensureVisible")}function Ioe(e,t,n){e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,n)),"ensureVisible")}var koe={version:Lie,moduleName:"@ag-grid-community/edit-core",beans:[class extends k7{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=this.createCellEditorParams(e,t,n),o=e.getColumn().getColDef(),s=this.userComponentFactory.getCellEditorDetails(o,r),a=null!=s?.popupFromSelector?s.popupFromSelector:!!o.cellEditorPopup,l=null!=s?.popupPositionFromSelector?s.popupPositionFromSelector:o.cellEditorPopupPosition;e.setEditing(!0,s),e.getComp().setEditDetails(s,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(i,"cellEditingStarted"))}stopEditing(e,t){const n=e.getComp(),{newValue:i,newValueExists:r}=this.takeValueFromCellEditor(t,n),o=e.getRowNode(),s=e.getColumn(),a=o.getValueFromValueService(s);let l=!1;return r&&(l=this.saveNewValue(e,a,i,o,s)),e.setEditing(!1,void 0),n.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:i,valueChanged:l}),l}handleColDefChanged(e){const t=e.getCellEditor();if(t?.refresh){const{eventKey:n,cellStartedEdit:i}=e.getEditCompDetails().params,r=this.createCellEditorParams(e,n,i),o=e.getColumn().getColDef(),s=this.userComponentFactory.getCellEditorDetails(o,r);t.refresh(s.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusIn?t.focusIn():e.focusCell(!0)}stopEditingAndFocus(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(n,e.getCellPosition())}createPopupEditorWrapper(e){return new Coe(e)}takeValueFromCellEditor(e,t){const n={newValueExists:!1};if(e)return n;const i=t.getCellEditor();if(!i)return n;if(i.isCancelAfterEnd&&i.isCancelAfterEnd())return n;return{newValue:i.getValue(),newValueExists:!0}}saveNewValue(e,t,n,i,r){if(n===t)return!1;e.setSuppressRefreshCell(!0);const o=i.setDataValue(r,n,"edit");return e.setSuppressRefreshCell(!1),o}createCellEditorParams(e,t,n){const i=e.getColumn(),r=e.getRowNode();return this.gos.addGridCommonParams({value:r.getValueFromValueService(i),eventKey:t,column:i,colDef:i.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:r,data:r.data,cellStartedEdit:n,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:t=>this.valueService.parseValue(i,r,t,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const n=e?Nte.UP:Nte.DOWN;this.navigationService.navigateToNextCell(null,n,t,!1)}}}]},Foe={version:Lie,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:function(e){e.undoRedoService?.undo("api")},redoCellEditing:function(e){e.undoRedoService?.redo("api")},getCellEditorInstances:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.rowRenderer.getCellEditorInstances(t).map(Sne)},getEditingCells:function(e){return e.rowRenderer.getEditingCells()},stopEditing:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.rowRenderer.stopEditing(t)},startEditingCell:function(e,t){const n=e.columnModel.getCol(t.colKey);if(!n)return void d9(`no column found for ${t.colKey}`);const i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:n};null==t.rowPinned&&Ioe(e,t.rowIndex),Eoe(e,t.colKey);const r=e.navigationService.getCellByPosition(i);if(!r)return;const{focusService:o,gos:s}=e,a=s.get("stopEditingWhenCellsLoseFocus")&&(()=>{const e=s.getActiveDomElement(),t=r.getGui();return e!==t&&t.contains(e)})();!a&&o.isCellFocused(i)||o.setFocusedCell({...i,forceBrowserFocus:a,preventScrollOnBrowserFocus:!0}),r.startRowOrCellEdit(t.key)},getCurrentUndoSize:function(e){return e.undoRedoService?.getCurrentUndoStackSize()??0},getCurrentRedoSize:function(e){return e.undoRedoService?.getCurrentRedoStackSize()??0}},dependantModules:[koe]},Loe={version:Lie,moduleName:"@ag-grid-community/undo-redo-edit",beans:[class extends k7{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,t),i=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:r,rowIndex:o,column:s,oldValue:a,value:l}=e,u={rowPinned:r,rowIndex:o,columnId:s.getColId(),newValue:l,oldValue:a};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new Aoe(e),this.redoStack=new Aoe(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:e=>{e.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady((e=>{this.gridBodyCtrl=e.gridBodyCtrl}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,n,i,r){if(!e)return!1;const o=e.pop();return!(!o||!o.cellValueChanges)&&(this.processAction(o,(e=>e[i]),r),o instanceof Toe?this.processRange(this.rangeService,o.ranges||[o[n]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,n){e.cellValueChanges.forEach((e=>{const{rowIndex:i,rowPinned:r,columnId:o}=e,s={rowIndex:i,rowPinned:r},a=this.rowPositionUtils.getRowNode(s);a.displayed&&a.setDataValue(o,t(e),n)}))}processRange(e,t){let n;e.removeAllCellRanges(!0),t.forEach(((i,r)=>{if(!i)return;const o=i.startRow,s=i.endRow;r===t.length-1&&(n={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(n));const a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:i.startColumn,columns:i.columns};e.addCellRange(a)}))}processCell(e){const t=e[0],{rowIndex:n,rowPinned:i}=t,r={rowIndex:n,rowPinned:i},o=this.rowPositionUtils.getRowNode(r),s={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:n,columnId:i,rowPinned:r}=e,o=this.gridBodyCtrl.getScrollFeature(),s=this.columnModel.getCol(i);if(!s)return;o.ensureIndexVisible(n),o.ensureColumnVisible(s);const a={rowIndex:n,column:s,rowPinned:r};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),t?.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Poe(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{this.activeCellEdit=null;if(e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const e=new Poe(this.cellValueChanges);this.pushActionsToUndoStack(e)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Poe(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Toe(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;e=this.rangeService&&this.gos.get("enableRangeSelection")?new Toe(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new Poe(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}}],dependantModules:[koe]},Ooe={version:Lie,moduleName:"@ag-grid-community/full-row-edit",beans:[class extends k7{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e.getAllCellCtrls().reduce(((e,r)=>{const o=r===n;return o?r.startEditing(t,o,i):r.startEditing(null,o,i),!!e||r.isEditing()}),!1)&&this.setEditing(e,!0)}stopEditing(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.getAllCellCtrls(),i=e.isEditing();e.setStoppingRowEdit(!0);let r=!1;for(const o of n){const e=o.stopEditing(t);i&&!t&&!r&&e&&(r=!0)}r&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),i&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,(e=>e.rowComp.addOrRemoveCssClass("ag-row-editing",t)));const n=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(n)}}],dependantModules:[koe]},Noe={version:Lie,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:xoe}],dependantModules:[koe]},Boe={version:Lie,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:xoe},{name:"agNumberCellEditor",classImp:class extends boe{constructor(){super(new Moe)}}},{name:"agDateCellEditor",classImp:class extends boe{constructor(){super(new Roe)}}},{name:"agDateStringCellEditor",classImp:class extends boe{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new Doe((()=>this.dataTypeService)))}}},{name:"agCheckboxCellEditor",classImp:class extends Yte{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[Hte]),this.eCheckbox=wte}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t);this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:e=>this.setAriaLabel(e.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),n=Eee(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${i} (${n})`)}}}],dependantModules:[Noe]},Goe={version:Lie,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:class extends Yte{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>\n            </div>',[Qne]),this.eSelect=wte,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:n,gos:i}=this,{values:r,value:o,eventKey:s}=e;if(N7(r))return void d9("no values found for select cellEditor");this.startedByEnter=null!=s&&s===Nte.ENTER;let a=!1;r.forEach((i=>{const r={value:i},s=n.formatValue(e.column,null,i),l=null!==s&&void 0!==s;r.text=l?s:i,t.addOption(r),a=a||o===i})),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:c}=e;null!=l&&t.setPickerGap(l),null!=c&&t.setPickerMaxHeight(c),null!=u&&t.setPickerMaxWidth(u),"fullRow"!==i.get("editType")&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout((()=>{this.isAlive()&&this.eSelect.showPicker()}))}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}}}],dependantModules:[koe]},Voe={version:Lie,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:class extends Yte{constructor(){super('<div class="ag-large-text">\n        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',[woe]),this.eTextArea=wte}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),O7(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===Nte.LEFT||t===Nte.UP||t===Nte.RIGHT||t===Nte.DOWN||e.shiftKey&&t===Nte.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return O7(e)||O7(this.params.value)?this.params.parseValue(e):this.params.value}}}],dependantModules:[koe]},zoe={version:Lie,moduleName:"@ag-grid-community/editing",dependantModules:[koe,Loe,Ooe,{version:Lie,moduleName:"@ag-grid-community/all-editors",dependantModules:[Noe,Boe,Goe,Voe]},Foe]},Hoe=class extends k7{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady((e=>{this.centerRowContainerCtrl=e.center}))}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const i=this.rowRenderer.getAllCellsForColumn(e);return t||i.push(n),this.addElementsToContainerAndGetWidth(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const n=this.centerRowContainerCtrl.getContainerElement();e.forEach((e=>this.cloneItemIntoDummy(e,t))),n.appendChild(t);const i=t.offsetWidth;n.removeChild(t);return i+this.getAutoSizePadding()}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((n=>{const i=n.getHtmlElementForColumnHeader(e);null!=i&&(t=i)})),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),r=i.classList;["ag-header-cell","ag-header-group-cell"].some((e=>n.classList.contains(e)))?(r.add("ag-header","ag-header-row"),i.style.position="static"):r.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some((e=>o.classList.contains(e)))){for(let e=0;e<o.classList.length;e++){const t=o.classList[e];"ag-row-position-absolute"!=t&&r.add(t)}break}o=o.parentElement}i.appendChild(n),t.appendChild(i)}},Woe=class extends k7{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.topContainerHeight=0,this.bottomContainerHeight=0,this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady((e=>{this.gridBodyCtrl=e.gridBodyCtrl}))}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let t=e.childStore?.getStoreBounds();return e.footer&&(t=e.sibling.childStore?.getStoreBounds()),(t?.heightPx??0)+(t?.topPx??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&0===e.rowIndex)return Number.MAX_SAFE_INTEGER;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let t=e.footer?e.sibling:e;for(;t.isExpandable()&&t.expanded;)if(t.master)t=t.detailNode;else if(t.childrenAfterSort){if(0===t.childrenAfterSort.length)break;t=v7(t.childrenAfterSort)}return t.rowTop+t.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t="top"===e;let n=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,n);const i=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,r=new Set,o=e=>{if(r.add(e),t){const t=this.getLastPixelOfGroup(e),r=i+n+e.rowHeight;e.stickyRowTop=t<r?n+(t-r):n}else{const t=this.getFirstPixelOfGroup(e),r=i-(n+e.rowHeight);e.stickyRowTop=t>r?n-(t-r):n}n=0,r.forEach((e=>{const t=e.stickyRowTop+e.rowHeight;n<t&&(n=t)}))},s=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=t=>{if(!t.displayed)return!1;if(t.footer){if(!0===s)return!1;if("grand"===s&&-1===t.level)return!1;if("group"===s&&t.level>-1)return!1;const n=!!t.sibling.rowIndex&&t.sibling.rowIndex+1===t.rowIndex;if("bottom"===e&&n)return!1;return!r.has(t)}if(t.isExpandable()){if(!0===a)return!1;if("bottom"===e)return!1;return!r.has(t)&&t.expanded}return!1};for(let u=0;u<100;u++){let e=i+n;t||(e=i-n);const r=this.rowModel.getRowIndexAtPixel(e),s=this.rowModel.getRow(r);if(null==s)break;const a=this.getStickyAncestors(s).find((e=>(t?e.rowIndex<r:e.rowIndex>r)&&l(e)));if(a){o(a);continue}if(!(t?s.rowTop<e:s.rowTop+s.rowHeight>e)||!l(s))break;o(s)}return t||r.forEach((e=>{e.stickyRowTop=n-(e.stickyRowTop+e.rowHeight)})),this.refreshNodesAndContainerHeight(e,r,n)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(!0===e)return!0;const t=!!this.gos.get("groupIncludeFooter")||"group"===e,n=!!this.gos.get("groupIncludeTotalFooter")||"grand"===e;return!(!t||!n)||(n?"grand":!!t&&"group")}canRowsBeSticky(){const e=this.gos.isGroupRowsSticky(),t=this.areFooterRowsStickySuppressed(),n=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!n)}getStickyAncestors(e){const t=[];let n=e.footer?e.sibling:e.parent;for(;n;)n.sibling&&t.push(n.sibling),t.push(n),n=n.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some((t=>t.getRowNode()===e))){for(let n=0;n<this.stickyTopRowCtrls.length;n++){const i=this.stickyTopRowCtrls[n].getRowNode();i!==e&&t.add(i)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows()}else{for(let n=0;n<this.stickyBottomRowCtrls.length;n++){const i=this.stickyBottomRowCtrls[n].getRowNode();i!==e&&t.add(i)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}}refreshNodesAndContainerHeight(e,t,n){const i="top"===e,r=i?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,o={},s=[];for(let h=0;h<r.length;h++){const e=r[h].getRowNode();!t.has(e)?(o[e.id]=r[h],e.sticky=!1):s.push(r[h])}const a=new Set;for(let h=0;h<s.length;h++)a.add(s[h].getRowNode());const l=[];t.forEach((e=>{a.has(e)||(e.sticky=!0,l.push(this.createRowCon(e,!1,!1)))}));let u=!!l.length||s.length!==r.length;i?this.topContainerHeight!==n&&(this.topContainerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),u=!0):this.bottomContainerHeight!==n&&(this.bottomContainerHeight=n,this.gridBodyCtrl.setStickyBottomHeight(n),u=!0),this.destroyRowCtrls(o,!1);const c=[...s,...l];c.sort(((e,t)=>t.getRowNode().rowIndex-e.getRowNode().rowIndex)),i||c.reverse(),c.forEach((e=>e.setRowTop(e.getRowNode().stickyRowTop)));let d=0;return i?(t.forEach((e=>{e.rowIndex<this.pageBoundsService.getFirstRow()&&(d+=e.rowHeight)})),d>this.topContainerHeight&&(d=this.topContainerHeight),this.setOffsetTop(d)):(t.forEach((e=>{e.rowIndex>this.pageBoundsService.getLastRow()&&(d+=e.rowHeight)})),d>this.bottomContainerHeight&&(d=this.bottomContainerHeight),this.setOffsetBottom(d)),!!u&&(i?this.stickyTopRowCtrls=c:this.stickyBottomRowCtrls=c,!0)}ensureRowHeightsValid(){let e=!1;const t=t=>{const n=t.getRowNode();if(n.rowHeightEstimated){const t=this.gos.getRowHeightForNode(n);n.setRowHeight(t.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},Uoe=class extends k7{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach((e=>e.onRangeSelectionChanged()))},t=()=>{this.getAllCellCtrls().forEach((e=>e.updateRangeBordersIfRangeCount()))},n=()=>{this.eventService.addEventListener("rangeSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},i=()=>{this.eventService.removeEventListener("rangeSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc((()=>i())),this.addManagedPropertyListener("enableRangeSelection",(e=>{e.currentValue?n():i()}));this.gos.get("enableRangeSelection")&&n()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()}))}initialise(){if(this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this)}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],(()=>this.onDomLayoutChanged())),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],(()=>this.redraw())),this.addManagedPropertyListener("suppressCellFocus",(e=>this.onSuppressCellFocusChanged(e.currentValue))),this.addManagedPropertyListeners(["getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],(()=>this.redrawRows())),this.gos.isGroupRowsSticky()){const e=this.rowModel.getType();"clientSide"!==e&&"serverSide"!==e||(this.stickyRowFeature=this.createManagedBean(new Woe(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gos.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=null!=e?e:3;this.cachedRowCtrls=new joe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=X7(this.rowCtrlsByRowIndex),t=X7(this.zombieRowCtrls),n=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach((t=>t.onCellFocused(e))),this.getFullWidthRowCtrls().forEach((t=>t.onFullWidthRowFocused(e)))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach((t=>t.onSuppressCellFocusChanged(e))),this.getFullWidthRowCtrls().forEach((t=>t.onSuppressCellFocusChanged(e)))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach((t=>t.onFlashCells(e)))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach((e=>e.onColumnHover()))},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach((e=>e.onDisplayedColumnsChanged()))},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach((e=>e.onLeftChanged()))}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach((e=>e())),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();this.columnModel.getCols().forEach((e=>{const t=t=>{this.getAllCellCtrls().forEach((n=>{n.getColumn()===e&&t(n)}))},n=()=>{t((e=>e.onLeftChanged()))},i=()=>{t((e=>e.onWidthChanged()))},r=()=>{t((e=>e.onFirstRightPinnedChanged()))},o=()=>{t((e=>e.onLastLeftPinnedChanged()))},s=()=>{t((e=>e.onColDefChanged()))};e.addEventListener("leftChanged",n),e.addEventListener("widthChanged",i),e.addEventListener("firstRightPinnedChanged",r),e.addEventListener("lastLeftPinnedChanged",o),e.addEventListener("colDefChanged",s),this.destroyFuncsForColumnListeners.push((()=>{e.removeEventListener("leftChanged",n),e.removeEventListener("widthChanged",i),e.removeEventListener("firstRightPinnedChanged",r),e.removeEventListener("lastLeftPinnedChanged",o),e.removeEventListener("colDefChanged",s)}))}))}onDomLayoutChanged(){const e=this.gos.isDomLayout("print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach((n=>{const i=n.getCellElement(e);i&&t.push(i)})),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:n,beans:i,printLayout:r}=this,o=Object.fromEntries(e.map((e=>[e.getRowNode().id,e])));n.forEachPinnedRow(t,((s,a)=>{const l=e[a];l&&void 0===n.getPinnedRowById(l.getRowNode().id,t)&&(l.destroyFirstPass(),l.destroySecondPass()),s.id in o?(e[a]=o[s.id],delete o[s.id]):e[a]=new Gre(s,i,!1,!1,r)}));const s="top"===t?n.getPinnedTopRowCount():n.getPinnedBottomRowCount();e.length=s}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{if(this.cachedRowCtrls?.has(e))return void this.cachedRowCtrls.removeRow(e);{const t=t=>{const n=t[e.rowIndex];n&&n.getRowNode()===e&&(n.destroyFirstPass(),n.destroySecondPass(),t[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":t(this.topRowCtrls);break;case"bottom":t(this.bottomRowCtrls);break;default:t(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(null!=e)return e?.forEach((e=>this.redrawRow(e,!0))),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;const n=this.gos.getActiveDomElement(),i=this.gos.getDomData(n,Ore.DOM_DATA_KEY_CELL_CTRL),r=this.gos.getDomData(n,Gre.DOM_DATA_KEY_ROW_CTRL);return i||r?t:null}redrawAfterModelUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&this.gos.isAnimateRows(),r=n?this.getRowsToRecycle():null;if(n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const e=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();e&&this.updateContainerHeights(e)}this.recycleRows(r,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let t=this.pageBoundsService.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){if(this.refreshInProgress){const e=this.frameworkOverrides.getLockOnRefreshError?.()??"";throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace."+e)}this.refreshInProgress=!0,this.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,(()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}))}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.getAllRowCtrls().forEach((t=>{t.stopEditing(e)}))}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){const n=t[i].getAllCellCtrls(),r=n.length;for(let t=0;t<r;t++)e.push(n[t])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],n=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const i in this.rowCtrlsByRowIndex)n.push(this.rowCtrlsByRowIndex[i]);return n}addRenderedRowListener(e,t,n){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}flashCells(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getCellCtrls(e.rowNodes,e.columns).forEach((t=>t.flashCell(e)))}refreshCells(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const n of this.getCellCtrls(e.rowNodes,e.columns))n.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&Bee()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||this.redrawRow(n.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){const t=this.getCellCtrls(e.rowNodes,e.columns).map((e=>e.getCellRenderer())).filter((e=>null!=e));if(e.columns?.length)return t;const n=[],i=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach((e=>{if(i&&!this.isRowInMap(e.getRowNode(),i))return;if(!e.isFullWidth())return;const t=e.getFullWidthCellRenderers();for(let i=0;i<t.length;i++){const e=t[i];null!=e&&n.push(e)}})),[...n,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach((e=>{const n=e.getCellEditor();n&&t.push(n)})),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach((t=>{if(t.isEditing()){const n=t.getCellPosition();e.push(n)}})),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach((e=>{const n=e.id;switch(e.rowPinned){case"top":t.top[n]=e;break;case"bottom":t.bottom[n]=e;break;default:t.normal[n]=e}})),t}isRowInMap(e,t){const n=e.id;switch(e.rowPinned){case"top":return null!=t.top[n];case"bottom":return null!=t.bottom[n];default:return null!=t.normal[n]}}getRowCtrls(e){const t=this.mapRowNodes(e),n=this.getAllRowCtrls();return e&&t?n.filter((e=>{const n=e.getRowNode();return this.isRowInMap(n,t)})):n}getCellCtrls(e,t){let n;O7(t)&&(n={},t.forEach((e=>{const t=this.columnModel.getCol(e);O7(t)&&(n[t.getId()]=!0)})));const i=[];return this.getRowCtrls(e).forEach((e=>{e.getAllCellCtrls().forEach((e=>{const t=e.getColumn().getId();n&&!n[t]||i.push(e)}))})),i}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];K7(this.rowCtrlsByRowIndex,((t,n)=>{null==n.getRowNode().id&&e.push(t)})),this.removeRowCtrls(e);const t={};return K7(this.rowCtrlsByRowIndex,((e,n)=>{const i=n.getRowNode();t[i.id]=n})),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.forEach((e=>{const n=this.rowCtrlsByRowIndex[e];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[e]}))}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{afterScroll:t}=e;let n;this.stickyRowFeature&&Bee()&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);const i=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let o=!1;if(this.stickyRowFeature){o=this.stickyRowFeature.checkStickyRows();const e=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();e&&this.updateContainerHeights(e)}const s=this.firstRenderedRow!==i||this.lastRenderedRow!==r;if((!t||o||s)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!o),null!=n)){const e=this.getCellToRestoreFocusToAfterRefresh();null!=n&&null==e&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach((e=>n[e]=!0));const i=Object.keys(this.rowCtrlsByRowIndex).filter((e=>!n[e]));this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=function(e,t){const n=[];for(let i=e;i<=t;i++)n.push(i);return n}(this.firstRenderedRow,this.lastRenderedRow),n=(e,n)=>{const i=n.getRowNode().rowIndex;null!=i&&(i<this.firstRenderedRow||i>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(n)&&t.push(i)};K7(this.rowCtrlsByRowIndex,n),K7(e,n),t.sort(((e,t)=>e-t));const i=[];for(let r=0;r<t.length;r++){const e=t[r],n=this.rowModel.getRow(e);n&&!n.sticky&&i.push(e)}return i}recycleRows(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t);const r=[];if(i.forEach((i=>{const o=this.createOrUpdateRowCtrl(i,e,t,n);O7(o)&&r.push(o)})),e){n&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask((()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach((t=>{const n=t.getRowNode().rowIndex;e.push(n.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter((e=>{if(!e.isFullWidth())return!1;const n=e.getRowNode();return!(null!=t&&!this.isRowInMap(n,t))}))}createOrUpdateRowCtrl(e,t,n,i){let r,o=this.rowCtrlsByRowIndex[e];o||(r=this.rowModel.getRow(e),O7(r)&&O7(t)&&t[r.id]&&r.alreadyRendered&&(o=t[r.id],t[r.id]=null));if(!o){if(r||(r=this.rowModel.getRow(e)),!O7(r))return;o=this.createRowCon(r,n,i)}return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){const n=[];K7(e,((e,i)=>{i&&(this.cachedRowCtrls&&i.isCacheable()?this.cachedRowCtrls.addRow(i):(i.destroyFirstPass(!t),t?(this.zombieRowCtrls[i.getInstanceId()]=i,n.push((()=>{i.destroySecondPass(),delete this.zombieRowCtrls[i.getInstanceId()]}))):i.destroySecondPass()))})),t&&(n.push((()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),g9(n))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*this.gos.getRowHeightAsNumber()}workOutFirstAndLastRowsToRender(){let e,t;if(this.rowContainerHeightService.updateOffset(),this.rowModel.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const n=this.getRowBufferInPixels(),i=this.ctrlsService.getGridBodyCtrl(),r=this.gos.get("suppressRowVirtualisation");let o,s,a=!1;do{const e=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:t,pageLastPixel:l}=this.pageBoundsService.getCurrentPagePixelRange(),u=this.rowContainerHeightService.getDivStretchOffset(),c=i.getScrollFeature().getVScrollPosition(),d=c.top,h=c.bottom;r?(o=t+u,s=l+u):(o=Math.max(d+e-n,t)+u,s=Math.min(h+e+n,l)+u),this.firstVisibleVPixel=Math.max(d+e,t)+u,this.lastVisibleVPixel=Math.min(h+e,l)+u,a=this.ensureAllRowsInRangeHaveHeightsCalculated(o,s)}while(a);let l=this.rowModel.getRowIndexAtPixel(o),u=this.rowModel.getRowIndexAtPixel(s);const c=this.pageBoundsService.getFirstRow(),d=this.pageBoundsService.getLastRow();l<c&&(l=c),u>d&&(u=d),e=l,t=u}else e=0,t=-1;const n=this.gos.isDomLayout("normal"),i=this.gos.get("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);n&&!i&&t-e>r&&(t=e+r);const o=e!==this.firstRenderedRow,s=t!==this.lastRenderedRow;(o||s)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame((()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})})))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.pinnedRowModel?.ensureRowHeightsValid(),i=this.stickyRowFeature?.ensureRowHeightsValid(),r=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(r||i)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),!!(i||r||n)&&(this.updateContainerHeights(),!0)}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const t=!1,n=e.getRowNode(),i=this.focusService.isRowNodeFocused(n),r=e.isEditing(),o=n.detail;if(!(i||r||o))return t;return!!this.isRowPresent(n)||t}isRowPresent(e){return!!this.rowModel.isRowPresent(e)&&(!this.paginationService||this.paginationService.isRowPresent(e))}createRowCon(e,t,n){const i=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(i)return i;const r=this.gos.get("suppressAnimationFrame"),o=n&&!r&&!this.printLayout;return new Gre(e,this.beans,t,o,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map((e=>e.getRowNode()))}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find((e=>e.getRowNode().rowIndex===n))||null,t||(t=this.getStickyBottomRowCtrls().find((e=>e.getRowNode().rowIndex===n))||null))}return t}isRangeInRenderedViewport(e,t){if(null==e||null==t)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},joe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(e){if(null==e||null==e.id)return null;const t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);return t.getRowNode()!=e?null:t}has(e){return null!=this.entriesMap[e.id]}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],C7(this.entriesList,n)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],C7(this.entriesList,e)}getEntries(){return this.entriesList}},$oe=class extends k7{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new Koe,this.pinnedBottomRows=new Koe}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",(e=>this.setPinnedRowData(e.currentValue,"top"))),this.addManagedPropertyListener("pinnedBottomRowData",(e=>this.setPinnedRowData(e.currentValue,"bottom"))),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return("top"===e?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const e=e=>{e.setRowHeight(e.rowHeight,!0)};this.pinnedBottomRows.forEach(e),this.pinnedTopRows.forEach(e)}}ensureRowHeightsValid(){let e=!1,t=0;const n=n=>{if(n.rowHeightEstimated){const i=this.gos.getRowHeightForNode(n);n.setRowTop(t),n.setRowHeight(i.height),t+=i.height,e=!0}};return this.pinnedBottomRows?.forEach(n),t=0,this.pinnedTopRows?.forEach(n),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(void 0===e)return void n.clear();const i=this.gos.getRowIdCallback(),r="top"===t?One.ID_PREFIX_TOP_PINNED:One.ID_PREFIX_BOTTOM_PINNED,o=n.getIds(),s=[],a=new Set;let l=0,u=-1;for(const c of e){const e=i?.({data:c,level:0,rowPinned:t})??r+this.nextId++;if(a.has(e)){d9("Duplicate ID",e,"found for pinned row with data",c,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}u++,a.add(e),s.push(e);const d=n.getById(e);if(void 0!==d)d.data!==c&&d.setData(c),l+=this.setRowTopAndRowIndex(d,l,u),o.delete(e);else{const i=new One(this.beans);i.id=e,i.data=c,i.rowPinned=t,l+=this.setRowTopAndRowIndex(i,l,u),n.push(i)}}o.forEach((e=>{n.getById(e)?.clearRowTopAndRowIndex()})),n.removeAllById(o),n.setOrder(s)}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(this.gos.getRowHeightForNode(e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return"top"===t?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return"top"===e?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(0===t)return 0;const n=e.getByIndex(t-1);return void 0===n?0:n.rowTop+n.rowHeight}},Koe=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter((t=>!e.has(t)))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach(((t,n)=>{const i=this.cache[t];i&&e(i,n)}))}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return 0===this.ordering.length}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},qoe=class extends k7{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLoadCompleted();this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(){const e={type:"loadComplete",success:!(arguments.length>0&&void 0!==arguments[0])||arguments[0],block:this};this.dispatchLocalEvent(e)}},Yoe={version:Lie,moduleName:"@ag-grid-community/row-node-block",beans:[class extends k7{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=y9(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){C7(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),0==this.activeBlockLoadsCount&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void(this.gos.get("debug")&&c9("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded"));const e=this.getAvailableLoadingCount(),t=this.blocks.filter((e=>"needsLoading"===e.getState())).slice(0,e);this.registerLoads(t.length),t.forEach((e=>e.load())),this.printCacheStatus()}getBlockState(){if(this.gos.isRowModelType("serverSide")){return this.rowModel.getBlockStates()}const e={};return this.blocks.forEach((t=>{const{id:n,state:i}=t.getBlockStateJson();e[n]=i})),e}printCacheStatus(){this.gos.get("debug")&&c9(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}}]},Xoe=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(0===this.cachedRange.length){const e=this.getRoot(),t=this.getEnd();if(null==e||null==t)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return null!==this.root&&this.getRange().some((t=>t.id===e.id))}getRoot(){return this.root&&null===this.root?.key&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){return this.end&&null===this.end?.key&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(0===t.length)return{keep:[],discard:[]};const n=t[0].id===this.root.id,i=t.findIndex((t=>t.id===e.id));if(i>-1){const r=t.slice(0,i),o=t.slice(i+1);return this.setEndRange(e),n?{keep:r,discard:o}:{keep:o,discard:r}}return{keep:t,discard:[]}}extend(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.getRoot();if(null==n){const n=this.getRange().slice();return t&&e.depthFirstSearch((e=>!e.group&&n.push(e))),n.push(e),this.setRoot(e),{keep:n,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(n,e).find((e=>e.id===this.end?.id)))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const t=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:t}}}},Zoe=class extends k7{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,n,i){this.processClassRules(void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}processClassRules(e,t,n,i,r){if(null==t&&null==e)return;const o={},s={},a=(e,t)=>{e.split(" ").forEach((e=>{""!=e.trim()&&t(e)}))};if(t){const e=Object.keys(t);for(let i=0;i<e.length;i++){const r=e[i],l=t[r];let u;"string"===typeof l?u=this.expressionService.evaluate(l,n):"function"===typeof l&&(u=l(n)),a(r,(e=>{u?o[e]=!0:s[e]=!0}))}}e&&r&&Object.keys(e).forEach((e=>a(e,(e=>{o[e]||(s[e]=!0)})))),r&&Object.keys(s).forEach(r),Object.keys(o).forEach(i)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let i;if("function"===typeof n){i=n(t)}else i=n;return"string"===typeof i&&(i=[i]),i||[]}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach((e=>{n(e)}))}},Qoe=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(Qoe||{}),Joe=class extends k7{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:i,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:s,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:c,onTabKeyDown:d,handleKeyDown:h,eFocusableElement:p}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=a,this.eFocusableElement=p,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!s,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=c,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=h}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new Wne(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty){if(0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){const t=this.gos.getDocument(),n=this.focusService.findFocusableElements(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1===i)return;let r,o;e?(r=0,o=i):(r=i+1,o=n.length);const s=n.slice(r,o),a=this.gos.get("tabIndex");s.sort(((e,t)=>{const n=parseInt(e.getAttribute("tabindex")||"0"),i=parseInt(t.getAttribute("tabindex")||"0");return i===a?1:n===a?-1:0===n?1:0===i?-1:n-i})),s[e?s.length-1:0].focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive)return;if(e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout((()=>this.activateTabGuards()),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout((()=>{this.forcingFocusOut=!1,this.activateTabGuards()}))}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},ese=class extends k7{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:i}=this,r=[t,n],o={setTabIndex:e=>{r.forEach((t=>null!=e?t.setAttribute("tabindex",e):t.removeAttribute("tabindex")))}};this.addTabGuards(t,n);const{focusTrapActive:s=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:c,onTabKeyDown:d,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:p,isFocusableContainer:g}=e;this.tabGuardCtrl=this.createManagedBean(new Joe({comp:o,focusTrapActive:s,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:c,onTabKeyDown:d,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:p,isFocusableContainer:g}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=this.gos.getDocument().createElement("div"),n="top"===e?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",n),yee(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];nte(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){dte(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,n)}},tse=class extends Cte{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new ese(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},nse=0,ise=class extends k7{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridCtrl=e.gridCtrl})),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n}=e,i=this.getPopupIndex(n);if(-1!==i){this.popupList[i].alignedToElement=t}const r=t.getBoundingClientRect(),o=this.getParentRect(),s=this.keepXYWithinBounds(n,r.top-o.top,0),a=n.clientWidth>0?n.clientWidth:200;n.style.minWidth=`${a}px`;const l=o.right-o.left-a;let u;function c(){return r.right-o.left-2}function d(){return r.left-o.left-a}this.gos.get("enableRtl")?(u=d(),u<0&&(u=c(),this.setAlignedStyles(n,"left")),u>l&&(u=0,this.setAlignedStyles(n,"right"))):(u=c(),u>l&&(u=d(),this.setAlignedStyles(n,"right")),u<0&&(u=0,this.setAlignedStyles(n,"left"))),n.style.left=`${u}px`,n.style.top=`${s}px`}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,eventSource:o,alignSide:s="left",position:a="over",column:l,rowNode:u,type:c}=e,d=o.getBoundingClientRect(),h=this.getParentRect(),p=this.getPopupIndex(t);if(-1!==p){this.popupList[p].alignedToElement=o}this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,updatePosition:()=>{let n,r=d.left-h.left;if("right"===s&&(r-=t.offsetWidth-d.width),"over"===a)n=d.top-h.top,this.setAlignedStyles(t,"over");else{this.setAlignedStyles(t,"under");n="under"===this.shouldRenderUnderOrAbove(t,d,h,e.nudgeY||0)?d.top-h.top+d.height:d.top-t.offsetHeight-2*(i||0)-h.top}return{x:r,y:n}},postProcessCallback:()=>this.callPostProcessPopup(c,t,o,null,l,u)})}shouldRenderUnderOrAbove(e,t,n,i){const r=n.bottom-t.bottom,o=t.top-n.top,s=e.offsetHeight+i;return r>s?"under":o>s||o>r?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(-1===n)return;const i=this.popupList[n],{alignedToElement:r}=i;if(!r)return;["right","left","over","above","under"].forEach((t=>{r.classList.remove(`ag-has-popup-positioned-${t}`),e.classList.remove(`ag-popup-positioned-${t}`)})),t&&(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,n,i,r,o){const s=this.gos.getCallback("postProcessPopup");if(s){s({column:r,rowNode:o,ePopup:t,type:e,eventSource:n,mouseEvent:i})}}positionPopup(e){var t=this;const{ePopup:n,keepWithinBounds:i,nudgeX:r,nudgeY:o,skipObserver:s,updatePosition:a}=e,l={width:0,height:0},u=function(){let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{x:u,y:c}=a();s&&n.clientWidth===l.width&&n.clientHeight===l.height||(l.width=n.clientWidth,l.height=n.clientHeight,r&&(u+=r),o&&(c+=o),i&&(u=t.keepXYWithinBounds(n,u,1),c=t.keepXYWithinBounds(n,c,0)),n.style.left=`${u}px`,n.style.top=`${c}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!s){const e=this.resizeObserverService.observeResize(n,(()=>u(!0)));setTimeout((()=>e()),200)}}getActivePopups(){return this.popupList.map((e=>e.element))}getPopupList(){return this.popupList}getParentRect(){const e=this.gos.getDocument();let t=this.getPopupParent();return t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent),Qee(t)}keepXYWithinBounds(e,t,n){const i=0===n,r=i?"clientHeight":"clientWidth",o=i?"top":"left",s=i?"height":"width",a=i?"scrollTop":"scrollLeft",l=this.gos.getDocument(),u=l.documentElement,c=this.getPopupParent(),d=e.getBoundingClientRect(),h=c.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),g=c===l.body,f=Math.ceil(d[s]);let m=g?(i?Xee:Zee)(u)+u[a]:c[r];g&&(m-=Math.abs(p[o]-h[o]));const v=m-f;return Math.min(Math.max(t,0),Math.abs(v))}addPopup(e){const t=this.gos.getDocument(),{eChild:n,ariaLabel:i,alwaysOnTop:r,positionCallback:o,anchorToElement:s}=e;if(!t)return d9("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(n);if(-1!==a){return{hideFunc:this.popupList[a].hideFunc}}this.initialisePopupPosition(n);const l=this.createPopupWrapper(n,i,!!r),u=this.addEventListenersToPopup({...e,wrapperEl:l});return o&&o(),this.addPopupToPopupList(n,l,u,s),{hideFunc:u}}initialisePopupPosition(e){const t=this.getPopupParent().getBoundingClientRect();O7(e.style.top)||(e.style.top=-1*t.top+"px"),O7(e.style.left)||(e.style.left=-1*t.left+"px")}createPopupWrapper(e,t,n){const i=this.getPopupParent(),r=document.createElement("div");return this.environment.applyThemeClasses(r),r.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||yee(e,"dialog"),wee(e,t),r.appendChild(e),i.appendChild(r),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){var t=this;const n=this.gos.getDocument(),i=this.getPopupParent(),{wrapperEl:r,eChild:o,closedCallback:s,afterGuiAttached:a,closeOnEsc:l,modal:u}=e;let c=!1;const d=e=>{if(!r.contains(this.gos.getActiveDomElement()))return;e.key!==Nte.ESCAPE||T7(e)||g({keyboardEvent:e})},h=e=>g({mouseEvent:e}),p=e=>g({touchEvent:e}),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mouseEvent:a,touchEvent:l,keyboardEvent:u,forceHide:g}=e;(g||!t.isEventFromCurrentPopup({mouseEvent:a,touchEvent:l},o)&&!c)&&(c=!0,i.removeChild(r),n.removeEventListener("keydown",d),n.removeEventListener("mousedown",h),n.removeEventListener("touchstart",p),n.removeEventListener("contextmenu",h),t.eventService.removeEventListener("dragStarted",h),s&&s(a||l||u),t.removePopupFromPopupList(o))};return a&&a({hidePopup:g}),window.setTimeout((()=>{l&&n.addEventListener("keydown",d),u&&(n.addEventListener("mousedown",h),this.eventService.addEventListener("dragStarted",h),n.addEventListener("touchstart",p),n.addEventListener("contextmenu",h))}),0),g}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:nse++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i)}getPopupIndex(e){return this.popupList.findIndex((t=>t.element===e))}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(-1===n)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then((e=>e&&e())),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=r,i.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter((t=>t.element!==e))}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:r}=e,o=i.getBoundingClientRect(),s=n.top-o.top,a=n.left-o.left;let l=s,u=a;const c=r.style.top,d=parseInt(c.substring(0,c.length-1),10),h=r.style.left,p=parseInt(h.substring(0,h.length-1),10),g=this.getFrameworkOverrides();return new ene((n=>{g.wrapIncoming((()=>{g.setInterval((()=>{const n=t.getBoundingClientRect(),o=i.getBoundingClientRect();if(0==o.top&&0==o.left&&0==o.height&&0==o.width)return void e.hidePopup();const c=n.top-o.top;if(c!=l){const e=this.keepXYWithinBounds(r,d+s-c,0);r.style.top=`${e}px`}l=c;const h=n.left-o.left;if(h!=u){const e=this.keepXYWithinBounds(r,p+a-h,1);r.style.left=`${e}px`}u=h}),200).then((e=>{n((()=>{null!=e&&window.clearInterval(e)}))}))}),"popupPositioning")}))}hasAnchoredPopup(){return this.popupList.some((e=>e.isAnchored))}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:i}=e,r=n||i;if(!r)return!1;const o=this.getPopupIndex(t);if(-1===o)return!1;for(let s=o;s<this.popupList.length;s++){if(I7(this.popupList[s].element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=this.gos.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),o=r.length,s=this.getWrapper(e);if(!s||i<=1||!t.contains(e))return!1;const a=n.indexOf(s),l=s.querySelectorAll("div"),u=[];l.forEach((e=>{0!==e.scrollTop&&u.push([e,e.scrollTop])}));let c=!1;if(o){s.classList.contains("ag-always-on-top")?a!==i-1&&(v7(r).insertAdjacentElement("afterend",s),c=!0):a!==i-o-1&&(r[0].insertAdjacentElement("beforebegin",s),c=!0)}else a!==i-1&&(v7(n).insertAdjacentElement("afterend",s),c=!0);for(;u.length;){const e=u.pop();e[0].scrollTop=e[1]}return c}},rse=["touchstart","touchend","touchmove","touchcancel"],ose=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript";this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e()}setInterval(e,t){return new ene((n=>{n(window.setInterval(e,t))}))}addEventListener(e,t,n,i){const r=x7(rse,t);e.addEventListener(t,n,{capture:!!i,passive:r})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${"solid"===this.frameworkName?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},sse=class extends k7{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===Nte.UP,i=e===Nte.DOWN,r=e===Nte.LEFT;let o,s;if(n||i)s=n?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),o=t.column;else{const e=this.visibleColsService.getAllCols(),n=this.gos.get("enableRtl");s=t.rowIndex,o=r!==n?e[0]:v7(e)}return{rowIndex:s,rowPinned:null,column:o}}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case Nte.UP:n=this.getCellAbove(n);break;case Nte.DOWN:n=this.getCellBelow(n);break;case Nte.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case Nte.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,d9("unknown key for navigation ",e)}i=!n||this.isCellGoodToFocusOn(n)}return n}isCellGoodToFocusOn(e){const t=e.column;let n;switch(e.rowPinned){case"top":n=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":n=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:n=this.rowModel.getRow(e.rowIndex)}if(!n)return!1;return!t.isSuppressNavigable(n)}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,n=e.rowPinned;let i=!1;if(this.isLastRowInContainer(e))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else n&&(i=!0);const r=this.rowModel.getRow(e.rowIndex),o=i?void 0:this.getNextStickyPosition(r);return o||{rowIndex:t+1,rowPinned:n}}getNextStickyPosition(e,t){if(!this.gos.isGroupRowsSticky()||!e||!e.sticky)return;let n=[];n=this.rowRenderer.getStickyTopRowCtrls().some((t=>t.getRowNode().rowIndex===e.rowIndex))?[...this.rowRenderer.getStickyTopRowCtrls()].sort(((e,t)=>e.getRowNode().rowIndex-t.getRowNode().rowIndex)):[...this.rowRenderer.getStickyBottomRowCtrls()].sort(((e,t)=>t.getRowNode().rowIndex-e.getRowNode().rowIndex));const i=t?-1:1,r=n.findIndex((t=>t.getRowNode().rowIndex===e.rowIndex)),o=n[r+i];return o?{rowIndex:o.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,n=e.rowIndex;if("top"===t){return this.pinnedRowModel.getPinnedTopRowCount()-1<=n}if("bottom"===t){return this.pinnedRowModel.getPinnedBottomRowCount()-1<=n}return this.pageBoundsService.getLastRow()<=n}getRowAbove(e){const t=e.rowIndex,n=e.rowPinned;let i=!1;if(n?0===t:t===this.pageBoundsService.getFirstRow())return"top"===n?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;n&&(i=!0);const r=this.rowModel.getRow(e.rowIndex),o=i?void 0:this.getNextStickyPosition(r,!0);return o||{rowIndex:t-1,rowPinned:n}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.visibleColsService.getAllCols();let n=e.rowIndex,i=e.rowPinned,r=this.visibleColsService.getColAfter(e.column);if(!r){r=t[0];const o=this.getRowBelow(e);if(N7(o))return null;if(!o.rowPinned&&!(this.paginationService?.isRowInPage(o)??1))return null;n=o?o.rowIndex:null,i=o?o.rowPinned:null}return{rowIndex:n,column:r,rowPinned:i}}getNextTabbedCellBackwards(e){const t=this.visibleColsService.getAllCols();let n=e.rowIndex,i=e.rowPinned,r=this.visibleColsService.getColBefore(e.column);if(!r){r=v7(t);const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(N7(o))return null;if(!o.rowPinned&&!(this.paginationService?.isRowInPage(o)??1))return null;n=o?o.rowIndex:null,i=o?o.rowPinned:null}return{rowIndex:n,column:r,rowPinned:i}}},ase=(e,t)=>{for(const n in t)t[n]=e;return t},lse={...ase("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0}),...ase("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...ase("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...ase("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0,isLastRowIndexKnown:0}),...ase("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...ase("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...ase("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...ase("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...ase("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...ase("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...ase("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0}),...ase("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...ase("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...ase("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...ase("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},use={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},cse=(e,t)=>e.eventService.dispatchEvent(t),dse=class{};Reflect.defineProperty(dse,"name",{value:"GridApi"});var hse=class extends k7{constructor(){super(),this.beanName="apiFunctionService",this.api=new dse,this.fns={...use,dispatchEvent:cse},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in lse)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:i}=this;n!==use&&(n[e]=i?.validationService?.validateApiFunction(e,t)??t)}makeApi(e){var t=this;return{[e]:function(){const{beans:n,fns:{[e]:i}}=t;for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i?i(n,...o):t.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gridId:n,preDestroyLink:i}=this;if(t){const t=lse[e];Fte.__assertRegistered(t,`api.${e}`,n)&&d9(`API function '${e}' not registered to module '${t}'`)}else d9(`Grid API function ${e}() cannot be called as the grid has been destroyed.\nEither clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\nTo run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${i}`)}destroy(){super.destroy(),this.fns=use,this.beans=null}};function pse(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var gse=class extends k7{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,n){const i=[],r={};return e.forEach((e=>{let o=!0,s=this.createDefFromColumn(e,t,n),a=e.getOriginalParent(),l=null;for(;a;){let e=null;if(a.isPadding()){a=a.getOriginalParent();continue}const t=r[a.getGroupId()];if(t){t.children.push(s),o=!1;break}if(e=this.createDefFromGroup(a),e&&(e.children=[s],r[e.groupId]=e,s=e,a=a.getOriginalParent()),null!=a&&l===a){o=!1;break}l=a}o&&i.push(s)})),i}createDefFromGroup(e){const t=Y7(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const i=Y7(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=!e.isVisible()||void 0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,i}},fse=class extends k7{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(){this.eventService.dispatchEvent({type:"displayedColumnsChanged"})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:1===e.length?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:1===e.length?e[0]:null,source:t})}genericColumnEvent(e,t,n){this.eventService.dispatchEvent({type:e,columns:t,column:1===t.length?t[0]:null,source:n})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:n,toIndex:i,finished:r}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&1===t.length?t[0]:null,toIndex:i,finished:r,source:n})}columnPinned(e,t){if(!e.length)return;const n=1===e.length?e[0]:null,i=this.getCommonValue(e,(e=>e.getPinned()));this.eventService.dispatchEvent({type:"columnPinned",pinned:null!=i?i:null,columns:e,column:n,source:t})}columnVisible(e,t){if(!e.length)return;const n=1===e.length?e[0]:null,i=this.getCommonValue(e,(e=>e.isVisible()));this.eventService.dispatchEvent({type:"columnVisible",visible:i,columns:e,column:n,source:t})}getCommonValue(e,t){if(!e||0==e.length)return;const n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}columnChanged(e,t,n){this.eventService.dispatchEvent({type:e,columns:t,column:t&&1==t.length?t[0]:null,source:n})}columnResized(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:1===e.length?e[0]:null,flexColumns:i,finished:t,source:n})}},mse=class extends k7{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){if(N7(this.columnModel.getColDefCols())||!this.columnModel.isAlive())return[];const e=this.columnModel.getAllCols().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(e),e}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),n=this.funcColsService.getPivotColumns(),i=e.isRowGroupActive()?t.indexOf(e):null,r=e.isPivotActive()?n.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,s=null!=e.getSort()?e.getSort():null,a=null!=e.getSortIndex()?e.getSortIndex():null,l=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:a,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:i,pivot:e.isPivotActive(),pivotIndex:r,flex:l}}orderColumnStateList(e){const t=this.columnModel.getCols(),n=new Map(t.map(((e,t)=>[e.getColId(),t])));e.sort(((e,t)=>(n.has(e.colId)?n.get(e.colId):-1)-(n.has(t.colId)?n.get(t.colId):-1)))}},vse=class extends k7{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[];return P9(null,this.columnModel.getColTree(),(t=>{o9(t)&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})})),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const n=[];P9(null,t,(e=>{if(o9(e)){const t=e.getColGroupDef(),i={groupId:e.getGroupId(),open:t?t.openByDefault:void 0};n.push(i)}})),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const n=[];e.forEach((e=>{const t=e.groupId,i=e.open,r=this.columnModel.getProvidedColGroup(t);r&&r.isExpanded()!==i&&(r.setExpanded(i),n.push(r))})),this.visibleColsService.refresh(t,!0),n.length&&this.eventDispatcher.groupOpened(n),this.columnAnimationService.finish()}},yse=class extends k7{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const e=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=e-this.scrollPosition-this.scrollWidth,this.viewportRight=e-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(n)}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t]}return n||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return!(!e.isAutoHeaderHeight()&&!this.isAnyParentAutoHeaderHeight(e))||this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,r=this.viewportRight+200;return!(t<i&&n<i)&&!(t>r&&n>r)}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this),n=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,n,t,(e=>{const t=e.getLeft();return O7(t)&&t>this.viewportLeft}))}checkViewportColumns(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),n=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(n).forEach((t=>e[t.getId()]=!0));const i=(t,n,r)=>{let o=!1;for(let s=0;s<t.length;s++){const a=t[s];let l=!1;if(i9(a))l=!0===e[a.getId()];else{const e=a.getDisplayedChildren();e&&(l=i(e,n,r+1))}l&&(o=!0,n[r]||(n[r]=[]),n[r].push(a))}return o};i(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),i(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),i(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){this.extractViewportColumns();const e=this.getViewportColumns().map((e=>`${e.getId()}-${e.getPinned()||"normal"}`)).join("#"),t=this.colsWithinViewportHash!==e;return t&&(this.colsWithinViewportHash=e,this.calculateHeaderRows()),t}},wse=class extends k7{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const n=this.componentMetadataProvider.retrieve(e);return n&&n.functionAdapter?n.functionAdapter(t):null}adaptCellRendererFunction(e){return class{refresh(){return!1}getGui(){return this.eGui}init(t){const n=e(t),i=typeof n;this.eGui="string"!==i&&"number"!==i&&"boolean"!==i?null!=n?n:ste("<span></span>"):ste("<span>"+n+"</span>")}}}doesImplementIComponent(e){return!!e&&(e.prototype&&"getGui"in e.prototype)}},Cse=class extends k7{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},bse=Object.fromEntries(["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"].map(((e,t)=>[e,t])));function Sse(e,t){return((e.beanName?bse[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER)-((t.beanName?bse[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER)}function xse(e,t){return"gridDestroyService"===e?.beanName?-1:0}var Mse=class extends k7{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e){const t=this.registry[e];if(null!=t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return new t(...i)}}},_se=class extends k7{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={},this.ready=!1,this.readyCallbacks=[]}checkReady(){const e=this.params;this.ready=null!=e.gridCtrl&&null!=e.gridBodyCtrl&&null!=e.center&&null!=e.left&&null!=e.right&&null!=e.bottomCenter&&null!=e.bottomLeft&&null!=e.bottomRight&&null!=e.topCenter&&null!=e.topLeft&&null!=e.topRight&&null!=e.stickyTopCenter&&null!=e.stickyTopLeft&&null!=e.stickyTopRight&&null!=e.stickyBottomCenter&&null!=e.stickyBottomLeft&&null!=e.stickyBottomRight&&null!=e.centerHeader&&null!=e.leftHeader&&null!=e.rightHeader&&null!=e.fakeHScrollComp&&null!=e.fakeVScrollComp&&null!=e.gridHeaderCtrl,this.ready&&(this.readyCallbacks.forEach((t=>t(e))),this.readyCallbacks.length=0)}whenReady(e){this.ready?e(this.params):this.readyCallbacks.push(e)}register(e,t){this.params[e]=t,this.checkReady()}registerHeaderContainer(e,t){const n=this.params;switch(t){case"left":n.leftHeader=e;break;case"right":n.rightHeader=e;break;default:n.centerHeader=e}this.checkReady()}get(e){return this.params[e]}getParams(){return this.params}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},Rse=class extends k7{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:n,column:i}=e;return this.createIdFromValues({rowIndex:t,column:i,rowPinned:n})}createIdFromValues(e){const{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${null==n?"null":n}.${i.getId()}`}equals(e,t){const n=e.column===t.column,i=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return n&&i&&r}},Dse=class extends k7{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(null==this.clientSideRowModel)return void this.eventService.dispatchEvent(e);this.events.push(e);const n=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach((e=>this.eventService.dispatchEvent(e))),this.events=[]};t?n():(null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(n)),this.dispatchExpandedDebounced())}},Pse=class extends k7{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),void 0===e?null:{rowIndex:t,rowPinned:e}}getLastRow(){let e,t=null;const n=this.pinnedRowModel.getPinnedBottomRowCount(),i=this.pinnedRowModel.getPinnedTopRowCount();return n?(t="bottom",e=n-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):i&&(t="top",e=i-1),void 0===e?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t||!(e&&!t||!e&&t)&&(e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned)}before(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(O7(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}},Tse={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},Ase={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},Ese={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Ise=class extends k7{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.themeClasses=[],this.eThemeAncestor=null,this.eMeasurementContainer=null,this.sizesMeasured=!1}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("rowHeight",(()=>this.refreshRowHeightVariable())),this.themeClasses=this.getAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(Tse),this.getSizeEl(Ase),this.getSizeEl(Ese)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(Tse)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(Ase)}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Ese)}hasMeasuredSizes(){return this.sizesMeasured}getThemeClasses(){return this.themeClasses}applyThemeClasses(e){for(const t of Array.from(e.classList))t.startsWith("ag-theme-")&&!this.themeClasses.includes(t)&&e.classList.remove(t);for(const t of this.themeClasses)e.classList.contains(t)||e.classList.add(t)}getThemeAncestorElement(){return this.eThemeAncestor}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(null==t||isNaN(t)||!isFinite(t))return null!==e&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const n=`${t}px`;return e!=n?(this.eGridDiv.style.setProperty("--ag-line-height",n),t):""!=e?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(null!=t)return t;const n=this.measureSizeEl(e);return"detached"===n||"no-styles"===n?e.defaultValue:(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(null==t.offsetParent)return"detached";const n=t.offsetWidth;return n===Fse?"no-styles":(this.sizesMeasured=!0,n)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let n=this.eMeasurementContainer;n||(n=this.eMeasurementContainer=document.createElement("div"),n.className="ag-measurement-container",this.eGridDiv.appendChild(n)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${Fse}px)`,n.appendChild(t),this.sizeEls.set(e,t);let i=this.measureSizeEl(e);"no-styles"===i&&d9(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const r=this.resizeObserverService.observeResize(t,(()=>{const t=this.measureSizeEl(e);"detached"!==t&&"no-styles"!==t&&(this.lastKnownValues.set(e,t),t!==i&&(i=t,this.fireGridStylesChangedEvent(e.changeKey)))}));return this.addDestroyFunc((()=>r())),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver((()=>{const e=this.getAncestorThemeClasses();kse(e,this.themeClasses)||(this.themeClasses=e,this.fireGridStylesChangedEvent("themeChanged"))}));let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}getAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(this.eThemeAncestor=null;e;){const n=Array.from(e.classList).filter((e=>e.startsWith("ag-theme-")));for(const i of n)this.eThemeAncestor=e,t.includes(i)||t.unshift(i);e=e.parentElement}return Object.freeze(t)}},kse=(e,t)=>e.length===t.length&&-1===e.findIndex(((n,i)=>e[i]!==t[i])),Fse=15538,Lse=class extends k7{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new m7}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=this.gos.useAsyncEvents();this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,n){this.globalEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalEventService.removeEventListener(e,t,n)}addGlobalListener(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},Ose=class e extends k7{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(e){this.eGridDiv=e.eGridDiv,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.headerNavigationService=e.headerNavigationService,this.headerPositionUtils=e.headerPositionUtils,this.rowRenderer=e.rowRenderer,this.rowPositionUtils=e.rowPositionUtils,this.cellPositionUtils=e.cellPositionUtils,this.navigationService=e.navigationService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.rangeService=e.rangeService,this.advancedFilterService=e.advancedFilterService,this.overlayService=e.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",e.toggleKeyboardMode),t.addEventListener("mousedown",e.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",e.toggleKeyboardMode),t.addEventListener("mousedown",e.toggleKeyboardMode))}static toggleKeyboardMode(t){const n=e.keyboardModeActive,i="keydown"===t.type;i&&(t.ctrlKey||t.metaKey||t.altKey)||n!==i&&(e.keyboardModeActive=i)}static unregisterGridCompController(t){e.removeKeyboardModeEvents(t)}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady((e=>{this.gridCtrl=e.gridCtrl}))}registerKeyboardFocusEvents(){const t=this.gos.getDocument();e.addKeyboardModeEvents(t),e.instanceCount++,this.addDestroyFunc((()=>{e.instanceCount--,e.unregisterGridCompController(t)}))}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,t=this.columnModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return e.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),Gre.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),kie.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let n=e;for(;n;){if(this.gos.getDomData(n,t))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return!!this.isCellRestoreFocused(e)&&(setTimeout((()=>{this.restoredFocusedCellPosition=null}),0),!0)}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(e,t){this.awaitRestoreFocusedCell=!0,setTimeout((()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(e),t())}))}isCellRestoreFocused(e){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:i}=e,r={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return o&&(r.isFullWidthCell=o.isFullWidth()),r}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const e=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){const{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:o=!1}=e,s=this.columnModel.getCol(t);s?(this.focusedCellPosition={rowIndex:n,rowPinned:L7(i),column:s},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:r,preventScrollOnBrowserFocus:o})):this.focusedCellPosition=null}isCellFocused(e){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(null==this.focusedHeaderPosition)return!1;const t=e.getColumnGroupChild(),n=e.getRowIndex(),i=e.getPinned(),{column:r,headerRowIndex:o}=this.focusedHeaderPosition;return t===r&&n===o&&i==r.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(e){if(this.isHeaderFocusSuppressed())return!1;const{direction:t,fromTab:n,allowUserOverride:i,event:r,fromCell:o,rowWithoutSpanValue:s}=e;let{headerPosition:a}=e;if(o&&this.filterManager?.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(a);if(i){const e=this.getFocusedHeader(),i=this.headerNavigationService.getHeaderRowCount();if(n){const n=this.gos.getCallback("tabToNextHeader");n&&(a=this.getHeaderPositionFromUserFunc({userFunc:n,direction:t,currentPosition:e,headerPosition:a,headerRowCount:i}))}else{const t=this.gos.getCallback("navigateToNextHeader");if(t&&r){a=t({key:r.key,previousHeaderPosition:e,nextHeaderPosition:a,headerRowCount:i,event:r})}}}return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:r,fromCell:o,rowWithoutSpanValue:s})}focusHeaderPositionFromUserFunc(e){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:t,headerPosition:n,direction:i,event:r}=e,o=this.getFocusedHeader(),s=this.headerNavigationService.getHeaderRowCount(),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:o,headerPosition:n,headerRowCount:s});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:i,event:r})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:i,headerPosition:r,headerRowCount:o}=e,s=t({backwards:"Before"===n,previousHeaderPosition:i,nextHeaderPosition:r,headerRowCount:o});return!0===s||null===s?(null===s&&d9("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),i):!1===s?null:s}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:r,event:o}=e,{column:s,headerRowIndex:a}=t;if(-1===a)return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView(s);this.headerNavigationService.scrollToColumn(s,n);const l=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()),u=l?.focusHeader(t.headerRowIndex,s,o)||!1;return u&&(null!=r||i)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(r??-1),u}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleColsService.getAllCols()[0];if(!e)return!1;e.getParent()&&(e=this.visibleColsService.getColGroupAtLevel(e,0));const t=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const t=this.headerNavigationService.getHeaderRowCount()-1,n=v7(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===L7(t))}findFocusableElements(e,t){let n=Hee;t&&(n+=", "+t),arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(n+=', [tabindex="-1"]');const i=Array.prototype.slice.apply(e.querySelectorAll("[tabindex], input, select, button, textarea, [href]")).filter((e=>ote(e))),r=Array.prototype.slice.apply(e.querySelectorAll(n));if(!r.length)return i;return o=r,i.filter((e=>-1===o.indexOf(e)));var o}focusInto(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.findFocusableElements(e,null,n),r=t?v7(i):i[0];return!!r&&(r.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;const n=this.findFocusableElements(e),i=n.indexOf(t);if(-1===i)return null;let r=-1;for(let o=i-1;o>=0;o--)if(n[o].classList.contains("ag-tab-guard-top")){r=o;break}return r<=0?null:n[r-1]}findNextFocusableElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.eGridDiv,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const i=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),r=this.gos.getActiveDomElement();let o;o=t?i.findIndex((e=>e.contains(r))):i.indexOf(r);const s=o+(n?-1:1);return s<0||s>=i.length?null:i[s]}isTargetUnderManagedComponent(e,t){if(!t)return!1;const n=e.querySelectorAll(`.${Wne.FOCUS_MANAGED_CLASS}`);if(!n.length)return!1;for(let i=0;i<n.length;i++)if(n[i].contains(t))return!0;return!1}findTabbableParent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=0;for(;e&&null===Gee(e)&&++n<=t;)e=e.parentElement;return null===Gee(e)?null:e}focusOverlay(e){const t=this.overlayService.isVisible()&&this.overlayService.getOverlayWrapper()?.getGui();return!!t&&this.focusInto(t,e)}focusGridViewFailed(e,t){return t&&this.focusOverlay(e)||e&&this.focusLastHeader()}focusGridView(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.overlayService.isExclusive())return n&&this.focusOverlay(t);if(this.isCellFocusSuppressed())return t&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():!(!n||!this.focusOverlay(t))||this.focusNextGridCoreContainer(!1);const i=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(i){const{rowIndex:t,rowPinned:n}=i;if(e??(e=this.getFocusedHeader()?.column),e&&void 0!==t&&null!==t)return this.navigationService.ensureCellVisible({rowIndex:t,column:e,rowPinned:n}),this.setFocusedCell({rowIndex:t,column:e,rowPinned:L7(n),forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:t,rowPinned:n,column:e}),!0}return!(!n||!this.focusOverlay(t))||!(!t||!this.focusLastHeader())}isGridFocused(){const e=this.gos.getActiveDomElement();return!!e&&this.eGridDiv.contains(e)}focusNextGridCoreContainer(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(t||!this.gridCtrl.focusNextInnerContainer(e))||((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){return this.advancedFilterFocusColumn=e?.column,this.advancedFilterService?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const n=(t?void 0:this.advancedFilterFocusColumn)??this.visibleColsService.getAllCols()?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(n)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(e){this.gridCtrl.addFocusableContainer(e)}removeFocusableContainer(e){this.gridCtrl.removeFocusableContainer(e)}focusGridInnerElement(e){return this.gridCtrl.focusInnerElement(e)}allowFocusForNextGridCoreContainer(e){this.gridCtrl.allowFocusForNextCoreContainer(e)}};Ose.keyboardModeActive=!1,Ose.instanceCount=0;var Nse=Ose,Bse=class extends k7{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gos.isDomLayout("print"),t=e?0:this.visibleColsService.getColsLeftWidth(),n=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},Gse=class extends k7{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.gridId);const{dragAndDropService:i,mouseEventService:r,ctrlsService:o,resizeObserverService:s}=this.beans;i.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:e=>1===e||0===e,getIconName:()=>"notAllowed"}),r.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new mre(this.view)),this.addRtlSupport();const a=s.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((()=>a())),o.register("gridCtrl",this)}isDetailGrid(){const e=this.focusService.findTabbableParent(this.getGui());return e?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.paginationService?.getPaginationSelector(),gridHeaderDropZonesSelector:e.columnDropZonesService?.getDropZoneSelector(),sideBarSelector:e.sideBarService?.getSideBarSelector(),statusBarSelector:e.statusBarService?.getStatusPanelSelector(),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}addRtlSupport(){const e=this.gos.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(0===i){if(n>0){const e=v7(this.visibleColsService.getAllCols());if(this.focusService.focusGridView(e,!0))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),i=this.visibleColsService.getAllCols();if(e){if(n.length>1)return this.focusContainer(v7(n),!0);const e=v7(i);if(this.focusService.focusGridView(e,!0))return!0}if(0===this.gos.get("headerHeight")||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(i[0]))return!0;for(let e=1;e<n.length;e++)if(this.focusService.focusInto(n[e].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:i}=this.getNextFocusableIndex(t,e);if(-1===i||n<0||n>=t.length)return;const r=t[n];r.setAllowFocus?.(!0),setTimeout((()=>{r.setAllowFocus?.(!1)}))}getNextFocusableIndex(e,t){const n=this.gos.getActiveDomElement(),i=e.findIndex((e=>e.getGui().contains(n)));return{indexWithFocus:i,nextIndex:i+(t?-1:1)}}focusContainer(e,t){e.setAllowFocus?.(!0);const n=this.focusService.focusInto(e.getGui(),t);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Vse={version:Lie,moduleName:"@ag-grid-community/aligned-grid",beans:[class extends k7{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t="function"===typeof e;"function"===typeof e&&(e=e());const n=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`,i=e.map((e=>{if(!e)return h9("alignedGrids contains an undefined option."),t||h9('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void h9(n());if(this.isGridApi(e))return e;const i=e;return"current"in i?i.current?.api:(i.api||h9(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${n()}`),i.api)})).filter((e=>!!e&&!e.isDestroyed()));return i}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:e=>{let{event:t}=e;return this.onColumnEvent(t)},alignedGridScroll:e=>{let{event:t}=e;return this.onScrollEvent(t)}})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach((t=>{t.isDestroyed()||t.dispatchEvent(e)}))}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){"horizontal"===e.direction&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent((()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)}))}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach((e=>{n.push(t(e))})):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,(e=>e))}getColumnIds(e){return this.extractDataFromEvent(e,(e=>e.getColId()))}onColumnEvent(e){this.onEvent((()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":this.processColumnEvent(e);break;case"columnGroupOpened":this.processGroupOpenedEvent(e);break;case"columnPivotChanged":d9("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach((e=>{let n=null;e&&(n=t.getProvidedColGroup(e.getGroupId())),e&&!n||t.setColumnGroupOpened(n,e.isExpanded(),"alignedGridChanged")}))}processColumnEvent(e){const t=e.column;let n=null;if(t&&(n=this.columnModel.getColDefCol(t.getColId())),t&&!n)return;const i=this.getMasterColumns(e),{columnApplyStateService:r,columnSizeService:o,ctrlsService:s}=this;switch(e.type){case"columnMoved":{const t=e.api.getColumnState().map((e=>({colId:e.colId})));r.applyColumnState({state:t,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const t=e.api.getColumnState().map((e=>({colId:e.colId,hide:e.hide})));r.applyColumnState({state:t},"alignedGridChanged")}break;case"columnPinned":{const t=e.api.getColumnState().map((e=>({colId:e.colId,pinned:e.pinned})));r.applyColumnState({state:t},"alignedGridChanged")}break;case"columnResized":{const t=e,n={};i.forEach((e=>{n[e.getId()]={key:e.getColId(),newWidth:e.getActualWidth()}})),t.flexColumns?.forEach((e=>{n[e.getId()]&&delete n[e.getId()]})),o.setColumnWidths(Object.values(n),!1,t.finished,"alignedGridChanged");break}}const a=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach((e=>{e.setGridOption("alwaysShowVerticalScroll",a)}))}}]};var zse={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Hse=["january","february","march","april","may","june","july","august","september","october","november","december"],Wse={version:Lie,moduleName:"@ag-grid-community/data-type",beans:[class extends k7{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",(()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")})),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",(e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(A9(e.source))}))}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=e=>t=>{const{column:n,node:i,value:r}=t;let o=n.getColDef().valueFormatter;return o===e.groupSafeValueFormatter&&(o=e.valueFormatter),this.valueService.formatValue(n,i,r,o)};Object.entries(e).forEach((e=>{let[n,i]=e;const r={...i,groupSafeValueFormatter:this.createGroupSafeValueFormatter(i)};this.dataTypeDefinitions[n]=r,this.formatValueFuncs[n]=t(r)}));const n=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(n).forEach((i=>{let[r,o]=i;const s=this.processDataTypeDefinition(o,n,[r],e);s&&(this.dataTypeDefinitions[r]=s,o.dataTypeMatcher&&(this.dataTypeMatchers[r]=o.dataTypeMatcher),this.formatValueFuncs[r]=t(s))})),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach((t=>{const n=this.dataTypeMatchers[t];n&&delete this.dataTypeMatchers[t],this.dataTypeMatchers[t]=n??e[t].dataTypeMatcher}))}mergeDataTypeDefinitions(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...R9(e.columnTypes),...R9(t.columnTypes)]),n}processDataTypeDefinition(e,t,n,i){let r;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let n=i[o];const s=t[o];if(n&&s&&(n=s),!this.validateDataTypeDefinition(e,n,o))return;r=this.mergeDataTypeDefinitions(n,e)}else{if(n.includes(o))return void d9('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');const s=t[o];if(!this.validateDataTypeDefinition(e,s,o))return;const a=this.processDataTypeDefinition(s,t,[...n,o],i);if(!a)return;r=this.mergeDataTypeDefinitions(a,e)}return{...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)}}validateDataTypeDefinition(e,t,n){return t?t.baseDataType===e.baseDataType||(d9('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(d9(`The data type definition ${n} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{if(t.node?.group){const n=t.column.getAggFunc();if(n){if("first"===n||"last"===n)return e.valueFormatter(t);if("number"===e.baseDataType&&"count"!==n){if("number"===typeof t.value)return e.valueFormatter(t);if("object"===typeof t.value){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}}if(!this.gos.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()){if("string"!==typeof t.value||e.dataTypeMatcher?.(t.value))return e.valueFormatter(t);if(!this.gos.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t;const{field:r}=t;if(void 0===i&&(i=e.cellDataType),null!=i&&!0!==i||(i=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(r,n)),!i)return void(e.cellDataType=!1);const o=this.dataTypeDefinitions[i];if(o)return e.cellDataType=i,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,o,n),o.columnTypes;d9(`Missing data type definition - "${i}"`)}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=e=>{t.add(e.key)};e.addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push((()=>e.removeEventListener("columnStateUpdated",n)))}canInferCellDataType(e,t){if("clientSide"!==this.rowModel.getType())return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,n))return!1;const i=null===t.type?e.type:t.type;if(i){const e=this.gos.get("columnTypes")??{};if(R9(i).some((t=>{const i=e[t.trim()];return i&&this.doColDefPropsPreventInference(i,n)})))return!1}return!this.doColDefPropsPreventInference(e,n)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some((n=>{let[i,r]=n;return this.doesColDefPropPreventInference(e,t,i,r)}))}doesColDefPropPreventInference(e,t,n,i){if(!t[n])return!1;const r=e[n];return null===r?(t[n]=!1,!1):void 0===i?!!r:r===i}inferCellDataType(e,t){if(!e)return;let n;const i=this.getInitialData();if(i){const t=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=Q7(i,e,t)}else this.initWaitForRowData(t);if(null==n)return;const[r]=Object.entries(this.dataTypeMatchers).find((e=>{let[t,i]=e;return i(n)}))??["object"];return r}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const e=this.rowModel.getRootNode().allLeafChildren;if(e?.length)return e[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[n]=this.addManagedEventListeners({rowDataUpdateStarted:e=>{const{firstRowData:i}=e;i&&(n?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(i,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const i={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach((e=>{let[o,s]=e;const a=this.columnModel.getCol(o);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(t&&u.type&&u.type!==l.type){const e=this.getUpdatedColumnState(a,s);e.rowGroup&&null==e.rowGroupIndex&&(i[o]=e),e.pivot&&null==e.pivotIndex&&(r[o]=e),n.push(e)}})),t&&n.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(i,r)),n.length&&this.columnApplyStateService.applyColumnState({state:n},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const n=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach((e=>{delete n[e],"rowGroup"===e?delete n.rowGroupIndex:"pivot"===e&&delete n.pivotIndex})),n}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=t.valueParser!==n.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==n.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(null==t)return!0;const n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return!n||n(t)}validateColDef(e){const t=e=>d9(`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`);"object"===e.cellDataType&&(e.valueFormatter!==this.dataTypeDefinitions.object.groupSafeValueFormatter||this.hasObjectValueFormatter||t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,n,i){const r=this.formatValueFuncs[t],o=Fte.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId),s=this.localeService.getLocaleTextFunc(),a=t=>{const{filterParams:n}=e;e.filterParams="object"===typeof n?{...n,...t}:t};switch(n.baseDataType){case"number":e.cellEditor="agNumberCellEditor",o&&a({comparator:(e,t)=>{const n=null==e?0:parseInt(e),i=null==t?0:parseInt(t);return n===i?0:n>i?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=e=>!!e.colDef.editable&&e.event.key===Nte.SPACE,a(o?{valueFormatter:e=>O7(e.value)?s(String(e.value),e.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>!1===t,numberOfInputs:0}]});break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=r,o&&a({valueFormatter:e=>{const t=r(e);return O7(t)?t:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(e,t)=>{if(1===t&&null!=e){const t=Hse[Number(e)-1];return s(t,zse[t])}return e??s("blanks","(Blanks)")}});break;case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=r;const t=n.dateParser;a(o?{valueFormatter:e=>{const t=r(e);return O7(t)?t:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:e=>{const n=t(e??void 0);return n?[String(n.getFullYear()),String(n.getMonth()+1),String(n.getDate())]:null},treeListFormatter:(e,t)=>{if(1===t&&null!=e){const t=Hse[Number(e)-1];return s(t,zse[t])}return e??s("blanks","(Blanks)")}}:{comparator:(e,n)=>{const i=t(n);return null==n||i<e?-1:i>e?1:0}});break}case"object":e.cellEditorParams={useFormatter:!0},e.comparator=(e,t)=>{const n=this.columnModel.getColDefCol(i),o=n?.getColDef();if(!n||!o)return 0;const s=null==e?"":r({column:n,node:null,value:e}),a=null==t?"":r({column:n,node:null,value:t});return s===a?0:s>a?1:-1},e.keyCreator=r,o?a({valueFormatter:e=>{const t=r(e);return O7(t)?t:s("blanks","(Blanks)")}}):e.filterValueGetter=e=>r({column:e.column,node:e.node,value:this.valueService.getValue(e.column,e.node)})}}getDefaultDataTypes(){const e=e=>!!e.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:e=>""===e.newValue?.trim?.()?null:Number(e.newValue),valueFormatter:e=>null==e.value?"":"number"!==typeof e.value||isNaN(e.value)?t("invalidNumber","Invalid Number"):String(e.value),dataTypeMatcher:e=>"number"===typeof e},text:{baseDataType:"text",valueParser:e=>""===e.newValue?null:G7(e.newValue),dataTypeMatcher:e=>"string"===typeof e},boolean:{baseDataType:"boolean",valueParser:e=>null==e.newValue?e.newValue:""===e.newValue?.trim?.()?null:"true"===String(e.newValue).toLowerCase(),valueFormatter:e=>null==e.value?"":String(e.value),dataTypeMatcher:e=>"boolean"===typeof e},date:{baseDataType:"date",valueParser:e=>Sie(null==e.newValue?null:String(e.newValue)),valueFormatter:e=>null==e.value?"":e.value instanceof Date&&!isNaN(e.value.getTime())?wie(e.value,!1)??"":t("invalidDate","Invalid Date"),dataTypeMatcher:e=>e instanceof Date},dateString:{baseDataType:"dateString",dateParser:e=>Sie(e)??void 0,dateFormatter:e=>wie(e??null,!1)??void 0,valueParser:t=>e(String(t.newValue))?t.newValue:null,valueFormatter:t=>e(String(t.value))?t.value:"",dataTypeMatcher:t=>"string"===typeof t&&e(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:e=>G7(e.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach((e=>e())),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}}]},Use={version:Lie,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:function(e,t){const n=e.columnModel.getColDefCol(t);return n?n.getColDef():null},getColumnDefs:function(e){return e.columnModel.getColumnDefs()},sizeColumnsToFit:function(e,t){"number"===typeof t?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)},setColumnGroupOpened:function(e,t,n){e.columnModel.setColumnGroupOpened(t,n,"api")},getColumnGroup:function(e,t,n){return e.visibleColsService.getColumnGroup(t,n)},getProvidedColumnGroup:function(e,t){return e.columnModel.getProvidedColGroup(t)},getDisplayNameForColumn:function(e,t,n){return e.columnNameService.getDisplayNameForColumn(t,n)||""},getDisplayNameForColumnGroup:function(e,t,n){return e.columnNameService.getDisplayNameForColumnGroup(t,n)||""},getColumn:function(e,t){return e.columnModel.getColDefCol(t)},getColumns:function(e){return e.columnModel.getColDefCols()},applyColumnState:function(e,t){return e.columnApplyStateService.applyColumnState(t,"api")},getColumnState:function(e){return e.columnGetStateService.getColumnState()},resetColumnState:function(e){e.columnApplyStateService.resetColumnState("api")},getColumnGroupState:function(e){return e.columnGroupStateService.getColumnGroupState()},setColumnGroupState:function(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")},resetColumnGroupState:function(e){e.columnGroupStateService.resetColumnGroupState("api")},isPinning:function(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()},isPinningLeft:function(e){return e.visibleColsService.isPinningLeft()},isPinningRight:function(e){return e.visibleColsService.isPinningRight()},getDisplayedColAfter:function(e,t){return e.visibleColsService.getColAfter(t)},getDisplayedColBefore:function(e,t){return e.visibleColsService.getColBefore(t)},setColumnVisible:function(e,t,n){e.columnModel.setColsVisible([t],n,"api")},setColumnsVisible:function(e,t,n){e.columnModel.setColsVisible(t,n,"api")},setColumnPinned:function(e,t,n){e.columnModel.setColsPinned([t],n,"api")},setColumnsPinned:function(e,t,n){e.columnModel.setColsPinned(t,n,"api")},getAllGridColumns:function(e){return e.columnModel.getCols()},getDisplayedLeftColumns:function(e){return e.visibleColsService.getLeftCols()},getDisplayedCenterColumns:function(e){return e.visibleColsService.getCenterCols()},getDisplayedRightColumns:function(e){return e.visibleColsService.getRightCols()},getAllDisplayedColumns:function(e){return e.visibleColsService.getAllCols()},getAllDisplayedVirtualColumns:function(e){return e.columnViewportService.getViewportColumns()},moveColumn:function(e,t,n){e.columnMoveService.moveColumns([t],n,"api")},moveColumnByIndex:function(e,t,n){e.columnMoveService.moveColumnByIndex(t,n,"api")},moveColumns:function(e,t,n){e.columnMoveService.moveColumns(t,n,"api")},setColumnWidth:function(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"api";e.columnSizeService.setColumnWidths([{key:t,newWidth:n}],!1,i,r)},setColumnWidths:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"api";e.columnSizeService.setColumnWidths(t,!1,n,i)},getLeftDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeLeft()},getCenterDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeCenter()},getRightDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeRight()},getAllDisplayedColumnGroups:function(e){return e.visibleColsService.getAllTrees()},autoSizeColumn:function(e,t,n){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:n,source:"api"})},autoSizeColumns:function(e,t,n){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:n,source:"api"})},autoSizeAllColumns:function(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}}};var jse={version:Lie,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:function(e,t,n){if(!t)return;const i=e.ctrlsService.getGridBodyCtrl().getGui(),r=`aria-${t}`;null===n?i.removeAttribute(r):i.setAttribute(r,n)},refreshCells:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.frameworkOverrides.wrapIncoming((()=>e.rowRenderer.refreshCells(t)))},flashCells:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e=>d9(`Since v31.1 api.flashCells parameter '${e}Delay' is deprecated. Please use '${e}Duration' instead.`);O7(t.fadeDelay)&&n("fade"),O7(t.flashDelay)&&n("flash"),e.frameworkOverrides.wrapIncoming((()=>e.rowRenderer.flashCells(t)))},refreshHeader:function(e){e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach((e=>e.refresh()))))},isAnimationFrameQueueEmpty:function(e){return e.animationFrameService.isQueueEmpty()},flushAllAnimationFrames:function(e){e.animationFrameService.flushAllFrames()},getSizesForCurrentTheme:function(e){return{rowHeight:e.gos.getRowHeightAsNumber(),headerHeight:e.columnModel.getHeaderHeight()}},getCellRendererInstances:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.rowRenderer.getCellRendererInstances(t).map(Sne)}}};function $se(e,t){const{colKey:n,rowNode:i,useFormatter:r}=t,o=e.columnModel.getColDefCol(n)??e.columnModel.getCol(n);if(N7(o))return null;const s=e.valueService.getValue(o,i);if(r){return e.valueService.formatValue(o,i,s)??V9(s,!0)}return s}function Kse(e,t){e.gos.updateGridOptions({options:t})}function qse(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function Yse(e){return e.rowRenderer.getLastVirtualRenderedRow()}var Xse={version:Lie,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:function(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()},getHorizontalPixelRange:function(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()},ensureColumnVisible:Eoe,ensureIndexVisible:Ioe,ensureNodeVisible:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,n)),"ensureVisible")}}},Zse={version:Lie,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:function(e,t,n){e.apiEventService.addEventListener(t,n)},addGlobalListener:function(e,t){e.apiEventService.addGlobalListener(t)},removeEventListener:function(e,t,n){e.apiEventService.removeEventListener(t,n)},removeGlobalListener:function(e,t){e.apiEventService.removeGlobalListener(t)}}},Qse={version:Lie,moduleName:"@ag-grid-community/api",dependantModules:[{version:Lie,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:function(e){return e.context.getGridId()},destroy:function(e){e.gridDestroyService.destroy()},isDestroyed:function(e){return e.gridDestroyService.isDestroyCalled()},getGridOption:function(e,t){return e.gos.get(t)},setGridOption:function(e,t,n){Kse(e,{[t]:n})},updateGridOptions:Kse}},{version:Lie,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:function(e){return e.pinnedRowModel.getPinnedTopRowCount()},getPinnedBottomRowCount:function(e){return e.pinnedRowModel.getPinnedBottomRowCount()},getPinnedTopRow:function(e,t){return e.pinnedRowModel.getPinnedTopRow(t)},getPinnedBottomRow:function(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}}},{version:Lie,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:function(e,t){if(!t.nodes.every((e=>e.rowPinned?(d9("cannot select pinned rows"),!1):void 0!==e.id||(d9("cannot select node until id for node is known"),!1))))return;const{nodes:n,source:i,newValue:r}=t,o=n;e.selectionService.setNodesSelected({nodes:o,source:i??"api",newValue:r})},selectAll:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAll";e.selectionService.selectAllRowNodes({source:t})},deselectAll:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAll";e.selectionService.deselectAllRowNodes({source:t})},selectAllFiltered:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllFiltered";e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},deselectAllFiltered:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllFiltered";e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},selectAllOnCurrentPage:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllCurrentPage";e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},deselectAllOnCurrentPage:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllCurrentPage";e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},getSelectedNodes:function(e){return e.selectionService.getSelectedNodes()},getSelectedRows:function(e){return e.selectionService.getSelectedRows()}}},Use,{version:Lie,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming((()=>e.rowRenderer.redrawRows(n)))},setRowNodeExpanded:function(e,t,n,i,r){e.expansionService.setRowNodeExpanded(t,n,i,r)},getRowNode:function(e,t){return e.rowModel.getRowNode(t)},addRenderedRowListener:function(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)},getRenderedNodes:function(e){return e.rowRenderer.getRenderedNodes()},forEachNode:function(e,t,n){e.rowModel.forEachNode(t,n)},getFirstDisplayedRow:function(e){return qse(e)},getFirstDisplayedRowIndex:qse,getLastDisplayedRow:function(e){return Yse(e)},getLastDisplayedRowIndex:Yse,getDisplayedRowAtIndex:function(e,t){return e.rowModel.getRow(t)},getDisplayedRowCount:function(e){return e.rowModel.getRowCount()},getModel:function(e){return e.rowModel}}},{version:Lie,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:function(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)},removeRowDropZone:function(e,t){const n=e.dragAndDropService.findExternalZone(t);n&&e.dragAndDropService.removeDropTarget(n)},getRowDropZoneParams:function(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}}},Xse,{version:Lie,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:function(e){e.overlayService.showLoadingOverlay()},showNoRowsOverlay:function(e){e.overlayService.showNoRowsOverlay()},hideOverlay:function(e){e.overlayService.hideOverlay()}}},{version:Lie,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:function(e){return e.focusService.getFocusedCell()},clearFocusedCell:function(e){return e.focusService.clearFocusedCell()},setFocusedCell:function(e,t,n,i){e.focusService.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})},setFocusedHeader:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=e.headerNavigationService.getHeaderPositionForColumn(t,n);i&&e.focusService.focusHeaderPosition({headerPosition:i})},tabToNextCell:function(e,t){return e.navigationService.tabToNextCell(!1,t)},tabToPreviousCell:function(e,t){return e.navigationService.tabToNextCell(!0,t)}}},Zse,jse,{version:Lie,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:function(e){e.valueCache.expire()},getValue:function(e,t,n){return $se(e,{colKey:t,rowNode:n})},getCellValue:$se}},{version:Lie,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:function(e,t,n){const i=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:i,buttonElement:n,positionBy:"button"})},showColumnMenuAfterMouseClick:function(e,t,n){let i=e.columnModel.getCol(t);i||(i=e.columnModel.getColDefCol(t)),i?e.menuService.showColumnMenu({column:i,mouseEvent:n,positionBy:"mouse"}):h9(`column '${t}' not found`)},showColumnMenu:function(e,t){const n=e.columnModel.getCol(t);n?e.menuService.showColumnMenu({column:n,positionBy:"auto"}):h9(`column '${t}' not found`)},hidePopupMenu:function(e){e.menuService.hidePopupMenu()}}},{version:Lie,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:function(e){e.sortController.onSortChanged("api")}}}]};var Jse={version:Lie,moduleName:"@ag-grid-community/state-core",beans:[class extends k7{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=y9((()=>this.dispatchQueuedStateUpdateEvents()),0),this.onRowGroupOpenedDebounced=y9((()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),0),this.onRowSelectedDebounced=y9((()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())}),0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.rowModel=e.rowModel,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=this.gos.get("initialState")??{},this.ctrlsService.whenReady((()=>this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnGridReady()))));const[e,t,n]=this.addManagedEventListeners({newColumnsLoaded:t=>{let{source:n}=t;"gridInitializing"===n&&(e(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnColumnsInitialised())))},rowCountReady:()=>{t?.(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnRowCountReady()))},firstDataRendered:()=>{n?.(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnFirstDataRendered()))}})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.gos.get("initialState")??{};this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=e=>()=>this.updateColumnState([e]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:n,pagination:i}=this.gos.get("initialState")??{},r=this.gos.get("advancedFilterModel");(e||r)&&this.setFilterState(e,r),t&&this.setRowGroupExpansionState(t),n&&this.setRowSelectionState(n),i&&this.setPaginationState(i),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const o=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:o,columnRowGroupChanged:o,rowDataUpdated:()=>{0!==this.gos.get("groupDefaultExpanded")&&setTimeout((()=>{o()}))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:e=>{(e.newPage||e.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,rangeSelection:t,focusedCell:n,columnOrder:i}=this.gos.get("initialState")??{};n&&this.setFocusedCellState(n),t&&this.setRangeSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!i?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),rangeSelectionChanged:e=>{e.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],n=[],i=[],r=[],o=[],s=[],a=[],l=[],u=[];let c=0;const d=this.columnGetStateService.getColumnState();for(let h=0;h<d.length;h++){const{colId:e,sort:p,sortIndex:g,rowGroup:f,rowGroupIndex:m,aggFunc:v,pivot:y,pivotIndex:w,pinned:C,hide:b,width:S,flex:x}=d[h];u.push(e),p&&(t[g??c++]={colId:e,sort:p}),f&&(n[m??0]=e),"string"===typeof v&&i.push({colId:e,aggFunc:v}),y&&(r[w??0]=e),C&&("right"===C?s:o).push(e),b&&a.push(e),(x||S)&&l.push({colId:e,flex:x??void 0,width:S})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:r.length||e?{pivotMode:e,pivotColIds:r}:void 0,columnPinning:o.length||s.length?{leftColIds:o,rightColIds:s}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}setColumnState(e){const{sort:t,rowGroup:n,aggregation:i,pivot:r,columnPinning:o,columnVisibility:s,columnSizing:a,columnOrder:l}=e,u={},c=e=>{let t=u[e];return t||(t={colId:e},u[e]=t,t)};t&&t.sortModel.forEach(((e,t)=>{let{colId:n,sort:i}=e;const r=c(n);r.sort=i,r.sortIndex=t})),n&&n.groupColIds.forEach(((e,t)=>{const n=c(e);n.rowGroup=!0,n.rowGroupIndex=t})),i&&i.aggregationModel.forEach((e=>{let{colId:t,aggFunc:n}=e;c(t).aggFunc=n})),r&&(r.pivotColIds.forEach(((e,t)=>{const n=c(e);n.pivot=!0,n.pivotIndex=t})),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"})),o&&(o.leftColIds.forEach((e=>{c(e).pinned="left"})),o.rightColIds.forEach((e=>{c(e).pinned="right"}))),s&&s.hiddenColIds.forEach((e=>{c(e).hide=!0})),a&&a.columnSizingModel.forEach((e=>{let{colId:t,flex:n,width:i}=e;const r=c(t);r.flex=n??null,r.width=i}));const d=l?.orderedColIds,h=!!d?.length,p=h?d.map((e=>c(e))):Object.values(u);if(p.length){this.columnStates=p;const e={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnApplyStateService.applyColumnState({state:p,applyOrder:h,defaultState:e},"gridInitializing")}}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const n=this.columnGroupStates;if(this.columnGroupStates=void 0,this.pivotResultColsService.isPivotResultColsPresent()){if(t){const n=[];for(const e of t)this.pivotResultColsService.getPivotResultCol(e.colId)&&n.push(e);this.columnApplyStateService.applyColumnState({state:n,applyOrder:e},"gridInitializing")}n&&this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach((e=>{let{groupId:n,open:i}=e;i&&t.push(n)})),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set(e.columnGroup?.openColumnGroupIds),n=this.columnGroupStateService.getColumnGroupState().map((e=>{let{groupId:n}=e;const i=t.has(n);return i&&t.delete(n),{groupId:n,open:i}}));t.forEach((e=>{n.push({groupId:e,open:!0})})),n.length&&(this.columnGroupStates=n),this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}getFilterState(){let e=this.filterManager?.getFilterModel();e&&0===Object.keys(e).length&&(e=void 0);const t=this.filterManager?.getAdvancedFilterModel()??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){const{filterModel:n,advancedFilterModel:i}=e??{advancedFilterModel:t};n&&this.filterManager?.setFilterModel(n,"columnFilter"),i&&this.filterManager?.setAdvancedFilterModel(i)}getRangeSelectionState(){const e=this.rangeService?.getCellRanges().map((e=>{const{id:t,type:n,startRow:i,endRow:r,columns:o,startColumn:s}=e;return{id:t,type:n,startRow:i,endRow:r,colIds:o.map((e=>e.getColId())),startColId:s.getColId()}}));return e?.length?{cellRanges:e}:void 0}setRangeSelectionState(e){if(!this.gos.get("enableRangeSelection")||!this.rangeService)return;const t=[];e.cellRanges.forEach((e=>{const n=[];if(e.colIds.forEach((e=>{const t=this.columnModel.getCol(e);t&&n.push(t)})),!n.length)return;let i=this.columnModel.getCol(e.startColId);if(!i){const e=this.visibleColsService.getAllCols(),t=new Set(n);i=e.find((e=>t.has(e)))}t.push({...e,columns:n,startColumn:i})})),this.rangeService.setCellRanges(t)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(t,n)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:n,rowPinned:i}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:n,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();return e||t?{page:e,pageSize:t}:void 0}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),"number"===typeof e.page&&this.paginationService.setPage(e.page))}getRowSelectionState(){const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(!1===e.selectAll||!1===e.selectAllChildren)&&!e?.toggledNodes?.length?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let n=!1;Object.entries(t).forEach((e=>{let[t,i]=e;W7(i,this.cachedState[t])||(n=!0)})),this.cachedState={...this.cachedState,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),W7(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach((e=>{if("rowSelection"===e)this.setCachedStateValue(e,this.getRowSelectionState())})),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach((e=>this.queuedUpdateSources.add(e))),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout((()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))}))}}]},eae={version:Lie,moduleName:"@ag-grid-community/state",dependantModules:[Jse,{version:Lie,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:function(e){return e.stateService?.getState()??{}}},dependantModules:[Jse]}]};var tae={selector:"AG-PAGE-SIZE-SELECTOR",component:class extends Cte{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener("paginationPageSizeSelector",(()=>{this.onPageSizeSelectorValuesChange()})),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){nte(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&!1!==this.gos.get("paginationPageSizeSelector")}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),n=!t||!e.includes(t);n&&(e.unshift(""),d9("The paginationPageSize grid option is set to a value that is not in the list of page size options.\n                Please make sure that the paginationPageSize grid option is set to one of the values in the \n                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.")),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp));const i=this.localeService.getLocaleTextFunc(),r=i("pageSizeSelectorLabel","Page Size:"),o=e.map((e=>({value:String(e),text:String(e)}))),s=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Zne).addOptions(o).setValue(String(n?"":t)).setAriaLabel(s).setLabel(r).onValueChange((()=>this.handlePageSizeItemSelected())),this.hasEmptyOption=n}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get("paginationPageSizeSelector");return Array.isArray(t)&&this.validateValues(t)?[...t].sort(((e,t)=>e-t)):e}validateValues(e){if(!e.length)return d9("The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.\n                If you want to hide the page size selector, please set the paginationPageSizeSelector to false."),!1;for(let t=0;t<e.length;t++){const n=e[t],i=n>0;if(!("number"===typeof n))return d9("The paginationPageSizeSelector grid option contains a non-numeric value.\n                    Please make sure that all values in the paginationPageSizeSelector array are numbers."),!1;if(!i)return d9("The paginationPageSizeSelector grid option contains a negative number or zero.\n                    Please make sure that all values in the paginationPageSizeSelector array are positive."),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}}},nae={selector:"AG-PAGINATION",component:class extends tse{constructor(){super(),this.btFirst=wte,this.btPrevious=wte,this.btNext=wte,this.btLast=wte,this.lbRecordCount=wte,this.lbFirstRowOnPage=wte,this.lbLastRowOnPage=wte,this.lbCurrent=wte,this.lbTotal=wte,this.pageSizeComp=wte,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[tae]);const{btFirst:t,btPrevious:n,btNext:i,btLast:r}=this;this.activateTabIndex([t,n,i,r]),t.insertAdjacentElement("afterbegin",xte(e?"last":"first",this.gos)),n.insertAdjacentElement("afterbegin",xte(e?"next":"previous",this.gos)),i.insertAdjacentElement("afterbegin",xte(e?"previous":"next",this.gos)),r.insertAdjacentElement("afterbegin",xte(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],(()=>this.onPageSizeRelatedOptionsChange())),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:e=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(e):this.focusService.focusGridInnerElement(e)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const e=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){var e,t,n;this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:e=>{e.key!==Nte.ENTER&&e.key!==Nte.SPACE||(e.preventDefault(),n())}})})),e=this,t=this.getGui(),n=this.focusService,e.addManagedElementListeners(t,{keydown:e=>{if(!e.defaultPrevented&&e.key===Nte.TAB){const i=e.shiftKey;n.findNextFocusableElement(t,!1,i)||n.focusNextGridCoreContainer(i)&&e.preventDefault()}}}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t){return t({value:e})}const n=this.localeService.getLocaleTextFunc();return yie(e,n("thousandSeparator",","),n("decimalSeparator","."))}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),n=e("to","to"),i=e("of","of"),r=e("firstPage","First Page"),o=e("previousPage","Previous Page"),s=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">\n                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel">\n                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-to">${n}</span>\n                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-of">${i}</span>\n                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>\n                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>\n                    <span class="ag-paging-description">\n                        <span id="ag-${l}-start-page">${t}</span>\n                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${l}-of-page">${i}</span>\n                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>\n                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),r=e===n-1;this.nextButtonDisabled=r||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){!function(e,t){gee(e,"disabled",t)}(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&0===t}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),n=this.paginationService.getMasterRowCount(),i=e?n:null;if(1===i){const e=this.rowModel.getRow(0);if(e&&e.group&&!(e.groupData||e.aggData))return void this.setTotalLabelsToZero()}const r=this.paginationService.getCurrentPage(),o=this.paginationService.getPageSize();let s,a;this.isZeroPagesToDisplay()?s=a=0:(s=o*r+1,a=s+o-1,e&&a>i&&(a=i));const l=!e&&n<s+o-1,u=this.formatNumber(s);let c;this.lbFirstRowOnPage.textContent=u;const d=this.localeService.getLocaleTextFunc();c=l?d("pageLastRowUnknown","?"):this.formatNumber(a),this.lbLastRowOnPage.textContent=c;const h=t>0?r+1:0,p=this.formatNumber(h);let g,f;if(this.lbCurrent.textContent=p,e)g=this.formatNumber(t),f=this.formatNumber(i);else{const e=d("more","more");g=e,f=e}this.lbTotal.textContent=g,this.lbRecordCount.textContent=f,this.announceAriaStatus(u,c,f,p,g)}announceAriaStatus(e,t,n,i,r){const o=this.localeService.getLocaleTextFunc(),s=o("page","Page"),a=o("to","to"),l=o("of","of"),u=`${e} ${a} ${t} ${l} ${n}`,c=`${s} ${i} ${l} ${r}`;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,this.ariaAnnouncementService.announceValue(u,"paginationRow")),c!==this.ariaPageStatus&&(this.ariaPageStatus=c,this.ariaAnnouncementService.announceValue(c,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}}},iae={version:Lie,moduleName:"@ag-grid-community/pagination-core",beans:[class extends k7{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return nae}isPaginateChildRows(){return!(!this.gos.get("groupRemoveSingleChildren")&&!this.gos.get("groupRemoveLowestSingleChildren"))||this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){this.active&&this.currentPage!==e&&"number"===typeof this.currentPage&&(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){if(!this.active)return!0;return this.getPageForIndex(e.rowIndex)===this.currentPage}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return O7(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:O7(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:O7(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:O7(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let n=this.pageSize*(this.currentPage+1)-1;if(n>e&&(n=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),n===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const e=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=e-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t})}},class extends k7{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady((e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()}))}notActive(){return!this.gos.get("paginationAutoPageSize")||null==this.centerRowsCtrl}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const t=Math.max(this.gos.getRowHeightAsNumber(),1),n=Math.floor(e/t);this.paginationService.setPageSize(n,"autoCalculated")};this.isBodyRendered?y9((()=>t()),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}}]},rae={version:Lie,moduleName:"@ag-grid-community/pagination",dependantModules:[iae,{version:Lie,moduleName:"@ag-grid-community/pagination-api",dependantModules:[iae],apiFunctions:{paginationIsLastPageFound:function(e){return e.rowModel.isLastRowIndexKnown()},paginationGetPageSize:function(e){return e.paginationService?.getPageSize()??100},paginationGetCurrentPage:function(e){return e.paginationService?.getCurrentPage()??0},paginationGetTotalPages:function(e){return e.paginationService?.getTotalPages()??1},paginationGetRowCount:function(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()},paginationGoToNextPage:function(e){e.paginationService?.goToNextPage()},paginationGoToPreviousPage:function(e){e.paginationService?.goToPreviousPage()},paginationGoToFirstPage:function(e){e.paginationService?.goToFirstPage()},paginationGoToLastPage:function(e){e.paginationService?.goToLastPage()},paginationGoToPage:function(e,t){e.paginationService?.goToPage(t)}}}]},oae="clientSide",sae="serverSide",aae="infinite",lae={onGroupExpandedOrCollapsed:[oae],refreshClientSideRowModel:[oae],forEachLeafNode:[oae],forEachNodeAfterFilter:[oae],forEachNodeAfterFilterAndSort:[oae],resetRowHeights:[oae],applyTransaction:[oae],applyTransactionAsync:[oae],flushAsyncTransactions:[oae],getBestCostNodeSelection:[oae],getServerSideSelectionState:[sae],setServerSideSelectionState:[sae],applyServerSideTransaction:[sae],applyServerSideTransactionAsync:[sae],applyServerSideRowData:[sae],retryServerSideLoads:[sae],flushServerSideAsyncTransactions:[sae],refreshServerSide:[sae],getServerSideGroupLevelState:[sae],refreshInfiniteCache:[aae],purgeInfiniteCache:[aae],getInfiniteRowCount:[aae],isLastRowIndexKnown:[aae],expandAll:[oae,sae],collapseAll:[oae,sae],onRowHeightChanged:[oae,sae],setRowCount:[aae,sae],getCacheBlockState:[aae,sae]},uae={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'}};var cae=(e,t)=>"clientSide"===(t.rowModelType??"clientSide")?{module:"@ag-grid-enterprise/row-grouping"}:null,dae={enableRowGroup:cae,rowGroup:cae,rowGroupIndex:cae,enablePivot:cae,enableValue:cae,pivot:cae,pivotIndex:cae,aggFunc:cae,cellEditor:e=>"agRichSelect"===e.cellEditor||"agRichSelectCellEditor"===e.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some((e=>t.includes(e)))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(e,t)=>{let{rowSelection:n}=t;return"multiple"===n?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(e,t)=>{let{rowSelection:n}=t;return"multiple"===n?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(e,t)=>{let{rowSelection:n}=t;return"multiple"===n?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:()=>hae},hae={objectName:"colDef",allProperties:Object.keys({headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0}),docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"}},validations:dae},pae={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0},gae={version:Lie,moduleName:"@ag-grid-community/core"},fae={version:Lie,moduleName:"@ag-grid-community/core-validations",beans:[class extends k7{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,{objectName:"gridOptions",allProperties:[...tee.ALL_PROPERTIES,...iee.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:{advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."}},validations:{sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":{const n=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:n}case"serverSide":{const n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:n}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":{const t="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return e.suppressServerSideInfiniteScroll?t:null}}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>hae,defaultColDef:()=>hae,defaultColGroupDef:()=>hae,autoGroupColumnDef:()=>hae}})}processColumnDefs(e){this.processOptions(e,hae)}validateApiFunction(e,t){return function(e,t,n){const i=uae[e];if(i){const{version:n,new:r,old:o,message:s}=i,a=o??e;return function(){d9(`Since ${n} api.${a} is deprecated. ${r?`Please use ${r} instead. `:""}${s??""}`);for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return t.apply(t,i)}}const r=lae[e];return r?function(){const i=n.rowModel.getType();if(r.includes(i)){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t.apply(t,s)}h9(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`)}:t}(e,t,this.beans)}processOptions(e,t){const{validations:n,deprecations:i,allProperties:r,propertyExceptions:o,objectName:s,docsUrl:a}=t;r&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,[...o??[],...Object.keys(i)],r,s,a);const l=new Set;Object.keys(e).forEach((t=>{const r=i[t];if(r)if("renamed"in r){const{renamed:n,version:i}=r;l.add(`As of v${i}, ${String(t)} is deprecated. Please use ${String(n)} instead.`),e[n]=e[t]}else{const{message:e,version:n}=r;l.add(`As of v${n}, ${String(t)} is deprecated. ${e??""}`)}const o=e[t];if(null==o||!1===o)return;const s=n[t];let a;if(!s)return;if("function"===typeof s){const n=s(e,this.gridOptions);if(!n)return;if("objectName"in n){const i=e[t];return Array.isArray(i)?void i.forEach((e=>{this.processOptions(e,n)})):void this.processOptions(e[t],n)}a=n}else a=s;const{module:u,dependencies:c,supportedRowModels:d}=a;if(d){const e=this.gridOptions.rowModelType??"clientSide";if(!d.includes(e))return void l.add(`${String(t)} is not supported with the '${e}' row model.`)}if(u){const e=Array.isArray(u)?u:[u];let n=!0;if(e.forEach((e=>{Fte.__assertRegistered(e,String(t),this.gridId)||(n=!1,l.add(`${String(t)} is only available when ${e} is loaded.`))})),!n)return}if(c){const n=this.checkForWarning(t,c,e);if(n)return void l.add(n)}})),l.size>0&&l.forEach((e=>{d9(e)}))}checkForWarning(e,t,n){if("function"===typeof t)return t(n,this.gridOptions);const i=Object.entries(t).find((e=>{let[t,i]=e;const r=n[t];return!i.includes(r)}));if(!i)return null;const[r,o]=i;return o.length>1?`'${String(e)}' requires '${r}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${r}' to be ${o[0]}.`}checkProperties(e,t,n,i,r){const o=function(e,t,n){const i={},r=e.filter((e=>!t.some((t=>t===e))));return r.length>0&&r.forEach((e=>i[e]=Zte(e,n).values)),i}(Object.getOwnPropertyNames(e),["__ob__","__v_skip","__metadata__",...t,...n],n);if(K7(o,((e,t)=>{let r=`invalid ${i} property '${e}' did you mean any of these: ${t.slice(0,8).join(", ")}.`;n.includes("context")&&(r+=`\nIf you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),d9(r)})),Object.keys(o).length>0&&r){const e=this.getFrameworkOverrides().getDocLink(r);d9(`to see all the valid ${i} properties please check: ${e}`)}}}]},mae={version:Lie,moduleName:"@ag-grid-community/core-community-features",dependantModules:[gae,fae,zoe,Yie,eae,Wse,Vse,rae,Qse]},vae=class extends k7{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:this.beans.stateService?.getState()??{}}),this.destroyCalled=!0,this.beans.ctrlsService.get("gridCtrl")?.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},yae=new Set(["gridPreDestroyed","fillStart","pasteStart"]),wae=new Map([...tee.BOOLEAN_PROPERTIES.map((e=>[e,H7])),...tee.NUMBER_PROPERTIES.map((e=>[e,fie])),["groupAggFiltering",e=>"function"===typeof e?e:H7(e)],["pageSize",mie(1)],["autoSizePadding",mie(0)],["keepDetailRowsCount",mie(1)],["rowBuffer",mie(0)],["infiniteInitialRowCount",mie(1)],["cacheOverflowSize",mie(1)],["cacheBlockSize",mie(1)],["serverSideInitialRowCount",mie(1)],["viewportRowModelPageSize",mie(1)],["viewportRowModelBufferSize",mie(0)]]);function Cae(e,t){const n=wae.get(e);return n?n(t):t}var bae=class e extends k7{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new m7,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const i=yae.has(t);if(i&&!e||!i&&e)return;const r=iee.getCallbackForEvent(t),o=this.gridOptions[r];"function"===typeof o&&this.frameworkOverrides.wrapOutgoing((()=>{o(n)}))}}wireBeans(e){this.gridOptions=e.gridOptions,this.eGridDiv=e.eGridDiv,this.validationService=e.validationService,this.environment=e.environment,this.api=e.gridApi}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth(),this.addManagedEventListeners({gridOptionsChanged:e=>{let{options:t}=e;this.updateGridOptions({options:t,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??pae[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return O7(this.gridOptions[e])}mergeGridCommonParams(e){if(e){return t=>{const n=t;return n.api=this.api,n.context=this.gridOptionsContext,e(n)}}return e}updateGridOptions(t){let{options:n,force:i,source:r="api"}=t;const o={id:e.changeSetId++,properties:[]},s=[];Object.entries(n).forEach((e=>{let[t,n]=e;"api"===r&&J9[t]&&d9(`${t} is an initial property and cannot be updated.`);const a=Cae(t,n),l=i||"object"===typeof a&&"api"===r,u=this.gridOptions[t];if(l||u!==a){this.gridOptions[t]=a;const e={type:t,currentValue:a,previousValue:u,changeSet:o,source:r};s.push(e)}})),this.validationService?.processGridOptions(this.gridOptions),o.properties=s.map((e=>e.type)),s.forEach((e=>{this.gridOptions.debug&&c9(`Updated property ${e.type} from`,e.previousValue," to ",e.currentValue),this.propertyEventService.dispatchEvent(e)}))}addPropertyEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removePropertyEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}getScrollbarWidth(){if(null==this.scrollbarWidth){const e="number"===typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:(null==dee&&Vee(),dee);null!=e&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&N7(this.gridOptions.rowModelType)}isDomLayout(e){return(this.gridOptions.domLayout??"normal")===e}isRowSelection(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return"function"===typeof this.gridOptions.getRowHeight}getRowHeightForNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(null==n&&(n=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:n,estimated:!0};const i={node:e,data:e.data},r=this.getCallback("getRowHeight")(i);if(this.isNumeric(r))return 0===r&&d9("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,r),estimated:!1}}if(e.detail&&this.get("masterDetail"))return this.getMasterDetailRowHeight();return{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||N7(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const e=this.environment.refreshRowHeightVariable();return-1!==e?e:(d9("row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&"number"===typeof e&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,t){const n=e[this.getDomDataKey()];return n?n[t]:void 0}setDomData(e,t,n){const i=this.getDomDataKey();let r=e[i];N7(r)&&(r={},e[i]=r),r[t]=n}getDocument(){let e=null;return this.gridOptions.getDocument&&O7(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&O7(e)?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getActiveDomElement(){return this.getRootNode().activeElement}isNothingFocused(){const e=this.getDocument(),t=this.getActiveDomElement();return null===t||t===e.body}getAsyncTransactionWaitMillis(){return O7(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return!this.get("ensureDomOrder")&&this.get("animateRows")}isGroupRowsSticky(){return!(this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const e=this.gridOptions.autoGroupColumnDef;return!e?.comparator&&!this.get("treeData")}getGroupAggFiltering(){const e=this.gridOptions.groupAggFiltering;return"function"===typeof e?this.getCallback("groupAggFiltering"):!0===e?()=>!0:void 0}getGrandTotalRow(){const e=this.gridOptions.grandTotalRow;if(e)return e;return this.gridOptions.groupIncludeTotalFooter?"bottom":void 0}getGroupTotalRowCallback(){const e=this.get("groupTotalRow");if("function"===typeof e)return this.getCallback("groupTotalRow");if(e)return()=>e;const t=this.get("groupIncludeFooter");if("function"===typeof t){const e=this.getCallback("groupIncludeFooter");return t=>e(t)?"bottom":void 0}return()=>t?"bottom":void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")}isGroupUseEntireRow(e){return!e&&"groupRows"===this.gridOptions.groupDisplayType}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(e){const t=e;return t.api=this.api,t.context=this.gridOptionsContext,t}getRowIdCallback(){const e=this.getCallback("getRowId");return void 0===e?e:t=>{let n=e(t);return"string"!==typeof n&&(d9("The getRowId callback must return a string. The ID ",n," is being cast to a string."),n=String(n)),n}}};bae.changeSetId=0;var Sae=bae,xae=class extends k7{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let n,i;if(j9(e.column)?n=this.visibleColsService.getGroupAtDirection(e.column,t):(i=`getCol${t}`,n=this.visibleColsService[i](e.column)),!n)return;const{headerRowIndex:r}=e;if("filter"!==this.getHeaderRowType(r)){const e=[n];for(;n.getParent();)n=n.getParent(),e.push(n);n=e[e.length-1-r]}const{column:o,headerRowIndex:s}=this.getHeaderIndexToFocus(n,r);return{column:o,headerRowIndex:s}}getHeaderIndexToFocus(e,t){let n;if(j9(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const i=e;n=i.getLeafColumns()[0];let r=n;for(;r!==i;)t++,r=r.getParent()}return{column:n||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return!!e&&e.getLeafColumns().some((e=>e.isSpanHeaderHeight()))}getColumnVisibleParent(e,t){const n=this.getHeaderRowType(t),i="column"===n;let r="filter"===n?e:e.getParent(),o=t-1,s=o;if(i&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;r&&r.isPadding();)r=r.getParent(),o--;s=o,o<0&&(r=e,o=t,s=void 0)}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:s}}getColumnVisibleChild(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"After";let i=e,r=t+1;const o=r;if("group"===this.getHeaderRowType(t)){const t=e.getDisplayedLeafColumns(),o="After"===n?t[0]:v7(t),s=[];let a=o;for(;a.getParent()!==e;)a=a.getParent(),s.push(a);if(i=o,o.isSpanHeaderHeight())for(let e=s.length-1;e>=0;e--){const t=s[e];if(!t.isPadding()){i=t;break}r++}else i=v7(s),i||(i=o)}return{column:i,headerRowIndex:r,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const n=this.visibleColsService.getAllCols(),i=n["start"===t?0:n.length-1];if(!i)return;const r=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()),o=r?.getRowType(e);if("group"==o){return{headerRowIndex:e,column:this.visibleColsService.getColGroupAtLevel(i,e)}}return{headerRowIndex:null==o?-1:e,column:i}}},Mae=class extends k7{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(t,n,i)=>e({key:t,defaultValue:n,variableValues:i});const t=this.gos.get("localeText");return(e,n,i)=>{let r=t&&t[e];if(r&&i&&i.length){let e=0;for(;!(e>=i.length);){if(-1===r.indexOf("${variable}"))break;r=r.replace("${variable}",i[e++])}}return r??n}}},_ae=class extends k7{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new F7(this.getFrameworkOverrides())}addEventListener(e,t){const n=this.frameworkEventWrappingService.wrap(t),i=this.gos.useAsyncEvents()&&!yae.has(e),r=i?this.asyncEventListeners:this.syncEventListeners;r.has(e)||r.set(e,new Set),r.get(e).add(n),this.eventService.addEventListener(e,n,i)}removeEventListener(e,t){const n=this.frameworkEventWrappingService.unwrap(t),i=this.asyncEventListeners.get(e),r=!!i?.delete(n);r||this.syncEventListeners.get(e)?.delete(n),this.eventService.removeEventListener(e,n,r)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(this.gos.useAsyncEvents()){const n=(e,n)=>{yae.has(e)&&t(e,n)},i=(e,n)=>{yae.has(e)||t(e,n)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:i}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(i,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:n,asyncListener:i}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(i,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach(((e,n)=>{e.forEach((e=>this.eventService.removeEventListener(n,e,t))),e.clear()})),e.clear()}destroyGlobalListeners(e,t){e.forEach((e=>this.eventService.removeGlobalListener(e,t))),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach((e=>{let{syncListener:t,asyncListener:n}=e;this.eventService.removeGlobalListener(t,!1),this.eventService.removeGlobalListener(n,!0)})),this.globalEventListenerPairs.clear()}},Rae=class extends k7{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},Dae=class extends k7{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return N7(this.topRowBounds)||N7(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=O7(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},Pae=class extends k7{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=y9(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=this.gos.getDocument(),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),bee(t,"polite"),gee(t,"relevant","additions text"),function(e,t){gee(e,"atomic",t)}(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout((()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)}),50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(nte(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},Tae=class extends k7{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady((e=>this.gridBodyCtrl=e.gridBodyCtrl))}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush((()=>this.activeNext=!1),(()=>this.active=!1))}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)}))}flush(e,t){if(0===this.executeNextFuncs.length&&0===this.executeLaterFuncs.length)return e(),void t();const n=e=>{for(;e.length;){const t=e.pop();t&&t()}};this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{e(),n(this.executeNextFuncs)}),0),window.setTimeout((()=>{t(),n(this.executeLaterFuncs)}),200)}))}},Aae=class extends k7{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},Eae=class extends k7{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=this.gos.isRowModelType("clientSide");const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}registerOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return 0!==this.state}isExclusive(){return 1===this.state}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");(e||void 0===e&&!this.gos.get("suppressLoadingOverlay"))&&this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")?d9("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead."):this.doHideOverlay()}updateOverlayVisibility(){let e=this.gos.get("loading");this.showInitialOverlay&&void 0===e&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?1!==this.state&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?2!==this.state&&this.doShowNoRowsOverlay():0!==this.state&&this.doHideOverlay())}doShowLoadingOverlay(){this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive()}doShowNoRowsOverlay(){this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive()}doHideOverlay(){this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive()}showOverlay(e,t,n){const i=e.newAgStackInstance();this.overlayWrapperComp.showOverlay(i,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){let e=0;if(2===this.state){const t=this.ctrlsService.get("gridHeaderCtrl");e=t?.getHeaderHeight()||0}else 0!==this.wrapperPadding&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},Iae=class extends k7{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return O7(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),M7(t,this.processClassesFromGridOptions(e.rowNode)),M7(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],n=e=>{"string"===typeof e?t.push(e):Array.isArray(e)&&e.forEach((e=>t.push(e)))},i=this.gos.get("rowClass");if(i){if("function"===typeof i)return d9("rowClass should not be a function, please use getRowClass instead"),[];n(i)}const r=this.gos.getCallback("getRowClass");if(r){n(r({data:e.data,node:e,rowIndex:e.rowIndex}))}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,(e=>{t.push(e)}),(()=>{})),t}processRowClassRules(e,t,n){const i=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),i,t,n)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},kae=class extends k7{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=function(){if(!document.body)return-1;let e=1e6;const t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const i=2*e;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return document.body.removeChild(n),e}(),this.gos.get("debug")&&c9("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&c9(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t="number"===typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=e/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*t}},Fae=class extends k7{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",(e=>this.isAccentedSort=e.currentValue)),this.addManagedPropertyListener("autoGroupColumnDef",(()=>this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup()))}doFullSort(e,t){const n=e.map(((e,t)=>({currentPos:t,rowNode:e})));return n.sort(this.compareRowNodes.bind(this,t)),n.map((e=>e.rowNode))}compareRowNodes(e,t,n){const i=t.rowNode,r=n.rowNode;for(let o=0,s=e.length;o<s;o++){const t=e[o],n="desc"===t.sort,s=this.getValue(i,t.column),a=this.getValue(r,t.column);let l;const u=this.getComparator(t,i);l=u?u(s,a,i,r,n):U7(s,a,this.isAccentedSort);if(!isNaN(l)&&0!==l)return"asc"===t.sort?l:-1*l}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,i=n.getColDef().comparator;if(null!=i)return i;if(!n.getColDef().showRowGroup)return;const r=!t.group&&n.getColDef().field;if(!r)return;const o=this.columnModel.getColDefCol(r);return o?o.getColDef().comparator:void 0}getValue(e,t){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gos.isGroupUseEntireRow(this.columnModel.isPivotActive())){const n=e.allLeafChildren?.[0];return n?this.valueService.getValue(t,n,!1,!1):void 0}const n=this.showRowGroupColsService?.getShowRowGroupCol(t.getId());if(!n)return;return e.groupData?.[n.getId()]}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)}},Lae=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],t);t(e.rowNode)}depthFirstSearchEverything(e,t,n){if(e.childrenAfterGroup)for(let i=0;i<e.childrenAfterGroup.length;i++){const r=e.childrenAfterGroup[i];r.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[i],t,n):n&&t(r)}t(e)}forEachChangedNodeDepthFirst(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const e={rowNode:t,children:null};this.mapToItems[t.id]=e,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach((e=>this.nodeIdsToColumns[n.id][e.getId()]=!0)),n=n.parent}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){const e=this.mapToItems[n.id],t=this.mapToItems[n.parent.id];t.children||(t.children=[]),t.children.push(e),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter((e=>n[e.getId()]))}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter((e=>!n[e.getId()]))}},Oae=class extends k7{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new Xoe}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.selectionCtx.init(this.rowModel),this.rowSelection=this.gos.get("rowSelection"),this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],(()=>{this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.rowSelection=this.gos.get("rowSelection"),this.deselectAllRowNodes({source:"api"})})),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiselect(){return"multiple"===this.rowSelection}overrideSelectionValue(e,t){if(!(e=>"checkboxSelected"===e||"rowClicked"===e||"spaceKey"===e||"uiSelectAll"===e||"uiSelectAllCurrentPage"===e||"uiSelectAllFiltered"===e)(t))return e;const n=this.selectionCtx.getRoot();return!n||(n.isSelected()??!1)}setNodesSelected(e){const{newValue:t,clearSelection:n,suppressFinishActions:i,rangeSelect:r,nodes:o,event:s,source:a}=e;if(0===o.length)return 0;if(o.length>1&&!this.isMultiselect())return d9("cannot multi select while rowSelection='single'"),0;const l=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,u=o.map((e=>e.footer?e.sibling:e));if(r){if(u.length>1)return d9("cannot range select while selecting multiple rows"),0;const e=u[0],n=this.overrideSelectionValue(t,a);if(this.isMultiselect()){if(this.selectionCtx.isInRange(e)){const t=this.selectionCtx.truncate(e);return n&&this.selectRange(t.discard,!1,a),this.selectRange(t.keep,n,a)}if(this.selectionCtx.getRoot()!==e){const t=this.selectionCtx.extend(e,this.groupSelectsChildren);return n&&this.selectRange(t.discard,!1,a),this.selectRange(t.keep,n,a)}}else;}i||this.selectionCtx.setRoot(u[0]);let c=0;for(let d=0;d<u.length;d++){const e=u[d];if(!(l&&e.group)){e.selectThisNode(t,s,a)&&c++}this.groupSelectsChildren&&e.childrenAfterGroup?.length&&(c+=this.selectChildren(e,t,l,a))}if(!i){t&&(n||!this.isMultiselect())&&(c+=this.clearOtherNodes(u[0],a)),c>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))}return c}selectRange(e,t,n){let i=0;return e.forEach((e=>{if(e.group&&this.groupSelectsChildren)return;e.selectThisNode(t,void 0,n)&&i++})),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(e,t,n,i){const r=n?e.childrenAfterAggFilter:e.childrenAfterGroup;return N7(r)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:i,nodes:r})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach((t=>{t&&e.push(t)})),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach((t=>{t&&t.data&&e.push(t.data)})),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach(((n,i)=>{n&&e(n)&&t.set(i,n)})),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren)return!1;if("clientSide"!==this.rowModel.getType())return!1;const n=this.rowModel.getRootNode();t||(t=new Lae(!0,n)).setInactive();let i=!1;return t.forEachChangedNodeDepthFirst((t=>{if(t!==n){const n=t.calculateSelectedFromChildren();i=t.selectThisNode(null!==n&&n,void 0,e)||i}})),i}clearOtherNodes(e,t){const n=new Map;let i=0;return this.selectedNodes.forEach((r=>{if(r&&r.id!==e.id){const e=this.selectedNodes.get(r.id);i+=e.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&r.parent&&n.set(r.parent.id,r.parent)}})),n.forEach((e=>{const n=e.calculateSelectedFromChildren();e.selectThisNode(null!==n&&n,void 0,t)})),i}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(O7(t)&&e.id!==t.id&&t){const n=t.id;this.selectedNodes.get(n)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes?.clear()}getBestCostNodeSelection(){if("clientSide"!==this.rowModel.getType())return;const e=this.rowModel.getTopLevelNodes();if(null===e)return;const t=[];return function e(n){for(let i=0,r=n.length;i<r;i++){const r=n[i];if(r.isSelected())t.push(r);else{const t=r;t.group&&t.children&&e(t.children)}}}(e),t}isEmpty(){let e=0;return this.selectedNodes.forEach((t=>{t&&e++})),0===e}deselectAllRowNodes(e){const t=e=>e.selectThisNode(!1,void 0,i),n="clientSide"===this.rowModel.getType(),{source:i,justFiltered:r,justCurrentPage:o}=e;if(o||r){if(!n)return void h9("selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(r,o).forEach(t)}else this.selectedNodes.forEach((e=>{e&&t(e)})),this.reset(i);this.selectionCtx.reset(),n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)}getSelectedCounts(e,t){let n=0,i=0;return this.getNodesToSelect(e,t).forEach((e=>{this.groupSelectsChildren&&e.group||(e.isSelected()?n++:e.selectable&&i++)})),{selectedCount:n,notSelectedCount:i}}getSelectAllState(e,t){const{selectedCount:n,notSelectedCount:i}=this.getSelectedCounts(e,t);return(0!==n||0!==i)&&(n>0&&i>0?null:n>0)}hasNodesToSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getNodesToSelect(e,t).filter((e=>e.selectable)).length>0}getNodesToSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const n=[];if(t)return this.forEachNodeOnPage((e=>{if(e.group)if(e.expanded)this.groupSelectsChildren||n.push(e);else{const t=e=>{n.push(e),e.childrenAfterFilter?.length&&e.childrenAfterFilter.forEach(t)};t(e)}else n.push(e)})),n;const i=this.rowModel;return e?(i.forEachNodeAfterFilter((e=>{n.push(e)})),n):(i.forEachNode((e=>{n.push(e)})),n)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),n=this.pageBoundsService.getLastRow();for(let i=t;i<=n;i++){const t=this.rowModel.getRow(i);t&&e(t)}}selectAllRowNodes(e){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:t,justFiltered:n,justCurrentPage:i}=e,r=this.getNodesToSelect(n,i);r.forEach((e=>e.selectThisNode(!0,void 0,t))),this.selectionCtx.setRoot(r[0]??null),this.selectionCtx.setEndRange(v7(r)??null),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach((t=>{t?.id&&e.push(t.id)})),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return;const n=new Set(e),i=[];this.rowModel.forEachNode((e=>{n.has(e.id)&&i.push(e)})),this.setNodesSelected({newValue:!0,nodes:i,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}},Nae=class extends k7{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListener("isRowSelectable",(()=>this.updateSelectable()))}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=!!this.gos.get("rowSelection"),n=this.gos.get("isRowSelectable");if(!t||!n)return;const i=this.gos.get("groupSelectsChildren"),r="clientSide"===this.rowModel.getType()&&i,o=[],s=t=>{if(e&&!t.group)return;if(r&&t.group){const e=t.childrenAfterGroup.some((e=>!0===e.selectable));return void t.setRowSelectable(e,!0)}const i=!n||n(t);t.setRowSelectable(i,!0),!i&&t.isSelected()&&o.push(t)};if(r){const e=this.rowModel;new Lae(!1,e.getRootNode()).forEachChangedNodeDepthFirst(s,!0,!0)}else this.rowModel.forEachNode(s);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),r&&this.selectionService instanceof Oae&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},Bae=["asc","desc",null],Gae=class extends k7{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,n){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}setSortForColumn(e,t,n,i){"asc"!==t&&"desc"!==t&&(t=null);let r=[e];if(this.gos.isColumnsSortingCoupledToGroup()&&e.getColDef().showRowGroup){const t=this.funcColsService.getSourceColumnsForGroupColumn(e),n=t?.filter((e=>e.isSortable()));n&&(r=[e,...n])}r.forEach((e=>e.setSort(t,i)));const o=[];if(!((n||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"))){const e=this.clearSortBarTheseColumns(r,i);o.push(...e)}this.updateSortIndex(e),o.push(...r),this.dispatchSortChangedEvents(i,o)}updateSortIndex(e){const t=this.gos.isColumnsSortingCoupledToGroup(),n=this.showRowGroupColsService?.getShowRowGroupCol(e.getId()),i=t&&n||e,r=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach((e=>e.setSortIndex(null)));const o=r.filter((e=>(!t||!e.getColDef().showRowGroup)&&e!==i));(i.getSort()?[...o,i]:o).forEach(((e,t)=>{e.setSortIndex(t)}))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const e=this.columnModel.getAllCols().filter((e=>!!e.getSort()));return e&&e.length>0}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventService.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.columnModel.getAllCols().forEach((i=>{e.includes(i)||(i.getSort()&&n.push(i),i.setSort(void 0,t))})),n}getNextSortDirection(e){let t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gos.get("sortingOrder")?this.gos.get("sortingOrder"):Bae,!Array.isArray(t)||t.length<=0)return d9(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const n=t.indexOf(e.getSort()),i=n<0,r=n==t.length-1;let o;return o=i||r?t[0]:t[n+1],Bae.indexOf(o)<0?(d9("invalid sort type ",o),null):o}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter((e=>!!e.getSort()));if(this.columnModel.isPivotMode()){const t=this.gos.isColumnsSortingCoupledToGroup();e=e.filter((e=>{const n=!!e.getAggFunc(),i=!e.isPrimary(),r=t?this.showRowGroupColsService?.getShowRowGroupCol(e.getId()):e.getColDef().showRowGroup;return n||i||r}))}const t=this.funcColsService.getRowGroupColumns().filter((e=>!!e.getSort())),n={};e.forEach(((e,t)=>n[e.getId()]=t)),e.sort(((e,t)=>{const i=e.getSortIndex(),r=t.getSortIndex();if(null!=i&&null!=r)return i-r;if(null==i&&null==r){return n[e.getId()]>n[t.getId()]?1:-1}return null==r?-1:1}));const i=this.gos.isColumnsSortingCoupledToGroup()&&!!t.length;i&&(e=[...new Set(e.map((e=>this.showRowGroupColsService?.getShowRowGroupCol(e.getId())??e)))]);const r=new Map;return e.forEach(((e,t)=>r.set(e,t))),i&&t.forEach((e=>{const t=this.showRowGroupColsService.getShowRowGroupCol(e.getId());r.set(e,r.get(t))})),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(((e,t)=>{let[n,i]=e,[r,o]=t;return i-o})).map((e=>{let[t]=e;return t}))}getSortModel(){return this.getColumnsWithSortingOrdered().filter((e=>e.getSort())).map((e=>({sort:e.getSort(),colId:e.getId()})))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter((e=>e.getSort())).map((e=>({sort:e.getSort(),column:e})))}canColumnDisplayMixedSort(e){const t=this.gos.isColumnsSortingCoupledToGroup(),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const n=null!=e.getColDef().field||!!e.getColDef().valueGetter?[e,...t]:t,i=n[0].getSort();return n.every((e=>e.getSort()==i))?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},Vae=class extends k7{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",(e=>this.setColumnDefs(e)))}start(){this.ctrlsService.whenReady((()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()}))}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const e=Fte.__isRegistered("@ag-grid-enterprise/core",this.gridId);this.gos.get("debug")&&c9(`initialised successfully, enterprise = ${e}`)}dispatchGridReadyEvent(){this.eventService.dispatchEvent({type:"gridReady"})}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t)return this.waitingForColumns?(this.waitingForColumns=!1,void this.setColumnsAndData(t)):void this.columnModel.setColumnDefs(t,A9(e.source))}},zae=class extends k7{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const n=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const i=this.gos.get("aggregateOnlyChangedColumns"),r=new Lae(i,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst((e=>{n.push(e)}))}this.rowRenderer.refreshCells({rowNodes:n})}},Hae=class extends k7{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if("string"===typeof e)return this.evaluateExpression(e,t);h9("value should be either a string or a function",e)}evaluateExpression(e,t){try{const n=this.createExpressionFunction(e);return n(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(JA){return c9("Processing of the expression failed"),c9("Expression = ",e),c9("Params = ",t),c9("Exception = ",JA),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=n,n}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},Wae=class extends k7{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=n)}getValue(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]}},Uae=class extends k7{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=this.gos.isRowModelType("serverSide"),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=e=>this.callColumnCellValueChangedHandler(e),t=this.gos.useAsyncEvents();this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc((()=>this.eventService.removeEventListener("cellValueChanged",e,t))),this.addManagedPropertyListener("treeData",(e=>this.isTreeData=e.currentValue))}getValue(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.initialised||this.init(),!t)return;const r=e.getColDef(),o=r.field,s=e.getColId(),a=t.data;let l;const u=t.groupData&&void 0!==t.groupData[s],c=!i&&t.aggData&&void 0!==t.aggData[s],d=this.isSsrm&&i&&!!e.getColDef().aggFunc,h=this.isSsrm&&t.footer&&t.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===t.field);if(n&&r.filterValueGetter?l=this.executeFilterValueGetter(r.filterValueGetter,a,e,t):this.isTreeData&&c?l=t.aggData[s]:this.isTreeData&&r.valueGetter?l=this.executeValueGetter(r.valueGetter,a,e,t):this.isTreeData&&o&&a?l=Q7(a,o,e.isFieldContainsDots()):u?l=t.groupData[s]:c?l=t.aggData[s]:r.valueGetter?l=this.executeValueGetter(r.valueGetter,a,e,t):h?l=Q7(a,t.field,e.isFieldContainsDots()):o&&a&&!d&&(l=Q7(a,o,e.isFieldContainsDots())),this.cellExpressions&&"string"===typeof l&&0===l.indexOf("=")){const n=l.substring(1);l=this.executeValueGetter(n,a,e,t)}if(null==l){const n=this.getOpenedGroup(t,e);if(null!=n)return n}return l}parseValue(e,t,n,i){const r=e.getColDef(),o=this.gos.addGridCommonParams({node:t,data:t?.data,oldValue:i,newValue:n,colDef:r,column:e}),s=r.valueParser;return O7(s)?"function"===typeof s?s(o):this.expressionService.evaluate(s,o):n}formatValue(e,t,n,i){let r,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=null;const a=e.getColDef();if(i?r=i:o&&(r=a.valueFormatter),r){const i=this.gos.addGridCommonParams({value:n,node:t,data:t?t.data:null,colDef:a,column:e});s="function"===typeof r?r(i):this.expressionService.evaluate(r,i)}else if(a.refData)return a.refData[n]||"";return null==s&&Array.isArray(n)&&(s=n.join(", ")),s}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup"))return;if(!t.getColDef().showRowGroup)return;const n=t.getColDef().showRowGroup;let i=e.parent;for(;null!=i;){if(i.rowGroupColumn&&(!0===n||n===i.rowGroupColumn.getColId()))return i.key;i=i.parent}}setValue(e,t,n,i){const r=this.columnModel.getColDefCol(t);if(!e||!r)return!1;N7(e.data)&&(e.data={});const{field:o,valueSetter:s}=r.getColDef();if(N7(o)&&N7(s))return d9("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(r,n))return d9("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(r,e),newValue:n,colDef:r.getColDef(),column:r});let l;return a.newValue=n,l=O7(s)?"function"===typeof s?s(a):this.expressionService.evaluate(s,a):this.setValueUsingField(e.data,o,n,r.isFieldContainsDots()),void 0===l&&(l=!0),!!l&&(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),a.newValue=this.getValue(r,e),this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:a.newValue,value:a.newValue,source:i}),!0)}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;"function"===typeof t&&this.getFrameworkOverrides().wrapOutgoing((()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})}))}setValueUsingField(e,t,n,i){if(!t)return!1;let r=!1;if(i){const i=t.split(".");let o=e;for(;i.length>0&&o;){const e=i.shift();0===i.length?(r=o[e]===n,r||(o[e]=n)):o=o[e]}}else r=e[t]===n,r||(e[t]=n);return!r}executeFilterValueGetter(e,t,n,i){const r=this.gos.addGridCommonParams({data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});return"function"===typeof e?e(r):this.expressionService.evaluate(e,r)}executeValueGetter(e,t,n,i){const r=n.getColId(),o=this.valueCache.getValue(i,r);if(void 0!==o)return o;const s=this.gos.addGridCommonParams({data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});let a;return a="function"===typeof e?e(s):this.expressionService.evaluate(e,s),this.valueCache.setValue(i,r,a),a}getValueCallback(e,t){const n=this.columnModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),i=e.getColDef().keyCreator;let r=n;if(i){r=i(this.gos.addGridCommonParams({value:n,colDef:e.getColDef(),column:e,node:t,data:t.data}))}return"string"===typeof r||null==r||(r=String(r),"[object Object]"===r&&d9("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),r}},jae=class{};jae.gridOptions=void 0;var $ae=1,Kae=class{create(e,t,n,i,r){let o={};jae.gridOptions?(Z7(o,jae.gridOptions,!0,!0),o={...o,...t}):o=t;const s=function(e){const t={};return Object.entries(e).forEach((e=>{let[n,i]=e;const r=Cae(n,i);t[n]=r})),t}(o),a=s.gridId??String($ae++),l=this.getRegisteredModules(r,a),u=this.createBeansList(s.rowModelType,l,a),c=this.createProvidedBeans(e,s,r);if(!u)return void h9("Failed to create grid.");const d=new Mne({providedBeanInstances:c,beanClasses:u,gridId:a,beanInitComparator:Sse,beanDestroyComparator:xse,derivedBeans:[pse]});return this.registerModuleUserComponents(d,l),this.registerControllers(d,l),this.registerModuleApiFunctions(d,l),n(d),d.getBean("syncService").start(),i&&i(d),d.getBean("gridApi")}registerControllers(e,t){const n=e.getBean("ctrlsFactory");t.forEach((e=>{e.controllers&&e.controllers.forEach((e=>n.register(e)))}))}getRegisteredModules(e,t){const n=e?e.modules:null,i=Fte.__getRegisteredModules(t),r=[],o={},s=(e,t,n)=>{var i;o[(i=t).moduleName]||(o[i.moduleName]=!0,r.push(i),Fte.__register(i,e,n)),t.dependantModules&&t.dependantModules.forEach((t=>s(e,t,n)))};return s(!!n?.length||!Fte.__isPackageBased(),mae,void 0),n&&n.forEach((e=>s(!0,e,t))),i&&i.forEach((e=>s(!Fte.__isPackageBased(),e,void 0))),r}registerModuleUserComponents(e,t){const n=this.extractModuleEntity(t,(e=>e.userComponents?e.userComponents:[])),i=e.getBean("userComponentRegistry");n.forEach((e=>{i.registerDefaultComponent(e.name,e.classImp)}))}registerModuleApiFunctions(e,t){const n=e.getBean("apiFunctionService");t.forEach((e=>{const t=e.apiFunctions;if(t){Object.keys(t).forEach((e=>{n?.addFunction(e,t[e])}))}}))}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;N7(i)&&(i=new ose);const r={gridOptions:t,eGridDiv:e,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}createBeansList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clientSide",t=arguments.length>2?arguments[2]:void 0;const n=(arguments.length>1?arguments[1]:void 0).filter((t=>!t.rowModel||t.rowModel===e)),i={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!i[e])return void h9("Could not find row model for rowModelType = ",e);if(!Fte.__assertRegistered(i[e],`rowModelType = '${e}'`,t))return;const r=[Pse,Rse,xae,vae,hse,Jte,wse,Cse,foe,bne,kae,poe,Mae,$oe,Tne,q9,Lse,Sae,ise,Oae,T9,Zie,Dae,Rae,Uoe,Hae,D9,hoe,Wae,Uae,Hoe,goe,Rne,Nse,doe,Ise,sse,Zoe,loe,Gae,Aae,Tae,Nae,zae,moe,gse,Iae,Fae,_se,Bse,Dse,Mse,Vae,Eae,voe,_ae,Pae,yoe,F9,fse,O9,I9,mse,vse,W9,k9,z9,yse,H9],o=this.extractModuleEntity(n,(e=>e.beans?e.beans:[]));r.push(...o);const s=[];return r.forEach((e=>{s.indexOf(e)<0&&s.push(e)})),s}extractModuleEntity(e,t){return[].concat(...e.map(t))}},qae=class extends k7{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};var Yae={version:Lie,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:function(e){e.expansionService.expandAll(!0)},collapseAll:function(e){e.expansionService.expandAll(!1)},onRowHeightChanged:function(e){const t=e.rowModelHelperService?.getClientSideRowModel(),n=e.rowModelHelperService?.getServerSideRowModel();t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}}},Xae={version:Lie,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:function(e,t,n){const i=e.rowModelHelperService?.getServerSideRowModel();if(i)return e.funcColsService.isRowGroupEmpty()?void i.setRowCount(t,n):void h9("setRowCount cannot be used while using row grouping.");const r=e.rowModelHelperService?.getInfiniteRowModel();r&&r.setRowCount(t,n)},getCacheBlockState:function(e){return e.rowNodeBlockLoader?.getBlockState()??{}}}},Zae=class{wrap(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0;const r=this.createWrapper(e,i);return t.forEach((e=>{this.createMethod(r,e,!0)})),n.forEach((e=>{this.createMethod(r,e,!1)})),r}unwrap(e){return e}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&d9("Framework component is missing the method "+t+"()"),null)}}};var Qae=class{};Qae.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"},Qae.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"],Qae.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var Jae="undefined"===typeof global?{}:global;Jae.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,Jae.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,Jae.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,Jae.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,Jae.Node="undefined"===typeof Node?{}:Node,Jae.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent;var ele=class{constructor(e,t,n,i,r,o){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=n,this.funcColsService=i,this.beans=o,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id="ROOT_NODE_ID",this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return q7(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if("string"===typeof e)return void d9("rowData must be an array.");this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,n=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((e=>this.createNode(e,this.rootNode,0))):(t.allLeafChildren=[],t.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=t.childrenAfterFilter,n.childrenAfterGroup=t.childrenAfterGroup,n.childrenAfterAggFilter=t.childrenAfterAggFilter,n.childrenAfterSort=t.childrenAfterSort,n.childrenMapped=t.childrenMapped,n.allLeafChildren=t.allLeafChildren)}updateRowData(e,t){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const n={remove:[],update:[],add:[]},i=[];return this.executeRemove(e,n,i),this.executeUpdate(e,n,i),this.executeAdd(e,n),this.updateSelection(i,"rowDataChanged"),t&&function(e,t){if(!e)return!1;const n=(e,n)=>{const i=t[e.id],r=t[n.id],o=void 0!==i,s=void 0!==r;return o&&s?i-r:o||s?o?1:-1:e.__objectId-n.__objectId};let i,r,o=!1;for(let s=0;s<e.length-1;s++)if(i=e[s],r=e[s+1],n(i,r)>0){o=!0;break}!!o&&e.sort(n)}(this.rootNode.allLeafChildren,t),n}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}updateSelection(e,t){const n=e.length>0;n&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),n&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const{add:n,addIndex:i}=e;if(B7(n))return;const r=n.map((e=>this.createNode(e,this.rootNode,0))),o=this.rootNode.allLeafChildren;if("number"===typeof i&&i>=0){const e=o.length;let t=i;if(this.gos.get("treeData")&&i>0&&e>0)for(let r=0;r<e;r++)if(o[r]?.rowIndex==i-1){t=r+1;break}const n=o.slice(0,t),s=o.slice(t,o.length);this.rootNode.allLeafChildren=[...n,...r,...s]}else this.rootNode.allLeafChildren=[...o,...r];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=o),t.add=r}executeRemove(e,t,n){const{remove:i}=e;if(B7(i))return;const r={};i.forEach((e=>{const i=this.lookupRowNode(e);i&&(i.isSelected()&&n.push(i),i.clearRowTopAndRowIndex(),r[i.id]=!0,delete this.allNodesMap[i.id],t.remove.push(i))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren?.filter((e=>!r[e.id]))??null,this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,t,n){const{update:i}=e;B7(i)||i.forEach((e=>{const i=this.lookupRowNode(e);i&&(i.updateData(e),!i.selectable&&i.isSelected()&&n.push(i),this.setMasterForRow(i,e,0,!1),t.update.push(i))}))}lookupRowNode(e){const t=this.gos.getRowIdCallback();let n;if(t){const i=t({data:e,level:0});if(n=this.allNodesMap[i],!n)return h9(`could not find row id=${i}, data item was not found for this id`),null}else if(n=this.rootNode.allLeafChildren?.find((t=>t.data===e)),!n)return h9("could not find data item as object was not found",e),h9("Consider using getRowId to help the Grid find matching row data"),null;return n||null}createNode(e,t,n){const i=new One(this.beans);return i.group=!1,this.setMasterForRow(i,e,n,!0),t&&(i.parent=t),i.level=n,i.setDataAndId(e,this.nextId.toString()),this.allNodesMap[i.id]&&d9(`duplicate node id '${i.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[i.id]=i,this.nextId++,i}setMasterForRow(e,t,n,i){if(this.gos.get("treeData"))e.setMaster(!1),i&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const n=this.gos.get("isRowMaster");n?e.setMaster(n(t)):e.setMaster(!0)}else e.setMaster(!1);if(i){const t=this.funcColsService.getRowGroupColumns(),i=n+(t?t.length:0);e.expanded=!!e.master&&this.isExpanded(i)}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return-1===t||e<t}};var tle="32.1.0",nle={version:tle,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[class extends k7{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=y9(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),n=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:n,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new One(this.beans),this.nodeManager=new ele(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),n=new Set(["excludeChildrenWhenTreeDataFiltering"]),i=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),o=new Set(["postSortRows","groupDisplayType","accentedSort"]),s=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...n,...i,...i,...r,...o,...s,...a];this.addManagedPropertyListeners(l,(l=>{const u=l.changeSet?.properties;if(!u)return;const c=e=>u.some((t=>e.has(t)));c(e)?this.setRowData(this.rootNode.allLeafChildren.map((e=>e.data))):c(t)?this.refreshModel({step:"group"}):c(n)?this.refreshModel({step:"filter"}):c(i)?this.refreshModel({step:"pivot"}):c(r)?this.refreshModel({step:"aggregate"}):c(o)?this.refreshModel({step:"sort"}):c(s)?this.refreshModel({step:"filter_aggregates"}):c(a)&&this.refreshModel({step:"map"})})),this.addManagedPropertyListener("rowHeight",(()=>this.resetRowHeights()))}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,n,i){let r,o=!1;do{r=!1;const s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,n),u=Math.min(a,i);for(let e=l;e<=u;e++){const t=this.getRow(e);if(t.rowHeightEstimated){const e=this.gos.getRowHeightForNode(t);t.setRowHeight(e.height),r=!0,o=!0}}r&&this.setRowTopAndRowIndex()}while(r);return o}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const n=new Set,i=this.gos.isDomLayout("normal");for(let r=0;r<this.rowsToDisplay.length;r++){const o=this.rowsToDisplay[r];if(null!=o.id&&n.add(o.id),null==o.rowHeight){const t=this.gos.getRowHeightForNode(o,i,e);o.setRowHeight(t.height,t.estimated)}o.setRowTop(t),o.setRowIndex(r),t+=o.rowHeight}return n}clearRowTopAndRowIndex(e,t){const n=e.isActive(),i=e=>{e&&null!=e.id&&!t.has(e.id)&&e.clearRowTopAndRowIndex()},r=e=>{if(i(e),i(e.detailNode),i(e.sibling),e.hasChildren()&&e.childrenAfterGroup){const t=-1==e.level;n&&!t&&!e.expanded||e.childrenAfterGroup.forEach(r)}};r(this.rootNode)}ensureRowsAtPixel(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getRowIndexAtPixel(t),r=this.getRow(i),o=!this.gos.get("suppressAnimationFrame");return r!==e[0]&&(e.forEach((e=>{C7(this.rootNode.allLeafChildren,e)})),e.forEach(((e,t)=>{b7(this.rootNode.allLeafChildren,e,Math.max(i+n,0)+t)})),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:o}),!0)}highlightRowAtPixel(e,t){const n=null!=t?this.getRowIndexAtPixel(t):null,i=null!=n?this.getRow(n):null;if(!i||!e||i===e||null==t)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const r=this.getHighlightPosition(t,i);this.lastHighlightedRow&&this.lastHighlightedRow!==i&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),i.setHighlighted(r),this.lastHighlightedRow=i}getHighlightPosition(e,t){if(!t){const n=this.getRowIndexAtPixel(e);if(!(t=this.getRow(n||0)))return 1}const{rowTop:n,rowHeight:i}=t;return e-n<i/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const e=this.rootNode.sibling?1:0,t=this.rootNode.childrenAfterAggFilter;return(t?t.length:0)+e}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let t=e;if(this.rowsToDisplay[0].footer){if(0===e)return 0;t-=1}const n=this.rowsToDisplay[this.rowsToDisplay.length-1],i=t>=this.rootNode.childrenAfterSort.length;if(n.footer&&i)return n.rowIndex;let r=this.rootNode.childrenAfterSort[t];if(this.gos.get("groupHideOpenParents"))for(;r.expanded&&r.childrenAfterSort&&r.childrenAfterSort.length>0;)r=r.childrenAfterSort[0];return r.rowIndex}getRowBounds(e){if(N7(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=this.gos.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=this.gos.isAnimateRows(),n=0===e.columns.length||e.columns.some((e=>e.isPrimary()))?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=this.gos.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=B7(e),n=new Lae(!1,this.rootNode);return(t||this.gos.get("treeData"))&&n.setInactive(),n}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;if(null==e.rowNodeTransactions)return!1;const t=e.rowNodeTransactions.filter((e=>null!=e.add&&e.add.length>0||null!=e.remove&&e.remove.length>0));return null==t||0==t.length}buildRefreshModelParams(e){let t="group";const n={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(O7(e)&&(t=n[e]),N7(t))return void h9(`invalid step ${e}, available steps are ${Object.keys(n).join(", ")}`);return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gos.get("suppressAnimationFrame")}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t="object"===typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(!t)return;if(this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const n=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,t.rowNodeOrder,n,!!t.afterColumnsChanged);case"filter":this.doFilter(n);case"pivot":this.doPivot(n);case"aggregate":this.doAggregate(n);case"filter_aggregates":this.doFilterAggregates(n);case"sort":this.doSort(t.rowNodeTransactions,n);case"map":this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,i),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=N7(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return N7(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return O7(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,i=!1;const r=[],o=this.gos.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort((s=>{if(i)return;if(n&&(s===t||s===e)&&(i=!0,s.group&&o))return void r.push(...s.allLeafChildren);if(!n){if(s!==t&&s!==e)return;n=!0}(!s.group||!o)&&r.push(s)})),r}setDatasource(e){h9("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let t=0,n=this.rowsToDisplay.length-1;if(e<=0)return 0;if(v7(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let i=-1,r=-1;for(;;){const o=Math.floor((t+n)/2),s=this.rowsToDisplay[o];if(this.isRowInPixel(s,e))return o;s.rowTop<e?t=o+1:s.rowTop>e&&(n=o-1);if(i===t&&r===n)return o;i=t,r=n}}isRowInPixel(e,t){const n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(((t,n)=>e(t,n)))}forEachNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:n,recursionType:i,includeFooterNodes:r}=e;let{index:o}=e;const s=e=>{const i=t[0]?.parent;if(!i)return;const s=r&&this.gos.getGrandTotalRow(),a=this.gos.getGroupTotalRowCallback(),l=r&&a({node:i});i===this.rootNode?s===e&&(i.createFooter(),n(i.sibling,o++)):l===e&&(i.createFooter(),n(i.sibling,o++))};s("top");for(let a=0;a<t.length;a++){const e=t[a];if(n(e,o++),e.hasChildren()&&!e.footer){let t=null;switch(i){case 0:t=e.childrenAfterGroup;break;case 1:t=e.childrenAfterAggFilter;break;case 2:t=e.childrenAfterSort;break;case 3:t=e.leafGroup?null:e.childrenAfterSort}t&&(o=this.recursivelyWalkNodesAndCallback({nodes:[...t],callback:n,recursionType:i,index:o,includeFooterNodes:r}))}}return s("bottom"),o}doAggregate(e){this.aggregationStage?.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),n=this.columnModel.isPivotActive(),i=r=>{r&&r.forEach((r=>{const o=()=>{r.expanded=e,i(r.childrenAfterGroup)};if(t){return void(O7(r.childrenAfterGroup)&&o())}if(n){return void(!r.leafGroup&&o())}r.group&&o()}))};this.rootNode&&i(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,n,i){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:t,changedPath:n}):this.groupStage.execute({rowNode:this.rootNode,changedPath:n,afterColumnsChanged:i}),this.gos.get("groupSelectsChildren")){this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",n)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"})}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if("string"==typeof e&&0==e.indexOf(One.ID_PREFIX_ROW_GROUP)){let t;return this.forEachNode((n=>{n.id===e&&(t=n)})),t}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const e=this.gos.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((()=>{this.executeBatchUpdateRowData()}),e)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let n=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((i=>{const r=this.nodeManager.updateRowData(i.rowDataTransaction,void 0);t.push(r),i.callback&&e.push(i.callback.bind(null,r)),"number"===typeof i.rowDataTransaction.addIndex&&(n=!0)})),this.commonUpdateRowData(t,void 0,n),e.length>0&&window.setTimeout((()=>{e.forEach((e=>e()))}),0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();const n=this.nodeManager.updateRowData(e,t),i="number"===typeof e.addIndex;return this.commonUpdateRowData([n],t,i),n}createRowNodeOrder(){if(this.gos.get("suppressMaintainUnsortedOrder"))return;const e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let t=0;t<this.rootNode.allLeafChildren.length;t++){e[this.rootNode.allLeafChildren[t].id]=t}return e}commonUpdateRowData(e,t,n){if(!this.hasStarted)return;const i=!this.gos.get("suppressAnimationFrame");n&&(t=this.createRowNodeOrder()),this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode((t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0})),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}},class extends k7{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const n=(t,n)=>{t.hasChildren()?t.childrenAfterFilter=e&&!n?t.childrenAfterGroup.filter((e=>{const t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,n=e.data&&this.filterManager.doesRowPassFilter({rowNode:e});return t||n})):t.childrenAfterGroup:t.childrenAfterFilter=t.childrenAfterGroup,t.sibling&&(t.sibling.childrenAfterFilter=t.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const e=(t,i)=>{if(t.childrenAfterGroup)for(let r=0;r<t.childrenAfterGroup.length;r++){const o=t.childrenAfterGroup[r],s=i||this.filterManager.doesRowPassFilter({rowNode:o});o.childrenAfterGroup?e(t.childrenAfterGroup[r],s):n(o,s)}n(t,i)},i=t=>e(t,!1);t.executeFromRootNode(i)}else{const e=e=>n(e,!1);t.forEachChangedNodeDepthFirst(e,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},class extends k7{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),n=O7(t)&&t.length>0,i=n&&O7(e.rowNodeTransactions)&&this.gos.get("deltaSort"),r=t.some((e=>this.gos.isColumnsSortingCoupledToGroup()?e.column.isPrimary()&&e.column.isRowGroupActive():!!e.column.getColDef().showRowGroup));this.sortService.sort(t,n,i,e.rowNodeTransactions,e.changedPath,r)}},class extends k7{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,n=[],i=this.columnModel.isPivotMode(),r=i&&t.leafGroup,o=r?[t]:t.childrenAfterSort,s=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(s,o,n,i,0);if(!r&&n.length>0&&s.grandTotalRow){t.createFooter();const e="top"===s.grandTotalRow;this.addRowNodeToRowsToDisplay(s,t.sibling,n,0,e)}return n}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gos.isGroupMultiAutoColumn(),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:this.gos.getGrandTotalRow(),groupTotalRow:this.gos.getGroupTotalRowCallback()}}recursivelyAddToRowsToDisplay(e,t,n,i,r){if(!B7(t))for(let o=0;o<t.length;o++){const s=t[o],a=s.hasChildren(),l=i&&!a,u=e.groupRemoveSingleChildren&&a&&1===s.childrenAfterGroup.length,c=e.groupRemoveLowestSingleChildren&&a&&s.leafGroup&&1===s.childrenAfterGroup.length,d=i&&s.leafGroup,h=e.hideOpenParents&&s.expanded&&!s.master&&!d;if(!l&&!h&&!u&&!c&&this.addRowNodeToRowsToDisplay(e,s,n,r),!i||!s.leafGroup)if(a){const t=u||c;if(s.expanded||t){const o=e.groupTotalRow({node:s});o||s.destroyFooter();const a=t?r:r+1;"top"===o&&(s.createFooter(),this.addRowNodeToRowsToDisplay(e,s.sibling,n,a)),this.recursivelyAddToRowsToDisplay(e,s.childrenAfterSort,n,i,a),"bottom"===o&&(s.createFooter(),this.addRowNodeToRowsToDisplay(e,s.sibling,n,a))}}else if(s.master&&s.expanded){const t=this.createDetailNode(s);this.addRowNodeToRowsToDisplay(e,t,n,r)}}}addRowNodeToRowsToDisplay(e,t,n,i,r){r?n.unshift(t):n.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:i)}createDetailNode(e){if(O7(e.detailNode))return e.detailNode;const t=new One(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,O7(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},class extends k7{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,n,i,r,o){const s=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some((e=>e.isRowGroupActive()));let l={};n&&i&&(l=this.calculateDirtyNodes(i));const u=this.columnModel.isPivotMode(),c=this.gos.getCallback("postSortRows"),d=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterAggFilter,!0);const d=u&&i.leafGroup;if(s&&a&&!i.leafGroup&&!o){const e=this.funcColsService.getRowGroupColumns()?.[i.level+1],t=null===e?.getSort(),n=i.childrenAfterAggFilter.slice(0);if(i.childrenAfterSort&&!t){const e={};i.childrenAfterSort.forEach(((t,n)=>{e[t.id]=n})),n.sort(((t,n)=>(e[t.id]??0)-(e[n.id]??0)))}i.childrenAfterSort=n}else i.childrenAfterSort=!t||d?i.childrenAfterAggFilter.slice(0):n?this.doDeltaSort(i,l,r,e):this.rowNodeSorter.doFullSort(i.childrenAfterAggFilter,e);if(i.sibling&&(i.sibling.childrenAfterSort=i.childrenAfterSort),this.updateChildIndexes(i),c){const e={nodes:i.childrenAfterSort};c(e)}};r&&r.forEachChangedNodeDepthFirst(d),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(e){const t={},n=e=>{e&&e.forEach((e=>t[e.id]=!0))};return e&&e.forEach((e=>{n(e.add),n(e.update),n(e.remove)})),t}doDeltaSort(e,t,n,i){const r=e.childrenAfterAggFilter,o=e.childrenAfterSort;if(!o)return this.rowNodeSorter.doFullSort(r,i);const s={},a=[];r.forEach((e=>{t[e.id]||!n.canSkip(e)?a.push(e):s[e.id]=!0}));const l=o.filter((e=>s[e.id])),u=(e,t)=>({currentPos:t,rowNode:e}),c=a.map(u).sort(((e,t)=>this.rowNodeSorter.compareRowNodes(i,e,t)));return this.mergeSortedArrays(i,c,l.map(u)).map((e=>{let{rowNode:t}=e;return t}))}mergeSortedArrays(e,t,n){const i=[];let r=0,o=0;for(;r<t.length&&o<n.length;){this.rowNodeSorter.compareRowNodes(e,t[r],n[o])<0?i.push(t[r++]):i.push(n[o++])}for(;r<t.length;)i.push(t[r++]);for(;o<n.length;)i.push(n[o++]);return i}updateChildIndexes(e){if(N7(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const i=t[n],r=0===n,o=n===e.childrenAfterSort.length-1;i.setFirstChild(r),i.setLastChild(o),i.setChildIndex(n)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return d9("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=e=>{this.pullDownGroupDataForHideOpenParents(e.childrenAfterSort,!1),e.childrenAfterSort.forEach((e=>{e.hasChildren()&&t(e)}))};e&&e.executeFromRootNode((e=>t(e)))}pullDownGroupDataForHideOpenParents(e,t){this.gos.get("groupHideOpenParents")&&!N7(e)&&e.forEach((e=>{(this.showRowGroupColsService?.getShowRowGroupCols()??[]).forEach((n=>{const i=n.getColDef().showRowGroup;if("string"!==typeof i)return void h9("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const r=i,o=this.columnModel.getColDefCol(r);if(!(o===e.rowGroupColumn))if(t)e.setGroupValue(n.getId(),void 0);else{const t=e.getFirstChildOfFirstChild(o);t&&e.setGroupValue(n.getId(),t.key)}}))}))}},class extends k7{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",(()=>this.onRowDataUpdated())))}isActive(){const e=this.gos.exists("getRowId");return!this.gos.get("resetRowDataOnUpdate")&&e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const[n,i]=t;this.clientSideRowModel.updateRowData(n,i)}createTransactionForRowData(e){if(N7(this.clientSideRowModel))return void h9("ImmutableService only works with ClientSideRowModel");const t=this.gos.getRowIdCallback();if(null==t)return void h9("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");const n={remove:[],update:[],add:[]},i=this.clientSideRowModel.getCopyOfNodesMap(),r=this.gos.get("suppressMaintainUnsortedOrder")?void 0:{};return O7(e)&&e.forEach(((e,o)=>{const s=t({data:e,level:0}),a=i[s];if(r&&(r[s]=o),a){a.data!==e&&n.update.push(e),i[s]=void 0}else n.add.push(e)})),K7(i,((e,t)=>{t&&n.remove.push(t.data)})),[n,r]}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}}]},ile={version:tle,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[nle,{version:tle,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[qae],apiFunctions:{onGroupExpandedOrCollapsed:function(e){e.expansionService.onGroupExpandedOrCollapsed()},refreshClientSideRowModel:function(e,t){e.rowModelHelperService?.getClientSideRowModel()?.refreshModel(t)},forEachLeafNode:function(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(t)},forEachNodeAfterFilter:function(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(t)},forEachNodeAfterFilterAndSort:function(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(t)},resetRowHeights:function(e){e.columnModel.isAutoRowHeightActive()?d9("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height."):e.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights()},applyTransaction:function(e,t){return e.frameworkOverrides.wrapIncoming((()=>e.rowModelHelperService?.getClientSideRowModel()?.updateRowData(t)))},applyTransactionAsync:function(e,t,n){e.frameworkOverrides.wrapIncoming((()=>e.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(t,n)))},flushAsyncTransactions:function(e){e.frameworkOverrides.wrapIncoming((()=>e.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions()))},getBestCostNodeSelection:function(e){return e.selectionService.getBestCostNodeSelection()}},dependantModules:[nle,Yae]}]},rle=class extends k7{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},ole=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:n,columnNameService:i,valueService:r,gos:o,processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.columnModel=t,this.funcColsService=n,this.columnNameService=i,this.valueService=r,this.gos=o,this.processCellCallback=s,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){this.groupColumns=e.filter((e=>!!e.getColDef().showRowGroup))}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,i,r){const o=this.gos.get("groupHideOpenParents")&&!r.footer||!this.shouldRenderGroupSummaryCell(r,e,t)?this.valueService.getValue(e,r):this.createValueForGroupNode(e,r);return this.processCell({accumulatedRowIndex:n,rowNode:r,column:e,value:o,processCellCallback:this.processCellCallback,type:i})}shouldRenderGroupSummaryCell(e,t,n){if(!(e&&e.group))return!1;if(-1!==this.groupColumns.indexOf(t)){if(null!=e.groupData?.[t.getId()])return!0;if(this.gos.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&-1===e.level){const e=t.getColDef();return null==e||!0===e.showRowGroup||e.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const i=this.gos.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===n&&i}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const n=this.gos.get("treeData"),i=this.gos.get("suppressGroupMaintainValueType"),r=t=>{if(n||i)return t.key;const r=t.groupData?.[e.getId()];return r&&t.rowGroupColumn&&!1!==t.rowGroupColumn.getColDef().useValueFormatterForExport?this.valueService.formatValue(t.rowGroupColumn,t,r)??r:r},o=t.footer,s=[r(t)];if(!this.gos.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,s.push(r(t));const a=s.reverse().join(" -> ");return o?`Total ${a}`:a}processCell(e){const{accumulatedRowIndex:t,rowNode:n,column:i,value:r,processCellCallback:o,type:s}=e;return o?{value:o(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:i,node:n,value:r,type:s,parseValue:e=>this.valueService.parseValue(i,n,e,this.valueService.getValue(i,n)),formatValue:e=>this.valueService.formatValue(i,n,e)??e}))??""}:!1!==i.getColDef().useValueFormatterForExport?{value:r??"",valueFormatted:this.valueService.formatValue(i,n,r)}:{value:r??""}}},sle=class{static download(e,t){const n=document.defaultView||window;if(!n)return void d9("There is no `window` associated with the current `document`");const i=document.createElement("a"),r=n.URL.createObjectURL(t);i.setAttribute("href",r),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout((()=>{n.URL.revokeObjectURL(r)}),0)}},ale=class extends ole{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&("string"===typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach((e=>{this.beginNewLine(),e.forEach(((e,t)=>{0!==t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e.data.value||""),e.mergeAcross&&this.appendEmptyCells(e.mergeAcross)}))})))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,i){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){0!=t&&(this.result+=this.columnSeparator);const i=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(i.valueFormatted??i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(null===e||void 0===e)return'""';let t;"string"===typeof e?t=e:"function"===typeof e.toString?t=e.toString():(d9("unknown value type during csv conversion"),t="");return'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}};var lle="32.1.0",ule={version:lle,moduleName:"@ag-grid-community/csv-export-core",beans:[class extends rle{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed())return void d9("Export cancelled. Export is not allowed as per your configuration.");const t=this.getMergedParams(e),n=this.getData(t),i=new Blob(["\ufeff",n],{type:"text/plain"}),r="function"===typeof t.fileName?t.fileName(this.gos.getGridCommonParams()):t.fileName;sle.download(this.getFileName(r),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Object.assign({},e):this.getMergedParams(e);return this.getData(t)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:n,funcColsService:i,valueService:r,gos:o}=this,{processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:c,columnSeparator:d}=e;return new ale({columnModel:t,columnNameService:n,funcColsService:i,valueService:r,gos:o,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:c||!1,columnSeparator:d||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}},class extends k7{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allColumns:n,columnKeys:i,skipRowGroups:r}=t,o=this.getColumnsToExport(n,r,i),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.reduce(((e,t)=>t(e)),e)}(this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t));return s(e).parse()}processRow(e,t,n,i){const r=t.shouldRowBeSkipped||(()=>!1),o=this.gos.get("groupRemoveSingleChildren"),s=this.gos.get("groupRemoveLowestSingleChildren"),a=null!=t.rowPositions||!!t.onlySelected,l=this.gos.get("groupHideOpenParents")&&!a,u=this.columnModel.isPivotMode()?i.leafGroup:!i.group,c=!!i.footer,d=s&&i.leafGroup,h=1===i.allChildrenCount&&1===i.childrenAfterGroup?.length&&(o||d);if(!u&&!c&&(t.skipRowGroups||h||l)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&"top"===i.rowPinned||t.skipPinnedBottom&&"bottom"===i.rowPinned)return;if(-1===i.level&&!u&&!c)return;if(r(this.gos.addGridCommonParams({node:i})))return;const p=e.onNewBodyRow(i);if(n.forEach(((e,t)=>{p.onColumn(e,t,i)})),t.getCustomContentBelowRow){const n=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:i}));n&&e.addCustomContent(n)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const i=new K9,r=this.visibleColsService.createGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(r,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const e=n.onNewHeaderRow();t.forEach(((t,n)=>{e.onColumn(t,n,void 0)}))}return n}}processPinnedTopRows(e,t){return n=>{const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter((e=>"top"===e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>this.pinnedRowModel.getPinnedTopRow(e.rowIndex))).forEach(i):this.pinnedRowModel.forEachPinnedRow("top",i),n}}processRows(e,t){return n=>{const i=this.rowModel,r=i.getType(),o="clientSide"===r,s="serverSide"===r,a=!o&&e.onlySelected,l=this.processRow.bind(this,n,e,t),{exportedRows:u="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter((e=>null==e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>i.getRow(e.rowIndex))).forEach(l);else if(this.columnModel.isPivotMode())o?i.forEachPivotNode(l,!0):s?i.forEachNodeAfterFilterAndSort(l,!0):i.forEachNode(l);else if(e.onlySelectedAllPages||a){const e=this.selectionService.getSelectedNodes();this.replicateSortedOrder(e),e.forEach(l)}else"all"===u?i.forEachNode(l):o||s?i.forEachNodeAfterFilterAndSort(l,!0):i.forEachNode(l);return n}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),n=(e,i)=>null!=e.rowIndex&&null!=i.rowIndex?e.rowIndex-i.rowIndex:e.level===i.level?e.parent?.id===i.parent?.id?this.rowNodeSorter.compareRowNodes(t,{rowNode:e,currentPos:e.rowIndex??-1},{rowNode:i,currentPos:i.rowIndex??-1}):n(e.parent,i.parent):e.level>i.level?n(e.parent,i):n(e,i.parent);e.sort(n)}processPinnedBottomRows(e,t){return n=>{const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter((e=>"bottom"===e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>this.pinnedRowModel.getPinnedBottomRow(e.rowIndex))).forEach(i):this.pinnedRowModel.forEachPinnedRow("bottom",i),n}}getColumnsToExport(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const i=this.columnModel.isPivotMode();if(n&&n.length)return this.columnModel.getColsForKeys(n);const r=this.gos.get("treeData");let o=[];return o=e&&!i?this.columnModel.getCols():this.visibleColsService.getAllCols(),t&&!r&&(o=o.filter((e=>e.getColId()!==b9))),o}recursivelyAddHeaderGroups(e,t,n){const i=[];e.forEach((e=>{const t=e;t.getChildren&&t.getChildren().forEach((e=>i.push(e)))})),e.length>0&&j9(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}doAddHeaderHeader(e,t,n){const i=e.onNewHeaderGroupingRow();let r=0;t.forEach((e=>{const t=e;let o;o=n?n(this.gos.addGridCommonParams({columnGroup:t})):this.columnNameService.getDisplayNameForColumnGroup(t,"header");const s=t.getLeafColumns().reduce(((e,t,n,i)=>{let r=v7(e);return"open"===t.getColumnGroupShow()?r&&null==r[1]||(r=[n],e.push(r)):r&&null==r[1]&&(r[1]=n-1),n===i.length-1&&r&&null==r[1]&&(r[1]=n),e}),[]);i.onColumn(t,o||"",r++,t.getLeafColumns().length-1,s)}))}}]},cle={version:lle,moduleName:"@ag-grid-community/csv-export",dependantModules:[ule,{version:lle,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:function(e,t){return e.csvCreator?.getDataAsCsv(t)},exportDataAsCsv:function(e,t){e.csvCreator?.exportDataAsCsv(t)}},dependantModules:[ule]}]};var dle=async e=>{const t=new Blob([e]),{size:n,content:i}=await(async e=>{let t=0;const n=[],i=new WritableStream({write:e=>{n.push(e),t+=e.length}}),r=new ReadableStream({start:t=>{const n=new FileReader;n.onload=e=>{e.target?.result&&t.enqueue(e.target.result),t.close()},n.readAsArrayBuffer(e)}}),o=new window.CompressionStream("deflate-raw");return await r.pipeThrough(o).pipeTo(i),{size:t,content:new Blob(n)}})(t);return{size:n,content:new Uint8Array(await i.arrayBuffer())}};function hle(e,t){let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n}var ple=e=>{if(!e.length)return 0;let t=~0,n=0,i=0,r=0;for(let o=0;o<e.length;o++)n=e[o],i=255&(t^n),r=fle[i],t=t>>>8^r;return~t},gle=e=>e.length?ple("string"===typeof e?(new TextEncoder).encode(e):e):0,fle=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),mle=(e,t,n,i,r,o)=>{const{content:s,path:a,created:l}=e,u=(e=>{let t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2,t})(l),c=(e=>{let t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate(),t})(l),d=gle(r),h=void 0!==o?o:i,p=G9(a),g=p!==a;let f="";if(g){const e=hle(1,1)+hle(gle(p),4)+p;f="up"+hle(e.length,2)+e}const m="\x14\0"+(g?"\0\b":"\0\0")+hle(t?8:0,2)+hle(u,2)+hle(c,2)+hle(h?d:0,4)+hle(o??i,4)+hle(i,4)+hle(p.length,2)+hle(f.length,2),v="PK\x03\x04"+m+p+f,y="PK\x01\x02\x14\0"+m+"\0\0\0\0\0\0"+(s?"\0\0\0\0":"\x10\0\0\0")+hle(n,4)+p+f;return{localFileHeader:Uint8Array.from(v,(e=>e.charCodeAt(0))),centralDirectoryHeader:Uint8Array.from(y,(e=>e.charCodeAt(0)))}},vle=e=>{let t;if("string"===typeof e){const n=atob(e.split(";base64,")[1]);t=Uint8Array.from(n,(e=>e.charCodeAt(0)))}else t=e;return{size:t.length,content:t}},yle=async(e,t)=>{const{content:n}=e,{size:i,content:r}=n?vle(n):{size:0,content:Uint8Array.from([])};let o,s,a=!1;if("file"===e.type&&r&&i>0){const e=await dle(r);o=e.content,s=e.size,a=!0}return{...mle(e,a,t,i,r,s),content:o||r,isCompressed:a}},wle=(e,t)=>{const{content:n}=e,{content:i}=n?vle(n):{content:Uint8Array.from([])};return{...mle(e,!1,t,i.length,i,void 0),content:i,isCompressed:!1}},Cle=class{static addFolders(e){e.forEach(this.addFolder.bind(this))}static addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}static addFile(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.files.push({path:e,created:new Date,content:n?t:(new TextEncoder).encode(t),isBase64:n,type:"file"})}static async getZipFile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/zip";const t=await this.buildCompressedFileStream();return this.clearStream(),new Blob([t],{type:e})}static getUncompressedZipFile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/zip";const t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(e){let t=0,n=0;for(const u of e){const{localFileHeader:e,centralDirectoryHeader:i,content:r}=u;t+=e.length+r.length,n+=i.length}const i=new Uint8Array(t),r=new Uint8Array(n);let o=0,s=0;for(const u of e){const{localFileHeader:e,centralDirectoryHeader:t,content:n}=u;i.set(e,o),o+=e.length,i.set(n,o),o+=n.length,r.set(t,s),s+=t.length}const a=((e,t,n)=>{const i="PK\x05\x06\0\0\0\0"+hle(e,2)+hle(e,2)+hle(t,4)+hle(n,4)+"\0\0";return Uint8Array.from(i,(e=>e.charCodeAt(0)))})(e.length,n,t),l=new Uint8Array(i.length+r.length+a.length);return l.set(i),l.set(r,i.length),l.set(a,i.length+r.length),l}static async buildCompressedFileStream(){const e=[...this.folders,...this.files],t=[];let n=0;for(const i of e){const e=await yle(i,n),{localFileHeader:r,content:o}=e;t.push(e),n+=r.length+o.length}return this.packageFiles(t)}static buildFileStream(){const e=[...this.folders,...this.files],t=[];let n=0;for(const i of e){const e=wle(i,n),{localFileHeader:r,content:o}=e;t.push(e),n+=r.length+o.length}return this.packageFiles(t)}};Cle.folders=[],Cle.files=[];var ble=class extends qoe{wireBeans(e){this.beans=e}constructor(e,t,n){super(e),this.parentCache=t,this.params=n,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,n){O7(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();N7(this.params.datasource.getRows)?d9("datasource is missing getRows method"):window.setTimeout((()=>{this.params.datasource.getRows(e)}),0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,n){this.rowNodes.forEach(((i,r)=>{this.startRow+r<n&&e(i,t.next())}))}getLastAccessed(){return this.lastAccessed}getRow(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(this.lastAccessed=this.params.lastAccessedSequence.next());const t=e-this.startRow;return this.rowNodes[t]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,n=new One(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(t),n.setRowTop(this.params.rowHeight*t),this.rowNodes.push(n)}}processServerResult(e){this.rowNodes.forEach(((t,n)=>{const i=e.rowData?e.rowData[n]:void 0;!t.id&&t.alreadyRendered&&i&&(this.rowNodes[n]=new One(this.beans),this.rowNodes[n].setRowIndex(t.rowIndex),this.rowNodes[n].setRowTop(t.rowTop),this.rowNodes[n].setRowHeight(t.rowHeight),t.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],i,this.startRow+n)}));const t=null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach((e=>{e.clearRowTopAndRowIndex()})),super.destroy()}},Sle=class extends k7{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Math.floor(e/this.params.blockSize);let i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}createBlock(e){const t=this.createBean(new ble(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach((e=>e.setStateWaitingToLoad())),this.params.rowNodeBlockLoader.checkBlockToLoad())}destroy(){this.getBlocksInOrder().forEach((e=>this.destroyBlock(e))),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&c9(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter((t=>t!=e));t.sort(((e,t)=>t.getLastAccessed()-e.getLastAccessed()));const n=this.params.maxBlocksInCache>0,i=n?this.params.maxBlocksInCache-1:null;t.forEach(((e,t)=>{if("needsLoading"===e.getState()&&t>=1||!!n&&t>=i){if(this.isBlockCurrentlyDisplayed(e))return;if(this.isBlockFocused(e))return;this.removeBlockFromCache(e)}}))}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;const n=e.getStartRow(),i=e.getEndRow();return t.rowIndex>=n&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),n=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,n)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if("number"===typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const t=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<t&&(this.rowCount=t)}}setRowCount(e,t){this.rowCount=e,O7(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new gte;this.getBlocksInOrder().forEach((n=>n.forEachNode(e,t,this.rowCount)))}getBlocksInOrder(){return X7(this.blocks).sort(((e,t)=>e.getId()-t.getId()))}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach((t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)})),e.length>0&&e.forEach((e=>this.destroyBlock(e)))}purgeCache(){this.getBlocksInOrder().forEach((e=>this.removeBlockFromCache(e))),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let i=-1,r=!1;const o=new gte;let s=!1;this.getBlocksInOrder().forEach((a=>{s||(r&&i+1!==a.getId()?s=!0:(i=a.getId(),a.forEachNode((i=>{const o=i===e||i===t;(r||o)&&n.push(i),o&&(r=!r)}),o,this.rowCount)))}));return s||r?[]:n}};var xle="32.1.0",Mle={version:xle,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[class extends k7{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.isRowModelType("infinite")&&(this.rowHeight=this.gos.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((()=>this.destroyCache())),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&d9("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",(()=>this.setDatasource(this.gos.get("datasource")))),this.addManagedPropertyListener("cacheBlockSize",(()=>this.resetCache())),this.addManagedPropertyListener("rowHeight",(()=>{this.rowHeight=this.gos.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()}))}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;e=!this.cacheParams||this.isSortModelDifferent(),e&&this.reset()}isSortModelDifferent(){return!W7(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;null!=this.gos.getRowIdCallback()||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager?.getFilterModel()??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:this.gos.getRowHeightAsNumber(),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new gte},this.infiniteCache=this.createBean(new Sle(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode((e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)})),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode((n=>{n.id===e&&(t=n)})),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(0!==this.rowHeight){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}}],dependantModules:[Yoe]},_le={version:xle,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[Mle,{version:xle,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[qae],apiFunctions:{refreshInfiniteCache:function(e){e.rowModelHelperService?.getInfiniteRowModel()?.refreshCache()},purgeInfiniteCache:function(e){e.rowModelHelperService?.getInfiniteRowModel()?.purgeCache()},getInfiniteRowCount:function(e){return e.rowModelHelperService?.getInfiniteRowModel()?.getRowCount()},isLastRowIndexKnown:function(e){return e.rowModelHelperService?.getInfiniteRowModel()?.isLastRowIndexKnown()}},dependantModules:[Mle,Xae]}]};Fte.__registerModules([mae,ile,_le,cle],!1,void 0);var Rle=o.createContext({}),Dle=(e,t,n,i)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const r=e.newAgStackInstance();if(null==r)return;let o,s,a=!1;return r.then((e=>{a?t.destroyBean(e):(o=e,s=o.getGui(),n.appendChild(s),Ple(i,o))})),()=>{a=!0,o&&(s&&s.parentElement&&s.parentElement.removeChild(s),t.destroyBean(o),i&&Ple(i,void 0))}},Ple=(e,t)=>{if(e)if(e instanceof Function){e(t)}else{e.current=t}},Tle=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e&&""!==e)).join(" ")},Ale=class e{constructor(){this.classesMap={};for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>{this.classesMap[e]=!0}))}setClass(t,n){if(!!this.classesMap[t]==n)return this;const i=new e;return i.classesMap={...this.classesMap},i.classesMap[t]=n,i}toString(){return Object.keys(this.classesMap).filter((e=>this.classesMap[e])).join(" ")}},Ele=e=>"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===("function"===typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),Ile=null!=a.createRoot&&null!=a.flushSync;var kle=!1;var Fle=(e,t)=>{Ile&&e&&!kle?a.flushSync(t):t()};function Lle(e,t,n){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(n||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;const i=[],r=[],o=new Map,s=new Map;for(let a=0;a<t.length;a++){const e=t[a];s.set(e.getInstanceId(),e)}for(let a=0;a<e.length;a++){const t=e[a];o.set(t.getInstanceId(),t),s.has(t.getInstanceId())&&i.push(t)}for(let a=0;a<t.length;a++){const e=t[a],n=e.getInstanceId();o.has(n)||r.push(e)}return i.length===e.length&&0===r.length?e:0===i.length&&r.length===t.length?t:0===i.length?r:0===r.length?i:[...i,...r]}var Ole=(0,o.forwardRef)(((e,t)=>{const{ctrlsFactory:n,context:i}=(0,o.useContext)(Rle),r=(0,o.useRef)(null),s=(0,o.useRef)(null),a=(0,o.useRef)(null),l=(0,o.useRef)(null),u=(0,o.useRef)(null),c=(0,o.useRef)(),[d,h]=(0,o.useState)(),[p,g]=(0,o.useState)(),[f,m]=(0,o.useState)(),[v,y]=(0,o.useState)((()=>new Ale)),[w,C]=(0,o.useState)((()=>new Ale("ag-hidden"))),[b,S]=(0,o.useState)((()=>new Ale("ag-hidden"))),[x,M]=(0,o.useState)((()=>new Ale("ag-invisible")));(0,o.useImperativeHandle)(t,(()=>({refresh:()=>!1}))),(0,o.useLayoutEffect)((()=>Dle(d,i,s.current)),[d]);const _=(0,o.useCallback)((t=>{if(r.current=t,!r.current)return i.destroyBean(c.current),void(c.current=null);const o={setInnerRenderer:(e,t)=>{h(e),m(t)},setChildCount:e=>g(e),addOrRemoveCssClass:(e,t)=>y((n=>n.setClass(e,t))),setContractedDisplayed:e=>S((t=>t.setClass("ag-hidden",!e))),setExpandedDisplayed:e=>C((t=>t.setClass("ag-hidden",!e))),setCheckboxVisible:e=>M((t=>t.setClass("ag-invisible",!e)))},s=n.getInstance("groupCellRendererCtrl");s&&(c.current=i.createBean(s),c.current.init(o,r.current,a.current,l.current,u.current,Ole,e))}),[]),R=(0,o.useMemo)((()=>`ag-cell-wrapper ${v.toString()}`),[v]),D=(0,o.useMemo)((()=>`ag-group-expanded ${w.toString()}`),[w]),P=(0,o.useMemo)((()=>`ag-group-contracted ${b.toString()}`),[b]),T=(0,o.useMemo)((()=>`ag-group-checkbox ${x.toString()}`),[x]),A=d&&d.componentFromFramework,E=A?d.componentClass:void 0,I=null==d&&null!=f,k=V9(f,!0);return o.createElement("span",{className:R,ref:_,...e.colDef?{}:{role:c.current?.getCellAriaRole()}},o.createElement("span",{className:D,ref:l}),o.createElement("span",{className:P,ref:u}),o.createElement("span",{className:T,ref:a}),o.createElement("span",{className:"ag-group-value",ref:s},I&&o.createElement(o.Fragment,null,k),A&&o.createElement(E,{...d.params})),o.createElement("span",{className:"ag-group-child-count"},p))})),Nle=Ole,Ble=(0,o.createContext)({setMethods:()=>{}}),Gle=(0,o.memo)((e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:i,setMethods:r}=e,[s,a]=(0,o.useState)(t);return(0,o.useEffect)((()=>{n((e=>a(e)))}),[]),o.createElement(Ble.Provider,{value:{setMethods:r}},o.createElement(i,{...s}))})),Vle=0;function zle(){return"agPortalKey_"+ ++Vle}var Hle=class{constructor(e,t,n,i){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=zle(),this.portalKey=zle(),this.instanceCreated=this.isStatelessComponent()?ene.resolve(!1):new ene((e=>{this.resolveInstanceCreated=e}))}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}addParentContainerStyleAndClasses(){if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(d9('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){d9('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.');this.componentInstance.getReactContainerClasses().forEach((e=>this.eParentElement.classList.add(e)))}}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"===typeof Symbol&&Symbol.for}isStateless(e){return"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n)return void setTimeout((()=>this.callMethod(e,t)));const i=n[e];return i?i.apply(n,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new ene((e=>this.createReactComponent(e)))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,a.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,o.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){if(this.suppressFallbackMethods)return!1;return!!this[`${e}Component`]}};function Wle(e,t,n){e.forEach((e=>{const i=t[e];i&&(n[e]=i)}))}var Ule=class extends Hle{constructor(){super(...arguments),this.awaitUpdateCallback=new ene((e=>{this.resolveUpdateCallback=e})),this.wrapperComponent=Gle}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new ene((e=>{setTimeout((()=>{e()}))}))),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Wle(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new ene((e=>this.awaitUpdateCallback.then((()=>{this.updateCallback().then((()=>e()))}))))}},jle=class extends Ule{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},$le=class extends Ule{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Kle=class extends Ule{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){!1===this.expectingNewMethods&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout((()=>{this.sourceParams.filterChangedCallback()})),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then((()=>this.sourceParams.filterChangedCallback()))}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function qle(e,t){e.parentFilterInstance((n=>{(n.setModel(t)||ene.resolve()).then((()=>{e.filterParams.filterChangedCallback()}))}))}var Yle=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Wle(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),qle(this.floatingFilterParams,e)}},Xle=class extends Ule{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),qle(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Zle=class extends Ule{refresh(e){this.sourceParams=e,this.refreshProps()}},Qle=class extends Ule{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then((()=>this.sourceParams.onItemActivated()))}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Jle=class extends Ule{refresh(e){this.sourceParams=e,this.refreshProps()}},eue=class extends Ule{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},tue=class extends Ule{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function nue(){d9("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var iue=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||1e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter((t=>t!==e)),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout((()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)})),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout((()=>{this.waitForInstance(e,t,n)}))}}},rue=(0,o.memo)((e=>{const{ctrl:t}=e,n=t.isAlive(),{context:i}=(0,o.useContext)(Rle),r=n?t.getColId():void 0,[s,a]=(0,o.useState)(),l=(0,o.useRef)(null),u=(0,o.useRef)(null),c=(0,o.useRef)(null),d=(0,o.useRef)(),h=(0,o.useRef)();n&&!h.current&&(h.current=new pee((()=>l.current)));const p=(0,o.useCallback)((e=>{if(l.current=e,!l.current||!n)return;const i={setWidth:e=>{l.current&&(l.current.style.width=e)},addOrRemoveCssClass:(e,t)=>h.current.addOrRemoveCssClass(e,t),setAriaSort:e=>{l.current&&(e?Pee(l.current,e):Tee(l.current))},setUserCompDetails:e=>a(e),getUserCompInstance:()=>d.current||void 0};t.setComp(i,l.current,u.current,c.current);const r=t.getSelectAllGui();u.current?.insertAdjacentElement("afterend",r)}),[]);(0,o.useLayoutEffect)((()=>Dle(s,i,c.current,d)),[s]),(0,o.useEffect)((()=>{t.setDragSource(l.current)}),[s]);const g=(0,o.useMemo)((()=>!!(s?.componentFromFramework&&Ele(s.componentClass))),[s]),f=s&&s.componentFromFramework,m=s&&s.componentClass;return o.createElement("div",{ref:p,className:"ag-header-cell","col-id":r,role:"columnheader"},o.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),o.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},f&&g&&o.createElement(m,{...s.params}),f&&!g&&o.createElement(m,{...s.params,ref:d})))})),oue=(0,o.memo)((e=>{const{context:t,gos:n}=(0,o.useContext)(Rle),[i,r]=(0,o.useState)((()=>new Ale("ag-header-cell","ag-floating-filter"))),[s,a]=(0,o.useState)((()=>new Ale)),[l,u]=(0,o.useState)((()=>new Ale("ag-floating-filter-button","ag-hidden"))),[c,d]=(0,o.useState)("false"),[h,p]=(0,o.useState)(),[,g]=(0,o.useState)(1),f=(0,o.useRef)(null),m=(0,o.useRef)(null),v=(0,o.useRef)(null),y=(0,o.useRef)(null),w=(0,o.useRef)(),C=(0,o.useRef)(),b=e=>{null!=e&&w.current&&w.current(e)},{ctrl:S}=e,x=(0,o.useCallback)((e=>{if(f.current=e,!f.current)return;C.current=new ene((e=>{w.current=e}));const t={addOrRemoveCssClass:(e,t)=>r((n=>n.setClass(e,t))),addOrRemoveBodyCssClass:(e,t)=>a((n=>n.setClass(e,t))),setButtonWrapperDisplayed:e=>{u((t=>t.setClass("ag-hidden",!e))),d(e?"false":"true")},setWidth:e=>{f.current&&(f.current.style.width=e)},setCompDetails:e=>p(e),getFloatingFilterComp:()=>C.current?C.current:null,setMenuIcon:e=>y.current?.appendChild(e)};S.setComp(t,f.current,y.current,m.current)}),[]);(0,o.useLayoutEffect)((()=>Dle(h,t,m.current,b)),[h]);const M=(0,o.useMemo)((()=>i.toString()),[i]),_=(0,o.useMemo)((()=>s.toString()),[s]),R=(0,o.useMemo)((()=>l.toString()),[l]),D=(0,o.useMemo)((()=>!!(h&&h.componentFromFramework&&Ele(h.componentClass))),[h]),P=(0,o.useMemo)((()=>n.get("reactiveCustomComponents")),[]),T=(0,o.useMemo)((()=>{if(h){if(P){const e=new Yle(h.params,(()=>g((e=>e+1))));return b(e),e}h.componentFromFramework&&nue()}}),[h]),A=T?.getProps(),E=h&&h.componentFromFramework,I=h&&h.componentClass;return o.createElement("div",{ref:x,className:M,role:"gridcell"},o.createElement("div",{ref:m,className:_,role:"presentation"},E&&!P&&o.createElement(I,{...h.params,ref:D?()=>{}:b}),E&&P&&o.createElement(Ble.Provider,{value:{setMethods:e=>T.setMethods(e)}},o.createElement(I,{...A}))),o.createElement("div",{ref:v,"aria-hidden":c,className:R,role:"presentation"},o.createElement("button",{ref:y,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))})),sue=(0,o.memo)((e=>{const{context:t}=(0,o.useContext)(Rle),{ctrl:n}=e,[i,r]=(0,o.useState)((()=>new Ale)),[s,a]=(0,o.useState)((()=>new Ale)),[l,u]=(0,o.useState)("false"),[c,d]=(0,o.useState)(),[h,p]=(0,o.useState)(),g=(0,o.useMemo)((()=>n.getColId()),[]),f=(0,o.useRef)(null),m=(0,o.useRef)(null),v=(0,o.useRef)(null),y=(0,o.useRef)(),w=(0,o.useCallback)((e=>{if(f.current=e,!f.current)return;const t={setWidth:e=>{f.current&&(f.current.style.width=e)},addOrRemoveCssClass:(e,t)=>r((n=>n.setClass(e,t))),setUserCompDetails:e=>p(e),setResizableDisplayed:e=>{a((t=>t.setClass("ag-hidden",!e))),u(e?"false":"true")},setAriaExpanded:e=>d(e),getUserCompInstance:()=>y.current||void 0};n.setComp(t,f.current,m.current,v.current)}),[]);(0,o.useLayoutEffect)((()=>Dle(h,t,v.current)),[h]),(0,o.useEffect)((()=>{f.current&&n.setDragSource(f.current)}),[h]);const C=(0,o.useMemo)((()=>!!(h?.componentFromFramework&&Ele(h.componentClass))),[h]),b=(0,o.useMemo)((()=>"ag-header-group-cell "+i.toString()),[i]),S=(0,o.useMemo)((()=>"ag-header-cell-resize "+s.toString()),[s]),x=h&&h.componentFromFramework,M=h&&h.componentClass;return o.createElement("div",{ref:w,className:b,"col-id":g,role:"columnheader","aria-expanded":c},o.createElement("div",{ref:v,className:"ag-header-cell-comp-wrapper",role:"presentation"},x&&C&&o.createElement(M,{...h.params}),x&&!C&&o.createElement(M,{...h.params,ref:y})),o.createElement("div",{ref:m,"aria-hidden":l,className:S}))})),aue=(0,o.memo)((e=>{const{ctrl:t}=e,{topOffset:n,rowHeight:i}=(0,o.useMemo)((()=>t.getTopAndHeight()),[]),r=t.getAriaRowIndex(),s=t.getHeaderRowClass(),[a,l]=(0,o.useState)((()=>i+"px")),[u,c]=(0,o.useState)((()=>n+"px")),d=(0,o.useRef)(null),h=(0,o.useRef)(null),[p,g]=(0,o.useState)((()=>t.getHeaderCtrls())),f=(0,o.useRef)(null),m=(0,o.useCallback)((e=>{if(f.current=e,!e)return;const n={setHeight:e=>l(e),setTop:e=>c(e),setHeaderCtrls:(e,t,n)=>{h.current=d.current,d.current=e;const i=Lle(h.current,e,t);i!==h.current&&Fle(n,(()=>g(i)))},setWidth:e=>{f.current&&(f.current.style.width=e)}};t.setComp(n,!1)}),[]),v=(0,o.useMemo)((()=>({height:a,top:u})),[a,u]),y=(0,o.useCallback)((e=>{switch(t.getType()){case Xie.COLUMN_GROUP:return o.createElement(sue,{ctrl:e,key:e.getInstanceId()});case Xie.FLOATING_FILTER:return o.createElement(oue,{ctrl:e,key:e.getInstanceId()});default:return o.createElement(rue,{ctrl:e,key:e.getInstanceId()})}}),[]);return o.createElement("div",{ref:m,className:s,role:"row",style:v,"aria-rowindex":r},p.map(y))})),lue=(0,o.memo)((e=>{const[t,n]=(0,o.useState)(!0),[i,r]=(0,o.useState)([]),{context:s}=(0,o.useContext)(Rle),a=(0,o.useRef)(null),l=(0,o.useRef)(null),u=(0,o.useRef)(null),c="left"===e.pinned,d="right"===e.pinned,h=!c&&!d,p=(0,o.useCallback)((t=>{if(a.current=t,!a.current)return s.destroyBean(u.current),void(u.current=null);const i={setDisplayed:n,setCtrls:e=>r(e),setCenterWidth:e=>{l.current&&(l.current.style.width=e)},setViewportScrollLeft:e=>{a.current&&(a.current.scrollLeft=e)},setPinnedContainerWidth:e=>{a.current&&(a.current.style.width=e,a.current.style.minWidth=e,a.current.style.maxWidth=e)}};u.current=s.createBean(new fre(e.pinned)),u.current.setComp(i,a.current)}),[]),g=t?"":"ag-hidden",f=()=>i.map((e=>o.createElement(aue,{ctrl:e,key:e.getInstanceId()})));return o.createElement(o.Fragment,null,c&&o.createElement("div",{ref:p,className:"ag-pinned-left-header "+g,"aria-hidden":!t,role:"rowgroup"},f()),d&&o.createElement("div",{ref:p,className:"ag-pinned-right-header "+g,"aria-hidden":!t,role:"rowgroup"},f()),h&&o.createElement("div",{ref:p,className:"ag-header-viewport "+g,role:"presentation"},o.createElement("div",{ref:l,className:"ag-header-container",role:"rowgroup"},f())))})),uue=(0,o.memo)((()=>{const[e,t]=(0,o.useState)((()=>new Ale)),[n,i]=(0,o.useState)(),{context:r}=(0,o.useContext)(Rle),s=(0,o.useRef)(null),a=(0,o.useRef)(null),l=(0,o.useCallback)((e=>{if(s.current=e,!e)return r.destroyBean(a.current),void(a.current=null);const n={addOrRemoveCssClass:(e,n)=>t((t=>t.setClass(e,n))),setHeightAndMinHeight:e=>i(e)};a.current=r.createBean(new Qie),a.current.setComp(n,s.current,s.current)}),[]),u=(0,o.useMemo)((()=>"ag-header "+e.toString()),[e]),c=(0,o.useMemo)((()=>({height:n,minHeight:n})),[n]);return o.createElement("div",{ref:l,className:u,style:c,role:"presentation"},o.createElement(lue,{pinned:"left"}),o.createElement(lue,{pinned:null}),o.createElement(lue,{pinned:"right"}))})),cue=(e,t)=>{(0,o.useEffect)((()=>{const n=t.current;if(n){const t=n.parentElement;if(t){const i=document.createComment(e);return t.insertBefore(i,n),()=>{t.removeChild(i)}}}}),[e])},due=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new ene((e=>{this.resolveInstanceCreated=e})),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Wle(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},hue=(0,o.memo)((e=>{const[t,n]=(0,o.useState)(),{context:i,popupService:r,localeService:s,gos:l,editService:u}=(0,o.useContext)(Rle);return(e=>{const t=(0,o.useRef)(e),n=(0,o.useRef)(),i=(0,o.useRef)(!1),r=(0,o.useRef)(!1),[,s]=(0,o.useState)(0);i.current&&(r.current=!0),(0,o.useEffect)((()=>(i.current||(n.current=t.current(),i.current=!0),s((e=>e+1)),()=>{r.current&&n.current&&n.current()})),[])})((()=>{const{editDetails:t,cellCtrl:o,eParentCell:a}=e,{compDetails:c}=t,d=l.get("stopEditingWhenCellsLoseFocus"),h=i.createBean(u.createPopupEditorWrapper(c.params)),p=h.getGui();if(e.jsChildComp){const t=e.jsChildComp.getGui();t&&p.appendChild(t)}const g={column:o.getColumn(),rowNode:o.getRowNode(),type:"popupCellEditor",eventSource:a,ePopup:p,position:t.popupPosition,keepWithinBounds:!0},f=r.positionPopupByComponent.bind(r,g),m=s.getLocaleTextFunc(),v=r.addPopup({modal:d,eChild:p,closeOnEsc:!0,closedCallback:()=>{o.onPopupEditorClosed()},anchorToElement:a,positionCallback:f,ariaLabel:m("ariaLabelCellEditor","Cell Editor")}),y=v?v.hideFunc:void 0;return n(h),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{null!=y&&y(),i.destroyBean(h)}})),o.createElement(o.Fragment,null,t&&e.wrappedContent&&(0,a.createPortal)(e.wrappedContent,t.getGui()))})),pue=(e,t,n,i,r,s)=>{const{context:a}=(0,o.useContext)(Rle),l=(0,o.useCallback)((()=>{const e=r.current;if(!e)return;const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),a.destroyBean(e),r.current=void 0}),[]);(0,o.useEffect)((()=>{const i=null!=e,o=e&&e.compDetails&&!e.compDetails.componentFromFramework;if(!(i&&o&&!(t&&null==n)))return void l();const a=e.compDetails;if(r.current){const t=r.current,n=!!(null!=t.refresh&&0==e.force)&&t.refresh(a.params);if(!0===n||void 0===n)return;l()}const u=a.newAgStackInstance();null!=u&&u.then((e=>{if(!e)return;const i=e.getGui();if(!i)return;(t?n:s.current).appendChild(i),r.current=e}))}),[e,t,i]),(0,o.useEffect)((()=>l),[])},gue=(e,t,n)=>{const i=e.compProxy;return o.createElement(o.Fragment,null,!i&&o.createElement(t,{...e.compDetails.params,ref:n}),i&&((e,t,n)=>{const{compProxy:i}=e;n(i);const r=i.getProps(),s=Ele(t);return o.createElement(Ble.Provider,{value:{setMethods:e=>i.setMethods(e)}},s&&o.createElement(t,{...r}),!s&&o.createElement(t,{...r,ref:e=>i.setRef(e)}))})(e,t,n))},fue=(0,o.memo)((e=>{const{context:t}=(0,o.useContext)(Rle),{cellCtrl:n,printLayout:i,editingRow:r}=e,s=n.getColumnIdSanitised(),a=n.getInstanceId(),[l,u]=(0,o.useState)((()=>n.isCellRenderer()?void 0:{compDetails:void 0,value:n.getValueToDisplay(),force:!1})),[c,d]=(0,o.useState)(),[h,p]=(0,o.useState)(1),[g,f]=(0,o.useState)(),[m,v]=(0,o.useState)(!1),[y,w]=(0,o.useState)(!1),[C,b]=(0,o.useState)(!1),[S,x]=(0,o.useState)(),M=(0,o.useMemo)((()=>n.isForceWrapper()),[n]),_=(0,o.useMemo)((()=>n.getCellAriaRole()),[n]),R=(0,o.useRef)(null),D=(0,o.useRef)(null),P=(0,o.useRef)(),T=(0,o.useRef)(),A=(0,o.useRef)(),E=(0,o.useRef)([]),I=(0,o.useRef)(),[k,F]=(0,o.useState)(0),L=(0,o.useCallback)((e=>{I.current=e,F((e=>e+1))}),[]),O=M||null!=l&&(m||C||y),N=(0,o.useCallback)(((e,t)=>{if(T.current=t,t){t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout((()=>{n.stopEditing(!0),n.focusCell(!0)}))}}),[n]),B=(0,o.useCallback)((e=>N(!0,e)),[N]),G=(0,o.useCallback)((e=>N(!1,e)),[N]),V=(0,o.useRef)();V.current||(V.current=new pee((()=>R.current))),pue(l,O,I.current,k,P,R);const z=(0,o.useRef)();(0,o.useLayoutEffect)((()=>{const e=z.current,t=l;if(z.current=l,null==e||null==e.compDetails||null==t||null==t.compDetails)return;const n=e.compDetails,i=t.compDetails;if(n.componentClass!=i.componentClass)return;if(null==D.current||null==D.current.refresh)return;1!=D.current.refresh(i.params)&&p((e=>e+1))}),[l]),(0,o.useLayoutEffect)((()=>{if(!(c&&!c.compDetails.componentFromFramework))return;const e=c.compDetails,n=!0===c.popup,i=e.newAgStackInstance();return i.then((e=>{if(!e)return;const t=e.getGui();if(N(n,e),!n){const n=(M?A:R).current;n?.appendChild(t),e.afterGuiAttached&&e.afterGuiAttached()}x(e)})),()=>{i.then((e=>{const i=e.getGui();t.destroyBean(e),N(n,void 0),x(void 0),i&&i.parentElement&&i.parentElement.removeChild(i)}))}}),[c]);const H=(0,o.useCallback)((e=>{if(A.current=e,!A.current)return E.current.forEach((e=>e())),void(E.current=[]);const i=e=>{if(e){const n=e.getGui();A.current?.insertAdjacentElement("afterbegin",n),E.current.push((()=>{t.destroyBean(e),ite(n)}))}return e};if(m){i(n.createSelectionCheckbox())}C&&i(n.createDndSource()),y&&i(n.createRowDragComp())}),[n,t,C,y,m]),W=(0,o.useCallback)((e=>{if(R.current=e,!R.current)return;if(!n)return;const t={addOrRemoveCssClass:(e,t)=>V.current.addOrRemoveCssClass(e,t),setUserStyles:e=>f(e),getFocusableElement:()=>R.current,setIncludeSelection:e=>v(e),setIncludeRowDrag:e=>w(e),setIncludeDndSource:e=>b(e),getCellEditor:()=>T.current||null,getCellRenderer:()=>D.current?D.current:P.current,getParentOfValue:()=>I.current?I.current:A.current?A.current:R.current,setRenderDetails:(e,t,n)=>{u((i=>i?.compDetails!==e||i?.value!==t||i?.force!==n?{value:t,compDetails:e,force:n}:i))},setEditDetails:(e,t,n,i)=>{if(e){let r;i?r=new due(e.params,(()=>p((e=>e+1)))):e.componentFromFramework&&nue(),d({compDetails:e,popup:t,popupPosition:n,compProxy:r}),t||u(void 0)}else d((e=>{e?.compProxy&&(T.current=void 0)}))}},o=A.current||void 0;n.setComp(t,R.current,o,i,r)}),[]),U=(0,o.useMemo)((()=>!!(l&&l.compDetails&&l.compDetails.componentFromFramework&&Ele(l.compDetails.componentClass))),[l]);(0,o.useLayoutEffect)((()=>{R.current&&(V.current.addOrRemoveCssClass("ag-cell-value",!O),V.current.addOrRemoveCssClass("ag-cell-inline-editing",!!c&&!c.popup),V.current.addOrRemoveCssClass("ag-cell-popup-editing",!!c&&!!c.popup),V.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!c||!!c.popup),n.getRowCtrl()?.setInlineEditingCss(),n.shouldRestoreFocus()&&!n.isEditing()&&R.current.focus({preventScroll:!0}))}));const j=()=>o.createElement(o.Fragment,null,null!=l&&((e,t,n,i,r,s,a)=>{const{compDetails:l,value:u}=e,c=!l,d=l&&l.componentFromFramework,h=l&&l.componentClass,p=u?.toString?u.toString():u,g=()=>o.createElement(o.Fragment,null,c&&o.createElement(o.Fragment,null,p),d&&!s&&o.createElement(h,{...l.params,key:t,ref:i}),d&&s&&o.createElement(h,{...l.params,key:t}));return o.createElement(o.Fragment,null,r?o.createElement("span",{role:"presentation",id:`cell-${n}`,className:"ag-cell-value",ref:a},g()):g())})(l,h,a,D,O,U,L),null!=c&&((e,t,n,i,r,s)=>{const a=e.compDetails,l=a.componentClass,u=a.componentFromFramework&&!e.popup,c=a.componentFromFramework&&e.popup,d=!a.componentFromFramework&&e.popup;return o.createElement(o.Fragment,null,u&&gue(e,l,t),c&&o.createElement(hue,{editDetails:e,cellCtrl:r,eParentCell:i,wrappedContent:gue(e,l,n)}),d&&s&&o.createElement(hue,{editDetails:e,cellCtrl:r,eParentCell:i,jsChildComp:s}))})(c,G,B,R.current,n,S)),$=(0,o.useCallback)((()=>n.onFocusOut()),[]);return o.createElement("div",{ref:W,style:g,role:_,"col-id":s,onBlur:$},O?o.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:H},j()):j())})),mue=(0,o.memo)((e=>{const{context:t,gos:n}=(0,o.useContext)(Rle),{rowCtrl:i,containerType:r}=e,s=(0,o.useRef)(i.getDomOrder()),a=i.isFullWidth(),l=i.getRowNode().displayed,[u,c]=(0,o.useState)((()=>l?i.getRowIndex():null)),[d,h]=(0,o.useState)((()=>i.getRowId())),[p,g]=(0,o.useState)((()=>i.getBusinessKey())),[f,m]=(0,o.useState)((()=>i.getRowStyles())),v=(0,o.useRef)(null),y=(0,o.useRef)(null),[w,C]=(0,o.useState)((()=>null)),[b,S]=(0,o.useState)(),[x,M]=(0,o.useState)((()=>l?i.getInitialRowTop(r):void 0)),[_,R]=(0,o.useState)((()=>l?i.getInitialTransform(r):void 0)),D=(0,o.useRef)(null),P=(0,o.useRef)(),T=(0,o.useRef)(!1),[A,E]=(0,o.useState)(0);(0,o.useEffect)((()=>{if(T.current)return;if(!b)return;if(A>10)return;const e=D.current?.firstChild;e?(i.setupDetailRowAutoHeight(e),T.current=!0):E((e=>e+1))}),[b,A]);const I=(0,o.useRef)();I.current||(I.current=new pee((()=>D.current)));const k=(0,o.useCallback)((e=>{if(D.current=e,!D.current)return void i.unsetComp(r);if(!i.isAlive())return;const t={setTop:M,setTransform:R,addOrRemoveCssClass:(e,t)=>I.current.addOrRemoveCssClass(e,t),setDomOrder:e=>s.current=e,setRowIndex:c,setRowId:h,setRowBusinessKey:g,setUserStyles:m,setCellCtrls:(e,t)=>{y.current=v.current,v.current=e;const n=Lle(y.current,e,s.current);n!==y.current&&Fle(t,(()=>C(n)))},showFullWidth:e=>S(e),getFullWidthCellRenderer:()=>P.current,refreshFullWidth:e=>B.current?(S((t=>({...t,params:e()}))),!0):!(!P.current||!P.current.refresh)&&P.current.refresh(e())};i.setComp(t,D.current,r)}),[]);(0,o.useLayoutEffect)((()=>Dle(b,t,D.current,P)),[b]);const F=(0,o.useMemo)((()=>{const e={top:x,transform:_};return Object.assign(e,f),e}),[x,_,f]),L=a&&b&&b.componentFromFramework,O=!a&&null!=w,N=(0,o.useMemo)((()=>!!(b?.componentFromFramework&&Ele(b.componentClass))),[b]),B=(0,o.useRef)(!1);(0,o.useEffect)((()=>{B.current=N&&!!b&&!!n.get("reactiveCustomComponents")}),[N,b]);return o.createElement("div",{ref:k,role:"row",style:F,"row-index":u,"row-id":d,"row-business-key":p},O&&w?.map((e=>o.createElement(fue,{cellCtrl:e,editingRow:i.isEditing(),printLayout:i.isPrintLayout(),key:e.getInstanceId()}))),L&&(()=>{const e=b.componentClass;return o.createElement(o.Fragment,null,N&&o.createElement(e,{...b.params}),!N&&o.createElement(e,{...b.params,ref:P}))})())})),vue=(0,o.memo)((e=>{const{context:t}=(0,o.useContext)(Rle),{name:n}=e,i=(0,o.useMemo)((()=>Yre(n)),[n]),r=(0,o.useRef)(null),s=(0,o.useRef)(null),a=(0,o.useRef)([]),l=(0,o.useRef)([]),[u,c]=(0,o.useState)((()=>[])),d=(0,o.useRef)(!1),h=(0,o.useRef)(),p=(0,o.useMemo)((()=>Tle(i.viewport)),[i]),g=(0,o.useMemo)((()=>Tle(i.container)),[i]),f="center"===i.type;cue(" AG Row Container "+n+" ",f?r:s);const m=(0,o.useCallback)((()=>f?null!=r.current&&null!=s.current:null!=s.current),[]),v=(0,o.useCallback)((()=>f?null==r.current&&null==s.current:null==s.current),[]),y=(0,o.useCallback)((()=>{if(v()&&(t.destroyBean(h.current),h.current=null),m()){const e=e=>{const t=Lle(l.current,a.current,d.current);t!==l.current&&(l.current=t,Fle(e,(()=>c(t))))},i={setHorizontalScroll:e=>{r.current&&(r.current.scrollLeft=e)},setViewportHeight:e=>{r.current&&(r.current.style.height=e)},setRowCtrls:t=>{let{rowCtrls:n,useFlushSync:i}=t;const r=!!i&&a.current.length>0&&n.length>0;a.current=n,e(r)},setDomOrder:t=>{d.current!=t&&(d.current=t,e(!1))},setContainerWidth:e=>{s.current&&(s.current.style.width=e)},setOffsetTop:e=>{s.current&&(s.current.style.transform=`translateY(${e})`)}};h.current=t.createBean(new roe(n)),h.current.setComp(i,s.current,r.current)}}),[m,v]),w=(0,o.useCallback)((e=>{s.current=e,y()}),[y]),C=(0,o.useCallback)((e=>{r.current=e,y()}),[y]),b=()=>o.createElement("div",{className:g,ref:w,role:"rowgroup"},u.map((e=>o.createElement(mue,{rowCtrl:e,containerType:i.type,key:e.getInstanceId()}))));return o.createElement(o.Fragment,null,f?o.createElement("div",{className:p,ref:C,role:"presentation"},b()):b())})),yue=(0,o.memo)((()=>{const{context:e,resizeObserverService:t}=(0,o.useContext)(Rle),[n,i]=(0,o.useState)(""),[r,s]=(0,o.useState)(0),[a,l]=(0,o.useState)(0),[u,c]=(0,o.useState)("0px"),[d,h]=(0,o.useState)("0px"),[p,g]=(0,o.useState)("100%"),[f,m]=(0,o.useState)("0px"),[v,y]=(0,o.useState)("0px"),[w,C]=(0,o.useState)("100%"),[b,S]=(0,o.useState)(""),[x,M]=(0,o.useState)(""),[_,R]=(0,o.useState)(null),[D,P]=(0,o.useState)(""),[T,A]=(0,o.useState)(null),[E,I]=(0,o.useState)("ag-layout-normal"),k=(0,o.useRef)();k.current||(k.current=new pee((()=>F.current)));const F=(0,o.useRef)(null),L=(0,o.useRef)(null),O=(0,o.useRef)(null),N=(0,o.useRef)(null),B=(0,o.useRef)(null),G=(0,o.useRef)(null),V=(0,o.useRef)(null),z=(0,o.useRef)([]),H=(0,o.useRef)([]);cue(" AG Grid Body ",F),cue(" AG Pinned Top ",L),cue(" AG Sticky Top ",O),cue(" AG Middle ",G),cue(" AG Pinned Bottom ",V);const W=(0,o.useCallback)((n=>{if(F.current=n,!F.current)return e.destroyBeans(z.current),H.current.forEach((e=>e())),z.current=[],void(H.current=[]);if(!e)return;const r=(e,t)=>{e.appendChild(t),H.current.push((()=>e.removeChild(t)))},o=(t,n,i)=>{r(t,document.createComment(i)),r(t,(t=>{const n=e.createBean(new t);return z.current.push(n),n})(n).getGui())};o(F.current,wre," AG Fake Horizontal Scroll "),o(F.current,vre," AG Overlay Wrapper "),B.current&&o(B.current,bre," AG Fake Vertical Scroll ");const a={setRowAnimationCssOnBodyViewport:i,setColumnCount:e=>{F.current&&Ree(F.current,e)},setRowCount:e=>{F.current&&Mee(F.current,e)},setTopHeight:s,setBottomHeight:l,setStickyTopHeight:c,setStickyTopTop:h,setStickyTopWidth:g,setTopDisplay:S,setBottomDisplay:M,setColumnMovingCss:(e,t)=>k.current.addOrRemoveCssClass(e,t),updateLayoutClasses:I,setAlwaysVerticalScrollClass:R,setPinnedTopBottomOverflowY:P,setCellSelectableCss:(e,t)=>A(t?e:null),setBodyViewportWidth:e=>{G.current&&(G.current.style.width=e)},registerBodyViewportResizeListener:e=>{if(G.current){const n=t.observeResize(G.current,e);H.current.push((()=>n()))}},setStickyBottomHeight:m,setStickyBottomBottom:y,setStickyBottomWidth:C},u=e.createBean(new soe);z.current.push(u),u.setComp(a,F.current,G.current,L.current,V.current,O.current,N.current)}),[]),U=(0,o.useMemo)((()=>Tle("ag-root","ag-unselectable",E)),[E]),j=(0,o.useMemo)((()=>Tle("ag-body-viewport",n,E,_,T)),[n,E,_,T]),$=(0,o.useMemo)((()=>Tle("ag-body",E)),[E]),K=(0,o.useMemo)((()=>Tle("ag-floating-top",T)),[T]),q=(0,o.useMemo)((()=>Tle("ag-sticky-top",T)),[T]),Y=(0,o.useMemo)((()=>Tle("ag-sticky-bottom","0px"===f?"ag-hidden":null,T)),[T,f]),X=(0,o.useMemo)((()=>Tle("ag-floating-bottom",T)),[T]),Z=(0,o.useMemo)((()=>({height:r,minHeight:r,display:b,overflowY:D})),[r,b,D]),Q=(0,o.useMemo)((()=>({height:u,top:d,width:p})),[u,d,p]),J=(0,o.useMemo)((()=>({height:f,bottom:v,width:w})),[f,v,w]),ee=(0,o.useMemo)((()=>({height:a,minHeight:a,display:x,overflowY:D})),[a,x,D]),te=e=>o.createElement(vue,{name:e,key:`${e}-container`}),ne=e=>{let{section:t,children:n,className:i,style:r}=e;return o.createElement("div",{ref:t,className:i,role:"presentation",style:r},n.map(te))};return o.createElement("div",{ref:W,className:U,role:"treegrid"},o.createElement(uue,null),ne({section:L,className:K,style:Z,children:["topLeft","topCenter","topRight","topFullWidth"]}),o.createElement("div",{className:$,ref:B,role:"presentation"},ne({section:G,className:j,children:["left","center","right","fullWidth"]})),ne({section:O,className:q,style:Q,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),ne({section:N,className:Y,style:J,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),ne({section:V,className:X,style:ee,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))})),wue=(0,o.forwardRef)(((e,t)=>{const{children:n,eFocusableElement:i,onTabKeyDown:r,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:a}=e,{context:l}=(0,o.useContext)(Rle),u=(0,o.useRef)(null),c=(0,o.useRef)(null),d=(0,o.useRef)(),h=e=>{const t=null==e?void 0:parseInt(e,10).toString();[u,c].forEach((e=>{void 0===t?e.current?.removeAttribute("tabindex"):e.current?.setAttribute("tabindex",t)}))};(0,o.useImperativeHandle)(t,(()=>({forceFocusOutOfContainer(e){d.current?.forceFocusOutOfContainer(e)}})));const p=(0,o.useCallback)((()=>{if(!u.current&&!c.current)return l.destroyBean(d.current),void(d.current=null);if(u.current&&c.current){const e={setTabIndex:h};d.current=l.createBean(new Joe({comp:e,eTopGuard:u.current,eBottomGuard:c.current,eFocusableElement:i,onTabKeyDown:r,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:e=>s.focusInnerElement(e)}))}}),[]),g=(0,o.useCallback)((e=>{u.current=e,p()}),[p]),f=(0,o.useCallback)((e=>{c.current=e,p()}),[p]),m=e=>{const t="top"===e?Qoe.TAB_GUARD_TOP:Qoe.TAB_GUARD_BOTTOM;return o.createElement("div",{className:`${Qoe.TAB_GUARD} ${t}`,role:"presentation",ref:"top"===e?g:f})};return o.createElement(o.Fragment,null,m("top"),n,m("bottom"))})),Cue=(0,o.memo)(wue),bue=(0,o.memo)((e=>{let{context:t}=e;const[n,i]=(0,o.useState)(""),[r,s]=(0,o.useState)(""),[a,l]=(0,o.useState)(null),[u,c]=(0,o.useState)(null),[d,h]=(0,o.useState)(!1),[p,g]=(0,o.useState)(),f=(0,o.useRef)(null),m=(0,o.useRef)(null),v=(0,o.useRef)(),[y,w]=(0,o.useState)(null),C=(0,o.useRef)((()=>{})),b=(0,o.useRef)(),S=(0,o.useRef)([]),x=(0,o.useCallback)((()=>{}),[]),M=(0,o.useMemo)((()=>t.isDestroyed()?null:t.getBeans()),[t]);cue(" AG Grid ",m);const _=(0,o.useCallback)((e=>{if(m.current=e,!m.current)return t.destroyBean(f.current),void(f.current=null);if(t.isDestroyed())return;f.current=t.createBean(new Gse);const n=f.current;C.current=n.focusInnerElement.bind(n);const r={destroyGridUi:()=>{},setRtlClass:i,forceFocusOutOfContainer:e=>{e||!b.current?.isDisplayed()?v.current?.forceFocusOutOfContainer(e):b.current.forceFocusOutOfContainer(e)},updateLayoutClasses:s,getFocusableContainers:()=>{const e=[],t=m.current?.querySelector(".ag-root");return t&&e.push({getGui:()=>t}),S.current.forEach((t=>{t.isDisplayed()&&e.push(t)})),e},setCursor:l,setUserSelect:c};n.setComp(r,m.current,m.current),h(!0)}),[]);(0,o.useEffect)((()=>{if(!p||!M||!f.current||!y||!m.current)return;const e=f.current,n=[],{watermarkSelector:i,paginationSelector:r,sideBarSelector:o,statusBarSelector:s,gridHeaderDropZonesSelector:a}=e.getOptionalSelectors(),l=[],u=m.current;if(a){const e=t.createBean(new a.component),i=e.getGui();u.insertAdjacentElement("afterbegin",i),l.push(i),n.push(e)}if(o){const e=t.createBean(new o.component),i=e.getGui(),r=y.querySelector(".ag-tab-guard-bottom");r&&(r.insertAdjacentElement("beforebegin",i),l.push(i)),n.push(e),S.current.push(e)}const c=e=>{const i=t.createBean(new e),r=i.getGui();return u.insertAdjacentElement("beforeend",r),l.push(r),n.push(i),i};if(s&&c(s.component),r){const e=c(r.component);b.current=e,S.current.push(e)}return i&&c(i.component),()=>{t.destroyBeans(n),l.forEach((e=>{e.parentElement&&e.parentElement.removeChild(e)}))}}),[p,y,M]);const R=(0,o.useMemo)((()=>Tle("ag-root-wrapper",n,r)),[n,r]),D=(0,o.useMemo)((()=>Tle("ag-root-wrapper-body","ag-focus-managed",r)),[r]),P=(0,o.useMemo)((()=>({userSelect:null!=u?u:"",WebkitUserSelect:null!=u?u:"",cursor:null!=a?a:""})),[u,a]),T=(0,o.useCallback)((e=>{v.current=e,g(null!==e)}),[]);return o.createElement("div",{ref:_,className:R,style:P,role:"presentation"},o.createElement("div",{className:D,ref:w,role:"presentation"},d&&y&&M&&o.createElement(Rle.Provider,{value:M},o.createElement(Cue,{ref:T,eFocusableElement:y,onTabKeyDown:x,gridCtrl:f.current,forceFocusOutWhenTabGuardsAreEmpty:!0},o.createElement(yue,null)))))})),Sue=class extends k7{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every((e=>e.getAllCtrls().every((e=>e.areCellsRendered()))))}},xue=e=>{const t=(0,o.useRef)(),n=(0,o.useRef)(null),i=(0,o.useRef)(null),r=(0,o.useRef)([]),s=(0,o.useRef)([]),a=(0,o.useRef)(e),l=(0,o.useRef)(),u=(0,o.useRef)(!1),[c,d]=(0,o.useState)(void 0),[,h]=(0,o.useState)(0),p=(0,o.useCallback)((o=>{if(n.current=o,!n.current)return r.current.forEach((e=>e())),void(r.current.length=0);const a=e.modules||[];i.current||(i.current=new iue((()=>h((e=>e+1))),e.componentWrappingElement,e.maxComponentCreationTimeMs),r.current.push((()=>{i.current?.destroy(),i.current=null})));const c=function(e,t){"object"!==typeof e&&(e={});const n={...e};return iee.ALL_PROPERTIES_AND_CALLBACKS.forEach((e=>{const i=t[e];"undefined"!==typeof i&&i!==iee.VUE_OMITTED_PROPERTY&&(n[e]=i)})),n}(e.gridOptions,e),p=Ile?new Rue:new Due((()=>{if(u.current){const e=()=>l.current?.shouldQueueUpdates()?void 0:s.current.shift();let t=e();for(;t;)t(),t=e()}}));l.current=p;const g=new Sue,f={providedBeanInstances:{frameworkComponentWrapper:new Mue(i.current,c.reactiveCustomComponents??!0),renderStatusService:g},modules:a,frameworkOverrides:p},m=new Kae;t.current=m.create(n.current,c,(n=>{d(n),n.createBean(g),r.current.push((()=>{n.destroy()}));n.getBean("ctrlsService").whenReady((()=>{if(n.isDestroyed())return;const i=t.current;i&&e.setGridApi&&e.setGridApi(i)}))}),(e=>{e.getBean("ctrlsService").whenReady((()=>{s.current.forEach((e=>e())),s.current.length=0,u.current=!0}))}),f)}),[]),g=(0,o.useMemo)((()=>({height:"100%",...e.containerStyle||{}})),[e.containerStyle]),f=(0,o.useCallback)((e=>{u.current&&!l.current?.shouldQueueUpdates()?e():s.current.push(e)}),[]);return(0,o.useEffect)((()=>{const n=function(e,t){const n={};return Object.keys(t).forEach((i=>{const r=t[i];e[i]!==r&&(n[i]=r)})),n}(a.current,e);a.current=e,f((()=>{t.current&&function(e,t){if(!e)return;const n={};let i=!1;if(Object.keys(e).filter((e=>iee.ALL_PROPERTIES_AND_CALLBACKS_SET.has(e))).forEach((t=>{n[t]=e[t],i=!0})),!i)return;const r={type:"gridOptionsChanged",options:n};t.dispatchEvent(r);const o={type:"componentStateChanged"};K7(n,((e,t)=>{o[e]=t})),t.dispatchEvent(o)}(n,t.current)}))}),[e]),o.createElement("div",{style:g,className:e.className,ref:p},c&&!c.isDestroyed()?o.createElement(bue,{context:c}):null,i.current?.getPortals()??null)};var Mue=class extends Zae{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const n=(e=>{switch(e){case"filter":return Kle;case"floatingFilterComponent":return Xle;case"dateComponent":return $le;case"loadingOverlayComponent":return Zle;case"noRowsOverlayComponent":return Jle;case"statusPanel":return eue;case"toolPanel":return tue;case"menuItem":return Qle;case"cellRenderer":return jle}})(t.propertyName);if(n)return new n(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":nue()}const n=!t.cellRenderer&&"toolPanel"!==t.propertyName;return new Hle(e,this.parent,t,n)}},_ue=(0,o.forwardRef)(((e,t)=>{const{ctrlsFactory:n,context:i,gos:r,resizeObserverService:s,rowModel:a}=(0,o.useContext)(Rle),[l,u]=(0,o.useState)((()=>new Ale)),[c,d]=(0,o.useState)((()=>new Ale)),[h,p]=(0,o.useState)(),[g,f]=(0,o.useState)(),m=(0,o.useRef)(),v=(0,o.useRef)(null),y=(0,o.useRef)(),w=(0,o.useMemo)((()=>Fte.__getGridRegisteredModules(e.api.getGridId())),[e]),C=(0,o.useMemo)((()=>l.toString()+" ag-details-row"),[l]),b=(0,o.useMemo)((()=>c.toString()+" ag-details-grid"),[c]);t&&(0,o.useImperativeHandle)(t,(()=>({refresh:()=>m.current?.refresh()??!1}))),e.template&&d9("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const S=(0,o.useCallback)((t=>{if(v.current=t,!v.current)return i.destroyBean(m.current),void(y.current&&y.current());const o={addOrRemoveCssClass:(e,t)=>u((n=>n.setClass(e,t))),addOrRemoveDetailGridCssClass:(e,t)=>d((n=>n.setClass(e,t))),setDetailGrid:e=>p(e),setRowData:e=>f(e),getGui:()=>v.current},l=n.getInstance("detailCellRenderer");if(l&&(i.createBean(l),l.init(o,e),m.current=l,r.get("detailRowAutoHeight"))){const t=()=>{if(null==v.current)return;const t=v.current.clientHeight;if(null!=t&&t>0){setTimeout((()=>{e.node.setRowHeight(t),("clientSide"===a.getType()||"serverSide"===a.getType())&&a.onRowHeightChanged()}),0)}};y.current=s.observeResize(v.current,t),t()}}),[]),x=(0,o.useCallback)((e=>{m.current?.registerDetailWithMaster(e)}),[]);return o.createElement("div",{className:C,ref:S},h&&o.createElement(xue,{className:b,...h,modules:w,rowData:g,setGridApi:x}))})),Rue=class extends ose{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:Nle,agGroupRowRenderer:Nle,agDetailCellRenderer:_ue},this.wrapIncoming=(e,t)=>{return"ensureVisible"===t?(n=e,kle||setTimeout((()=>kle=!1),0),kle=!0,n()):e();var n},this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}shouldQueueUpdates(){return!1}getLockOnRefreshError(){return" This error can also occur if using 'ReactDOM.render' instead of 'createRoot'. If so, please upgrade to 'createRoot'."}},Due=class extends Rue{constructor(e){super(),this.processQueuedUpdates=e,this.queueUpdates=!1}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}getLockOnRefreshError(){return""}},Pue=class extends o.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach((t=>t(e)))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return o.createElement(xue,{...this.props,setGridApi:this.setGridApi})}};const Tue=function(){const[e,t]=(0,o.useState)([]),[n]=(0,o.useState)([{headerName:"Ticker",field:"ticker"},{headerName:"Publisher",field:"publisher"}]);return(0,o.useEffect)((()=>{fetch("https://api.finazon.io/latest/binance/binance/tickers?page_size=1000",{method:"GET",headers:{Authorization:"apikey 855c0ef53fa7486c99a2e7386bc8e49a9v"}}).then((e=>e.json())).then((e=>{console.log("Fetched data:",e);const n=e.data.map((e=>({ticker:e.ticker,publisher:e.publisher})));t(n)})).catch((e=>{console.error("Error fetching data:",e)}))}),[]),(0,dl.jsx)("div",{className:"ag-theme-alpine",style:{height:600,width:"100%"},children:(0,dl.jsx)(Pue,{rowData:e,columnDefs:n,pagination:!0,paginationPageSize:50})})};function Aue(){return(0,dl.jsxs)("div",{children:[(0,dl.jsx)("h2",{children:"404"}),(0,dl.jsx)("p",{children:(0,dl.jsx)(Gt,{to:"/",children:"Go to the home page"})})]})}const Eue=function(e,t){return oe({basename:null==t?void 0:t.basename,future:St({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),v((function(e,t){let{pathname:n="/",search:i="",hash:r=""}=m(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),g("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),i="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");i=-1===n?t:t.slice(0,n)}return i+"#"+("string"===typeof t?t:f(t))}),(function(e,t){h("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)),hydrationData:(null==t?void 0:t.hydrationData)||Rt(),routes:e,mapRouteProperties:bt,unstable_dataStrategy:null==t?void 0:t.unstable_dataStrategy,unstable_patchRoutesOnMiss:null==t?void 0:t.unstable_patchRoutesOnMiss,window:null==t?void 0:t.window}).initialize();var n}([{path:"/",element:(0,dl.jsx)(f7,{}),children:[{index:!0,element:(0,dl.jsx)(p7,{})},{path:"grid",element:(0,dl.jsx)(Tue,{})},{path:"about",element:(0,dl.jsx)("div",{children:"About"})},{path:"*",element:(0,dl.jsx)(Aue,{})}]}]);function Iue(){return(0,dl.jsx)(Ft,{router:Eue,fallbackElement:(0,dl.jsx)("p",{children:"Loading..."})})}function kue(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Fue=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Lue=()=>Math.random().toString(36).substring(7).split("").join("."),Oue={INIT:`@@redux/INIT${Lue()}`,REPLACE:`@@redux/REPLACE${Lue()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Lue()}`};function Nue(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Bue(e,t,n){if("function"!==typeof e)throw new Error(kue(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(kue(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(kue(1));return n(Bue)(e,t)}let i=e,r=t,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach(((e,t)=>{s.set(t,e)})))}function c(){if(l)throw new Error(kue(3));return r}function d(e){if("function"!==typeof e)throw new Error(kue(4));if(l)throw new Error(kue(5));let t=!0;u();const n=a++;return s.set(n,e),function(){if(t){if(l)throw new Error(kue(6));t=!1,u(),s.delete(n),o=null}}}function h(e){if(!Nue(e))throw new Error(kue(7));if("undefined"===typeof e.type)throw new Error(kue(8));if("string"!==typeof e.type)throw new Error(kue(17));if(l)throw new Error(kue(9));try{l=!0,r=i(r,e)}finally{l=!1}return(o=s).forEach((e=>{e()})),e}h({type:Oue.INIT});return{dispatch:h,subscribe:d,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(kue(10));i=e,h({type:Oue.REPLACE})},[Fue]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(kue(11));function n(){const e=t;e.next&&e.next(c())}n();return{unsubscribe:e(n)}},[Fue](){return this}}}}}function Gue(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const i=t[o];0,"function"===typeof e[i]&&(n[i]=e[i])}const i=Object.keys(n);let r;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:Oue.INIT}))throw new Error(kue(12));if("undefined"===typeof n(void 0,{type:Oue.PROBE_UNKNOWN_ACTION()}))throw new Error(kue(13))}))}(n)}catch(JA){r=JA}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(r)throw r;let o=!1;const s={};for(let r=0;r<i.length;r++){const a=i[r],l=n[a],u=e[a],c=l(u,t);if("undefined"===typeof c){t&&t.type;throw new Error(kue(14))}s[a]=c,o=o||c!==u}return o=o||i.length!==Object.keys(e).length,o?s:e}}function Vue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function zue(e){return t=>{let{dispatch:n,getState:i}=t;return t=>r=>"function"===typeof r?r(n,i,e):t(r)}}var Hue=zue(),Wue=zue,Uue=Symbol.for("immer-nothing"),jue=Symbol.for("immer-draftable"),$ue=Symbol.for("immer-state");function Kue(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var que=Object.getPrototypeOf;function Yue(e){return!!e&&!!e[$ue]}function Xue(e){return!!e&&(Que(e)||Array.isArray(e)||!!e[jue]||!!e.constructor?.[jue]||ice(e)||rce(e))}var Zue=Object.prototype.constructor.toString();function Que(e){if(!e||"object"!==typeof e)return!1;const t=que(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Zue}function Jue(e,t){0===ece(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,i)=>t(i,n,e)))}function ece(e){const t=e[$ue];return t?t.type_:Array.isArray(e)?1:ice(e)?2:rce(e)?3:0}function tce(e,t){return 2===ece(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nce(e,t,n){const i=ece(e);2===i?e.set(t,n):3===i?e.add(n):e[t]=n}function ice(e){return e instanceof Map}function rce(e){return e instanceof Set}function oce(e){return e.copy_||e.base_}function sce(e,t){if(ice(e))return new Map(e);if(rce(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Que(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[$ue];let n=Reflect.ownKeys(t);for(let i=0;i<n.length;i++){const r=n[i],o=t[r];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[r]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[r]})}return Object.create(que(e),t)}{const t=que(e);if(null!==t&&n)return{...e};const i=Object.create(t);return Object.assign(i,e)}}function ace(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return uce(e)||Yue(e)||!Xue(e)||(ece(e)>1&&(e.set=e.add=e.clear=e.delete=lce),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return ace(n,!0)}))),e}function lce(){Kue(2)}function uce(e){return Object.isFrozen(e)}var cce,dce={};function hce(e){const t=dce[e];return t||Kue(0),t}function pce(){return cce}function gce(e,t){t&&(hce("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fce(e){mce(e),e.drafts_.forEach(yce),e.drafts_=null}function mce(e){e===cce&&(cce=e.parent_)}function vce(e){return cce={drafts_:[],parent_:cce,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yce(e){const t=e[$ue];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function wce(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[$ue].modified_&&(fce(t),Kue(4)),Xue(e)&&(e=Cce(t,e),t.parent_||Sce(t,e)),t.patches_&&hce("Patches").generateReplacementPatches_(n[$ue].base_,e,t.patches_,t.inversePatches_)):e=Cce(t,n,[]),fce(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Uue?e:void 0}function Cce(e,t,n){if(uce(t))return t;const i=t[$ue];if(!i)return Jue(t,((r,o)=>bce(e,i,t,r,o,n))),t;if(i.scope_!==e)return t;if(!i.modified_)return Sce(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let r=t,o=!1;3===i.type_&&(r=new Set(t),t.clear(),o=!0),Jue(r,((r,s)=>bce(e,i,t,r,s,n,o))),Sce(e,t,!1),n&&e.patches_&&hce("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function bce(e,t,n,i,r,o,s){if(Yue(r)){const s=Cce(e,r,o&&t&&3!==t.type_&&!tce(t.assigned_,i)?o.concat(i):void 0);if(nce(n,i,s),!Yue(s))return;e.canAutoFreeze_=!1}else s&&n.add(r);if(Xue(r)&&!uce(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Cce(e,r),t&&t.scope_.parent_||"symbol"===typeof i||!Object.prototype.propertyIsEnumerable.call(n,i)||Sce(e,r)}}function Sce(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ace(t,n)}var xce={get(e,t){if(t===$ue)return e;const n=oce(e);if(!tce(n,t))return function(e,t,n){const i=Rce(t,n);return i?"value"in i?i.value:i.get?.call(e.draft_):void 0}(e,n,t);const i=n[t];return e.finalized_||!Xue(i)?i:i===_ce(e.base_,t)?(Pce(e),e.copy_[t]=Tce(i,e)):i},has:(e,t)=>t in oce(e),ownKeys:e=>Reflect.ownKeys(oce(e)),set(e,t,n){const i=Rce(oce(e),t);if(i?.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const i=_ce(oce(e),t),s=i?.[$ue];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((r=n)===(o=i)?0!==r||1/r===1/o:r!==r&&o!==o)&&(void 0!==n||tce(e.base_,t)))return!0;Pce(e),Dce(e)}var r,o;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==_ce(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Pce(e),Dce(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=oce(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty(){Kue(11)},getPrototypeOf:e=>que(e.base_),setPrototypeOf(){Kue(12)}},Mce={};function _ce(e,t){const n=e[$ue];return(n?oce(n):e)[t]}function Rce(e,t){if(!(t in e))return;let n=que(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=que(n)}}function Dce(e){e.modified_||(e.modified_=!0,e.parent_&&Dce(e.parent_))}function Pce(e){e.copy_||(e.copy_=sce(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Jue(xce,((e,t)=>{Mce[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Mce.deleteProperty=function(e,t){return Mce.set.call(this,e,t,void 0)},Mce.set=function(e,t,n){return xce.set.call(this,e[0],t,n,e[0])};function Tce(e,t){const n=ice(e)?hce("MapSet").proxyMap_(e,t):rce(e)?hce("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:pce(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,o=xce;n&&(r=[i],o=Mce);const{revoke:s,proxy:a}=Proxy.revocable(r,o);return i.draft_=a,i.revoke_=s,a}(e,t);return(t?t.scope_:pce()).drafts_.push(n),n}function Ace(e){if(!Xue(e)||uce(e))return e;const t=e[$ue];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=sce(e,t.scope_.immer_.useStrictShallowCopy_)}else n=sce(e,!0);return Jue(n,((e,t)=>{nce(n,e,Ace(t))})),t&&(t.finalized_=!1),n}var Ece=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const i=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return i.produce(e,(e=>t.call(this,e,...o)))}}let i;if("function"!==typeof t&&Kue(6),void 0!==n&&"function"!==typeof n&&Kue(7),Xue(e)){const r=vce(this),o=Tce(e,void 0);let s=!0;try{i=t(o),s=!1}finally{s?fce(r):mce(r)}return gce(r,n),wce(i,r)}if(!e||"object"!==typeof e){if(i=t(e),void 0===i&&(i=e),i===Uue&&(i=void 0),this.autoFreeze_&&ace(i,!0),n){const t=[],r=[];hce("Patches").generateReplacementPatches_(e,i,t,r),n(t,r)}return i}Kue(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return t.produceWithPatches(n,(t=>e(t,...r)))};let i,r;return[this.produce(e,n,((e,t)=>{i=e,r=t})),i,r]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Xue(e)||Kue(8),Yue(e)&&(e=function(e){Yue(e)||Kue(10);return Ace(e)}(e));const t=vce(this),n=Tce(e,void 0);return n[$ue].isManual_=!0,mce(t),n}finishDraft(e,t){const n=e&&e[$ue];n&&n.isManual_||Kue(9);const{scope_:i}=n;return gce(i,t),wce(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}n>-1&&(t=t.slice(n+1));const i=hce("Patches").applyPatches_;return Yue(e)?i(e,t):this.produce(e,(e=>i(e,t)))}},Ice=Ece.produce;Ece.produceWithPatches.bind(Ece),Ece.setAutoFreeze.bind(Ece),Ece.setUseStrictShallowCopy.bind(Ece),Ece.applyPatches.bind(Ece),Ece.createDraft.bind(Ece),Ece.finishDraft.bind(Ece);var kce="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Vue:Vue.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Fce(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Xce(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>function(e){return Nue(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var Lce=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Oce(e){return Xue(e)?Ice(e,(()=>{})):e}function Nce(e,t,n){if(e.has(t)){let i=e.get(t);return n.update&&(i=n.update(i,t,e),e.set(t,i)),i}if(!n.insert)throw new Error(Xce(10));const i=n.insert(t,e);return e.set(t,i),i}var Bce="RTK_autoBatch",Gce=e=>t=>{setTimeout(t,e)},Vce="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Gce(10),zce=e=>function(t){const{autoBatch:n=!0}=t??{};let i=new Lce(e);return n&&i.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let i=!0,r=!1,o=!1;const s=new Set,a="tick"===e.type?queueMicrotask:"raf"===e.type?Vce:"callback"===e.type?e.queueNotification:Gce(e.timeout),l=()=>{o=!1,r&&(r=!1,s.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>i&&e()));return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{return i=!e?.meta?.[Bce],r=!i,r&&(o||(o=!0,a(l))),n.dispatch(e)}finally{i=!0}}})}}("object"===typeof n?n:void 0)),i};function Hce(e){const t={},n=[];let i;const r={addCase(e,n){const i="string"===typeof e?e:e.type;if(!i)throw new Error(Xce(28));if(i in t)throw new Error(Xce(29));return t[i]=n,r},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),r),addDefaultCase:e=>(i=e,r)};return e(r),[t,n,i]}var Wce=Symbol.for("rtk-slice-createasyncthunk");function Uce(e,t){return`${e}/${t}`}function jce(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[Wce];return function(e){const{name:n,reducerPath:i=n}=e;if(!n)throw new Error(Xce(11));const r=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(r),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Xce(12));if(n in s.sliceCaseReducersByType)throw new Error(Xce(13));return s.sliceCaseReducersByType[n]=t,a},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),a),exposeAction:(e,t)=>(s.actionCreators[e]=t,a),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,a)};function l(){const[t={},n=[],i]="function"===typeof e.extraReducers?Hce(e.extraReducers):[e.extraReducers],r={...t,...s.sliceCaseReducersByType};return function(e,t){let n,[i,r,o]=Hce(t);if("function"===typeof e)n=()=>Oce(e());else{const t=Oce(e);n=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,s=[i[t.type],...r.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===s.filter((e=>!!e)).length&&(s=[o]),s.reduce(((e,n)=>{if(n){if(Yue(e)){const i=n(e,t);return void 0===i?e:i}if(Xue(e))return Ice(e,(e=>n(e,t)));{const i=n(e,t);if(void 0===i){if(null===e)return e;throw new Error(Xce(9))}return i}}return e}),e)}return s.getInitialState=n,s}(e.initialState,(e=>{for(let t in r)e.addCase(t,r[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);i&&e.addDefaultCase(i)}))}o.forEach((i=>{const o=r[i],s={reducerName:i,type:Uce(n,i),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function(e,t,n){let i,r,{type:o,reducerName:s,createNotation:a}=e;if("reducer"in t){if(a&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Xce(17));i=t.reducer,r=t.prepare}else i=t;n.addCase(o,i).exposeCaseReducer(s,i).exposeAction(s,r?Fce(o,r):Fce(o))}(s,o,a):function(e,t,n,i){let{type:r,reducerName:o}=e;if(!i)throw new Error(Xce(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:u,settled:c,options:d}=t,h=i(r,s,d);n.exposeAction(o,h),a&&n.addCase(h.fulfilled,a);l&&n.addCase(h.pending,l);u&&n.addCase(h.rejected,u);c&&n.addMatcher(h.settled,c);n.exposeCaseReducer(o,{fulfilled:a||qce,pending:l||qce,rejected:u||qce,settled:c||qce})}(s,o,a,t)}));const u=e=>e,c=new Map;let d;function h(e,t){return d||(d=l()),d(e,t)}function p(){return d||(d=l()),d.getInitialState()}function g(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function i(e){let i=e[t];return"undefined"===typeof i&&n&&(i=p()),i}function r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const i=Nce(c,n,{insert:()=>new WeakMap});return Nce(i,t,{insert:()=>{const i={};for(const[r,o]of Object.entries(e.selectors??{}))i[r]=$ce(o,t,p,n);return i}})}return{reducerPath:t,getSelectors:r,get selectors(){return r(i)},selectSlice:i}}const f={name:n,reducer:h,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:p,...g(i),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t??i;return e.inject({reducerPath:r,reducer:h},n),{...f,...g(r,!0)}}};return f}}function $ce(e,t,n,i){function r(r){let o=t(r);"undefined"===typeof o&&i&&(o=n());for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return e(o,...a)}return r.unwrapped=e,r}var Kce=jce();function qce(){}var{assign:Yce}=Object;Symbol.for("rtk-state-proxy-original");function Xce(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Zce=Kce({name:"app",initialState:{value:0},reducers:{increment:e=>{e.value+=1},decrement:e=>{e.value-=1},incrementByAmount:(e,t)=>{e.value+=t.payload}}}),{increment:Qce,decrement:Jce,incrementByAmount:ede}=Zce.actions,tde=Kce({name:"home",initialState:{tickers:["AUD/USD","EUR/USD","GBP/USD"],selectedTicker:"AUD/USD"},reducers:{setSelectedTicker:(e,t)=>{e.selectedTicker=t.payload}}}),{setSelectedTicker:nde}=tde.actions,ide=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:r=!0}=e??{};let o=new Lce;return t&&("boolean"===typeof t?o.push(Hue):o.push(Wue(t.extraArgument))),o},{reducer:n,middleware:i,devTools:r=!0,preloadedState:o,enhancers:s}=e||{};let a,l;if("function"===typeof n)a=n;else{if(!Nue(n))throw new Error(Xce(1));a=Gue(n)}l="function"===typeof i?i(t):t();let u=Vue;r&&(u=kce({trace:!1,..."object"===typeof r&&r}));const c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,i)=>{const r=e(n,i);let o=()=>{throw new Error(kue(15))};const s={getState:r.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return o(e,...n)}},a=t.map((e=>e(s)));return o=Vue(...a)(r.dispatch),{...r,dispatch:o}}}(...l),d=zce(c);return Bue(a,o,u(..."function"===typeof s?s(d):d()))}({reducer:{app:Zce.reducer,home:tde.reducer}});r.createRoot(document.getElementById("root")).render((0,dl.jsx)(jn,{store:ide,children:(0,dl.jsx)(Iue,{})}))})()})();
//# sourceMappingURL=main.89f91bfd.js.map